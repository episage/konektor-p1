<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="4e4e4a3f-a060-4680-b73b-3bee48ed092a" activeEnvironment="Default" name="CeZ - Zdarzenia Medyczne" resourceRoot="${projectDir}" soapui-version="5.5.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="com.eviware.soapui.impl.wsdl.actions.iface.tools.soapui.TestRunnerAction@values-local"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Report Format(s)" value=""/>
  <con:entry key="Host:Port" value=""/>
  <con:entry key="Export JUnit Results" value="false"/>
  <con:entry key="Export All" value="false"/>
  <con:entry key="Save After" value="false"/>
  <con:entry key="Add Settings" value="false"/>
  <con:entry key="WSS Password Type" value=""/>
  <con:entry key="TestSuite" value="Zapisz, wyszukanie i odczyt Zdrzenia Medycznego - pacjent z PESEL"/>
  <con:entry key="Endpoint" value=""/>
  <con:entry key="Select Report Type" value=""/>
  <con:entry key="System Properties" value=""/>
  <con:entry key="Password" value=""/>
  <con:entry key="Print Report" value="false"/>
  <con:entry key="Open Report" value="false"/>
  <con:entry key="Export JUnit Results with test properties" value="false"/>
  <con:entry key="Global Properties" value=""/>
  <con:entry key="Project Properties" value=""/>
  <con:entry key="Project Password" value=""/>
  <con:entry key="TestCase" value="Wypis ze szpitala pacjenta z numerem PESEL"/>
  <con:entry key="Username" value=""/>
  <con:entry key="user-settings.xml Password" value=""/>
  <con:entry key="TestRunner Path" value=""/>
  <con:entry key="Environment" value="Default"/>
  <con:entry key="Coverage Report" value="false"/>
  <con:entry key="Enable UI" value="false"/>
  <con:entry key="Root Folder" value=""/>
  <con:entry key="Ignore Errors" value="false"/>
  <con:entry key="Domain" value=""/>
  <con:entry key="Tool Args" value=""/>
  <con:entry key="Save Project" value="false"/>
</xml-fragment>]]></con:setting>
  </con:settings>
  <con:interface xsi:type="con:RestService" id="b33c9f56-1e43-42ea-a803-0fdc0411be9a" wadlVersion="http://wadl.dev.java.net/2009/02" name="ObslugaZdarzenMedycznych.service.address" type="rest" basePath="" definitionUrl="C:\Users\mszymcza\Desktop\ObslugaZdarzenMedycznych.service.address_1.wadl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <con:settings/>
    <con:definitionCache type="TEXT"/>
    <con:endpoints>
      <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
    </con:endpoints>
    <con:resource name="Encounter" path="/fhir/Encounter/{id}" id="6a8d6ad3-5ee2-4151-8782-fff7880b32b4">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>id</con:name>
          <con:value/>
          <con:style>TEMPLATE</con:style>
          <con:default/>
        </con:parameter>
        <con:parameter>
          <con:name>identifier</con:name>
          <con:style>QUERY</con:style>
        </con:parameter>
        <con:parameter>
          <con:name>plsubject</con:name>
          <con:style>QUERY</con:style>
        </con:parameter>
        <con:parameter>
          <con:name>date</con:name>
          <con:style>QUERY</con:style>
        </con:parameter>
        <con:parameter>
          <con:name>_sort</con:name>
          <con:style>QUERY</con:style>
        </con:parameter>
        <con:parameter>
          <con:name>_gatepageoffset</con:name>
          <con:style>QUERY</con:style>
        </con:parameter>
        <con:parameter>
          <con:name>_count</con:name>
          <con:style>QUERY</con:style>
        </con:parameter>
      </con:parameters>
      <con:method name="Zapis-encounter" id="4d586e9f-f226-4cf9-9ff1-f441a840ac57" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:representation type="REQUEST" id="">
          <con:mediaType>application/xml</con:mediaType>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/xml</con:mediaType>
          <con:status/>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/fhir+xml;charset=UTF-8</con:mediaType>
          <con:status>400 422</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/fhir+xml;charset=UTF-8</con:mediaType>
          <con:status>201</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>0</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>0</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="ca159828-a602-4357-a4ba-632c00d8f164" mediaType="application/xml">
          <con:settings/>
          <con:request/>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>id</con:entry>
            <con:entry>identifier</con:entry>
            <con:entry>plsubject</con:entry>
            <con:entry>date</con:entry>
            <con:entry>_sort</con:entry>
            <con:entry>_gatepageoffset</con:entry>
            <con:entry>_count</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Odczyt-Encounter" id="440ab00d-7fa9-4c53-aa38-3372022d80d4" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="7d5324a1-bdf9-40ed-8c9c-11e3960f6c15" mediaType="application/json">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:originalUri>http://10.0.35.10/fhir/Encounter/</con:originalUri>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>id</con:entry>
            <con:entry>identifier</con:entry>
            <con:entry>plsubject</con:entry>
            <con:entry>date</con:entry>
            <con:entry>_sort</con:entry>
            <con:entry>_gatepageoffset</con:entry>
            <con:entry>_count</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="PUT" id="d2f73446-22c3-40d1-b71b-d32fd9c9ccd5" method="PUT">
        <con:settings/>
        <con:parameters>
          <con:parameter>
            <con:name>_id</con:name>
            <con:value/>
            <con:style>QUERY</con:style>
            <con:default/>
          </con:parameter>
        </con:parameters>
        <con:representation type="REQUEST" id="">
          <con:mediaType>application/xml</con:mediaType>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Encounter</con:element>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>400 401 412 422 500</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/xml</con:mediaType>
          <con:status/>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Encounter</con:element>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>200 201</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/json; charset=UTF-8</con:mediaType>
          <con:status>500</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="f7fa236e-a6d9-42e7-a08e-1ea1d2b3b4c3" mediaType="application/xml">
          <con:settings/>
          <con:request/>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>id</con:entry>
            <con:entry>_id</con:entry>
            <con:entry>identifier</con:entry>
            <con:entry>plsubject</con:entry>
            <con:entry>date</con:entry>
            <con:entry>_sort</con:entry>
            <con:entry>_gatepageoffset</con:entry>
            <con:entry>_count</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Delete-encounter" id="34b1bcce-be65-4b59-acd1-f12bf6e77f3c" method="DELETE">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="2cd95d83-bc86-4665-8152-113877c68d08" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Condition" path="/fhir/Condition/{id}" id="06ea5861-133f-416c-ab8a-d13f245b83cd">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>encounter</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
        </con:parameter>
        <con:parameter>
          <con:name>id</con:name>
          <con:style>TEMPLATE</con:style>
        </con:parameter>
        <con:parameter>
          <con:name>plsubject</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
      </con:parameters>
      <con:method name="Zapis-condition" id="1b16640e-ee60-4e27-ba67-d66843916598" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:representation type="REQUEST" id="">
          <con:mediaType>application/xml</con:mediaType>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Condition</con:element>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/xml</con:mediaType>
          <con:status/>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Condition</con:element>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/fhir+xml;charset=UTF-8</con:mediaType>
          <con:status>400 422</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/fhir+xml;charset=UTF-8</con:mediaType>
          <con:status>201</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="5950c24f-0baf-497e-ac19-ab6769e5b9e2" mediaType="application/xml">
          <con:settings/>
          <con:request/>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters>
            <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>encounter</con:entry>
            <con:entry>id</con:entry>
            <con:entry>plsubject</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Odczyt-condition" id="f73e79b3-7f75-4153-819d-87e902a5fc9e" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>400 404</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/fhir+json; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/fhir+json; charset=UTF-8</con:mediaType>
          <con:status>401</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="ce6ca9f6-c203-40f0-89b3-01adee309b4b" mediaType="application/json">
          <con:settings/>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>encounter</con:entry>
            <con:entry>id</con:entry>
            <con:entry>plsubject</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Odczyt-condition-encounter" id="796e479d-402f-44e7-9add-0cb46390d7aa" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>400 404</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="d4962db5-5c3a-43ea-aca2-f684b38f79ef" mediaType="application/json">
          <con:settings/>
          <con:request/>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters>
            <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>encounter</con:entry>
            <con:entry>id</con:entry>
            <con:entry>plsubject</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="PUT" id="16ee2795-4e41-42f1-99ac-a611b5ff04f2" method="PUT">
        <con:settings/>
        <con:parameters>
          <con:parameter>
            <con:name>_id</con:name>
            <con:value/>
            <con:style>QUERY</con:style>
            <con:default/>
          </con:parameter>
        </con:parameters>
        <con:representation type="REQUEST" id="">
          <con:mediaType>application/xml</con:mediaType>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Procedure</con:element>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/xml</con:mediaType>
          <con:status/>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Procedure</con:element>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>400 401 422</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/json; charset=UTF-8</con:mediaType>
          <con:status>500</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="bfa5f97b-f509-4e81-98b1-38a921d2b7c7" mediaType="application/xml" postQueryString="false">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>encounter</con:entry>
            <con:entry>id</con:entry>
            <con:entry>_id</con:entry>
            <con:entry>plsubject</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Anulowanie-condition" id="cc9292de-a1fe-459b-a56e-fb93a813251c" method="DELETE">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="aece62d9-c01e-45a8-8f11-8ef767820ab9" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Provenance" path="/fhir/Provenance/{id}" id="92176c1a-c719-43f2-b00f-da0f2eb8436a">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>target</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter>
          <con:name>id</con:name>
          <con:value/>
          <con:style>TEMPLATE</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
      </con:parameters>
      <con:method name="Zapis-provenance" id="06cfccd9-b981-4830-8dfc-67193dfc8749" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:representation type="REQUEST" id="">
          <con:mediaType>application/xml</con:mediaType>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/fhir+xml;charset=UTF-8</con:mediaType>
          <con:status>400 422</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/xml</con:mediaType>
          <con:status/>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/fhir+xml;charset=UTF-8</con:mediaType>
          <con:status>201</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml">
          <con:settings/>
          <con:request/>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters>
            <con:entry key="id" value=""/>
            <con:entry key="target" value=""/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>target</con:entry>
            <con:entry>id</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Odczyt-provenance" id="dfd5667a-b06b-4617-8712-6408fd06de4e" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="eae7964d-fc5a-44f0-ad93-fb47347be1f7" mediaType="application/json">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>target</con:entry>
            <con:entry>id</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Anulowanie-provenance" id="7d2638b5-5d54-4e7a-8199-16f41ce9934c" method="DELETE">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>target</con:entry>
            <con:entry>id</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Modyfikacja" id="88d92561-6fb3-4a28-914c-f2955323281a" method="PUT">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="48bf4855-a51c-471f-beb3-67e61f4fc377" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>target</con:entry>
            <con:entry>id</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Procedure" path="/fhir/Procedure/{id}" id="a3ca0f0f-5410-4887-9bc8-6a2b37ff6f3f">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>id</con:name>
          <con:value/>
          <con:style>TEMPLATE</con:style>
          <con:default/>
        </con:parameter>
        <con:parameter>
          <con:name>encounter</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
        </con:parameter>
        <con:parameter>
          <con:name>plsubject</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
      </con:parameters>
      <con:method name="Zapis-procedure" id="c9f41d1e-96f7-4d94-b9cf-23860d5c7cd8" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:representation type="REQUEST" id="">
          <con:mediaType>application/xml</con:mediaType>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Procedure</con:element>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/fhir+xml;charset=UTF-8</con:mediaType>
          <con:status>201</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/xml</con:mediaType>
          <con:status/>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Procedure</con:element>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/fhir+xml;charset=UTF-8</con:mediaType>
          <con:status>400 422</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="fbb19b00-838c-4ef3-a04b-b95933e72a12" mediaType="application/xml">
          <con:settings/>
          <con:request/>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters>
            <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>id</con:entry>
            <con:entry>encounter</con:entry>
            <con:entry>plsubject</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Odczyt-procedure" id="bc41be6a-2708-4aba-9850-49fa464b9cfd" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>400</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/fhir+json; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="3594d732-8950-4a52-af09-bd84b31a225c" mediaType="application/json">
          <con:settings/>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>id</con:entry>
            <con:entry>encounter</con:entry>
            <con:entry>plsubject</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="PUT" id="8768026a-1d5a-4e7d-87b4-6faabccf46db" method="PUT">
        <con:settings/>
        <con:parameters>
          <con:parameter>
            <con:name>_id</con:name>
            <con:value/>
            <con:style>QUERY</con:style>
            <con:default/>
          </con:parameter>
        </con:parameters>
        <con:representation type="REQUEST" id="">
          <con:mediaType>application/xml</con:mediaType>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Procedure</con:element>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/xml</con:mediaType>
          <con:status/>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Procedure</con:element>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>400 422</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/json; charset=UTF-8</con:mediaType>
          <con:status>500</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="533e1e07-aee3-4deb-b99e-6b8ba3bc85bd" mediaType="application/xml">
          <con:settings/>
          <con:request/>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters>
            <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>id</con:entry>
            <con:entry>encounter</con:entry>
            <con:entry>_id</con:entry>
            <con:entry>plsubject</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Anulowanie-procedure" id="5b0aa918-0931-455e-8eb6-a06892f38007" method="DELETE">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="cdd6fdea-c811-4c6f-89fc-24b238b3a4fb" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Patient" path="/fhir/Patient/{id}" id="4d727cda-5839-414f-bce7-c7150236dcf3">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>id</con:name>
          <con:value/>
          <con:style>TEMPLATE</con:style>
          <con:default/>
        </con:parameter>
        <con:parameter>
          <con:name>identifier</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter>
          <con:name>_id</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter>
          <con:name>encounter</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter>
          <con:name>plgiven</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter>
          <con:name>plfamily</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter>
          <con:name>_sort</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter>
          <con:name>plpatient</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter>
          <con:name>gender</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter>
          <con:name>birthdate</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
      </con:parameters>
      <con:method name="Zapis-patient" id="3096b0eb-5228-406e-9d24-0a2780f6ed47" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:representation type="REQUEST" id="">
          <con:mediaType>application/xml</con:mediaType>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Patient</con:element>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/fhir+xml;charset=UTF-8</con:mediaType>
          <con:status>201</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>201</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/xml</con:mediaType>
          <con:status/>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Patient</con:element>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/fhir+xml;charset=UTF-8</con:mediaType>
          <con:status>400</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>0</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>0</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>0</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>0</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>0</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>0</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>0</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>0</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>0</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>0</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>0</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>0</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>0</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>0</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>0</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>0</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>0</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>0</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/json; charset=UTF-8</con:mediaType>
          <con:status>500</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>401</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>202</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="ae51083b-704b-45e7-88c7-385ef76c5721" mediaType="application/xml" postQueryString="false">
          <con:settings/>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:entry key="identifier" value=""/>
            <con:entry key="plgiven" value=""/>
            <con:entry key="birthdate" value=""/>
            <con:entry key="gender" value=""/>
            <con:entry key="plpatient" value=""/>
            <con:entry key="_id" value=""/>
            <con:entry key="encounter" value=""/>
            <con:entry key="plfamily" value=""/>
            <con:entry key="_sort" value=""/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>id</con:entry>
            <con:entry>identifier</con:entry>
            <con:entry>_id</con:entry>
            <con:entry>encounter</con:entry>
            <con:entry>plgiven</con:entry>
            <con:entry>plfamily</con:entry>
            <con:entry>_sort</con:entry>
            <con:entry>plpatient</con:entry>
            <con:entry>gender</con:entry>
            <con:entry>birthdate</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Odczyt-patient" id="52f1deb1-36e3-4a4b-b2a0-9bba10a96b2a" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>404</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="FAULT" id="">
          <con:mediaType>text/html;charset=utf-8</con:mediaType>
          <con:status>400</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="1bc8bde9-28a1-4113-830c-6a7b45ae61fc" mediaType="application/json">
          <con:settings/>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:entry key="plgiven" value=""/>
            <con:entry key="birthdate" value=""/>
            <con:entry key="gender" value=""/>
            <con:entry key="plpatient" value=""/>
            <con:entry key="_id" value=""/>
            <con:entry key="encounter" value=""/>
            <con:entry key="plfamily" value=""/>
            <con:entry key="_sort" value=""/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>id</con:entry>
            <con:entry>identifier</con:entry>
            <con:entry>_id</con:entry>
            <con:entry>encounter</con:entry>
            <con:entry>plgiven</con:entry>
            <con:entry>plfamily</con:entry>
            <con:entry>_sort</con:entry>
            <con:entry>plpatient</con:entry>
            <con:entry>gender</con:entry>
            <con:entry>birthdate</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Wyszukanie-patient" id="956a4e38-8198-4d5b-9efb-ccda29f6ca40" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="1befa294-d6ad-4124-bffc-d60bec916dde" mediaType="application/json">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:originalUri>http://10.0.35.10/fhir/Patient/</con:originalUri>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:entry key="plgiven" value="${#TestCase#imie}"/>
            <con:entry key="plpatient" value="${#TestCase#identyfikatorPacjentaOID}|${#TestCase#identyfikatorPacjenta}"/>
            <con:entry key="plfamily" value="${#TestCase#nazwisko}"/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>id</con:entry>
            <con:entry>identifier</con:entry>
            <con:entry>_id</con:entry>
            <con:entry>encounter</con:entry>
            <con:entry>_sort</con:entry>
            <con:entry>plpatient</con:entry>
            <con:entry>plfamily</con:entry>
            <con:entry>plgiven</con:entry>
            <con:entry>gender</con:entry>
            <con:entry>birthdate</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Token" path="token" id="1722733a-6f4c-412d-8a75-6990df9fc7be">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>client_assertion</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
        </con:parameter>
        <con:parameter>
          <con:name>grant_type</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
        </con:parameter>
        <con:parameter>
          <con:name>scope</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
        </con:parameter>
        <con:parameter>
          <con:name>client_assertion_type</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
        </con:parameter>
      </con:parameters>
      <con:method name="token" id="66d9e794-2936-4261-8772-0d56acc66df5" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:representation type="REQUEST" id="">
          <con:mediaType>application/x-www-form-urlencoded</con:mediaType>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/json; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/x-www-form-urlencoded</con:mediaType>
          <con:status/>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>202</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>202</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>202</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>202</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>202</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>202</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>202</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>202</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>202</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>202</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>202</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>202</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>202</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>202</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType/>
          <con:status>202</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/json; charset=UTF-8</con:mediaType>
          <con:status>400 401 404 422 500</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="583fccfd-8156-438f-92c7-4446576c391f" mediaType="application/x-www-form-urlencoded">
          <con:settings/>
          <con:request/>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters/>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Organization" path="/fhir/Organization" id="bb6be8f0-b4be-4465-b2c1-f00fdbdefe4a">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>identifier</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
      </con:parameters>
      <con:method name="Odczyt-organization" id="4838e19d-7edb-4bc7-8ad1-e7350dc73d94" method="GET">
        <con:settings/>
        <con:parameters>
          <con:parameter>
            <con:name>pldate</con:name>
            <con:style>QUERY</con:style>
          </con:parameter>
        </con:parameters>
        <con:request name="Request 1" id="f5507e31-ce97-4706-a419-bd3dcdfc3cfa" mediaType="application/json">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>identifier</con:entry>
            <con:entry>pldate</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Pracitioner" path="/fhir/Practitioner" id="cbf8213a-e922-495d-9ab2-618ce96a5342">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>identifier</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
        </con:parameter>
      </con:parameters>
      <con:method name="Odczyt-practicioner" id="847e9238-7e05-4d6a-bcd3-c8a350562286" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>400 404</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/fhir+json; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="f5fbfb68-9f17-4769-ab6a-f5be375a8c40" mediaType="application/json">
          <con:settings/>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>identifier</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Location" path="/fhir/Location" id="49d8bdae-27e1-4cde-abe4-e07a3b97f43e">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>identifier</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
        </con:parameter>
        <con:parameter>
          <con:name>pldate</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
      </con:parameters>
      <con:method name="Odczyt-location" id="82547a7e-748e-4a5f-aa06-a3a581531f91" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>400</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/fhir+json; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="6befbc49-57e5-4121-b06c-e2849c2e9032" mediaType="application/json">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>identifier</con:entry>
            <con:entry>pldate</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="DocumentReference" path="/fhir/DocumentReference" id="17c53cc9-d18a-41c4-84c2-27bcd0aae2a8">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>plencounter</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
        </con:parameter>
        <con:parameter>
          <con:name>plsubject</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
      </con:parameters>
      <con:method name="Odczyt-documentReference" id="2da6b802-69fd-4143-aad0-e32b4f362661" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>400</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/fhir+json; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:representation type="FAULT" id="">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>500</con:status>
          <con:params/>
          <con:element xsi:nil="true"/>
          <con:description xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="8d631075-d68d-4e46-b3fb-47ff1c21dd70" mediaType="application/json">
          <con:settings/>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>plencounter</con:entry>
            <con:entry>plsubject</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Immunization" path="/fhir/Immunization/{id}" id="a2f5ae2f-d2f0-4ce0-8b53-d311cd14bd49">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>id</con:name>
          <con:value>id</con:value>
          <con:style>TEMPLATE</con:style>
          <con:default>id</con:default>
        </con:parameter>
        <con:parameter>
          <con:name>plpatient</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter>
          <con:name>date</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter>
          <con:name>status</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
      </con:parameters>
      <con:method name="Odczyt-immunization" id="98634c78-d597-446d-b852-dacf7b778d67" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="07ced171-4916-475c-a356-01dabe86cb60" mediaType="application/json">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>id</con:entry>
            <con:entry>plpatient</con:entry>
            <con:entry>date</con:entry>
            <con:entry>status</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Zapis-immunization" id="a38f79cc-fb2c-4024-bba0-8441f71eb9d1" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="6db7d8ae-3987-4ae6-8ff7-87a84a00fabf" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:entry key="date" value=""/>
            <con:entry key="plpatient" value=""/>
            <con:entry key="status" value=""/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>id</con:entry>
            <con:entry>plpatient</con:entry>
            <con:entry>date</con:entry>
            <con:entry>status</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Anulowanie-immunization" id="36231c4c-60a8-45ea-846d-24e361437b2d" method="DELETE">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="9060c400-6bbf-489f-b45d-9a832a7415c3" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="AllergyIntolerance" path="/fhir/AllergyIntolerance/{id}" id="9614f11f-4a03-4c57-ae17-60a0bc7f6aea">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>id</con:name>
          <con:value>id</con:value>
          <con:style>TEMPLATE</con:style>
          <con:default>id</con:default>
        </con:parameter>
      </con:parameters>
      <con:method name="Odczyt-allergy" id="8f9def7e-36f6-4f7c-b58b-6b7ad81302e6" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="edaa6f19-0baf-430b-b2ad-6d941f03becd" mediaType="application/json">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
      <con:method name="Zapis-allergy" id="74252383-465e-40ca-9189-40dc433ad0ba" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="f30568b9-215b-4af2-8b50-1b1d115fe375" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
      <con:method name="DELETE-allergy" id="d13ae640-6c5a-4518-b503-7a6d718c9492" method="DELETE">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="3b490b6a-1234-4463-b456-a3aa9f79bd99" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Claim" path="/fhir/Claim/{id}" id="c846bd9d-658c-4e41-b6ef-9452d842f3bf">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>id</con:name>
          <con:value/>
          <con:style>TEMPLATE</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter>
          <con:name>plpatient</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
      </con:parameters>
      <con:method name="Odczyt" id="cb3e74ef-9e95-4df5-891a-5204378c5b33" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="53ded9e5-4b8c-47e7-b941-3b7b5d5bdc3b" mediaType="application/json">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>id</con:entry>
            <con:entry>plpatient</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Zapis" id="cdbc0b9f-526d-4474-993c-ce8f6070c358" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="4ed17046-01dd-41ae-837c-e2961e0654f9" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
      <con:method name="Anulowanie" id="93a28834-af6a-4bea-9f1c-ddcf4c9a8507" method="DELETE">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="aaa7d906-a636-4848-9782-2447a3f528f2" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Wyszukanie" path="/fhir/Claim/" id="def1edf2-0ab0-4f4f-9a8e-ecb91a52ad91">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>id</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter>
          <con:name>encounter</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter>
          <con:name>plpatient</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
      </con:parameters>
      <con:method name="Method 1" id="15c51312-e54c-4574-a4c5-5c01bbc83d8f" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="607fbf6a-a130-401e-bb79-9c76b172f6be" mediaType="application/json">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>id</con:entry>
            <con:entry>encounter</con:entry>
            <con:entry>plpatient</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Coverage" path="/fhir/Coverage/{id}" id="23b4de8f-7290-4fd8-a115-524d9850abb2">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>id</con:name>
          <con:value>id</con:value>
          <con:style>TEMPLATE</con:style>
          <con:default>id</con:default>
        </con:parameter>
      </con:parameters>
      <con:method name="Odczyt-coverage" id="6e08dddf-24ad-4fc8-9ce3-e4d3b734b663" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="06a3ddc1-6fe6-4435-aae0-8238f655ca21" mediaType="application/json">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
      <con:method name="Zapis-coverage" id="a19c4be6-960a-4363-9fc6-1dfa89ee47b2" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="ec88867c-8aa5-4518-85ba-044a4d38c6a3" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
      <con:method name="Anulowanie-coverage" id="2ad80dee-5fc7-424b-a348-fc54ef51e4d3" method="DELETE">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="fa6110c2-af27-4da8-97f9-5887ce6a82c6" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
      <con:method name="Modyfikacja-coverage" id="4c36e0eb-8822-4763-835c-07e7aac296e0" method="PUT">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="ebdab7a2-6254-4b03-80c0-e5f988e92eec" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
          </con:parameters>
        </con:request>
      </con:method>
    </con:resource>
  </con:interface>
  <con:interface xsi:type="con:WsdlInterface" id="3b6256bf-aa3d-45f6-8d7f-edbbf609d3f3" wsaVersion="NONE" name="DocumentRegistry_Binding_Soap12" type="wsdl" bindingName="{urn:ihe:iti:xds-b:2007}DocumentRegistry_Binding_Soap12" soapVersion="1_2" anonymous="optional" definition="wsdl/ObslugaEdmIti42WS_1.wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <con:settings/>
    <con:definitionCache type="TEXT" rootPart="file:/C:/P1/p1-sgz-testy-systemowe-source/integrationTests/src/test/resources/soapUi/Projekt-testow-dla-integratorow/Projekt-testow-zdarzenia-medyczne/wsdl/ObslugaEdmIti42WS_1.wsdl">
      <con:part>
        <con:url>file:/C:/P1/p1-sgz-testy-systemowe-source/integrationTests/src/test/resources/soapUi/Projekt-testow-dla-integratorow/Projekt-testow-zdarzenia-medyczne/wsdl/ObslugaEdmIti42WS_1.wsdl</con:url>
        <con:content><![CDATA[<wsdl:definitions targetNamespace="urn:ihe:iti:xds-b:2007" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns="http://schemas.xmlsoap.org/wsdl/" xmlns:rs="urn:oasis:names:tc:ebxml-regrep:xsd:rs:3.0" xmlns:wsaw="http://www.w3.org/2006/05/addressing/wsdl" xmlns:ihe="urn:ihe:iti:xds-b:2007" xmlns:mime="http://schemas.xmlsoap.org/wsdl/mime/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap12="http://schemas.xmlsoap.org/wsdl/soap12/" xmlns:wsp="http://www.w3.org/ns/ws-policy" xmlns:lcm="urn:oasis:names:tc:ebxml-regrep:xsd:lcm:3.0" xmlns:http="http://schemas.xmlsoap.org/wsdl/http/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:wsam="http://www.w3.org/2007/05/addressing/metadata">
  <wsp:Policy wsu:Id="wss_ds_assertion_policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
    <wsp:ExactlyOne>
      <wsp:All>
        <sp:AsymmetricBinding xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
          <wsp:Policy>
            <sp:InitiatorToken>
              <wsp:Policy>
                <sp:X509Token sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/AlwaysToRecipient">
                  <wsp:Policy>
                    <sp:WssX509V3Token10/>
                  </wsp:Policy>
                </sp:X509Token>
              </wsp:Policy>
            </sp:InitiatorToken>
            <sp:RecipientToken>
              <wsp:Policy>
                <sp:X509Token sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/Never">
                  <wsp:Policy>
                    <sp:WssX509V3Token10/>
                  </wsp:Policy>
                </sp:X509Token>
              </wsp:Policy>
            </sp:RecipientToken>
            <sp:AlgorithmSuite>
              <wsp:Policy>
                <sp:Basic256Sha256Rsa15/>
              </wsp:Policy>
            </sp:AlgorithmSuite>
            <sp:Layout>
              <wsp:Policy>
                <sp:Lax/>
              </wsp:Policy>
            </sp:Layout>
            <sp:OnlySignEntireHeadersAndBody/>
          </wsp:Policy>
        </sp:AsymmetricBinding>
        <sp:SupportingTokens xmlns:sp="http://schemas.xmlsoap.org/ws/2005/07/securitypolicy">
          <wsp:Policy>
            <sp:IssuedToken sp:IncludeToken="http://schemas.xmlsoap.org/ws/2005/07/securitypolicy/IncludeToken/AlwaysToRecipient">
              <sp:RequestSecurityTokenTemplate>
                <t:TokenType xmlns:t="http://schemas.xmlsoap.org/ws/2005/02/trust">urn:oasis:names:tc:SAML:2.0:assertion</t:TokenType>
              </sp:RequestSecurityTokenTemplate>
            </sp:IssuedToken>
          </wsp:Policy>
        </sp:SupportingTokens>
        <sp:Wss10 xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
          <sp:Policy>
            <sp:MustSupportRefKeyIdentifier/>
            <sp:MustSupportRefIssuerSerial/>
          </sp:Policy>
        </sp:Wss10>
        <sp:SignedParts xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
          <sp:Body/>
        </sp:SignedParts>
      </wsp:All>
    </wsp:ExactlyOne>
  </wsp:Policy>
  <wsdl:documentation>IHE XDS.b Document Registry = ITI-42 adaptor = Register Document Set.b</wsdl:documentation>
  <wsdl:types>
    <xsd:schema attributeFormDefault="unqualified" elementFormDefault="qualified">
      <xsd:import namespace="urn:oasis:names:tc:ebxml-regrep:xsd:rs:3.0" schemaLocation="ObslugaEdmIti42WS.xsd"/>
      <xsd:import namespace="urn:oasis:names:tc:ebxml-regrep:xsd:lcm:3.0" schemaLocation="ObslugaEdmIti42WS_1_2_3.xsd"/>
    </xsd:schema>
  </wsdl:types>
  <wsdl:message name="RegisterDocumentSet-b_Message">
    <wsdl:part name="body" element="lcm:SubmitObjectsRequest"/>
  </wsdl:message>
  <wsdl:message name="RegisterDocumentSet-bResponse_Message">
    <wsdl:part name="body" element="rs:RegistryResponse"/>
  </wsdl:message>
  <wsdl:portType name="ObslugaEdmIti42WSPortType">
    <wsdl:operation name="DocumentRegistry_RegisterDocumentSet-b">
      <wsdl:input message="ihe:RegisterDocumentSet-b_Message" wsp:PolicyURIs="#wss_ds_assertion_policy" wsaw:Action="urn:ihe:iti:2007:RegisterDocumentSet-b" xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy"/>
      <wsdl:output message="ihe:RegisterDocumentSet-bResponse_Message" wsaw:Action="urn:ihe:iti:2007:RegisterDocumentSet-bResponse"/>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="ObslugaEdmIti42WSSoap12Binding" type="ihe:ObslugaEdmIti42WSPortType">
    <soap12:binding transport="http://schemas.xmlsoap.org/soap/http" style="document"/>
    <wsdl:operation name="DocumentRegistry_RegisterDocumentSet-b">
      <soap12:operation soapAction="" style="document"/>
      <wsdl:input>
        <soap12:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap12:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="ObslugaEdmIti42WS">
    <wsdl:port name="ObslugaEdmIti42WSHttpSoap12Endpoint" binding="ihe:ObslugaEdmIti42WSSoap12Binding">
      <soap12:address location="http://p1tasus-sus:8280/services/ObslugaEdmIti42WS.ObslugaEdmIti42WSHttpSoap12Endpoint"/>
    </wsdl:port>
  </wsdl:service>
</wsdl:definitions>]]></con:content>
        <con:type>http://schemas.xmlsoap.org/wsdl/</con:type>
      </con:part>
      <con:part>
        <con:url>file:\C:\P1\p1-sgz-testy-systemowe-source\integrationTests\src\test\resources\soapUi\Projekt-testow-dla-integratorow\Projekt-testow-zdarzenia-medyczne\wsdl\ObslugaEdmIti42WS.xsd</con:url>
        <con:content><![CDATA[<schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="urn:oasis:names:tc:ebxml-regrep:xsd:rs:3.0" xmlns="http://www.w3.org/2001/XMLSchema" xmlns:rim="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0" xmlns:tns="urn:oasis:names:tc:ebxml-regrep:xsd:rs:3.0">
  <annotation>
    <documentation xml:lang="en">The schema for OASIS ebXML Registry Services</documentation>
  </annotation>
  <import namespace="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0" schemaLocation="ObslugaEdmIti42WS_1.xsd"/>
  <complexType name="RegistryRequestType">
    <annotation>
      <documentation xml:lang="en">Base type for all ebXML Registry requests</documentation>
    </annotation>
    <sequence>
      <element minOccurs="0" name="RequestSlotList" type="rim:SlotListType"/>
    </sequence>
    <attribute name="id" type="anyURI" use="optional"/>
    <attribute name="comment" type="string" use="optional"/>
  </complexType>
  <element name="RegistryRequest" type="tns:RegistryRequestType"/>
  <element name="RegistryErrorList">
    <annotation>
      <documentation xml:lang="en">The RegistryErrorList is derived from the ErrorList element from the ebXML Message Service Specification</documentation>
    </annotation>
    <complexType>
      <sequence>
        <element maxOccurs="unbounded" ref="tns:RegistryError"/>
      </sequence>
      <attribute name="highestSeverity" type="rim:referenceURI" use="optional"/>
    </complexType>
  </element>
  <element name="RegistryError">
    <complexType>
      <simpleContent>
        <extension base="string">
          <attribute name="codeContext" type="string" use="required"/>
          <attribute name="errorCode" type="string" use="required"/>
          <attribute default="urn:oasis:names:tc:ebxml-regrep:ErrorSeverityType:Error" name="severity" type="rim:referenceURI"/>
          <attribute name="location" type="string" use="optional"/>
        </extension>
      </simpleContent>
    </complexType>
  </element>
  <complexType name="RegistryResponseType">
    <annotation>
      <documentation xml:lang="en">Base type for all ebXML Registry responses</documentation>
    </annotation>
    <sequence>
      <element minOccurs="0" name="ResponseSlotList" type="rim:SlotListType"/>
      <element minOccurs="0" ref="tns:RegistryErrorList"/>
    </sequence>
    <attribute name="status" type="rim:referenceURI" use="required"/>
    <attribute name="requestId" type="anyURI" use="optional"/>
  </complexType>
  <element name="RegistryResponse" type="tns:RegistryResponseType"/>
</schema>]]></con:content>
        <con:type>http://www.w3.org/2001/XMLSchema</con:type>
      </con:part>
      <con:part>
        <con:url>file:\C:\P1\p1-sgz-testy-systemowe-source\integrationTests\src\test\resources\soapUi\Projekt-testow-dla-integratorow\Projekt-testow-zdarzenia-medyczne\wsdl\ObslugaEdmIti42WS_1.xsd</con:url>
        <con:content><![CDATA[<schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0" xmlns="http://www.w3.org/2001/XMLSchema" xmlns:tns="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0">
  <annotation>
    <documentation xml:lang="en">The schema for OASIS ebXML Registry Information Model</documentation>
  </annotation>
  <import namespace="http://www.w3.org/XML/1998/namespace" schemaLocation="ObslugaEdmIti42WS_1_2.xsd"/>
  <simpleType name="referenceURI">
    <annotation>
      <documentation xml:lang="en">referenceURI is used by reference attributes within RIM.
        Each attribute of type referenceURI references a RegistryObject with
        specified URI as id.</documentation>
    </annotation>
    <restriction base="anyURI"/>
  </simpleType>
  <simpleType name="String4">
    <restriction base="string">
      <maxLength value="4"/>
    </restriction>
  </simpleType>
  <simpleType name="String8">
    <restriction base="string">
      <maxLength value="8"/>
    </restriction>
  </simpleType>
  <simpleType name="String16">
    <restriction base="string">
      <maxLength value="16"/>
    </restriction>
  </simpleType>
  <simpleType name="String32">
    <restriction base="string">
      <maxLength value="32"/>
    </restriction>
  </simpleType>
  <simpleType name="ShortName">
    <restriction base="string">
      <maxLength value="64"/>
    </restriction>
  </simpleType>
  <simpleType name="LongName">
    <restriction base="string">
      <maxLength value="256"/>
    </restriction>
  </simpleType>
  <simpleType name="FreeFormText">
    <restriction base="string">
      <maxLength value="1024"/>
    </restriction>
  </simpleType>
  <complexType name="InternationalStringType">
    <sequence maxOccurs="unbounded" minOccurs="0">
      <element ref="tns:LocalizedString"/>
    </sequence>
  </complexType>
  <element name="InternationalString" type="tns:InternationalStringType"/>
  <element name="Name" type="tns:InternationalStringType"/>
  <element name="Description" type="tns:InternationalStringType"/>
  <complexType name="LocalizedStringType">
    <attribute default="en-US" ref="xml:lang"/>
    <attribute default="UTF-8" name="charset"/>
    <attribute name="value" type="tns:FreeFormText" use="required"/>
  </complexType>
  <element name="LocalizedString" type="tns:LocalizedStringType"/>
  <complexType name="SlotType1">
    <sequence>
      <element ref="tns:ValueList"/>
    </sequence>
    <attribute name="name" type="tns:LongName" use="required"/>
    <attribute name="slotType" type="tns:referenceURI" use="optional"/>
  </complexType>
  <element name="Slot" type="tns:SlotType1"/>
  <complexType name="ValueListType">
    <sequence maxOccurs="unbounded" minOccurs="0">
      <element ref="tns:Value"/>
    </sequence>
  </complexType>
  <element name="ValueList" type="tns:ValueListType"/>
  <element name="Value" type="tns:LongName"/>
  <complexType name="SlotListType">
    <sequence>
      <element maxOccurs="unbounded" minOccurs="0" ref="tns:Slot"/>
    </sequence>
  </complexType>
  <element name="SlotList" type="tns:SlotListType"/>
  <complexType name="IdentifiableType">
    <annotation>
      <documentation xml:lang="en">Common base type for all types that have unique identity.     
        If id is provided and is not in proper URN syntax then it is used for
        linkage within document and is ignored by the registry. In this case the
        registry generates a UUID URN for id attribute.
        id must not be null when object is retrieved from the registry.</documentation>
    </annotation>
    <sequence>
      <element maxOccurs="unbounded" minOccurs="0" ref="tns:Slot"/>
    </sequence>
    <attribute name="id" type="anyURI" use="required"/>
    <attribute name="home" type="anyURI" use="optional"/>
  </complexType>
  <element name="Identifiable" type="tns:IdentifiableType"/>
  <complexType name="ObjectRefType">
    <annotation>
      <documentation xml:lang="en">Use to reference an Object by its id.
        Specifies the id attribute of the object as its id attribute.
        id attribute in ObjectAttributes is exactly the same syntax and semantics as
        id attribute in RegistryObject.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:IdentifiableType">
        <attribute default="false" name="createReplica" type="boolean"/>
      </extension>
    </complexContent>
  </complexType>
  <complexType name="ObjectRefListType">
    <sequence maxOccurs="unbounded" minOccurs="0">
      <element ref="tns:ObjectRef"/>
    </sequence>
  </complexType>
  <element name="ObjectRefList" type="tns:ObjectRefListType"/>
  <element name="ObjectRef" substitutionGroup="tns:Identifiable" type="tns:ObjectRefType"/>
  <complexType name="RegistryObjectType">
    <complexContent>
      <extension base="tns:IdentifiableType">
        <sequence minOccurs="0">
          <element minOccurs="0" ref="tns:Name"/>
          <element minOccurs="0" ref="tns:Description"/>
          <element minOccurs="0" name="VersionInfo" type="tns:VersionInfoType"/>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:Classification"/>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:ExternalIdentifier"/>
        </sequence>
        <attribute name="lid" type="anyURI" use="optional"/>
        <attribute name="objectType" type="tns:referenceURI" use="optional"/>
        <attribute name="status" type="tns:referenceURI" use="optional"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="RegistryObject" substitutionGroup="tns:Identifiable" type="tns:RegistryObjectType"/>
  <complexType name="RegistryObjectListType">
    <sequence>
      <element maxOccurs="unbounded" minOccurs="0" ref="tns:Identifiable"/>
    </sequence>
  </complexType>
  <element name="RegistryObjectList" type="tns:RegistryObjectListType"/>
  <complexType name="AssociationType1">
    <annotation>
      <documentation xml:lang="en">Association is the mapping of the same named interface in ebRIM.
        It extends RegistryObject.
        An Association specifies references to two previously submitted
        registry entrys.
        The sourceObject is id of the sourceObject in association
        The targetObject is id of the targetObject in association</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <attribute name="associationType" type="tns:referenceURI" use="required"/>
        <attribute name="sourceObject" type="tns:referenceURI" use="required"/>
        <attribute name="targetObject" type="tns:referenceURI" use="required"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="Association" substitutionGroup="tns:Identifiable" type="tns:AssociationType1"/>
  <complexType name="AuditableEventType">
    <annotation>
      <documentation xml:lang="en">An Event that forms an audit trail in ebXML Registry.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element name="affectedObjects" type="tns:ObjectRefListType"/>
        </sequence>
        <attribute name="eventType" type="tns:referenceURI" use="required"/>
        <attribute name="timestamp" type="dateTime" use="required"/>
        <attribute name="user" type="tns:referenceURI" use="required"/>
        <attribute name="requestId" type="tns:referenceURI" use="required"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="AuditableEvent" substitutionGroup="tns:Identifiable" type="tns:AuditableEventType"/>
  <complexType name="ClassificationType">
    <annotation>
      <documentation xml:lang="en">Classification is the mapping of the same named interface in ebRIM.
        It extends RegistryObject.
        A Classification specifies references to two registry entrys.
        The classifiedObject is id of the Object being classified.
        The classificationNode is id of the ClassificationNode classying the object</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <attribute name="classificationScheme" type="tns:referenceURI" use="optional"/>
        <attribute name="classifiedObject" type="tns:referenceURI" use="required"/>
        <attribute name="classificationNode" type="tns:referenceURI" use="optional"/>
        <attribute name="nodeRepresentation" type="tns:LongName" use="optional"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="Classification" substitutionGroup="tns:Identifiable" type="tns:ClassificationType"/>
  <complexType name="ClassificationNodeType">
    <annotation>
      <documentation xml:lang="en">ClassificationNode is the mapping of the same named interface in ebRIM.
        It extends RegistryObject.
        ClassificationNode is used to submit a Classification tree to the Registry.
        The parent attribute is the id to the parent node. code is an optional code value for a ClassificationNode
        often defined by an external taxonomy (e.g. NAICS)</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:ClassificationNode"/>
        </sequence>
        <attribute name="parent" type="tns:referenceURI" use="optional"/>
        <attribute name="code" type="tns:LongName" use="optional"/>
        <attribute name="path" type="string" use="optional"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="ClassificationNode" substitutionGroup="tns:Identifiable" type="tns:ClassificationNodeType"/>
  <complexType name="ClassificationSchemeType">
    <annotation>
      <documentation xml:lang="en">ClassificationScheme is the mapping of the same named interface in ebRIM.
        It extends RegistryObject.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:ClassificationNode"/>
        </sequence>
        <attribute name="isInternal" type="boolean" use="required"/>
        <attribute name="nodeType" type="tns:referenceURI" use="required"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="ClassificationScheme" substitutionGroup="tns:Identifiable" type="tns:ClassificationSchemeType"/>
  <complexType name="ExternalIdentifierType">
    <annotation>
      <documentation xml:lang="en">ExternalIdentifier is the mapping of the same named interface in ebRIM.
        It extends RegistryObject.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <attribute name="registryObject" type="tns:referenceURI" use="required"/>
        <attribute name="identificationScheme" type="tns:referenceURI" use="required"/>
        <attribute name="value" type="tns:LongName" use="required"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="ExternalIdentifier" substitutionGroup="tns:Identifiable" type="tns:ExternalIdentifierType"/>
  <complexType name="ExternalLinkType">
    <annotation>
      <documentation xml:lang="en">ExternalLink is the mapping of the same named interface in ebRIM.
        It extends RegistryObject.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <attribute name="externalURI" type="anyURI" use="required"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="ExternalLink" substitutionGroup="tns:Identifiable" type="tns:ExternalLinkType"/>
  <complexType name="ExtrinsicObjectType">
    <annotation>
      <documentation xml:lang="en">ExtrinsicObject is the mapping of the same named interface in ebRIM.
        It extends RegistryObject.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element minOccurs="0" name="ContentVersionInfo" type="tns:VersionInfoType"/>
        </sequence>
        <attribute default="application/octet-stream" name="mimeType" type="tns:LongName"/>
        <attribute default="false" name="isOpaque" type="boolean"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="ExtrinsicObject" substitutionGroup="tns:Identifiable" type="tns:ExtrinsicObjectType"/>
  <element name="Address" type="tns:PostalAddressType"/>
  <complexType name="OrganizationType">
    <annotation>
      <documentation xml:lang="en">Mapping of the same named interface in ebRIM.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:Address"/>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:TelephoneNumber"/>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:EmailAddress"/>
        </sequence>
        <attribute name="parent" type="tns:referenceURI"/>
        <attribute name="primaryContact" type="tns:referenceURI" use="optional"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="Organization" substitutionGroup="tns:Identifiable" type="tns:OrganizationType"/>
  <complexType name="PersonNameType">
    <annotation>
      <documentation xml:lang="en">Mapping of the same named interface in ebRIM.</documentation>
    </annotation>
    <attribute name="firstName" type="tns:ShortName" use="optional"/>
    <attribute name="middleName" type="tns:ShortName" use="optional"/>
    <attribute name="lastName" type="tns:ShortName" use="optional"/>
  </complexType>
  <element name="PersonName" type="tns:PersonNameType"/>
  <complexType name="EmailAddressType">
    <annotation>
      <documentation xml:lang="en">Mapping of the same named interface in ebRIM.</documentation>
    </annotation>
    <attribute name="address" type="tns:ShortName" use="required"/>
    <attribute name="type" type="tns:String32" use="optional"/>
  </complexType>
  <element name="EmailAddress" type="tns:EmailAddressType"/>
  <complexType name="PostalAddressType">
    <annotation>
      <documentation xml:lang="en">Mapping of the same named interface in ebRIM.</documentation>
    </annotation>
    <attribute name="city" type="tns:ShortName" use="optional"/>
    <attribute name="country" type="tns:ShortName" use="optional"/>
    <attribute name="postalCode" type="tns:ShortName" use="optional"/>
    <attribute name="stateOrProvince" type="tns:ShortName" use="optional"/>
    <attribute name="street" type="tns:ShortName" use="optional"/>
    <attribute name="streetNumber" type="tns:String32" use="optional"/>
  </complexType>
  <element name="PostalAddress" type="tns:PostalAddressType"/>
  <complexType name="VersionInfoType">
    <attribute default="1.1" name="versionName" type="tns:String16" use="optional"/>
    <attribute name="comment" type="string" use="optional"/>
  </complexType>
  <complexType name="RegistryPackageType">
    <annotation>
      <documentation xml:lang="en">RegistryPackage is the mapping of the same named interface in ebRIM.
        It extends RegistryObject.
        A RegistryPackage is a named collection of objects.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element minOccurs="0" ref="tns:RegistryObjectList"/>
        </sequence>
      </extension>
    </complexContent>
  </complexType>
  <element name="RegistryPackage" substitutionGroup="tns:Identifiable" type="tns:RegistryPackageType"/>
  <complexType name="ServiceType">
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:ServiceBinding"/>
        </sequence>
      </extension>
    </complexContent>
  </complexType>
  <element name="Service" substitutionGroup="tns:Identifiable" type="tns:ServiceType"/>
  <complexType name="ServiceBindingType">
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:SpecificationLink"/>
        </sequence>
        <attribute name="service" type="tns:referenceURI" use="required"/>
        <attribute name="accessURI" type="anyURI" use="optional"/>
        <attribute name="targetBinding" type="tns:referenceURI" use="optional"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="ServiceBinding" substitutionGroup="tns:Identifiable" type="tns:ServiceBindingType"/>
  <complexType name="SpecificationLinkType">
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element minOccurs="0" ref="tns:UsageDescription"/>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:UsageParameter"/>
        </sequence>
        <attribute name="serviceBinding" type="tns:referenceURI" use="required"/>
        <attribute name="specificationObject" type="tns:referenceURI" use="required"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="SpecificationLink" substitutionGroup="tns:Identifiable" type="tns:SpecificationLinkType"/>
  <element name="UsageDescription" type="tns:InternationalStringType"/>
  <element name="UsageParameter" type="tns:FreeFormText"/>
  <complexType name="TelephoneNumberType">
    <annotation>
      <documentation xml:lang="en">TelephoneNumber is the mapping of the same named interface in ebRIM.</documentation>
    </annotation>
    <attribute name="areaCode" type="tns:String8" use="optional"/>
    <attribute name="countryCode" type="tns:String8" use="optional"/>
    <attribute name="extension" type="tns:String8" use="optional"/>
    <attribute name="number" type="tns:String16" use="optional"/>
    <attribute name="phoneType" type="tns:String32" use="optional"/>
  </complexType>
  <element name="TelephoneNumber" type="tns:TelephoneNumberType"/>
  <complexType name="TelephoneNumberListType">
    <sequence>
      <element maxOccurs="unbounded" minOccurs="0" ref="tns:TelephoneNumber"/>
    </sequence>
  </complexType>
  <complexType name="PersonType">
    <annotation>
      <documentation xml:lang="en">Mapping of the same named interface in ebRIM.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:Address"/>
          <element minOccurs="0" ref="tns:PersonName"/>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:TelephoneNumber"/>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:EmailAddress"/>
        </sequence>
      </extension>
    </complexContent>
  </complexType>
  <element name="Person" substitutionGroup="tns:Identifiable" type="tns:PersonType"/>
  <complexType name="UserType">
    <annotation>
      <documentation xml:lang="en">Mapping of the same named interface in ebRIM.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:PersonType"/>
    </complexContent>
  </complexType>
  <element name="User" substitutionGroup="tns:Identifiable" type="tns:UserType"/>
  <complexType name="RegistryType">
    <annotation>
      <documentation xml:lang="en">Mapping of the same named interface in ebRIM.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <attribute name="operator" type="tns:referenceURI" use="required"/>
        <attribute name="specificationVersion" type="string" use="required"/>
        <attribute default="P1D" name="replicationSyncLatency" type="duration" use="optional"/>
        <attribute default="P1D" name="catalogingLatency" type="duration" use="optional"/>
        <attribute default="registryLite" name="conformanceProfile" use="optional">
          <simpleType>
            <restriction base="NCName">
              <enumeration value="registryFull"/>
              <enumeration value="registryLite"/>
            </restriction>
          </simpleType>
        </attribute>
      </extension>
    </complexContent>
  </complexType>
  <element name="Registry" substitutionGroup="tns:Identifiable" type="tns:RegistryType"/>
  <complexType name="FederationType">
    <annotation>
      <documentation xml:lang="en">Mapping of the same named interface in ebRIM.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <attribute default="P1D" name="replicationSyncLatency" type="duration" use="optional"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="Federation" substitutionGroup="tns:Identifiable" type="tns:FederationType"/>
  <complexType name="AdhocQueryType">
    <annotation>
      <documentation xml:lang="en">A registry query.
      A QueryExpression child element is not required when invoking a stored query.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element minOccurs="0" ref="tns:QueryExpression"/>
        </sequence>
      </extension>
    </complexContent>
  </complexType>
  <element name="AdhocQuery" substitutionGroup="tns:RegistryObject" type="tns:AdhocQueryType"/>
  <complexType mixed="true" name="QueryExpressionType">
    <sequence>
      <any minOccurs="0" namespace="##other" processContents="lax"/>
    </sequence>
    <attribute name="queryLanguage" type="tns:referenceURI" use="required"/>
  </complexType>
  <element name="QueryExpression" type="tns:QueryExpressionType"/>
  <complexType name="NotificationType">
    <annotation>
      <documentation>Notification of registry events.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element ref="tns:RegistryObjectList"/>
        </sequence>
        <attribute name="subscription" type="tns:referenceURI" use="required"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="Notification" type="tns:NotificationType"/>
  <element name="Action" type="tns:ActionType"/>
  <complexType name="SubscriptionType">
    <annotation>
      <documentation xml:lang="en">A Subscription for specified Events in an ebXML V3+ registry.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:Action"/>
        </sequence>
        <attribute name="selector" type="tns:referenceURI" use="required"/>
        <attribute name="startTime" type="dateTime" use="optional"/>
        <attribute name="endTime" type="dateTime" use="optional"/>
        <attribute default="P1D" name="notificationInterval" type="duration" use="optional"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="Subscription" substitutionGroup="tns:Identifiable" type="tns:SubscriptionType"/>
  <complexType abstract="true" name="ActionType">
    <annotation>
      <documentation>Abstract Base type for all types of Actions.</documentation>
    </annotation>
  </complexType>
  <complexType name="NotifyActionType">
    <annotation>
      <documentation xml:lang="en">Abstract Base type for all types of Notify Actions</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:ActionType">
        <attribute default="urn:oasis:names:tc:ebxml-regrep:NotificationOptionType:ObjectRefs" name="notificationOption" type="tns:referenceURI"/>
        <attribute name="endPoint" type="anyURI" use="required"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="NotifyAction" substitutionGroup="tns:Action" type="tns:NotifyActionType"/>
</schema>]]></con:content>
        <con:type>http://www.w3.org/2001/XMLSchema</con:type>
      </con:part>
      <con:part>
        <con:url>file:\C:\P1\p1-sgz-testy-systemowe-source\integrationTests\src\test\resources\soapUi\Projekt-testow-dla-integratorow\Projekt-testow-zdarzenia-medyczne\wsdl\ObslugaEdmIti42WS_1_2.xsd</con:url>
        <con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="unqualified" targetNamespace="http://www.w3.org/XML/1998/namespace" xml:lang="en" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://www.w3.org/1999/xhtml">
  <xs:annotation>
    <xs:documentation/>
  </xs:annotation>
  <xs:attribute name="lang">
    <xs:annotation>
      <xs:documentation/>
    </xs:annotation>
    <xs:simpleType>
      <xs:union memberTypes="xs:language">
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:enumeration value=""/>
          </xs:restriction>
        </xs:simpleType>
      </xs:union>
    </xs:simpleType>
  </xs:attribute>
  <xs:attribute name="space">
    <xs:annotation>
      <xs:documentation/>
    </xs:annotation>
    <xs:simpleType>
      <xs:restriction base="xs:NCName">
        <xs:enumeration value="default"/>
        <xs:enumeration value="preserve"/>
      </xs:restriction>
    </xs:simpleType>
  </xs:attribute>
  <xs:attribute name="base" type="xs:anyURI">
    <xs:annotation>
      <xs:documentation/>
    </xs:annotation>
  </xs:attribute>
  <xs:attribute name="id" type="xs:ID">
    <xs:annotation>
      <xs:documentation/>
    </xs:annotation>
  </xs:attribute>
  <xs:attributeGroup name="specialAttrs">
    <xs:attribute ref="xml:base"/>
    <xs:attribute ref="xml:lang"/>
    <xs:attribute ref="xml:space"/>
    <xs:attribute ref="xml:id"/>
  </xs:attributeGroup>
</xs:schema>]]></con:content>
        <con:type>http://www.w3.org/2001/XMLSchema</con:type>
      </con:part>
      <con:part>
        <con:url>file:\C:\P1\p1-sgz-testy-systemowe-source\integrationTests\src\test\resources\soapUi\Projekt-testow-dla-integratorow\Projekt-testow-zdarzenia-medyczne\wsdl\ObslugaEdmIti42WS_1_2_3.xsd</con:url>
        <con:content><![CDATA[<schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="urn:oasis:names:tc:ebxml-regrep:xsd:lcm:3.0" xmlns="http://www.w3.org/2001/XMLSchema" xmlns:rs="urn:oasis:names:tc:ebxml-regrep:xsd:rs:3.0" xmlns:rim="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0" xmlns:tns="urn:oasis:names:tc:ebxml-regrep:xsd:lcm:3.0">
  <annotation>
    <documentation xml:lang="en">The schema for OASIS ebXML Registry Services</documentation>
  </annotation>
  <import namespace="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0" schemaLocation="ObslugaEdmIti42WS_1.xsd"/>
  <import namespace="urn:oasis:names:tc:ebxml-regrep:xsd:rs:3.0" schemaLocation="ObslugaEdmIti42WS.xsd"/>
  <element name="SubmitObjectsRequest">
    <annotation>
      <documentation xml:lang="en">The SubmitObjectsRequest allows one to submit a list of RegistryObject elements. Each RegistryEntry element provides metadata for a single submitted object.  Note that the repository item being submitted is in a separate document that is not in this DTD. The ebXML Messaging Services Specfication defines packaging, for submission, of the metadata of a repository item with the repository item itself. The value of the id attribute of the ExtrinsicObject element must be the same as the xlink:href attribute within the Reference element within the Manifest element of the MessageHeader.</documentation>
    </annotation>
    <complexType>
      <complexContent>
        <extension base="rs:RegistryRequestType">
          <sequence>
            <element ref="rim:RegistryObjectList"/>
          </sequence>
        </extension>
      </complexContent>
    </complexType>
  </element>
  <element name="UpdateObjectsRequest">
    <annotation>
      <documentation xml:lang="en">The UpdateObjectsRequest allows one to update a list of RegistryObject elements. Each RegistryEntry element provides metadata for a single submitted object.  Note that the repository item being submitted is in a separate document that is not in this DTD. The ebXML Messaging Services Specfication defines packaging, for submission, of the metadata of a repository item with the repository item itself. The value of the id attribute of the ExtrinsicObject element must be the same as the xlink:href attribute within the Reference element within the Manifest element of the MessageHeader.</documentation>
    </annotation>
    <complexType>
      <complexContent>
        <extension base="rs:RegistryRequestType">
          <sequence>
            <element ref="rim:RegistryObjectList"/>
          </sequence>
        </extension>
      </complexContent>
    </complexType>
  </element>
  <element name="ApproveObjectsRequest">
    <annotation>
      <documentation xml:lang="en">The ObjectRefList and AdhocQuery identify the list of
        objects being approved.</documentation>
    </annotation>
    <complexType>
      <complexContent>
        <extension base="rs:RegistryRequestType">
          <sequence>
            <element minOccurs="0" ref="rim:AdhocQuery"/>
            <element minOccurs="0" ref="rim:ObjectRefList"/>
          </sequence>
        </extension>
      </complexContent>
    </complexType>
  </element>
  <element name="DeprecateObjectsRequest">
    <annotation>
      <documentation xml:lang="en">The ObjectRefList and AdhocQuery identify the list of
        objects being deprecated.</documentation>
    </annotation>
    <complexType>
      <complexContent>
        <extension base="rs:RegistryRequestType">
          <sequence>
            <element minOccurs="0" ref="rim:AdhocQuery"/>
            <element minOccurs="0" ref="rim:ObjectRefList"/>
          </sequence>
        </extension>
      </complexContent>
    </complexType>
  </element>
  <element name="UndeprecateObjectsRequest">
    <annotation>
      <documentation xml:lang="en">The ObjectRefList is the list of
        refs to the registry entrys being un-deprecated.</documentation>
    </annotation>
    <complexType>
      <complexContent>
        <extension base="rs:RegistryRequestType">
          <sequence>
            <element minOccurs="0" ref="rim:AdhocQuery"/>
            <element minOccurs="0" ref="rim:ObjectRefList"/>
          </sequence>
        </extension>
      </complexContent>
    </complexType>
  </element>
  <element name="RemoveObjectsRequest">
    <annotation>
      <documentation xml:lang="en">The ObjectRefList is the list of
        refs to the registry entrys being removed</documentation>
    </annotation>
    <complexType>
      <complexContent>
        <extension base="rs:RegistryRequestType">
          <sequence>
            <element minOccurs="0" ref="rim:AdhocQuery"/>
            <element minOccurs="0" ref="rim:ObjectRefList"/>
          </sequence>
          <attribute default="urn:oasis:names:tc:ebxml-regrep:DeletionScopeType:DeleteAll" name="deletionScope" type="rim:referenceURI" use="optional"/>
        </extension>
      </complexContent>
    </complexType>
  </element>
  <element name="RelocateObjectsRequest">
    <complexType>
      <complexContent>
        <extension base="rs:RegistryRequestType">
          <sequence>
            <element ref="rim:AdhocQuery"/>
            <element name="SourceRegistry" type="rim:ObjectRefType"/>
            <element name="DestinationRegistry" type="rim:ObjectRefType"/>
            <element name="OwnerAtSource" type="rim:ObjectRefType"/>
            <element name="OwnerAtDestination" type="rim:ObjectRefType"/>
          </sequence>
        </extension>
      </complexContent>
    </complexType>
  </element>
  <element name="AcceptObjectsRequest">
    <complexType>
      <complexContent>
        <extension base="rs:RegistryRequestType">
          <attribute name="correlationId" type="anyURI" use="required"/>
        </extension>
      </complexContent>
    </complexType>
  </element>
</schema>]]></con:content>
        <con:type>http://www.w3.org/2001/XMLSchema</con:type>
      </con:part>
    </con:definitionCache>
    <con:endpoints>
      <con:endpoint>http://10.17.63.31:8080/services/xds-iti42</con:endpoint>
    </con:endpoints>
    <con:operation id="d5293042-e03b-4080-b7da-8fc2b4b587f6" isOneWay="false" action="" name="DocumentRegistry_RegisterDocumentSet-b" bindingOperationName="DocumentRegistry_RegisterDocumentSet-b" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional">
      <con:settings/>
      <con:call id="4b0e5a39-d90c-446a-a423-9fb7a00a326e" name="Request 1">
        <con:settings/>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://10.17.63.31:8080/services/xds-iti42</con:endpoint>
        <con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:urn="urn:oasis:names:tc:ebxml-regrep:xsd:lcm:3.0" xmlns:urn1="urn:oasis:names:tc:ebxml-regrep:xsd:rs:3.0" xmlns:urn2="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0">\r
   <soap:Header/>\r
   <soap:Body>\r
      <urn:SubmitObjectsRequest id="?" comment="?">\r
         <!--Optional:-->\r
         <urn1:RequestSlotList>\r
            <!--Zero or more repetitions:-->\r
            <urn2:Slot name="?" slotType="?">\r
               <urn2:ValueList>\r
                  <urn2:Value>?</urn2:Value>\r
               </urn2:ValueList>\r
            </urn2:Slot>\r
         </urn1:RequestSlotList>\r
         <urn2:RegistryObjectList>\r
            <!--Zero or more repetitions:-->\r
            <urn2:Identifiable id="?" home="?">\r
               <!--Zero or more repetitions:-->\r
               <urn2:Slot name="?" slotType="?">\r
                  <urn2:ValueList>\r
                     <urn2:Value>?</urn2:Value>\r
                  </urn2:ValueList>\r
               </urn2:Slot>\r
            </urn2:Identifiable>\r
         </urn2:RegistryObjectList>\r
      </urn:SubmitObjectsRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request>
        <con:credentials>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:ihe:iti:2007:RegisterDocumentSet-b"/>
        <con:wsrmConfig version="1.2"/>
      </con:call>
    </con:operation>
  </con:interface>
  <con:interface xsi:type="con:RestService" id="d8d0e240-c16f-4105-99a4-2059e15ed6e1" wadlVersion="http://wadl.dev.java.net/2009/02" name="ObslugaZdarzenMedycznych.service.address" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <con:settings/>
    <con:definitionCache type="TEXT" rootPart=""/>
    <con:endpoints>
      <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
      <con:endpoint>http://10.0.38.215:8090</con:endpoint>
    </con:endpoints>
    <con:resource name="Encounter" path="/fhir/Encounter/{id}" id="340b0a12-89ac-4057-bba6-45cfde0869d1">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>id</con:name>
          <con:value/>
          <con:style>TEMPLATE</con:style>
          <con:default/>
        </con:parameter>
        <con:parameter>
          <con:name>sss</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
      </con:parameters>
      <con:method name="Zapis-encounter" id="c786d2a3-f686-4df9-8969-f0a5d503154d" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:representation type="REQUEST">
          <con:mediaType>application/xml</con:mediaType>
          <con:params/>
        </con:representation>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+xml;charset=UTF-8</con:mediaType>
          <con:status>400 422</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+xml;charset=UTF-8</con:mediaType>
          <con:status>201</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Encounter</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:proc="http://10.0.38.215/fhir/Procedure">proc:Response</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>0</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>0</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:request name="Request 1" id="f4b5dabc-1979-4a28-8fbb-106539d50ced" mediaType="application/json" postQueryString="false">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:entry key="sss" value=""/>
            <con:entry key="id" value=""/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>id</con:entry>
            <con:entry>sss</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Odczyt-Encounter" id="510fc4bf-c668-4c53-8d84-6997fa38b674" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>400</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:request name="Request 1" id="49a505d9-6e48-4d2e-9814-a80ac476978a" mediaType="application/json">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:originalUri>http://10.0.35.10/fhir/Encounter/</con:originalUri>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>id</con:entry>
            <con:entry>sss</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="PUT" id="b2e5d96e-81ea-4a91-8237-26fac4630906" method="PUT">
        <con:settings/>
        <con:parameters>
          <con:parameter>
            <con:name>_id</con:name>
            <con:style>QUERY</con:style>
          </con:parameter>
        </con:parameters>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>400 401 500 422 412</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:representation type="REQUEST">
          <con:mediaType>application/xml</con:mediaType>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Encounter</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>200 201</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Encounter</con:element>
        </con:representation>
        <con:representation type="FAULT">
          <con:mediaType>application/json; charset=UTF-8</con:mediaType>
          <con:status>500</con:status>
          <con:params/>
          <con:element xmlns:enc="https://a2sus.ezdrowie.gov.pl/fhir/Encounter">enc:Fault</con:element>
        </con:representation>
        <con:request name="Request 1" id="c3e5ebc5-a79e-4e5f-bac0-92f4701b587f" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:entry key="sss" value=""/>
            <con:entry key="id" value=""/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>_id</con:entry>
            <con:entry>id</con:entry>
            <con:entry>sss</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Condition" path="/fhir/Condition" id="fce33d62-8b47-48c8-b2fc-e97d200f4941">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>encounter</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter>
          <con:name>plsubject</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
      </con:parameters>
      <con:method name="Zapis-condition" id="f1ba9004-c67a-4a3c-88bf-ccf6f05d63d3" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:representation type="REQUEST">
          <con:mediaType>application/xml</con:mediaType>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Condition</con:element>
        </con:representation>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+xml;charset=UTF-8</con:mediaType>
          <con:status>422 400</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+xml;charset=UTF-8</con:mediaType>
          <con:status>201</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Condition</con:element>
        </con:representation>
        <con:request name="Request 1" id="921f3ccc-c327-4045-8705-c5925c4f1779" mediaType="application/json" postQueryString="false">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:entry key="plsubject" value=""/>
            <con:entry key="encounter" value=""/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>encounter</con:entry>
            <con:entry>plsubject</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Odczyt-condition" id="52fc5fd9-157a-4365-b7a1-865f3ed76263" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>404 400</con:status>
          <con:params/>
          <con:element xmlns:con1="http://10.13.58.31/fhir/ConditionZMtest1">con1:Fault</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:con1="http://10.13.58.31/fhir/ConditionZMtest1">con1:Response</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+json; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:con1="http://10.13.58.31/fhir/ConditionZMtest1">con1:Response</con:element>
        </con:representation>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+json; charset=UTF-8</con:mediaType>
          <con:status>401</con:status>
          <con:params/>
          <con:element xmlns:con1="http://10.13.58.31/fhir/ConditionZMtest1">con1:Fault</con:element>
        </con:representation>
        <con:request name="Request 1" id="576d95f5-0e47-499e-a2ae-6a6c17532f98" mediaType="application/json">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <entry key="encounter" value="" xmlns="http://eviware.com/soapui/config"/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>encounter</con:entry>
            <con:entry>plsubject</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Odczyt-condition-encounter" id="ad7c11d8-4c37-48a6-bf2d-c8e68ff4deb9" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>404 400</con:status>
          <con:params/>
          <con:element xmlns:con1="http://10.13.58.31/fhir/ConditionZMtest1">con1:Fault</con:element>
        </con:representation>
        <con:request name="Request 1" id="46d643ce-b5ba-43aa-a9f4-5423181c1b76" mediaType="application/json">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>encounter</con:entry>
            <con:entry>plsubject</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="PUT" id="8d13d4f2-9d26-4026-9040-b4170aa24b9b" method="PUT">
        <con:settings/>
        <con:parameters>
          <con:parameter>
            <con:name>_id</con:name>
            <con:value/>
            <con:style>QUERY</con:style>
            <con:default/>
            <con:path xsi:nil="true"/>
            <con:description xsi:nil="true"/>
          </con:parameter>
        </con:parameters>
        <con:representation type="REQUEST">
          <con:mediaType>application/xml</con:mediaType>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Procedure</con:element>
        </con:representation>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>401 400 422</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Procedure</con:element>
        </con:representation>
        <con:representation type="FAULT">
          <con:mediaType>application/json; charset=UTF-8</con:mediaType>
          <con:status>500</con:status>
          <con:params/>
          <con:element xmlns:enc="https://a2sus.ezdrowie.gov.pl/fhir/Encounter">enc:Fault</con:element>
        </con:representation>
        <con:request name="Request 1" id="768b0a85-d1fc-4c03-bf35-22bd1ba69073" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>encounter</con:entry>
            <con:entry>_id</con:entry>
            <con:entry>plsubject</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Provenance" path="/fhir/Provenance/{id}" id="44fd2a93-6984-46b6-8785-f3515677cb78">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>id</con:name>
          <con:value/>
          <con:style>TEMPLATE</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
      </con:parameters>
      <con:method name="Zapis-provenance" id="fd660e41-3297-49f5-bce6-0baaa8854af0" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+xml;charset=UTF-8</con:mediaType>
          <con:status>400 422</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:representation type="REQUEST">
          <con:mediaType>application/xml</con:mediaType>
          <con:params/>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+xml;charset=UTF-8</con:mediaType>
          <con:status>201</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Provenance</con:element>
        </con:representation>
        <con:request name="Request 1" id="2dc57d85-8fdc-44a7-b4b7-18e9878eb312" mediaType="application/json" postQueryString="false">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>id</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Odczyt-provenance" id="e4087403-9edd-408f-be02-e4367cb46c6f" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="1d61bad0-1ddd-429b-888b-09ae8eb2f21e" mediaType="application/json">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>id</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Anulowanie-provenance" id="e4087403-9edd-408f-be02-e4367cb46c6f" method="DELETE">
        <con:settings/>
        <con:parameters/>
        <con:representation type="REQUEST">
          <con:mediaType>application/json</con:mediaType>
          <con:params/>
        </con:representation>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>400 403</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:request name="Request 1" id="1d61bad0-1ddd-429b-888b-09ae8eb2f21e" mediaType="application/json" postQueryString="false">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>id</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Modyfikacja" id="20e7b0f5-0444-407f-a4aa-1c73676bbcb7" method="PUT">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="f3364d86-4a5d-49e3-8990-b80f2c37d994" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Procedure" path="/fhir/Procedure/{id}" id="5c89357d-ea38-4baf-bde9-b2fd6a47c256">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>id</con:name>
          <con:style>TEMPLATE</con:style>
        </con:parameter>
        <con:parameter>
          <con:name>encounter</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
      </con:parameters>
      <con:method name="Zapis-procedure" id="0350980a-4226-449b-a629-feb3d94778e1" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+xml;charset=UTF-8</con:mediaType>
          <con:status>201</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Procedure</con:element>
        </con:representation>
        <con:representation type="REQUEST">
          <con:mediaType>application/xml</con:mediaType>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Procedure</con:element>
        </con:representation>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+xml;charset=UTF-8</con:mediaType>
          <con:status>400 422</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:request name="Request 1" id="b7af700d-f337-420a-a259-c81dc57861d2" mediaType="application/xml" postQueryString="false">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <entry key="encounter" value="" xmlns="http://eviware.com/soapui/config"/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>id</con:entry>
            <con:entry>encounter</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Odczyt-procedure" id="b376e01a-ab6e-4f77-9123-7d6202cfae7a" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>400</con:status>
          <con:params/>
          <con:element xmlns:proc="http://10.13.58.31/fhir/Procedure/">proc:Fault</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:proc="http://10.13.58.31/fhir/Procedure/">proc:Response</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+json; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:proc="http://10.13.58.31/fhir/Procedure/">proc:Response</con:element>
        </con:representation>
        <con:request name="Request 1" id="d9917b87-838d-460d-ad11-d3a6e8e2c686" mediaType="application/json">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>id</con:entry>
            <con:entry>encounter</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="PUT" id="e9167911-6e50-4f54-8e78-fb1a27dcf096" method="PUT">
        <con:settings/>
        <con:parameters>
          <con:parameter>
            <con:name>_id</con:name>
            <con:value/>
            <con:style>QUERY</con:style>
            <con:default/>
            <con:path xsi:nil="true"/>
            <con:description xsi:nil="true"/>
          </con:parameter>
        </con:parameters>
        <con:representation type="REQUEST">
          <con:mediaType>application/xml</con:mediaType>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Procedure</con:element>
        </con:representation>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>400 422</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:representation type="FAULT">
          <con:mediaType>application/json; charset=UTF-8</con:mediaType>
          <con:status>500</con:status>
          <con:params/>
          <con:element xmlns:enc="https://a2sus.ezdrowie.gov.pl/fhir/Encounter">enc:Fault</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Procedure</con:element>
        </con:representation>
        <con:request name="Request 1" id="2a48f02c-1168-40b8-be88-4ea15b940713" mediaType="application/xml" postQueryString="false">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:originalUri>https://a2sus.ezdrowie.gov.pl/fhir/Procedure/</con:originalUri>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Patient" path="/fhir/Patient/{id}" id="ee6cdf1a-9eb8-4012-9fd6-c7e0336e1e0e">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>id</con:name>
          <con:style>TEMPLATE</con:style>
        </con:parameter>
      </con:parameters>
      <con:method name="Zapis-patient" id="7f510a3e-608a-42f0-ae04-fbac3fc030a9" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+xml;charset=UTF-8</con:mediaType>
          <con:status>201</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Patient</con:element>
        </con:representation>
        <con:representation type="REQUEST">
          <con:mediaType>application/xml</con:mediaType>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Patient</con:element>
        </con:representation>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+xml;charset=UTF-8</con:mediaType>
          <con:status>400</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>0</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>0</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>0</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>0</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>0</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>0</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>0</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>0</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>0</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>0</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>0</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>0</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>0</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>0</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>0</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>0</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>0</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>0</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="FAULT">
          <con:mediaType>application/json; charset=UTF-8</con:mediaType>
          <con:status>500</con:status>
          <con:params/>
          <con:element xmlns:pat="https://t2sus.ezdrowie.gov.pl/fhir/Patient/">pat:Fault</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>201</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Patient</con:element>
        </con:representation>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>401</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>202</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:request name="Request 1" id="59b143aa-57cd-43f8-a8f8-037057f77a28" mediaType="application/xml" postQueryString="false">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>id</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="Odczyt-patient" id="8acc6007-6957-44b4-be5f-43c4a78825be" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>404</con:status>
          <con:params/>
          <con:element xmlns:pat="http://10.0.38.215/fhir/Patient">pat:Fault</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:pat="http://10.0.38.215/fhir/Patient">pat:Response</con:element>
        </con:representation>
        <con:representation type="FAULT">
          <con:mediaType>text/html;charset=utf-8</con:mediaType>
          <con:status>400</con:status>
          <con:params/>
          <con:element>html</con:element>
        </con:representation>
        <con:request name="Request 1" id="effaa948-da14-4415-8c9b-361a8e5731e2" mediaType="application/json">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>id</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Token" path="/token" id="c9febe1a-5b91-4940-8c78-a002bea54cac">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>client_assertion</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter>
          <con:name>grant_type</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter>
          <con:name>scope</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter>
          <con:name>client_assertion_type</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
      </con:parameters>
      <con:method name="token" id="66a7d124-ad72-4a28-a2c6-935fee3eb0b1" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:representation type="RESPONSE">
          <con:mediaType>application/json; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:tok="http://10.17.63.31/token">tok:Response</con:element>
        </con:representation>
        <con:representation type="REQUEST">
          <con:mediaType>application/x-www-form-urlencoded</con:mediaType>
          <con:params/>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>202</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>202</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>202</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>202</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="FAULT">
          <con:mediaType>application/json; charset=UTF-8</con:mediaType>
          <con:status>404 422 400 401 500</con:status>
          <con:params/>
          <con:element xmlns:tok="http://10.17.63.31/token">tok:Fault</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>202</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>202</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>202</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>202</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>202</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>202</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>202</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>202</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>202</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>202</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType xsi:nil="true"/>
          <con:status>202</con:status>
          <con:params/>
          <con:element>data</con:element>
        </con:representation>
        <con:request name="Pobierz token" id="4b1853cf-2758-4afa-a60f-b9c0402f0179" mediaType="application/json" postQueryString="false">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#UwierzytelnianieZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>client_assertion</con:entry>
            <con:entry>grant_type</con:entry>
            <con:entry>scope</con:entry>
            <con:entry>client_assertion_type</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Organization" path="/fhir/Organization" id="80095891-7d7a-4f4c-bc46-27b2177c9edf">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>identifier</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter>
          <con:name>pldate</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
      </con:parameters>
      <con:method name="Odczyt-organization" id="ca46dd74-83f1-4489-bc60-d89c05154629" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>400</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:request name="Odczyt-organization" id="873fb00e-615b-4020-af3a-9ee8833f9079" mediaType="application/json">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:originalUri>http://10.0.35.10/fhir/Organization</con:originalUri>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>identifier</con:entry>
            <con:entry>pldate</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Pracitioner" path="/fhir/Practitioner" id="072d2f6d-4212-4b5a-baad-9e6192d8e9cf">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>identifier</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
      </con:parameters>
      <con:method name="Odczyt-practicioner" id="b2270302-75aa-48c8-89ce-417975c291bd" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>404 400</con:status>
          <con:params/>
          <con:element xmlns:prac="http://10.13.58.31/fhir/Pracitioner">prac:Fault</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:prac="http://10.13.58.31/fhir/Pracitioner">prac:Response</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+json; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:prac="http://10.13.58.31/fhir/Pracitioner">prac:Response</con:element>
        </con:representation>
        <con:request name="Request 1" id="1c8dae92-429b-4c48-b58e-1d4a3d067d6b" mediaType="application/json">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>identifier</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Location" path="/fhir/Location" id="a5408268-65c7-4bab-906e-331a648893c0">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>identifier</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
      </con:parameters>
      <con:method name="Odczyt-location" id="5bb53187-5d9e-4c9a-8b1f-38b9ab83cf6d" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>400</con:status>
          <con:params/>
          <con:element xmlns:loc="http://10.13.58.31/fhir/Location">loc:Fault</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:loc="http://10.13.58.31/fhir/Location">loc:Response</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+json; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:loc="http://10.13.58.31/fhir/Location">loc:Response</con:element>
        </con:representation>
        <con:request name="Request 1" id="57988379-4ab3-4123-b2b2-95726cb2c919" mediaType="application/json">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>identifier</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="DocumentReference" path="/fhir/DocumentReference" id="e468149f-0df7-459c-bff7-bfbc5ae52674">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>plencounter</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
      </con:parameters>
      <con:method name="Odczyt-documentReference" id="aaf54697-3f31-4d6b-8f6a-90b2142019b7" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>400</con:status>
          <con:params/>
          <con:element xmlns:doc="http://10.13.58.31/fhir/DocumentReference">doc:Fault</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:doc="http://10.13.58.31/fhir/DocumentReference">doc:Response</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+json; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:doc="http://10.13.58.31/fhir/DocumentReference">doc:Response</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Bundle</con:element>
        </con:representation>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>500</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:request name="Request 1" id="e6a63927-91ca-4b8b-bbc1-168227a6e4e1" mediaType="application/json">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:originalUri>http://10.13.58.31/fhir/DocumentReference</con:originalUri>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>plencounter</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Observation" path="/fhir/Observation/{id}" id="7bf594ab-4f67-4bf9-8e39-4b7eedbdab43">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>id</con:name>
          <con:value/>
          <con:style>TEMPLATE</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
      </con:parameters>
      <con:method name="GET Observation" id="083087dc-9346-40b6-8858-c925a02487ea" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>401 400</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Observation</con:element>
        </con:representation>
        <con:request name="Request 1" id="777613dc-21fe-4cad-b901-eef290f8f520" mediaType="application/json">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:originalUri>http://10.0.50.10/fhir/Observation/</con:originalUri>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>id</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="POST Observation" id="3d4e9175-e4ed-4b73-b831-1c254554f086" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>401 500 400 422</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:representation type="REQUEST">
          <con:mediaType>application/xml</con:mediaType>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Observation</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>201</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Observation</con:element>
        </con:representation>
        <con:request name="Request 1" id="060f119d-bfe7-4ca7-8c93-065148c8732c" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>id</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="DELETE Observation" id="d94da717-416d-4879-8567-11c3bb2bcace" method="DELETE">
        <con:settings/>
        <con:parameters/>
        <con:representation type="REQUEST">
          <con:mediaType>application/xml</con:mediaType>
          <con:params/>
        </con:representation>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>401 400</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:representation type="REQUEST">
          <con:mediaType>application/json</con:mediaType>
          <con:params/>
        </con:representation>
        <con:request name="Request 1" id="8ccb4a17-6463-4b8e-9cd2-d9feba290187" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Immunization" path="/fhir/Immunization/{id}" id="b57594ab-b5b0-432c-80b2-f49ecb6b4f1a">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>id</con:name>
          <con:value>id</con:value>
          <con:style>TEMPLATE</con:style>
          <con:default>id</con:default>
        </con:parameter>
      </con:parameters>
      <con:method name="Odczyt - immunization" id="c2479b2c-e2c5-42ac-af21-7236626f8264" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="e20e54c4-1133-48fa-8096-084cdf54083d" mediaType="application/json">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
      <con:method name="Zapis-immunization" id="fef66876-d2af-4b2b-a218-3ddaeae24a46" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="1f3a0320-a2ba-40c7-ab38-22fe833d7cb7" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
      <con:method name="Anulowanie - immunization" id="c2479b2c-e2c5-42ac-af21-7236626f8264" method="DELETE">
        <con:settings/>
        <con:parameters/>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:representation type="REQUEST">
          <con:mediaType>application/json</con:mediaType>
          <con:params/>
        </con:representation>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>401 400 403</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:representation type="REQUEST">
          <con:mediaType>application/xml</con:mediaType>
          <con:params/>
        </con:representation>
        <con:request name="Request 1" id="e20e54c4-1133-48fa-8096-084cdf54083d" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
          </con:parameters>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Odczyt" path="/fhir/Claim/{id}" id="5e040d3b-da81-4658-9766-294b1c8e8709">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>id</con:name>
          <con:value/>
          <con:style>TEMPLATE</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter>
          <con:name>_id</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
      </con:parameters>
      <con:method name="Zapis" id="3baeff73-bfb2-450e-943c-fda2c495fded" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:representation type="FAULT">
          <con:mediaType>application/xml; charset=UTF-8</con:mediaType>
          <con:status>500</con:status>
          <con:params/>
          <con:element>faultstring</con:element>
        </con:representation>
        <con:representation type="REQUEST">
          <con:mediaType>application/xml</con:mediaType>
          <con:params/>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>201</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Claim</con:element>
        </con:representation>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>400 422</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:request name="Request 1" id="b2ec8be7-1707-4b3f-a0ea-b832b5892aa1" mediaType="application/xml" postQueryString="false">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
      <con:method name="Modyfikacja" id="be5df395-ccc2-4822-ad29-3bcca4feb105" method="PUT">
        <con:settings/>
        <con:parameters/>
        <con:representation type="REQUEST">
          <con:mediaType>application/xml</con:mediaType>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Claim</con:element>
        </con:representation>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>400</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:Claim</con:element>
        </con:representation>
        <con:request name="Request 1" id="5342e985-0180-42de-83af-10a800b07b60" mediaType="application/xml" postQueryString="false">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
      <con:method name="Anulowanie" id="4272121f-3dd3-4100-b474-edb8dec6bd87" method="DELETE">
        <con:settings/>
        <con:parameters/>
        <con:representation type="REQUEST">
          <con:mediaType>application/xml</con:mediaType>
          <con:params/>
        </con:representation>
        <con:representation type="FAULT">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>400 409 500</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>application/fhir+xml; charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:fhir="http://hl7.org/fhir">fhir:OperationOutcome</con:element>
        </con:representation>
        <con:request name="Request 1" id="d482eff9-d31d-4d57-b5fa-0863c4c661de" mediaType="application/xml" postQueryString="false">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
          </con:settings>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="Coverage" path="/fhir/Coverage/{id}" id="a91fa631-69c1-4552-9397-2af8db614a15">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>id</con:name>
          <con:value>id</con:value>
          <con:style>TEMPLATE</con:style>
          <con:default>id</con:default>
        </con:parameter>
      </con:parameters>
      <con:method name="Odczyt-Coverage" id="7f1ae09d-2f20-47ee-a112-373935f52af2" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="c42397bb-3ad3-45bc-b16d-c49c8fdc6d36" mediaType="application/json">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
      <con:method name="Zapis-Coverage" id="82c5b460-f9ff-47d6-abec-c0eeffe0d0f0" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="31bfe07d-81ee-47c7-be4f-9b739b85105a" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
      <con:method name="Anulowanie-coverage" id="938093da-8093-4fe9-97b8-c094a817f526" method="DELETE">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="b217015f-c3ca-4b9a-af29-1240357cb085" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:request>
      </con:method>
      <con:method name="Modyfikacja-Coverage" id="f8dcdbd9-f8e0-4773-bf58-6762f1b1c1cd" method="PUT">
        <con:settings/>
        <con:parameters/>
        <con:request name="Request 1" id="72995063-350c-4edb-a17f-1d6fd62cbc13" mediaType="application/json" postQueryString="false">
          <con:settings/>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
          </con:parameters>
        </con:request>
      </con:method>
    </con:resource>
  </con:interface>
  <con:interface xsi:type="con:WsdlInterface" id="bb9e0753-29f8-435e-b2f1-b58cc905a218" wsaVersion="NONE" name="GenerowanieTokenuSAMLWS" type="wsdl" bindingName="{http://csioz.gov.pl/p1/aut/ws/v1}GenerowanieTokenuSAMLWS" soapVersion="1_1" anonymous="optional" definition="wsdl/aut/GenerowanieTokenuSAML.wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <con:settings/>
    <con:definitionCache type="TEXT" rootPart="file:/C:/P1/p1-sgz-testy-systemowe-source/integrationTests/src/test/resources/soapUi/Projekt-testow-dla-integratorow/Projekt-testow-zdarzenia-medyczne/wsdl/aut/GenerowanieTokenuSAML.wsdl">
      <con:part>
        <con:url>file:/C:/P1/p1-sgz-testy-systemowe-source/integrationTests/src/test/resources/soapUi/Projekt-testow-dla-integratorow/Projekt-testow-zdarzenia-medyczne/wsdl/aut/GenerowanieTokenuSAML.wsdl</con:url>
        <con:content><![CDATA[<wsdl:definitions name="GenerowanieTokenuSAML" targetNamespace="http://csioz.gov.pl/p1/aut/ws/v1" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:tns="http://csioz.gov.pl/p1/aut/ws/v1" xmlns:wst="http://docs.oasis-open.org/ws-sx/ws-trust/200512/" xmlns:wsam="http://www.w3.org/2007/05/addressing/metadata">
  <wsdl:import location="../common/policies.wsdl" namespace="http://csioz.gov.pl/p1/wsp/v1"/>
  <wsdl:types>
    <xs:schema>
      <xs:import namespace="http://docs.oasis-open.org/ws-sx/ws-trust/200512/" schemaLocation="ws-trust-1.3.xsd"/>
      <xs:import namespace="urn:oasis:names:tc:SAML:2.0:assertion" schemaLocation="../common/saml-schema-assertion-2.0.xsd"/>
    </xs:schema>
  </wsdl:types>
  <wsdl:message name="RequestSecurityTokenMsg">
    <wsdl:part name="request" element="wst:RequestSecurityToken"/>
  </wsdl:message>
  <wsdl:message name="RequestSecurityTokenResponseCollectionMsg">
    <wsdl:part name="responseCollection" element="wst:RequestSecurityTokenResponseCollection"/>
  </wsdl:message>
  <wsdl:portType name="GenerowanieTokenuSAMLWS">
    <wsdl:operation name="generujToken">
      <wsdl:input name="RequestSecurityTokenMsg" message="tns:RequestSecurityTokenMsg" wsam:Action="http://docs.oasis-open.org/ws-sx/ws-trust/200512/RST/Issue"/>
      <wsdl:output name="RequestSecurityTokenResponseCollectionMsg" message="tns:RequestSecurityTokenResponseCollectionMsg" wsam:Action="http://docs.oasis-open.org/ws-sx/ws-trust/200512/RSTRC/IssueFinal"/>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="GenerowanieTokenuSAMLWS" type="tns:GenerowanieTokenuSAMLWS">
    <wsdl:documentation>Interfejs udostpnia operacj generowania tokenu SAML</wsdl:documentation>
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="generujToken">
      <soap:operation style="document"/>
      <wsdl:input name="RequestSecurityTokenMsg">
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output name="RequestSecurityTokenResponseCollectionMsg">
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="GenerowanieTokenuSAML">
    <wsdl:port name="GenerowanieTokenuSAMLWS" binding="tns:GenerowanieTokenuSAMLWS">
      <soap:address location="www.exampleLocation.com/Port1"/>
    </wsdl:port>
  </wsdl:service>
</wsdl:definitions>]]></con:content>
        <con:type>http://schemas.xmlsoap.org/wsdl/</con:type>
      </con:part>
      <con:part>
        <con:url>file:\C:\P1\p1-sgz-testy-systemowe-source\integrationTests\src\test\resources\soapUi\Projekt-testow-dla-integratorow\Projekt-testow-zdarzenia-medyczne\wsdl\common\policies.wsdl</con:url>
        <con:content><![CDATA[<wsdl:definitions targetNamespace="http://csioz.gov.pl/p1/wsp/v1" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/">
  <wsp:Policy wsu:Id="wss_ds_policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
    <wsp:ExactlyOne>
      <wsp:All>
        <sp:AsymmetricBinding xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
          <wsp:Policy>
            <sp:InitiatorToken>
              <wsp:Policy>
                <sp:X509Token sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/AlwaysToRecipient">
                  <wsp:Policy>
                    <sp:WssX509V3Token10/>
                  </wsp:Policy>
                </sp:X509Token>
              </wsp:Policy>
            </sp:InitiatorToken>
            <sp:RecipientToken>
              <wsp:Policy>
                <sp:X509Token sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/Never">
                  <wsp:Policy>
                    <sp:WssX509V3Token10/>
                  </wsp:Policy>
                </sp:X509Token>
              </wsp:Policy>
            </sp:RecipientToken>
            <sp:AlgorithmSuite>
              <wsp:Policy>
                <sp:Basic256Sha256Rsa15/>
              </wsp:Policy>
            </sp:AlgorithmSuite>
            <sp:Layout>
              <wsp:Policy>
                <sp:Lax/>
              </wsp:Policy>
            </sp:Layout>
            <sp:OnlySignEntireHeadersAndBody/>
          </wsp:Policy>
        </sp:AsymmetricBinding>
        <sp:Wss10 xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
          <wsp:Policy>
            <sp:MustSupportRefKeyIdentifier/>
            <sp:MustSupportRefIssuerSerial/>
          </wsp:Policy>
        </sp:Wss10>
        <sp:SignedParts xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
          <sp:Body/>
        </sp:SignedParts>
      </wsp:All>
    </wsp:ExactlyOne>
  </wsp:Policy>
  <wsp:Policy wsu:Id="wss_ds_assertion_policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
    <wsp:ExactlyOne>
      <wsp:All>
        <sp:AsymmetricBinding xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
          <wsp:Policy>
            <sp:InitiatorToken>
              <wsp:Policy>
                <sp:X509Token sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/AlwaysToRecipient">
                  <wsp:Policy>
                    <sp:WssX509V3Token10/>
                  </wsp:Policy>
                </sp:X509Token>
              </wsp:Policy>
            </sp:InitiatorToken>
            <sp:RecipientToken>
              <wsp:Policy>
                <sp:X509Token sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/Never">
                  <wsp:Policy>
                    <sp:WssX509V3Token10/>
                  </wsp:Policy>
                </sp:X509Token>
              </wsp:Policy>
            </sp:RecipientToken>
            <sp:AlgorithmSuite>
              <wsp:Policy>
                <sp:Basic256Sha256Rsa15/>
              </wsp:Policy>
            </sp:AlgorithmSuite>
            <sp:Layout>
              <wsp:Policy>
                <sp:Lax/>
              </wsp:Policy>
            </sp:Layout>
            <sp:OnlySignEntireHeadersAndBody/>
          </wsp:Policy>
        </sp:AsymmetricBinding>
        <sp:SupportingTokens xmlns:sp="http://schemas.xmlsoap.org/ws/2005/07/securitypolicy">
          <wsp:Policy>
            <sp:IssuedToken sp:IncludeToken="http://schemas.xmlsoap.org/ws/2005/07/securitypolicy/IncludeToken/AlwaysToRecipient">
              <sp:RequestSecurityTokenTemplate>
                <t:TokenType xmlns:t="http://schemas.xmlsoap.org/ws/2005/02/trust">urn:oasis:names:tc:SAML:2.0:assertion</t:TokenType>
              </sp:RequestSecurityTokenTemplate>
            </sp:IssuedToken>
          </wsp:Policy>
        </sp:SupportingTokens>
        <sp:Wss10 xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
          <wsp:Policy>
            <sp:MustSupportRefKeyIdentifier/>
            <sp:MustSupportRefIssuerSerial/>
          </wsp:Policy>
        </sp:Wss10>
        <sp:SignedParts xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
          <sp:Body/>
        </sp:SignedParts>
      </wsp:All>
    </wsp:ExactlyOne>
  </wsp:Policy>
  <wsp:Policy wsu:Id="wss_assertion_policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
    <wsp:ExactlyOne>
      <wsp:All>
        <sp:AsymmetricBinding xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
          <wsp:Policy>
            <sp:InitiatorToken>
              <wsp:Policy>
                <wsp:All>
                  <sp:SamlToken sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/AlwaysToRecipient">
                    <wsp:Policy>
                      <sp:WssSamlV20Token11/>
                    </wsp:Policy>
                  </sp:SamlToken>
                </wsp:All>
              </wsp:Policy>
            </sp:InitiatorToken>
            <sp:RecipientToken>
              <wsp:Policy>
                <wsp:All>
                  <sp:SamlToken sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/Never">
                    <wsp:Policy>
                      <sp:WssSamlV20Token11/>
                    </wsp:Policy>
                  </sp:SamlToken>
                </wsp:All>
              </wsp:Policy>
            </sp:RecipientToken>
            <sp:AlgorithmSuite>
              <wsp:Policy>
                <sp:Basic256Sha256Rsa15/>
              </wsp:Policy>
            </sp:AlgorithmSuite>
          </wsp:Policy>
        </sp:AsymmetricBinding>
      </wsp:All>
    </wsp:ExactlyOne>
  </wsp:Policy>
</wsdl:definitions>]]></con:content>
        <con:type>http://schemas.xmlsoap.org/wsdl/</con:type>
      </con:part>
      <con:part>
        <con:url>file:\C:\P1\p1-sgz-testy-systemowe-source\integrationTests\src\test\resources\soapUi\Projekt-testow-dla-integratorow\Projekt-testow-zdarzenia-medyczne\wsdl\aut\ws-trust-1.3.xsd</con:url>
        <con:content><![CDATA[<!--OASIS takes no position regarding the validity or scope of any intellectual property or other rights that might be claimed to pertain to the implementation or use of the technology described in this document or the extent to which any license under such rights might or might not be available; neither does it represent that it has made any effort to identify any such rights. Information on OASIS's procedures with respect to rights in OASIS specifications can be found at the OASIS website. Copies of claims of rights made available for publication and any assurances of licenses to be made available, or the result of an attempt made to obtain a general license or permission for the use of such proprietary rights by implementors or users of this specification, can be obtained from the OASIS Executive Director.
OASIS invites any interested party to bring to its attention any copyrights, patents or patent applications, or other proprietary rights which may cover technology that may be required to implement this specification. Please address the information to the OASIS Executive Director.
Copyright  OASIS Open 2002-2006. All Rights Reserved.
This document and translations of it may be copied and furnished to others, and derivative works that comment on or otherwise explain it or assist in its implementation may be prepared, copied, published and distributed, in whole or in part, without restriction of any kind, provided that the above copyright notice and this paragraph are included on all such copies and derivative works. However, this document itself does not be modified in any way, such as by removing the copyright notice or references to OASIS, except as needed for the purpose of developing OASIS specifications, in which case the procedures for copyrights defined in the OASIS Intellectual Property Rights document must be followed, or as required to translate it into languages other than English.
The limited permissions granted above are perpetual and will not be revoked by OASIS or its successors or assigns.
This document and the information contained herein is provided on an AS IS basis and OASIS DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.-->
<xs:schema targetNamespace="http://docs.oasis-open.org/ws-sx/ws-trust/200512/" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy" xmlns:wsa="http://www.w3.org/2005/08/addressing" xmlns:wst="http://docs.oasis-open.org/ws-sx/ws-trust/200512/">
  <xs:import namespace="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" schemaLocation="../common/oasis-200401-wss-wssecurity-secext-1.0.xsd"/>
  <xs:import namespace="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" schemaLocation="../common/oasis-200401-wss-wssecurity-utility-1.0.xsd"/>
  <xs:import namespace="http://schemas.xmlsoap.org/ws/2004/09/policy" schemaLocation="../common/ws-policy.xsd"/>
  <xs:import namespace="http://www.w3.org/2005/08/addressing" schemaLocation="../common/ws-addr.xsd"/>
  <!--WS-Trust Section 3.1-->
  <xs:element name="RequestSecurityToken" type="wst:RequestSecurityTokenType"/>
  <xs:complexType name="RequestSecurityTokenType">
    <xs:annotation>
      <xs:documentation><![CDATA[Actual content model is non-deterministic, hence wildcard. The following shows intended content model:

        <xs:element ref='wst:TokenType' minOccurs='0' />
        <xs:element ref='wst:RequestType' />
        <xs:element ref='wsp:AppliesTo' minOccurs='0' />
        <xs:element ref='wst:Claims' minOccurs='0' />
        <xs:element ref='wst:Entropy' minOccurs='0' />
        <xs:element ref='wst:Lifetime' minOccurs='0' />
        <xs:element ref='wst:AllowPostdating' minOccurs='0' />
        <xs:element ref='wst:Renewing' minOccurs='0' />
        <xs:element ref='wst:OnBehalfOf' minOccurs='0' />
        <xs:element ref='wst:Issuer' minOccurs='0' />
        <xs:element ref='wst:AuthenticationType' minOccurs='0' />
        <xs:element ref='wst:KeyType' minOccurs='0' />
        <xs:element ref='wst:KeySize' minOccurs='0' />
        <xs:element ref='wst:SignatureAlgorithm' minOccurs='0' />
        <xs:element ref='wst:Encryption' minOccurs='0' />
        <xs:element ref='wst:EncryptionAlgorithm' minOccurs='0' />
        <xs:element ref='wst:CanonicalizationAlgorithm' minOccurs='0' />
        <xs:element ref='wst:ProofEncryption' minOccurs='0' />
        <xs:element ref='wst:UseKey' minOccurs='0' />
        <xs:element ref='wst:SignWith' minOccurs='0' />
        <xs:element ref='wst:EncryptWith' minOccurs='0' />
        <xs:element ref='wst:DelegateTo' minOccurs='0' />
        <xs:element ref='wst:Forwardable' minOccurs='0' />
        <xs:element ref='wst:Delegatable' minOccurs='0' />
        <xs:element ref='wsp:Policy' minOccurs='0' />
        <xs:element ref='wsp:PolicyReference' minOccurs='0' />
        <xs:any namespace='##other' processContents='lax' minOccurs='0' maxOccurs='unbounded' />]]]]>><![CDATA[</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:any namespace="##any" processContents="lax" minOccurs="0" maxOccurs="unbounded"/>
    </xs:sequence>
    <xs:attribute name="Context" type="xs:anyURI" use="optional"/>
    <xs:anyAttribute namespace="##other" processContents="lax"/>
  </xs:complexType>
  <xs:element name="TokenType" type="xs:anyURI"/>
  <xs:element name="RequestType" type="wst:RequestTypeOpenEnum"/>
  <xs:simpleType name="RequestTypeOpenEnum">
    <xs:union memberTypes="wst:RequestTypeEnum xs:anyURI"/>
  </xs:simpleType>
  <xs:simpleType name="RequestTypeEnum">
    <xs:restriction base="xs:anyURI">
      <xs:enumeration value="http://docs.oasis-open.org/ws-sx/ws-trust/200512/Issue"/>
      <xs:enumeration value="http://docs.oasis-open.org/ws-sx/ws-trust/200512/Renew"/>
      <xs:enumeration value="http://docs.oasis-open.org/ws-sx/ws-trust/200512/Cancel"/>
      <xs:enumeration value="http://docs.oasis-open.org/ws-sx/ws-trust/200512/STSCancel"/>
      <xs:enumeration value="http://docs.oasis-open.org/ws-sx/ws-trust/200512/Validate"/>
    </xs:restriction>
  </xs:simpleType>
  <!--WS-Trust Section 3.2-->
  <xs:element name="RequestSecurityTokenResponse" type="wst:RequestSecurityTokenResponseType"/>
  <xs:complexType name="RequestSecurityTokenResponseType">
    <xs:annotation>
      <xs:documentation><![CDATA[Actual content model is non-deterministic, hence wildcard. The following shows intended content model:

        <xs:element ref='wst:TokenType' minOccurs='0' />
        <xs:element ref='wst:RequestType' />
        <xs:element ref='wst:RequestedSecurityToken'  minOccurs='0' />
        <xs:element ref='wsp:AppliesTo' minOccurs='0' />
        <xs:element ref='wst:RequestedAttachedReference' minOccurs='0' />
        <xs:element ref='wst:RequestedUnattachedReference' minOccurs='0' />
        <xs:element ref='wst:RequestedProofToken' minOccurs='0' />
        <xs:element ref='wst:Entropy' minOccurs='0' />
        <xs:element ref='wst:Lifetime' minOccurs='0' />
        <xs:element ref='wst:Status' minOccurs='0' />
        <xs:element ref='wst:AllowPostdating' minOccurs='0' />
        <xs:element ref='wst:Renewing' minOccurs='0' />
        <xs:element ref='wst:OnBehalfOf' minOccurs='0' />
        <xs:element ref='wst:Issuer' minOccurs='0' />
        <xs:element ref='wst:AuthenticationType' minOccurs='0' />
        <xs:element ref='wst:Authenticator' minOccurs='0' />
        <xs:element ref='wst:KeyType' minOccurs='0' />
        <xs:element ref='wst:KeySize' minOccurs='0' />
        <xs:element ref='wst:SignatureAlgorithm' minOccurs='0' />
        <xs:element ref='wst:Encryption' minOccurs='0' />
        <xs:element ref='wst:EncryptionAlgorithm' minOccurs='0' />
        <xs:element ref='wst:CanonicalizationAlgorithm' minOccurs='0' />
        <xs:element ref='wst:ProofEncryption' minOccurs='0' />
        <xs:element ref='wst:UseKey' minOccurs='0' />
        <xs:element ref='wst:SignWith' minOccurs='0' />
        <xs:element ref='wst:EncryptWith' minOccurs='0' />
        <xs:element ref='wst:DelegateTo' minOccurs='0' />
        <xs:element ref='wst:Forwardable' minOccurs='0' />
        <xs:element ref='wst:Delegatable' minOccurs='0' />
        <xs:element ref='wsp:Policy' minOccurs='0' />
        <xs:element ref='wsp:PolicyReference' minOccurs='0' />
        <xs:any namespace='##other' processContents='lax' minOccurs='0' maxOccurs='unbounded' />]]]]>><![CDATA[</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:any namespace="##any" processContents="lax" minOccurs="0" maxOccurs="unbounded"/>
    </xs:sequence>
    <xs:attribute name="Context" type="xs:anyURI" use="optional"/>
    <xs:anyAttribute namespace="##other" processContents="lax"/>
  </xs:complexType>
  <xs:element name="RequestedSecurityToken" type="wst:RequestedSecurityTokenType"/>
  <xs:complexType name="RequestedSecurityTokenType">
    <xs:sequence>
      <xs:any namespace="##any" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
  <!--WS-Trust Section 3.3-->
  <xs:element name="BinarySecret" type="wst:BinarySecretType"/>
  <xs:complexType name="BinarySecretType">
    <xs:simpleContent>
      <xs:extension base="xs:base64Binary">
        <xs:attribute name="Type" type="wst:BinarySecretTypeOpenEnum" use="optional"/>
        <xs:anyAttribute namespace="##other" processContents="lax"/>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:simpleType name="BinarySecretTypeEnum">
    <xs:restriction base="xs:anyURI">
      <xs:enumeration value="http://docs.oasis-open.org/ws-sx/ws-trust/200512/AsymmetricKey"/>
      <xs:enumeration value="http://docs.oasis-open.org/ws-sx/ws-trust/200512/SymmetricKey"/>
      <xs:enumeration value="http://docs.oasis-open.org/ws-sx/ws-trust/200512/Nonce"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="BinarySecretTypeOpenEnum">
    <xs:union memberTypes="wst:BinarySecretTypeEnum xs:anyURI"/>
  </xs:simpleType>
  <!--WS-Trust Section 4.1-->
  <xs:element name="Claims" type="wst:ClaimsType"/>
  <xs:complexType name="ClaimsType">
    <xs:sequence>
      <xs:any namespace="##any" processContents="lax" minOccurs="0" maxOccurs="unbounded"/>
    </xs:sequence>
    <xs:attribute name="Dialect" type="xs:anyURI" use="optional"/>
    <xs:anyAttribute namespace="##other" processContents="lax"/>
  </xs:complexType>
  <xs:element name="Entropy" type="wst:EntropyType"/>
  <xs:complexType name="EntropyType">
    <xs:sequence>
      <xs:any namespace="##any" processContents="lax" minOccurs="0" maxOccurs="unbounded"/>
    </xs:sequence>
    <xs:anyAttribute namespace="##other" processContents="lax"/>
  </xs:complexType>
  <xs:element name="Lifetime" type="wst:LifetimeType"/>
  <xs:complexType name="LifetimeType">
    <xs:sequence>
      <xs:element ref="wsu:Created" minOccurs="0"/>
      <xs:element ref="wsu:Expires" minOccurs="0"/>
    </xs:sequence>
  </xs:complexType>
  <!--WS-Trust Section 4.2-->
  <xs:element name="RequestSecurityTokenCollection" type="wst:RequestSecurityTokenCollectionType"/>
  <xs:complexType name="RequestSecurityTokenCollectionType">
    <xs:annotation>
      <xs:documentation>The RequestSecurityTokenCollection (RSTC) element is used to provide multiple RST requests. 
        One or more RSTR elements in an RSTRC element are returned in the response to the RequestSecurityTokenCollection.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="RequestSecurityToken" type="wst:RequestSecurityTokenType" minOccurs="2" maxOccurs="unbounded"/>
    </xs:sequence>
  </xs:complexType>
  <xs:element name="RequestSecurityTokenResponseCollection" type="wst:RequestSecurityTokenResponseCollectionType"/>
  <xs:complexType name="RequestSecurityTokenResponseCollectionType">
    <xs:annotation>
      <xs:documentation>The &lt;wst:RequestSecurityTokenResponseCollection> element (RSTRC) MUST be used to return a security token or 
        response to a security token request on the final response.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element ref="wst:RequestSecurityTokenResponse" minOccurs="1" maxOccurs="unbounded"/>
    </xs:sequence>
    <xs:anyAttribute namespace="##other" processContents="lax"/>
  </xs:complexType>
  <!--WS-Trust Section 4.3-->
  <xs:element name="ComputedKey" type="wst:ComputedKeyOpenEnum"/>
  <xs:simpleType name="ComputedKeyEnum">
    <xs:restriction base="xs:anyURI">
      <xs:enumeration value="http://docs.oasis-open.org/ws-sx/ws-trust/200512/CK/PSHA1"/>
      <xs:enumeration value="http://docs.oasis-open.org/ws-sx/ws-trust/200512/CK/HASH"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ComputedKeyOpenEnum">
    <xs:union memberTypes="wst:ComputedKeyEnum xs:anyURI"/>
  </xs:simpleType>
  <xs:element name="RequestedAttachedReference" type="wst:RequestedReferenceType"/>
  <xs:element name="RequestedUnattachedReference" type="wst:RequestedReferenceType"/>
  <xs:complexType name="RequestedReferenceType">
    <xs:sequence>
      <xs:element ref="wsse:SecurityTokenReference"/>
    </xs:sequence>
  </xs:complexType>
  <xs:element name="RequestedProofToken" type="wst:RequestedProofTokenType"/>
  <xs:complexType name="RequestedProofTokenType">
    <xs:sequence>
      <xs:any namespace="##any" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
  <!--WS-Trust Section 6.4-->
  <xs:element name="IssuedTokens" type="wst:RequestSecurityTokenResponseCollectionType"/>
  <!--WS-Trust Section 5-->
  <xs:element name="RenewTarget" type="wst:RenewTargetType"/>
  <xs:complexType name="RenewTargetType">
    <xs:sequence>
      <xs:any namespace="##other" minOccurs="1" maxOccurs="1"/>
    </xs:sequence>
  </xs:complexType>
  <xs:element name="AllowPostdating" type="wst:AllowPostdatingType"/>
  <xs:complexType name="AllowPostdatingType"/>
  <xs:element name="Renewing" type="wst:RenewingType"/>
  <xs:complexType name="RenewingType">
    <xs:attribute name="Allow" type="xs:boolean" use="optional"/>
    <xs:attribute name="OK" type="xs:boolean" use="optional"/>
  </xs:complexType>
  <!--WS-Trust Section 6-->
  <xs:element name="CancelTarget" type="wst:CancelTargetType"/>
  <xs:complexType name="CancelTargetType">
    <xs:sequence>
      <xs:any namespace="##other" minOccurs="1" maxOccurs="1"/>
    </xs:sequence>
  </xs:complexType>
  <xs:element name="RequestedTokenCancelled" type="wst:RequestedTokenCancelledType"/>
  <xs:complexType name="RequestedTokenCancelledType"/>
  <!--WS-Trust Section 7-->
  <xs:element name="ValidateTarget" type="wst:ValidateTargetType"/>
  <xs:complexType name="ValidateTargetType">
    <xs:sequence>
      <xs:any namespace="##other" minOccurs="1" maxOccurs="1"/>
    </xs:sequence>
  </xs:complexType>
  <xs:element name="Status" type="wst:StatusType"/>
  <xs:complexType name="StatusType">
    <xs:sequence>
      <xs:element name="Code" type="wst:StatusCodeOpenEnum"/>
      <xs:element name="Reason" type="xs:string" minOccurs="0"/>
    </xs:sequence>
  </xs:complexType>
  <xs:simpleType name="StatusCodeEnum">
    <xs:restriction base="xs:anyURI">
      <xs:enumeration value="http://docs.oasis-open.org/ws-sx/ws-trust/200512/status/valid"/>
      <xs:enumeration value="http://docs.oasis-open.org/ws-sx/ws-trust/200512/status/invalid"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="StatusCodeOpenEnum">
    <xs:union memberTypes="wst:StatusCodeEnum xs:anyURI"/>
  </xs:simpleType>
  <!--WS-Trust Section 8.2-->
  <xs:element name="SignChallenge" type="wst:SignChallengeType"/>
  <xs:element name="SignChallengeResponse" type="wst:SignChallengeType"/>
  <xs:complexType name="SignChallengeType">
    <xs:sequence>
      <xs:element ref="wst:Challenge"/>
      <xs:any namespace="##any" processContents="lax" minOccurs="0" maxOccurs="unbounded"/>
    </xs:sequence>
    <xs:anyAttribute namespace="##any" processContents="lax"/>
  </xs:complexType>
  <xs:element name="Challenge" type="xs:string"/>
  <!--WS-Trust Section 8.3-->
  <xs:element name="BinaryExchange" type="wst:BinaryExchangeType"/>
  <xs:complexType name="BinaryExchangeType">
    <xs:simpleContent>
      <xs:extension base="xs:string">
        <xs:attribute name="ValueType" type="xs:anyURI" use="required"/>
        <xs:attribute name="EncodingType" type="xs:anyURI" use="required"/>
        <xs:anyAttribute namespace="##other" processContents="lax"/>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <!--WS-Trust Section 8.4-->
  <xs:element name="RequestKET" type="wst:RequestKETType"/>
  <xs:complexType name="RequestKETType"/>
  <xs:element name="KeyExchangeToken" type="wst:KeyExchangeTokenType"/>
  <xs:complexType name="KeyExchangeTokenType">
    <xs:sequence>
      <xs:any namespace="##any" processContents="lax" minOccurs="0" maxOccurs="unbounded"/>
    </xs:sequence>
  </xs:complexType>
  <!--WS-Trust Section 8.9-->
  <xs:element name="Authenticator" type="wst:AuthenticatorType"/>
  <xs:complexType name="AuthenticatorType">
    <xs:sequence>
      <xs:element ref="wst:CombinedHash" minOccurs="0"/>
      <xs:any namespace="##other" processContents="lax" minOccurs="0" maxOccurs="unbounded"/>
    </xs:sequence>
  </xs:complexType>
  <xs:element name="CombinedHash" type="xs:base64Binary"/>
  <!--WS-Trust Section 9.1-->
  <xs:element name="OnBehalfOf" type="wst:OnBehalfOfType"/>
  <xs:complexType name="OnBehalfOfType">
    <xs:sequence>
      <xs:any namespace="##any" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
  <xs:element name="Issuer" type="wsa:EndpointReferenceType"/>
  <!--WS-Trust Section 9.2-->
  <xs:element name="AuthenticationType" type="xs:anyURI"/>
  <xs:element name="KeyType" type="wst:KeyTypeOpenEnum"/>
  <xs:simpleType name="KeyTypeEnum">
    <xs:restriction base="xs:anyURI">
      <xs:enumeration value="http://docs.oasis-open.org/ws-sx/ws-trust/200512/PublicKey"/>
      <xs:enumeration value="http://docs.oasis-open.org/ws-sx/ws-trust/200512/SymmetricKey"/>
      <xs:enumeration value="http://docs.oasis-open.org/wssx/wstrust/200512/Bearer"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="KeyTypeOpenEnum">
    <xs:union memberTypes="wst:KeyTypeEnum xs:anyURI"/>
  </xs:simpleType>
  <xs:element name="KeySize" type="xs:unsignedInt"/>
  <xs:element name="SignatureAlgorithm" type="xs:anyURI"/>
  <xs:element name="EncryptionAlgorithm" type="xs:anyURI"/>
  <xs:element name="CanonicalizationAlgorithm" type="xs:anyURI"/>
  <xs:element name="ComputedKeyAlgorithm" type="xs:anyURI"/>
  <xs:element name="Encryption" type="wst:EncryptionType"/>
  <xs:complexType name="EncryptionType">
    <xs:sequence>
      <xs:any namespace="##any" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
  <xs:element name="ProofEncryption" type="wst:ProofEncryptionType"/>
  <xs:complexType name="ProofEncryptionType">
    <xs:sequence>
      <xs:any namespace="##any" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
  <xs:element name="UseKey" type="wst:UseKeyType"/>
  <xs:complexType name="UseKeyType">
    <xs:sequence>
      <xs:any namespace="##any" processContents="lax" minOccurs="0"/>
    </xs:sequence>
    <xs:attribute name="Sig" type="xs:anyURI" use="optional"/>
  </xs:complexType>
  <xs:element name="KeyWrapAlgorithm" type="xs:anyURI"/>
  <xs:element name="SignWith" type="xs:anyURI"/>
  <xs:element name="EncryptWith" type="xs:anyURI"/>
  <!--WS-Trust Section 9.3-->
  <xs:element name="DelegateTo" type="wst:DelegateToType"/>
  <xs:complexType name="DelegateToType">
    <xs:sequence>
      <xs:any namespace="##any" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
  <xs:element name="Forwardable" type="xs:boolean"/>
  <xs:element name="Delegatable" type="xs:boolean"/>
  <!--WS-Trust Section 9.5-->
  <xs:element name="Participants" type="wst:ParticipantsType"/>
  <xs:complexType name="ParticipantsType">
    <xs:sequence>
      <xs:element name="Primary" type="wst:ParticipantType" minOccurs="0"/>
      <xs:element name="Participant" type="wst:ParticipantType" minOccurs="0" maxOccurs="unbounded"/>
      <xs:any namespace="##other" processContents="lax" minOccurs="0" maxOccurs="unbounded"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ParticipantType">
    <xs:sequence>
      <xs:any namespace="##any" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content>
        <con:type>http://www.w3.org/2001/XMLSchema</con:type>
      </con:part>
      <con:part>
        <con:url>file:\C:\P1\p1-sgz-testy-systemowe-source\integrationTests\src\test\resources\soapUi\Projekt-testow-dla-integratorow\Projekt-testow-zdarzenia-medyczne\wsdl\common\oasis-200401-wss-wssecurity-secext-1.0.xsd</con:url>
        <con:content><![CDATA[<!--OASIS takes no position regarding the validity or scope of any intellectual property or other rights that might be claimed to pertain to the implementation or use of the technology described in this document or the extent to which any license under such rights might or might not be available; neither does it represent that it has made any effort to identify any such rights. Information on OASIS's procedures with respect to rights in OASIS specifications can be found at the OASIS website. Copies of claims of rights made available for publication and any assurances of licenses to be made available, or the result of an attempt made to obtain a general license or permission for the use of such proprietary rights by implementors or users of this specification, can be obtained from the OASIS Executive Director.
OASIS invites any interested party to bring to its attention any copyrights, patents or patent applications, or other proprietary rights which may cover technology that may be required to implement this specification. Please address the information to the OASIS Executive Director.
Copyright  OASIS Open 2002-2004. All Rights Reserved.
This document and translations of it may be copied and furnished to others, and derivative works that comment on or otherwise explain it or assist in its implementation may be prepared, copied, published and distributed, in whole or in part, without restriction of any kind, provided that the above copyright notice and this paragraph are included on all such copies and derivative works. However, this document itself does not be modified in any way, such as by removing the copyright notice or references to OASIS, except as needed for the purpose of developing OASIS specifications, in which case the procedures for copyrights defined in the OASIS Intellectual Property Rights document must be followed, or as required to translate it into languages other than English.
The limited permissions granted above are perpetual and will not be revoked by OASIS or its successors or assigns.
This document and the information contained herein is provided on an AS IS basis and OASIS DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.-->
<xsd:schema targetNamespace="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" elementFormDefault="qualified" attributeFormDefault="unqualified" blockDefault="#all" version="0.2" xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
  <xsd:import namespace="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" schemaLocation="../common/oasis-200401-wss-wssecurity-utility-1.0.xsd"/>
  <xsd:import namespace="http://www.w3.org/XML/1998/namespace" schemaLocation="../common/xml.xsd"/>
  <xsd:import namespace="http://www.w3.org/2000/09/xmldsig#" schemaLocation="../common/xmldsig-core-schema.xsd"/>
  <xsd:complexType name="AttributedString">
    <xsd:annotation>
      <xsd:documentation>This type represents an element with arbitrary attributes.</xsd:documentation>
    </xsd:annotation>
    <xsd:simpleContent>
      <xsd:extension base="xsd:string">
        <xsd:attribute ref="wsu:Id"/>
        <xsd:anyAttribute namespace="##other" processContents="lax"/>
      </xsd:extension>
    </xsd:simpleContent>
  </xsd:complexType>
  <xsd:complexType name="PasswordString">
    <xsd:annotation>
      <xsd:documentation>This type is used for password elements per Section 4.1.</xsd:documentation>
    </xsd:annotation>
    <xsd:simpleContent>
      <xsd:extension base="wsse:AttributedString">
        <xsd:attribute name="Type" type="xsd:anyURI"/>
      </xsd:extension>
    </xsd:simpleContent>
  </xsd:complexType>
  <xsd:complexType name="EncodedString">
    <xsd:annotation>
      <xsd:documentation>This type is used for elements containing stringified binary data.</xsd:documentation>
    </xsd:annotation>
    <xsd:simpleContent>
      <xsd:extension base="wsse:AttributedString">
        <xsd:attribute name="EncodingType" type="xsd:anyURI"/>
      </xsd:extension>
    </xsd:simpleContent>
  </xsd:complexType>
  <xsd:complexType name="UsernameTokenType">
    <xsd:annotation>
      <xsd:documentation>This type represents a username token per Section 4.1</xsd:documentation>
    </xsd:annotation>
    <xsd:sequence>
      <xsd:element name="Username" type="wsse:AttributedString"/>
      <xsd:any processContents="lax" minOccurs="0" maxOccurs="unbounded"/>
    </xsd:sequence>
    <xsd:attribute ref="wsu:Id"/>
    <xsd:anyAttribute namespace="##other" processContents="lax"/>
  </xsd:complexType>
  <xsd:complexType name="BinarySecurityTokenType">
    <xsd:annotation>
      <xsd:documentation>A security token that is encoded in binary</xsd:documentation>
    </xsd:annotation>
    <xsd:simpleContent>
      <xsd:extension base="wsse:EncodedString">
        <xsd:attribute name="ValueType" type="xsd:anyURI"/>
      </xsd:extension>
    </xsd:simpleContent>
  </xsd:complexType>
  <xsd:complexType name="KeyIdentifierType">
    <xsd:annotation>
      <xsd:documentation>A security token key identifier</xsd:documentation>
    </xsd:annotation>
    <xsd:simpleContent>
      <xsd:extension base="wsse:EncodedString">
        <xsd:attribute name="ValueType" type="xsd:anyURI"/>
      </xsd:extension>
    </xsd:simpleContent>
  </xsd:complexType>
  <xsd:simpleType name="tUsage">
    <xsd:annotation>
      <xsd:documentation>Typedef to allow a list of usages (as URIs).</xsd:documentation>
    </xsd:annotation>
    <xsd:list itemType="xsd:anyURI"/>
  </xsd:simpleType>
  <xsd:attribute name="Usage" type="tUsage">
    <xsd:annotation>
      <xsd:documentation>This global attribute is used to indicate the usage of a referenced or indicated token within the containing context</xsd:documentation>
    </xsd:annotation>
  </xsd:attribute>
  <xsd:complexType name="ReferenceType">
    <xsd:annotation>
      <xsd:documentation>This type represents a reference to an external security token.</xsd:documentation>
    </xsd:annotation>
    <xsd:attribute name="URI" type="xsd:anyURI"/>
    <xsd:attribute name="ValueType" type="xsd:anyURI"/>
    <xsd:anyAttribute namespace="##other" processContents="lax"/>
  </xsd:complexType>
  <xsd:complexType name="EmbeddedType">
    <xsd:annotation>
      <xsd:documentation>This type represents a reference to an embedded security token.</xsd:documentation>
    </xsd:annotation>
    <xsd:choice minOccurs="0" maxOccurs="unbounded">
      <xsd:any processContents="lax"/>
    </xsd:choice>
    <xsd:attribute name="ValueType" type="xsd:anyURI"/>
    <xsd:anyAttribute namespace="##other" processContents="lax"/>
  </xsd:complexType>
  <xsd:complexType name="SecurityTokenReferenceType">
    <xsd:annotation>
      <xsd:documentation>This type is used reference a security token.</xsd:documentation>
    </xsd:annotation>
    <xsd:choice minOccurs="0" maxOccurs="unbounded">
      <xsd:any processContents="lax"/>
    </xsd:choice>
    <xsd:attribute ref="wsu:Id"/>
    <xsd:attribute ref="wsse:Usage"/>
    <xsd:anyAttribute namespace="##other" processContents="lax"/>
  </xsd:complexType>
  <xsd:complexType name="SecurityHeaderType">
    <xsd:annotation>
      <xsd:documentation>This complexType defines header block to use for security-relevant data directed at a specific SOAP actor.</xsd:documentation>
    </xsd:annotation>
    <xsd:sequence>
      <xsd:any processContents="lax" minOccurs="0" maxOccurs="unbounded">
        <xsd:annotation>
          <xsd:documentation>The use of "any" is to allow extensibility and different forms of security data.</xsd:documentation>
        </xsd:annotation>
      </xsd:any>
    </xsd:sequence>
    <xsd:anyAttribute namespace="##other" processContents="lax"/>
  </xsd:complexType>
  <xsd:complexType name="TransformationParametersType">
    <xsd:annotation>
      <xsd:documentation>This complexType defines a container for elements to be specified from any namespace as properties/parameters of a DSIG transformation.</xsd:documentation>
    </xsd:annotation>
    <xsd:sequence>
      <xsd:any processContents="lax" minOccurs="0" maxOccurs="unbounded">
        <xsd:annotation>
          <xsd:documentation>The use of "any" is to allow extensibility from any namespace.</xsd:documentation>
        </xsd:annotation>
      </xsd:any>
    </xsd:sequence>
    <xsd:anyAttribute namespace="##other" processContents="lax"/>
  </xsd:complexType>
  <xsd:element name="UsernameToken" type="wsse:UsernameTokenType">
    <xsd:annotation>
      <xsd:documentation>This element defines the wsse:UsernameToken element per Section 4.1.</xsd:documentation>
    </xsd:annotation>
  </xsd:element>
  <xsd:element name="BinarySecurityToken" type="wsse:BinarySecurityTokenType">
    <xsd:annotation>
      <xsd:documentation>This element defines the wsse:BinarySecurityToken element per Section 4.2.</xsd:documentation>
    </xsd:annotation>
  </xsd:element>
  <xsd:element name="Reference" type="wsse:ReferenceType">
    <xsd:annotation>
      <xsd:documentation>This element defines a security token reference</xsd:documentation>
    </xsd:annotation>
  </xsd:element>
  <xsd:element name="Embedded" type="wsse:EmbeddedType">
    <xsd:annotation>
      <xsd:documentation>This element defines a security token embedded reference</xsd:documentation>
    </xsd:annotation>
  </xsd:element>
  <xsd:element name="KeyIdentifier" type="wsse:KeyIdentifierType">
    <xsd:annotation>
      <xsd:documentation>This element defines a key identifier reference</xsd:documentation>
    </xsd:annotation>
  </xsd:element>
  <xsd:element name="SecurityTokenReference" type="wsse:SecurityTokenReferenceType">
    <xsd:annotation>
      <xsd:documentation>This element defines the wsse:SecurityTokenReference per Section 4.3.</xsd:documentation>
    </xsd:annotation>
  </xsd:element>
  <xsd:element name="Security" type="wsse:SecurityHeaderType">
    <xsd:annotation>
      <xsd:documentation>This element defines the wsse:Security SOAP header element per Section 4.</xsd:documentation>
    </xsd:annotation>
  </xsd:element>
  <xsd:element name="TransformationParameters" type="wsse:TransformationParametersType">
    <xsd:annotation>
      <xsd:documentation>This element contains properties for transformations from any namespace, including DSIG.</xsd:documentation>
    </xsd:annotation>
  </xsd:element>
  <xsd:element name="Password" type="wsse:PasswordString"/>
  <xsd:element name="Nonce" type="wsse:EncodedString"/>
  <xsd:simpleType name="FaultcodeEnum">
    <xsd:restriction base="xsd:QName">
      <xsd:enumeration value="wsse:UnsupportedSecurityToken"/>
      <xsd:enumeration value="wsse:UnsupportedAlgorithm"/>
      <xsd:enumeration value="wsse:InvalidSecurity"/>
      <xsd:enumeration value="wsse:InvalidSecurityToken"/>
      <xsd:enumeration value="wsse:FailedAuthentication"/>
      <xsd:enumeration value="wsse:FailedCheck"/>
      <xsd:enumeration value="wsse:SecurityTokenUnavailable"/>
    </xsd:restriction>
  </xsd:simpleType>
</xsd:schema>]]></con:content>
        <con:type>http://www.w3.org/2001/XMLSchema</con:type>
      </con:part>
      <con:part>
        <con:url>file:\C:\P1\p1-sgz-testy-systemowe-source\integrationTests\src\test\resources\soapUi\Projekt-testow-dla-integratorow\Projekt-testow-zdarzenia-medyczne\wsdl\common\oasis-200401-wss-wssecurity-utility-1.0.xsd</con:url>
        <con:content><![CDATA[<!--OASIS takes no position regarding the validity or scope of any intellectual property or other rights that might be claimed to pertain to the implementation or use of the technology described in this document or the extent to which any license under such rights might or might not be available; neither does it represent that it has made any effort to identify any such rights. Information on OASIS's procedures with respect to rights in OASIS specifications can be found at the OASIS website. Copies of claims of rights made available for publication and any assurances of licenses to be made available, or the result of an attempt made to obtain a general license or permission for the use of such proprietary rights by implementors or users of this specification, can be obtained from the OASIS Executive Director.
OASIS invites any interested party to bring to its attention any copyrights, patents or patent applications, or other proprietary rights which may cover technology that may be required to implement this specification. Please address the information to the OASIS Executive Director.
Copyright  OASIS Open 2002-2004. All Rights Reserved.
This document and translations of it may be copied and furnished to others, and derivative works that comment on or otherwise explain it or assist in its implementation may be prepared, copied, published and distributed, in whole or in part, without restriction of any kind, provided that the above copyright notice and this paragraph are included on all such copies and derivative works. However, this document itself does not be modified in any way, such as by removing the copyright notice or references to OASIS, except as needed for the purpose of developing OASIS specifications, in which case the procedures for copyrights defined in the OASIS Intellectual Property Rights document must be followed, or as required to translate it into languages other than English.
The limited permissions granted above are perpetual and will not be revoked by OASIS or its successors or assigns.
This document and the information contained herein is provided on an AS IS basis and OASIS DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.-->
<xsd:schema targetNamespace="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" elementFormDefault="qualified" attributeFormDefault="unqualified" version="0.1" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
  <!--// Fault Codes ///////////////////////////////////////////-->
  <xsd:simpleType name="tTimestampFault">
    <xsd:annotation>
      <xsd:documentation>This type defines the fault code value for Timestamp message expiration.</xsd:documentation>
    </xsd:annotation>
    <xsd:restriction base="xsd:QName">
      <xsd:enumeration value="wsu:MessageExpired"/>
    </xsd:restriction>
  </xsd:simpleType>
  <!--// Global attributes ////////////////////////////////////-->
  <xsd:attribute name="Id" type="xsd:ID">
    <xsd:annotation>
      <xsd:documentation>This global attribute supports annotating arbitrary elements with an ID.</xsd:documentation>
    </xsd:annotation>
  </xsd:attribute>
  <xsd:attributeGroup name="commonAtts">
    <xsd:annotation>
      <xsd:documentation>Convenience attribute group used to simplify this schema.</xsd:documentation>
    </xsd:annotation>
    <xsd:attribute ref="wsu:Id" use="optional"/>
    <xsd:anyAttribute namespace="##other" processContents="lax"/>
  </xsd:attributeGroup>
  <!--// Utility types ////////////////////////////////////////-->
  <xsd:complexType name="AttributedDateTime">
    <xsd:annotation>
      <xsd:documentation>This type is for elements whose [children] is a psuedo-dateTime and can have arbitrary attributes.</xsd:documentation>
    </xsd:annotation>
    <xsd:simpleContent>
      <xsd:extension base="xsd:string">
        <xsd:attributeGroup ref="wsu:commonAtts"/>
      </xsd:extension>
    </xsd:simpleContent>
  </xsd:complexType>
  <xsd:complexType name="AttributedURI">
    <xsd:annotation>
      <xsd:documentation>This type is for elements whose [children] is an anyURI and can have arbitrary attributes.</xsd:documentation>
    </xsd:annotation>
    <xsd:simpleContent>
      <xsd:extension base="xsd:anyURI">
        <xsd:attributeGroup ref="wsu:commonAtts"/>
      </xsd:extension>
    </xsd:simpleContent>
  </xsd:complexType>
  <!--// Timestamp header components ///////////////////////////-->
  <xsd:complexType name="TimestampType">
    <xsd:annotation>
      <xsd:documentation>This complex type ties together the timestamp related elements into a composite type.</xsd:documentation>
    </xsd:annotation>
    <xsd:sequence>
      <xsd:element ref="wsu:Created" minOccurs="0"/>
      <xsd:element ref="wsu:Expires" minOccurs="0"/>
      <xsd:choice minOccurs="0" maxOccurs="unbounded">
        <xsd:any namespace="##other" processContents="lax"/>
      </xsd:choice>
    </xsd:sequence>
    <xsd:attributeGroup ref="wsu:commonAtts"/>
  </xsd:complexType>
  <xsd:element name="Timestamp" type="wsu:TimestampType">
    <xsd:annotation>
      <xsd:documentation>This element allows Timestamps to be applied anywhere element wildcards are present,
including as a SOAP header.</xsd:documentation>
    </xsd:annotation>
  </xsd:element>
  <!--global element decls to allow individual elements to appear anywhere-->
  <xsd:element name="Expires" type="wsu:AttributedDateTime">
    <xsd:annotation>
      <xsd:documentation>This element allows an expiration time to be applied anywhere element wildcards are present.</xsd:documentation>
    </xsd:annotation>
  </xsd:element>
  <xsd:element name="Created" type="wsu:AttributedDateTime">
    <xsd:annotation>
      <xsd:documentation>This element allows a creation time to be applied anywhere element wildcards are present.</xsd:documentation>
    </xsd:annotation>
  </xsd:element>
</xsd:schema>]]></con:content>
        <con:type>http://www.w3.org/2001/XMLSchema</con:type>
      </con:part>
      <con:part>
        <con:url>file:\C:\P1\p1-sgz-testy-systemowe-source\integrationTests\src\test\resources\soapUi\Projekt-testow-dla-integratorow\Projekt-testow-zdarzenia-medyczne\wsdl\common\xml.xsd</con:url>
        <con:content><![CDATA[<?xml-stylesheet href="../2008/09/xsd.xsl" type="text/xsl"?>
<xs:schema targetNamespace="http://www.w3.org/XML/1998/namespace" xml:lang="en" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://www.w3.org/1999/xhtml">
  <xs:annotation>
    <xs:documentation>
      <div>
        <h1>About the XML namespace</h1>
        <div class="bodytext">
          <p>This schema document describes the XML namespace, in a form
      suitable for import by other schema documents.</p>
          <p>
            See
            <a href="http://www.w3.org/XML/1998/namespace.html">http://www.w3.org/XML/1998/namespace.html</a>
            and
            <a href="http://www.w3.org/TR/REC-xml">http://www.w3.org/TR/REC-xml</a>
            for information 
      about this namespace.
          </p>
          <p>Note that local names in this namespace are intended to be
      defined only by the World Wide Web Consortium or its subgroups.
      The names currently defined in this namespace are listed below.
      They should not be used with conflicting semantics by any Working
      Group, specification, or document instance.</p>
          <p>
            See further below in this document for more information about
            <a href="#usage">how to refer to this schema document from your own
      XSD schema documents</a>
            and about
            <a href="#nsversioning">the
      namespace-versioning policy governing this schema document</a>
            .
          </p>
        </div>
      </div>
    </xs:documentation>
  </xs:annotation>
  <xs:attribute name="lang">
    <xs:annotation>
      <xs:documentation>
        <div>
          <h3>lang (as an attribute name)</h3>
          <p>denotes an attribute whose value
       is a language code for the natural language of the content of
       any element; its value is inherited.  This name is reserved
       by virtue of its definition in the XML specification.</p>
        </div>
        <div>
          <h4>Notes</h4>
          <p>Attempting to install the relevant ISO 2- and 3-letter
      codes as the enumerated possible values is probably never
      going to be a realistic possibility.</p>
          <p>
            See BCP 47 at
            <a href="http://www.rfc-editor.org/rfc/bcp/bcp47.txt">http://www.rfc-editor.org/rfc/bcp/bcp47.txt</a>
            and the IANA language subtag registry at
            <a href="http://www.iana.org/assignments/language-subtag-registry">http://www.iana.org/assignments/language-subtag-registry</a>
            for further information.
          </p>
          <p>The union allows for the 'un-declaration' of xml:lang with
      the empty string.</p>
        </div>
      </xs:documentation>
    </xs:annotation>
    <xs:simpleType>
      <xs:union memberTypes="xs:language">
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:enumeration value=""/>
          </xs:restriction>
        </xs:simpleType>
      </xs:union>
    </xs:simpleType>
  </xs:attribute>
  <xs:attribute name="space">
    <xs:annotation>
      <xs:documentation>
        <div>
          <h3>space (as an attribute name)</h3>
          <p>denotes an attribute whose
       value is a keyword indicating what whitespace processing
       discipline is intended for the content of the element; its
       value is inherited.  This name is reserved by virtue of its
       definition in the XML specification.</p>
        </div>
      </xs:documentation>
    </xs:annotation>
    <xs:simpleType>
      <xs:restriction base="xs:NCName">
        <xs:enumeration value="default"/>
        <xs:enumeration value="preserve"/>
      </xs:restriction>
    </xs:simpleType>
  </xs:attribute>
  <xs:attribute name="base" type="xs:anyURI">
    <xs:annotation>
      <xs:documentation>
        <div>
          <h3>base (as an attribute name)</h3>
          <p>denotes an attribute whose value
       provides a URI to be used as the base for interpreting any
       relative URIs in the scope of the element on which it
       appears; its value is inherited.  This name is reserved
       by virtue of its definition in the XML Base specification.</p>
          <p>
            See
            <a href="http://www.w3.org/TR/xmlbase/">http://www.w3.org/TR/xmlbase/</a>
            for information about this attribute.
          </p>
        </div>
      </xs:documentation>
    </xs:annotation>
  </xs:attribute>
  <xs:attribute name="id" type="xs:ID">
    <xs:annotation>
      <xs:documentation>
        <div>
          <h3>id (as an attribute name)</h3>
          <p>denotes an attribute whose value
       should be interpreted as if declared to be of type ID.
       This name is reserved by virtue of its definition in the
       xml:id specification.</p>
          <p>
            See
            <a href="http://www.w3.org/TR/xml-id/">http://www.w3.org/TR/xml-id/</a>
            for information about this attribute.
          </p>
        </div>
      </xs:documentation>
    </xs:annotation>
  </xs:attribute>
  <xs:attributeGroup name="specialAttrs">
    <xs:attribute ref="xml:base"/>
    <xs:attribute ref="xml:lang"/>
    <xs:attribute ref="xml:space"/>
    <xs:attribute ref="xml:id"/>
  </xs:attributeGroup>
  <xs:annotation>
    <xs:documentation>
      <div>
        <h3>Father (in any context at all)</h3>
        <div class="bodytext">
          <p>denotes Jon Bosak, the chair of 
      the original XML Working Group.  This name is reserved by 
      the following decision of the W3C XML Plenary and 
      XML Coordination groups:</p>
          <blockquote>
            <p>In appreciation for his vision, leadership and
	dedication the W3C XML Plenary on this 10th day of
	February, 2000, reserves for Jon Bosak in perpetuity
	the XML name "xml:Father".</p>
          </blockquote>
        </div>
      </div>
    </xs:documentation>
  </xs:annotation>
  <xs:annotation>
    <xs:documentation>
      <div xml:id="usage" id="usage">
        <h2>
          <a name="usage">About this schema document</a>
        </h2>
        <div class="bodytext">
          <p>
            This schema defines attributes and an attribute group suitable
      for use by schemas wishing to allow
            <code>xml:base</code>
            ,
            <code>xml:lang</code>
            ,
            <code>xml:space</code>
            or
            <code>xml:id</code>
            attributes on elements they define.
          </p>
          <p>To enable this, such a schema must import this schema for
      the XML namespace, e.g. as follows:</p>
          <pre>&lt;schema . . .>
           . . .
           &lt;import namespace="http://www.w3.org/XML/1998/namespace"
                      schemaLocation="http://www.w3.org/2001/xml.xsd"/></pre>
          <p>or</p>
          <pre>&lt;import namespace="http://www.w3.org/XML/1998/namespace"
                      schemaLocation="http://www.w3.org/2009/01/xml.xsd"/></pre>
          <p>Subsequently, qualified reference to any of the attributes or the
      group defined below will have the desired effect, e.g.</p>
          <pre>&lt;type . . .>
           . . .
           &lt;attributeGroup ref="xml:specialAttrs"/></pre>
          <p>will define a type which will schema-validate an instance element
      with any of those attributes.</p>
        </div>
      </div>
    </xs:documentation>
  </xs:annotation>
  <xs:annotation>
    <xs:documentation>
      <div id="nsversioning" xml:id="nsversioning">
        <h2>
          <a name="nsversioning">Versioning policy for this schema document</a>
        </h2>
        <div class="bodytext">
          <p>
            In keeping with the XML Schema WG's standard versioning
      policy, this schema document will persist at
            <a href="http://www.w3.org/2009/01/xml.xsd">http://www.w3.org/2009/01/xml.xsd</a>
            .
          </p>
          <p>
            At the date of issue it can also be found at
            <a href="http://www.w3.org/2001/xml.xsd">http://www.w3.org/2001/xml.xsd</a>
            .
          </p>
          <p>
            The schema document at that URI may however change in the future,
      in order to remain compatible with the latest version of XML
      Schema itself, or with the XML namespace itself.  In other words,
      if the XML Schema or XML namespaces change, the version of this
      document at
            <a href="http://www.w3.org/2001/xml.xsd">http://www.w3.org/2001/xml.xsd</a>
            will change accordingly; the version at
            <a href="http://www.w3.org/2009/01/xml.xsd">http://www.w3.org/2009/01/xml.xsd</a>
            will not change.
          </p>
          <p>Previous dated (and unchanging) versions of this schema 
      document are at:</p>
          <ul>
            <li>
              <a href="http://www.w3.org/2009/01/xml.xsd">http://www.w3.org/2009/01/xml.xsd</a>
            </li>
            <li>
              <a href="http://www.w3.org/2007/08/xml.xsd">http://www.w3.org/2007/08/xml.xsd</a>
            </li>
            <li>
              <a href="http://www.w3.org/2004/10/xml.xsd">http://www.w3.org/2004/10/xml.xsd</a>
            </li>
            <li>
              <a href="http://www.w3.org/2001/03/xml.xsd">http://www.w3.org/2001/03/xml.xsd</a>
            </li>
          </ul>
        </div>
      </div>
    </xs:documentation>
  </xs:annotation>
</xs:schema>]]></con:content>
        <con:type>http://www.w3.org/2001/XMLSchema</con:type>
      </con:part>
      <con:part>
        <con:url>file:\C:\P1\p1-sgz-testy-systemowe-source\integrationTests\src\test\resources\soapUi\Projekt-testow-dla-integratorow\Projekt-testow-zdarzenia-medyczne\wsdl\common\xmldsig-core-schema.xsd</con:url>
        <con:content><![CDATA[<schema targetNamespace="http://www.w3.org/2000/09/xmldsig#" version="0.1" elementFormDefault="qualified" xmlns="http://www.w3.org/2001/XMLSchema" xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
  <!--Basic Types Defined for Signatures-->
  <simpleType name="CryptoBinary">
    <restriction base="base64Binary"></restriction>
  </simpleType>
  <!--Start Signature-->
  <element name="Signature" type="ds:SignatureType"/>
  <complexType name="SignatureType">
    <sequence>
      <element ref="ds:SignedInfo"/>
      <element ref="ds:SignatureValue"/>
      <element ref="ds:KeyInfo" minOccurs="0"/>
      <element ref="ds:Object" minOccurs="0" maxOccurs="unbounded"/>
    </sequence>
    <attribute name="Id" type="ID" use="optional"/>
  </complexType>
  <element name="SignatureValue" type="ds:SignatureValueType"/>
  <complexType name="SignatureValueType">
    <simpleContent>
      <extension base="base64Binary">
        <attribute name="Id" type="ID" use="optional"/>
      </extension>
    </simpleContent>
  </complexType>
  <!--Start SignedInfo-->
  <element name="SignedInfo" type="ds:SignedInfoType"/>
  <complexType name="SignedInfoType">
    <sequence>
      <element ref="ds:CanonicalizationMethod"/>
      <element ref="ds:SignatureMethod"/>
      <element ref="ds:Reference" maxOccurs="unbounded"/>
    </sequence>
    <attribute name="Id" type="ID" use="optional"/>
  </complexType>
  <element name="CanonicalizationMethod" type="ds:CanonicalizationMethodType"/>
  <complexType name="CanonicalizationMethodType" mixed="true">
    <sequence>
      <any namespace="##any" minOccurs="0" maxOccurs="unbounded"/>
      <!--(0,unbounded) elements from (1,1) namespace-->
    </sequence>
    <attribute name="Algorithm" type="anyURI" use="required"/>
  </complexType>
  <element name="SignatureMethod" type="ds:SignatureMethodType"/>
  <complexType name="SignatureMethodType" mixed="true">
    <sequence>
      <element name="HMACOutputLength" minOccurs="0" type="ds:HMACOutputLengthType"/>
      <any namespace="##other" minOccurs="0" maxOccurs="unbounded"/>
      <!--(0,unbounded) elements from (1,1) external namespace-->
    </sequence>
    <attribute name="Algorithm" type="anyURI" use="required"/>
  </complexType>
  <!--Start Reference-->
  <element name="Reference" type="ds:ReferenceType"/>
  <complexType name="ReferenceType">
    <sequence>
      <element ref="ds:Transforms" minOccurs="0"/>
      <element ref="ds:DigestMethod"/>
      <element ref="ds:DigestValue"/>
    </sequence>
    <attribute name="Id" type="ID" use="optional"/>
    <attribute name="URI" type="anyURI" use="optional"/>
    <attribute name="Type" type="anyURI" use="optional"/>
  </complexType>
  <element name="Transforms" type="ds:TransformsType"/>
  <complexType name="TransformsType">
    <sequence>
      <element ref="ds:Transform" maxOccurs="unbounded"/>
    </sequence>
  </complexType>
  <element name="Transform" type="ds:TransformType"/>
  <complexType name="TransformType" mixed="true">
    <choice minOccurs="0" maxOccurs="unbounded">
      <any namespace="##other" processContents="lax"/>
      <!--(1,1) elements from (0,unbounded) namespaces-->
      <element name="XPath" type="string"/>
    </choice>
    <attribute name="Algorithm" type="anyURI" use="required"/>
  </complexType>
  <!--End Reference-->
  <element name="DigestMethod" type="ds:DigestMethodType"/>
  <complexType name="DigestMethodType" mixed="true">
    <sequence>
      <any namespace="##other" processContents="lax" minOccurs="0" maxOccurs="unbounded"/>
    </sequence>
    <attribute name="Algorithm" type="anyURI" use="required"/>
  </complexType>
  <element name="DigestValue" type="ds:DigestValueType"/>
  <simpleType name="DigestValueType">
    <restriction base="base64Binary"/>
  </simpleType>
  <!--End SignedInfo-->
  <!--Start KeyInfo-->
  <element name="KeyInfo" type="ds:KeyInfoType"/>
  <complexType name="KeyInfoType" mixed="true">
    <choice maxOccurs="unbounded">
      <element ref="ds:KeyName"/>
      <element ref="ds:KeyValue"/>
      <element ref="ds:RetrievalMethod"/>
      <element ref="ds:X509Data"/>
      <element ref="ds:PGPData"/>
      <element ref="ds:SPKIData"/>
      <element ref="ds:MgmtData"/>
      <any processContents="lax" namespace="##other"/>
      <!--(1,1) elements from (0,unbounded) namespaces-->
    </choice>
    <attribute name="Id" type="ID" use="optional"/>
  </complexType>
  <element name="KeyName" type="string"/>
  <element name="MgmtData" type="string"/>
  <element name="KeyValue" type="ds:KeyValueType"/>
  <complexType name="KeyValueType" mixed="true">
    <choice>
      <element ref="ds:DSAKeyValue"/>
      <element ref="ds:RSAKeyValue"/>
      <any namespace="##other" processContents="lax"/>
    </choice>
  </complexType>
  <element name="RetrievalMethod" type="ds:RetrievalMethodType"/>
  <complexType name="RetrievalMethodType">
    <sequence>
      <element ref="ds:Transforms" minOccurs="0"/>
    </sequence>
    <attribute name="URI" type="anyURI"/>
    <attribute name="Type" type="anyURI" use="optional"/>
  </complexType>
  <!--Start X509Data-->
  <element name="X509Data" type="ds:X509DataType"/>
  <complexType name="X509DataType">
    <sequence maxOccurs="unbounded">
      <choice>
        <element name="X509IssuerSerial" type="ds:X509IssuerSerialType"/>
        <element name="X509SKI" type="base64Binary"/>
        <element name="X509SubjectName" type="string"/>
        <element name="X509Certificate" type="base64Binary"/>
        <element name="X509CRL" type="base64Binary"/>
        <any namespace="##other" processContents="lax"/>
      </choice>
    </sequence>
  </complexType>
  <complexType name="X509IssuerSerialType">
    <sequence>
      <element name="X509IssuerName" type="string"/>
      <element name="X509SerialNumber" type="integer"/>
    </sequence>
  </complexType>
  <!--End X509Data-->
  <!--Begin PGPData-->
  <element name="PGPData" type="ds:PGPDataType"/>
  <complexType name="PGPDataType">
    <choice>
      <sequence>
        <element name="PGPKeyID" type="base64Binary"/>
        <element name="PGPKeyPacket" type="base64Binary" minOccurs="0"/>
        <any namespace="##other" processContents="lax" minOccurs="0" maxOccurs="unbounded"/>
      </sequence>
      <sequence>
        <element name="PGPKeyPacket" type="base64Binary"/>
        <any namespace="##other" processContents="lax" minOccurs="0" maxOccurs="unbounded"/>
      </sequence>
    </choice>
  </complexType>
  <!--End PGPData-->
  <!--Begin SPKIData-->
  <element name="SPKIData" type="ds:SPKIDataType"/>
  <complexType name="SPKIDataType">
    <sequence maxOccurs="unbounded">
      <element name="SPKISexp" type="base64Binary"/>
      <any namespace="##other" processContents="lax" minOccurs="0"/>
    </sequence>
  </complexType>
  <!--End SPKIData-->
  <!--End KeyInfo-->
  <!--Start Object (Manifest, SignatureProperty)-->
  <element name="Object" type="ds:ObjectType"/>
  <complexType name="ObjectType" mixed="true">
    <sequence minOccurs="0" maxOccurs="unbounded">
      <any namespace="##any" processContents="lax"/>
    </sequence>
    <attribute name="Id" type="ID" use="optional"/>
    <attribute name="MimeType" type="string" use="optional"/>
    <!--add a grep facet-->
    <attribute name="Encoding" type="anyURI" use="optional"/>
  </complexType>
  <element name="Manifest" type="ds:ManifestType"/>
  <complexType name="ManifestType">
    <sequence>
      <element ref="ds:Reference" maxOccurs="unbounded"/>
    </sequence>
    <attribute name="Id" type="ID" use="optional"/>
  </complexType>
  <element name="SignatureProperties" type="ds:SignaturePropertiesType"/>
  <complexType name="SignaturePropertiesType">
    <sequence>
      <element ref="ds:SignatureProperty" maxOccurs="unbounded"/>
    </sequence>
    <attribute name="Id" type="ID" use="optional"/>
  </complexType>
  <element name="SignatureProperty" type="ds:SignaturePropertyType"/>
  <complexType name="SignaturePropertyType" mixed="true">
    <choice maxOccurs="unbounded">
      <any namespace="##other" processContents="lax"/>
      <!--(1,1) elements from (1,unbounded) namespaces-->
    </choice>
    <attribute name="Target" type="anyURI" use="required"/>
    <attribute name="Id" type="ID" use="optional"/>
  </complexType>
  <!--End Object (Manifest, SignatureProperty)-->
  <!--Start Algorithm Parameters-->
  <simpleType name="HMACOutputLengthType">
    <restriction base="integer"/>
  </simpleType>
  <!--Start KeyValue Element-types-->
  <element name="DSAKeyValue" type="ds:DSAKeyValueType"/>
  <complexType name="DSAKeyValueType">
    <sequence>
      <sequence minOccurs="0">
        <element name="P" type="ds:CryptoBinary"/>
        <element name="Q" type="ds:CryptoBinary"/>
      </sequence>
      <element name="G" type="ds:CryptoBinary" minOccurs="0"/>
      <element name="Y" type="ds:CryptoBinary"/>
      <element name="J" type="ds:CryptoBinary" minOccurs="0"/>
      <sequence minOccurs="0">
        <element name="Seed" type="ds:CryptoBinary"/>
        <element name="PgenCounter" type="ds:CryptoBinary"/>
      </sequence>
    </sequence>
  </complexType>
  <element name="RSAKeyValue" type="ds:RSAKeyValueType"/>
  <complexType name="RSAKeyValueType">
    <sequence>
      <element name="Modulus" type="ds:CryptoBinary"/>
      <element name="Exponent" type="ds:CryptoBinary"/>
    </sequence>
  </complexType>
  <!--End KeyValue Element-types-->
  <!--End Signature-->
</schema>]]></con:content>
        <con:type>http://www.w3.org/2001/XMLSchema</con:type>
      </con:part>
      <con:part>
        <con:url>file:\C:\P1\p1-sgz-testy-systemowe-source\integrationTests\src\test\resources\soapUi\Projekt-testow-dla-integratorow\Projekt-testow-zdarzenia-medyczne\wsdl\common\ws-policy.xsd</con:url>
        <con:content><![CDATA[<!--(c) 2001-2006 BEA Systems Inc., International Business Machines Corporation, Microsoft Corporation, Inc., SAP AG, Sonic Software, and VeriSign, Inc. All rights reserved.

Permission to copy and display the WS-Policy Specification (the "Specification", which includes WSDL and schema documents), in any medium without fee or royalty is hereby granted, provided that you include the following on ALL copies of the WS-Policy Specification, that you make:

1.	A link or URL to the WS-Policy Specification at one of the Authors' websites
2.	The copyright notice as shown in the WS-Policy Specification.

BEA Systems, IBM, Microsoft, SAP, Sonic Software, and VeriSign (collectively, the "Authors") each agree to grant you a license, under royalty-free and otherwise reasonable, non-discriminatory terms and conditions, to their respective essential patent claims that they deem necessary to implement the WS-Policy Specification.

THE WS-POLICY SPECIFICATION IS PROVIDED "AS IS," AND THE AUTHORS MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, NON-INFRINGEMENT, OR TITLE; THAT THE CONTENTS OF THE WS-POLICY SPECIFICATION ARE SUITABLE FOR ANY PURPOSE; NOR THAT THE IMPLEMENTATION OF SUCH CONTENTS WILL NOT INFRINGE ANY THIRD PARTY PATENTS, COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.

THE AUTHORS WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF OR RELATING TO ANY USE OR DISTRIBUTION OF THE WS-POLICY SPECIFICATION.

The name and trademarks of the Authors may NOT be used in any manner, including advertising or publicity pertaining to the WS-Policy Specification or its contents without specific, written prior permission. Title to copyright in the WS-Policy Specification will at all times remain with the Authors.

No other rights are granted by implication, estoppel or otherwise.-->
<xs:schema targetNamespace="http://schemas.xmlsoap.org/ws/2004/09/policy" elementFormDefault="qualified" blockDefault="#all" xmlns:tns="http://schemas.xmlsoap.org/ws/2004/09/policy" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
  <xs:import namespace="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" schemaLocation="oasis-200401-wss-wssecurity-secext-1.0.xsd"/>
  <xs:import namespace="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" schemaLocation="oasis-200401-wss-wssecurity-utility-1.0.xsd"/>
  <!--////////// WS-Policy //////////-->
  <xs:element name="Policy">
    <xs:complexType>
      <xs:complexContent>
        <xs:extension base="tns:OperatorContentType">
          <xs:attribute name="Name" type="xs:anyURI"/>
          <xs:attribute ref="wsu:Id"/>
          <xs:anyAttribute namespace="##any" processContents="lax"/>
        </xs:extension>
      </xs:complexContent>
    </xs:complexType>
  </xs:element>
  <xs:element name="All" type="tns:OperatorContentType"/>
  <xs:element name="ExactlyOne" type="tns:OperatorContentType"/>
  <xs:complexType name="OperatorContentType">
    <xs:sequence>
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element ref="tns:Policy"/>
        <xs:element ref="tns:All"/>
        <xs:element ref="tns:ExactlyOne"/>
        <xs:element ref="tns:PolicyReference"/>
        <xs:any namespace="##other" processContents="lax"/>
      </xs:choice>
    </xs:sequence>
  </xs:complexType>
  <xs:element name="PolicyReference">
    <xs:complexType>
      <xs:attribute name="URI" type="xs:anyURI" use="required"/>
      <xs:attribute name="Digest" type="xs:base64Binary"/>
      <xs:attribute name="DigestAlgorithm" type="xs:anyURI" default="http://schemas.xmlsoap.org/ws/2004/09/policy/Sha1Exc"/>
      <xs:anyAttribute namespace="##any" processContents="lax"/>
    </xs:complexType>
  </xs:element>
  <xs:attribute name="Optional" type="xs:boolean" default="false"/>
  <!--////////// WS-PolicyAttachment //////////-->
  <xs:attribute name="PolicyURIs">
    <xs:simpleType>
      <xs:list itemType="xs:anyURI"/>
    </xs:simpleType>
  </xs:attribute>
  <xs:element name="PolicyAttachment">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="tns:AppliesTo"/>
        <xs:choice maxOccurs="unbounded">
          <xs:element ref="tns:Policy"/>
          <xs:element ref="tns:PolicyReference"/>
        </xs:choice>
        <!--omitted only because it causes the content model to be non-determistic
        <xs:element ref="wsse:Security" minOccurs="0" />-->
        <xs:any namespace="##other" processContents="lax" minOccurs="0" maxOccurs="unbounded"/>
      </xs:sequence>
      <xs:anyAttribute namespace="##any" processContents="lax"/>
    </xs:complexType>
  </xs:element>
  <xs:element name="AppliesTo">
    <xs:complexType>
      <xs:sequence>
        <xs:any namespace="##any" processContents="lax" maxOccurs="unbounded"/>
      </xs:sequence>
      <xs:anyAttribute namespace="##any" processContents="lax"/>
    </xs:complexType>
  </xs:element>
</xs:schema>]]></con:content>
        <con:type>http://www.w3.org/2001/XMLSchema</con:type>
      </con:part>
      <con:part>
        <con:url>file:\C:\P1\p1-sgz-testy-systemowe-source\integrationTests\src\test\resources\soapUi\Projekt-testow-dla-integratorow\Projekt-testow-zdarzenia-medyczne\wsdl\common\ws-addr.xsd</con:url>
        <con:content><![CDATA[<!--W3C XML Schema defined in the Web Services Addressing 1.0 specification
    http://www.w3.org/TR/ws-addr-core

   Copyright ?? 2005 World Wide Web Consortium,

   (Massachusetts Institute of Technology, European Research Consortium for
   Informatics and Mathematics, Keio University). All Rights Reserved. This
   work is distributed under the W3C?? Software License [1] in the hope that
   it will be useful, but WITHOUT ANY WARRANTY; without even the implied
   warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

   [1] http://www.w3.org/Consortium/Legal/2002/copyright-software-20021231-->
<xs:schema targetNamespace="http://www.w3.org/2005/08/addressing" blockDefault="#all" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:tns="http://www.w3.org/2005/08/addressing">
  <!--Constructs from the WS-Addressing Core-->
  <xs:element name="EndpointReference" type="tns:EndpointReferenceType"/>
  <xs:complexType name="EndpointReferenceType">
    <xs:sequence>
      <xs:element name="Address" type="tns:AttributedURIType"/>
      <xs:element name="ReferenceParameters" type="tns:ReferenceParametersType" minOccurs="0"/>
      <xs:element ref="tns:Metadata" minOccurs="0"/>
      <xs:any namespace="##other" processContents="lax" minOccurs="0" maxOccurs="unbounded"/>
    </xs:sequence>
    <xs:anyAttribute namespace="##other" processContents="lax"/>
  </xs:complexType>
  <xs:complexType name="ReferenceParametersType">
    <xs:sequence>
      <xs:any namespace="##any" processContents="lax" minOccurs="0" maxOccurs="unbounded"/>
    </xs:sequence>
    <xs:anyAttribute namespace="##other" processContents="lax"/>
  </xs:complexType>
  <xs:element name="Metadata" type="tns:MetadataType"/>
  <xs:complexType name="MetadataType">
    <xs:sequence>
      <xs:any namespace="##any" processContents="lax" minOccurs="0" maxOccurs="unbounded"/>
    </xs:sequence>
    <xs:anyAttribute namespace="##other" processContents="lax"/>
  </xs:complexType>
  <xs:element name="MessageID" type="tns:AttributedURIType"/>
  <xs:element name="RelatesTo" type="tns:RelatesToType"/>
  <xs:complexType name="RelatesToType">
    <xs:simpleContent>
      <xs:extension base="xs:anyURI">
        <xs:attribute name="RelationshipType" type="tns:RelationshipTypeOpenEnum" use="optional" default="http://www.w3.org/2005/08/addressing/reply"/>
        <xs:anyAttribute namespace="##other" processContents="lax"/>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:simpleType name="RelationshipTypeOpenEnum">
    <xs:union memberTypes="tns:RelationshipType xs:anyURI"/>
  </xs:simpleType>
  <xs:simpleType name="RelationshipType">
    <xs:restriction base="xs:anyURI">
      <xs:enumeration value="http://www.w3.org/2005/08/addressing/reply"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:element name="ReplyTo" type="tns:EndpointReferenceType"/>
  <xs:element name="From" type="tns:EndpointReferenceType"/>
  <xs:element name="FaultTo" type="tns:EndpointReferenceType"/>
  <xs:element name="To" type="tns:AttributedURIType"/>
  <xs:element name="Action" type="tns:AttributedURIType"/>
  <xs:complexType name="AttributedURIType">
    <xs:simpleContent>
      <xs:extension base="xs:anyURI">
        <xs:anyAttribute namespace="##other" processContents="lax"/>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <!--Constructs from the WS-Addressing SOAP binding-->
  <xs:attribute name="IsReferenceParameter" type="xs:boolean"/>
  <xs:simpleType name="FaultCodesOpenEnumType">
    <xs:union memberTypes="tns:FaultCodesType xs:QName"/>
  </xs:simpleType>
  <xs:simpleType name="FaultCodesType">
    <xs:restriction base="xs:QName">
      <xs:enumeration value="tns:InvalidAddressingHeader"/>
      <xs:enumeration value="tns:InvalidAddress"/>
      <xs:enumeration value="tns:InvalidEPR"/>
      <xs:enumeration value="tns:InvalidCardinality"/>
      <xs:enumeration value="tns:MissingAddressInEPR"/>
      <xs:enumeration value="tns:DuplicateMessageID"/>
      <xs:enumeration value="tns:ActionMismatch"/>
      <xs:enumeration value="tns:MessageAddressingHeaderRequired"/>
      <xs:enumeration value="tns:DestinationUnreachable"/>
      <xs:enumeration value="tns:ActionNotSupported"/>
      <xs:enumeration value="tns:EndpointUnavailable"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:element name="RetryAfter" type="tns:AttributedUnsignedLongType"/>
  <xs:complexType name="AttributedUnsignedLongType">
    <xs:simpleContent>
      <xs:extension base="xs:unsignedLong">
        <xs:anyAttribute namespace="##other" processContents="lax"/>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:element name="ProblemHeaderQName" type="tns:AttributedQNameType"/>
  <xs:complexType name="AttributedQNameType">
    <xs:simpleContent>
      <xs:extension base="xs:QName">
        <xs:anyAttribute namespace="##other" processContents="lax"/>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:element name="ProblemHeader" type="tns:AttributedAnyType"/>
  <xs:complexType name="AttributedAnyType">
    <xs:sequence>
      <xs:any namespace="##any" processContents="lax"/>
    </xs:sequence>
    <xs:anyAttribute namespace="##other" processContents="lax"/>
  </xs:complexType>
  <xs:element name="ProblemIRI" type="tns:AttributedURIType"/>
  <xs:element name="ProblemAction" type="tns:ProblemActionType"/>
  <xs:complexType name="ProblemActionType">
    <xs:sequence>
      <xs:element ref="tns:Action" minOccurs="0"/>
      <xs:element name="SoapAction" minOccurs="0" type="xs:anyURI"/>
    </xs:sequence>
    <xs:anyAttribute namespace="##other" processContents="lax"/>
  </xs:complexType>
</xs:schema>]]></con:content>
        <con:type>http://www.w3.org/2001/XMLSchema</con:type>
      </con:part>
      <con:part>
        <con:url>file:\C:\P1\p1-sgz-testy-systemowe-source\integrationTests\src\test\resources\soapUi\Projekt-testow-dla-integratorow\Projekt-testow-zdarzenia-medyczne\wsdl\common\saml-schema-assertion-2.0.xsd</con:url>
        <con:content><![CDATA[<schema targetNamespace="urn:oasis:names:tc:SAML:2.0:assertion" elementFormDefault="unqualified" attributeFormDefault="unqualified" blockDefault="substitution" version="2.0" xmlns="http://www.w3.org/2001/XMLSchema" xmlns:saml="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:xenc="http://www.w3.org/2001/04/xmlenc#">
  <import namespace="http://www.w3.org/2000/09/xmldsig#" schemaLocation="xmldsig-core-schema.xsd"/>
  <import namespace="http://www.w3.org/2001/04/xmlenc#" schemaLocation="xenc-schema.xsd"/>
  <annotation>
    <documentation>Document identifier: saml-schema-assertion-2.0
            Location: http://docs.oasis-open.org/security/saml/v2.0/
            Revision history:
            V1.0 (November, 2002):
              Initial Standard Schema.
            V1.1 (September, 2003):
              Updates within the same V1.0 namespace.
            V2.0 (March, 2005):
              New assertion schema for SAML V2.0 namespace.</documentation>
  </annotation>
  <attributeGroup name="IDNameQualifiers">
    <attribute name="NameQualifier" type="string" use="optional"/>
    <attribute name="SPNameQualifier" type="string" use="optional"/>
  </attributeGroup>
  <element name="BaseID" type="saml:BaseIDAbstractType"/>
  <complexType name="BaseIDAbstractType" abstract="true">
    <attributeGroup ref="saml:IDNameQualifiers"/>
  </complexType>
  <element name="NameID" type="saml:NameIDType"/>
  <complexType name="NameIDType">
    <simpleContent>
      <extension base="string">
        <attributeGroup ref="saml:IDNameQualifiers"/>
        <attribute name="Format" type="anyURI" use="optional"/>
        <attribute name="SPProvidedID" type="string" use="optional"/>
      </extension>
    </simpleContent>
  </complexType>
  <complexType name="EncryptedElementType">
    <sequence>
      <element ref="xenc:EncryptedData"/>
      <element ref="xenc:EncryptedKey" minOccurs="0" maxOccurs="unbounded"/>
    </sequence>
  </complexType>
  <element name="EncryptedID" type="saml:EncryptedElementType"/>
  <element name="Issuer" type="saml:NameIDType"/>
  <element name="AssertionIDRef" type="NCName"/>
  <element name="AssertionURIRef" type="anyURI"/>
  <element name="Assertion" type="saml:AssertionType"/>
  <complexType name="AssertionType">
    <sequence>
      <element ref="saml:Issuer"/>
      <element ref="ds:Signature" minOccurs="0"/>
      <element ref="saml:Subject" minOccurs="0"/>
      <element ref="saml:Conditions" minOccurs="0"/>
      <element ref="saml:Advice" minOccurs="0"/>
      <choice minOccurs="0" maxOccurs="unbounded">
        <element ref="saml:Statement"/>
        <element ref="saml:AuthnStatement"/>
        <element ref="saml:AuthzDecisionStatement"/>
        <element ref="saml:AttributeStatement"/>
      </choice>
    </sequence>
    <attribute name="Version" type="string" use="required"/>
    <attribute name="ID" type="ID" use="required"/>
    <attribute name="IssueInstant" type="dateTime" use="required"/>
  </complexType>
  <element name="Subject" type="saml:SubjectType"/>
  <complexType name="SubjectType">
    <choice>
      <sequence>
        <choice>
          <element ref="saml:BaseID"/>
          <element ref="saml:NameID"/>
          <element ref="saml:EncryptedID"/>
        </choice>
        <element ref="saml:SubjectConfirmation" minOccurs="0" maxOccurs="unbounded"/>
      </sequence>
      <element ref="saml:SubjectConfirmation" maxOccurs="unbounded"/>
    </choice>
  </complexType>
  <element name="SubjectConfirmation" type="saml:SubjectConfirmationType"/>
  <complexType name="SubjectConfirmationType">
    <sequence>
      <choice minOccurs="0">
        <element ref="saml:BaseID"/>
        <element ref="saml:NameID"/>
        <element ref="saml:EncryptedID"/>
      </choice>
      <element ref="saml:SubjectConfirmationData" minOccurs="0"/>
    </sequence>
    <attribute name="Method" type="anyURI" use="required"/>
  </complexType>
  <element name="SubjectConfirmationData" type="saml:SubjectConfirmationDataType"/>
  <complexType name="SubjectConfirmationDataType" mixed="true">
    <complexContent>
      <restriction base="anyType">
        <sequence>
          <any namespace="##any" processContents="lax" minOccurs="0" maxOccurs="unbounded"/>
        </sequence>
        <attribute name="NotBefore" type="dateTime" use="optional"/>
        <attribute name="NotOnOrAfter" type="dateTime" use="optional"/>
        <attribute name="Recipient" type="anyURI" use="optional"/>
        <attribute name="InResponseTo" type="NCName" use="optional"/>
        <attribute name="Address" type="string" use="optional"/>
        <anyAttribute namespace="##other" processContents="lax"/>
      </restriction>
    </complexContent>
  </complexType>
  <complexType name="KeyInfoConfirmationDataType" mixed="false">
    <complexContent>
      <restriction base="saml:SubjectConfirmationDataType">
        <sequence>
          <element ref="ds:KeyInfo" maxOccurs="unbounded"/>
        </sequence>
      </restriction>
    </complexContent>
  </complexType>
  <element name="Conditions" type="saml:ConditionsType"/>
  <complexType name="ConditionsType">
    <choice minOccurs="0" maxOccurs="unbounded">
      <element ref="saml:Condition"/>
      <element ref="saml:AudienceRestriction"/>
      <element ref="saml:OneTimeUse"/>
      <element ref="saml:ProxyRestriction"/>
    </choice>
    <attribute name="NotBefore" type="dateTime" use="optional"/>
    <attribute name="NotOnOrAfter" type="dateTime" use="optional"/>
  </complexType>
  <element name="Condition" type="saml:ConditionAbstractType"/>
  <complexType name="ConditionAbstractType" abstract="true"/>
  <element name="AudienceRestriction" type="saml:AudienceRestrictionType"/>
  <complexType name="AudienceRestrictionType">
    <complexContent>
      <extension base="saml:ConditionAbstractType">
        <sequence>
          <element ref="saml:Audience" maxOccurs="unbounded"/>
        </sequence>
      </extension>
    </complexContent>
  </complexType>
  <element name="Audience" type="anyURI"/>
  <element name="OneTimeUse" type="saml:OneTimeUseType"/>
  <complexType name="OneTimeUseType">
    <complexContent>
      <extension base="saml:ConditionAbstractType"/>
    </complexContent>
  </complexType>
  <element name="ProxyRestriction" type="saml:ProxyRestrictionType"/>
  <complexType name="ProxyRestrictionType">
    <complexContent>
      <extension base="saml:ConditionAbstractType">
        <sequence>
          <element ref="saml:Audience" minOccurs="0" maxOccurs="unbounded"/>
        </sequence>
        <attribute name="Count" type="nonNegativeInteger" use="optional"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="Advice" type="saml:AdviceType"/>
  <complexType name="AdviceType">
    <choice minOccurs="0" maxOccurs="unbounded">
      <element ref="saml:AssertionIDRef"/>
      <element ref="saml:AssertionURIRef"/>
      <element ref="saml:Assertion"/>
      <element ref="saml:EncryptedAssertion"/>
      <any namespace="##other" processContents="lax"/>
    </choice>
  </complexType>
  <element name="EncryptedAssertion" type="saml:EncryptedElementType"/>
  <element name="Statement" type="saml:StatementAbstractType"/>
  <complexType name="StatementAbstractType" abstract="true"/>
  <element name="AuthnStatement" type="saml:AuthnStatementType"/>
  <complexType name="AuthnStatementType">
    <complexContent>
      <extension base="saml:StatementAbstractType">
        <sequence>
          <element ref="saml:SubjectLocality" minOccurs="0"/>
          <element ref="saml:AuthnContext"/>
        </sequence>
        <attribute name="AuthnInstant" type="dateTime" use="required"/>
        <attribute name="SessionIndex" type="string" use="optional"/>
        <attribute name="SessionNotOnOrAfter" type="dateTime" use="optional"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="SubjectLocality" type="saml:SubjectLocalityType"/>
  <complexType name="SubjectLocalityType">
    <attribute name="Address" type="string" use="optional"/>
    <attribute name="DNSName" type="string" use="optional"/>
  </complexType>
  <element name="AuthnContext" type="saml:AuthnContextType"/>
  <complexType name="AuthnContextType">
    <sequence>
      <choice>
        <sequence>
          <element ref="saml:AuthnContextClassRef"/>
          <choice minOccurs="0">
            <element ref="saml:AuthnContextDecl"/>
            <element ref="saml:AuthnContextDeclRef"/>
          </choice>
        </sequence>
        <choice>
          <element ref="saml:AuthnContextDecl"/>
          <element ref="saml:AuthnContextDeclRef"/>
        </choice>
      </choice>
      <element ref="saml:AuthenticatingAuthority" minOccurs="0" maxOccurs="unbounded"/>
    </sequence>
  </complexType>
  <element name="AuthnContextClassRef" type="anyURI"/>
  <element name="AuthnContextDeclRef" type="anyURI"/>
  <element name="AuthnContextDecl" type="anyType"/>
  <element name="AuthenticatingAuthority" type="anyURI"/>
  <element name="AuthzDecisionStatement" type="saml:AuthzDecisionStatementType"/>
  <complexType name="AuthzDecisionStatementType">
    <complexContent>
      <extension base="saml:StatementAbstractType">
        <sequence>
          <element ref="saml:Action" maxOccurs="unbounded"/>
          <element ref="saml:Evidence" minOccurs="0"/>
        </sequence>
        <attribute name="Resource" type="anyURI" use="required"/>
        <attribute name="Decision" type="saml:DecisionType" use="required"/>
      </extension>
    </complexContent>
  </complexType>
  <simpleType name="DecisionType">
    <restriction base="string">
      <enumeration value="Permit"/>
      <enumeration value="Deny"/>
      <enumeration value="Indeterminate"/>
    </restriction>
  </simpleType>
  <element name="Action" type="saml:ActionType"/>
  <complexType name="ActionType">
    <simpleContent>
      <extension base="string">
        <attribute name="Namespace" type="anyURI" use="required"/>
      </extension>
    </simpleContent>
  </complexType>
  <element name="Evidence" type="saml:EvidenceType"/>
  <complexType name="EvidenceType">
    <choice maxOccurs="unbounded">
      <element ref="saml:AssertionIDRef"/>
      <element ref="saml:AssertionURIRef"/>
      <element ref="saml:Assertion"/>
      <element ref="saml:EncryptedAssertion"/>
    </choice>
  </complexType>
  <element name="AttributeStatement" type="saml:AttributeStatementType"/>
  <complexType name="AttributeStatementType">
    <complexContent>
      <extension base="saml:StatementAbstractType">
        <choice maxOccurs="unbounded">
          <element ref="saml:Attribute"/>
          <element ref="saml:EncryptedAttribute"/>
        </choice>
      </extension>
    </complexContent>
  </complexType>
  <element name="Attribute" type="saml:AttributeType"/>
  <complexType name="AttributeType">
    <sequence>
      <element ref="saml:AttributeValue" minOccurs="0" maxOccurs="unbounded"/>
    </sequence>
    <attribute name="Name" type="string" use="required"/>
    <attribute name="NameFormat" type="anyURI" use="optional"/>
    <attribute name="FriendlyName" type="string" use="optional"/>
    <anyAttribute namespace="##other" processContents="lax"/>
  </complexType>
  <element name="AttributeValue" type="anyType" nillable="true"/>
  <element name="EncryptedAttribute" type="saml:EncryptedElementType"/>
</schema>]]></con:content>
        <con:type>http://www.w3.org/2001/XMLSchema</con:type>
      </con:part>
      <con:part>
        <con:url>file:\C:\P1\p1-sgz-testy-systemowe-source\integrationTests\src\test\resources\soapUi\Projekt-testow-dla-integratorow\Projekt-testow-zdarzenia-medyczne\wsdl\common\xenc-schema.xsd</con:url>
        <con:content><![CDATA[<!DOCTYPE schema PUBLIC "-//W3C//DTD XMLSchema 200102//EN" "http://www.w3.org/2001/XMLSchema.dtd">
<schema version="1.0" targetNamespace="http://www.w3.org/2001/04/xmlenc#" elementFormDefault="qualified" xmlns="http://www.w3.org/2001/XMLSchema" xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
  <import namespace="http://www.w3.org/2000/09/xmldsig#" schemaLocation="xmldsig-core-schema.xsd"/>
  <complexType name="EncryptedType" abstract="true">
    <sequence>
      <element name="EncryptionMethod" type="xenc:EncryptionMethodType" minOccurs="0"/>
      <element ref="ds:KeyInfo" minOccurs="0"/>
      <element ref="xenc:CipherData"/>
      <element ref="xenc:EncryptionProperties" minOccurs="0"/>
    </sequence>
    <attribute name="Id" type="ID" use="optional"/>
    <attribute name="Type" type="anyURI" use="optional"/>
    <attribute name="MimeType" type="string" use="optional"/>
    <attribute name="Encoding" type="anyURI" use="optional"/>
  </complexType>
  <complexType name="EncryptionMethodType" mixed="true">
    <sequence>
      <element name="KeySize" minOccurs="0" type="xenc:KeySizeType"/>
      <element name="OAEPparams" minOccurs="0" type="base64Binary"/>
      <any namespace="##other" minOccurs="0" maxOccurs="unbounded"/>
    </sequence>
    <attribute name="Algorithm" type="anyURI" use="required"/>
  </complexType>
  <simpleType name="KeySizeType">
    <restriction base="integer"/>
  </simpleType>
  <element name="CipherData" type="xenc:CipherDataType"/>
  <complexType name="CipherDataType">
    <choice>
      <element name="CipherValue" type="base64Binary"/>
      <element ref="xenc:CipherReference"/>
    </choice>
  </complexType>
  <element name="CipherReference" type="xenc:CipherReferenceType"/>
  <complexType name="CipherReferenceType">
    <choice>
      <element name="Transforms" type="xenc:TransformsType" minOccurs="0"/>
    </choice>
    <attribute name="URI" type="anyURI" use="required"/>
  </complexType>
  <complexType name="TransformsType">
    <sequence>
      <element ref="ds:Transform" maxOccurs="unbounded"/>
    </sequence>
  </complexType>
  <element name="EncryptedData" type="xenc:EncryptedDataType"/>
  <complexType name="EncryptedDataType">
    <complexContent>
      <extension base="xenc:EncryptedType"></extension>
    </complexContent>
  </complexType>
  <!--Children of ds:KeyInfo-->
  <element name="EncryptedKey" type="xenc:EncryptedKeyType"/>
  <complexType name="EncryptedKeyType">
    <complexContent>
      <extension base="xenc:EncryptedType">
        <sequence>
          <element ref="xenc:ReferenceList" minOccurs="0"/>
          <element name="CarriedKeyName" type="string" minOccurs="0"/>
        </sequence>
        <attribute name="Recipient" type="string" use="optional"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="AgreementMethod" type="xenc:AgreementMethodType"/>
  <complexType name="AgreementMethodType" mixed="true">
    <sequence>
      <element name="KA-Nonce" minOccurs="0" type="base64Binary"/>
      <!--<element ref="ds:DigestMethod" minOccurs="0"/>-->
      <any namespace="##other" minOccurs="0" maxOccurs="unbounded"/>
      <element name="OriginatorKeyInfo" minOccurs="0" type="ds:KeyInfoType"/>
      <element name="RecipientKeyInfo" minOccurs="0" type="ds:KeyInfoType"/>
    </sequence>
    <attribute name="Algorithm" type="anyURI" use="required"/>
  </complexType>
  <!--End Children of ds:KeyInfo-->
  <element name="ReferenceList">
    <complexType>
      <choice minOccurs="1" maxOccurs="unbounded">
        <element name="DataReference" type="xenc:ReferenceType"/>
        <element name="KeyReference" type="xenc:ReferenceType"/>
      </choice>
    </complexType>
  </element>
  <complexType name="ReferenceType">
    <sequence>
      <any namespace="##other" minOccurs="0" maxOccurs="unbounded"/>
    </sequence>
    <attribute name="URI" type="anyURI" use="required"/>
  </complexType>
  <element name="EncryptionProperties" type="xenc:EncryptionPropertiesType"/>
  <complexType name="EncryptionPropertiesType">
    <sequence>
      <element ref="xenc:EncryptionProperty" maxOccurs="unbounded"/>
    </sequence>
    <attribute name="Id" type="ID" use="optional"/>
  </complexType>
  <element name="EncryptionProperty" type="xenc:EncryptionPropertyType"/>
  <complexType name="EncryptionPropertyType" mixed="true">
    <choice maxOccurs="unbounded">
      <any namespace="##other" processContents="lax"/>
    </choice>
    <attribute name="Target" type="anyURI" use="optional"/>
    <attribute name="Id" type="ID" use="optional"/>
    <anyAttribute namespace="http://www.w3.org/XML/1998/namespace"/>
  </complexType>
</schema>]]></con:content>
        <con:type>http://www.w3.org/2001/XMLSchema</con:type>
      </con:part>
    </con:definitionCache>
    <con:endpoints>
      <con:endpoint>www.exampleLocation.com/Port1</con:endpoint>
    </con:endpoints>
    <con:operation id="52d5305c-f0c1-451d-ba7f-3372935adc19" isOneWay="false" action="" name="generujToken" bindingOperationName="generujToken" type="Request-Response" outputName="RequestSecurityTokenResponseCollectionMsg" inputName="RequestSecurityTokenMsg" receivesAttachments="false" sendsAttachments="false" anonymous="optional">
      <con:settings/>
      <con:call id="71df351c-920a-4b4d-8f2f-83450bb4a316" name="Request 1">
        <con:settings/>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>www.exampleLocation.com/Port1</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns="http://docs.oasis-open.org/ws-sx/ws-trust/200512/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <ns:RequestSecurityToken Context="?">\r
         <!--You may enter ANY elements at this point-->\r
      </ns:RequestSecurityToken>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="http://docs.oasis-open.org/ws-sx/ws-trust/200512/RST/Issue"/>
      </con:call>
    </con:operation>
  </con:interface>
  <con:interface xsi:type="con:WsdlInterface" id="4db4a67b-5ef9-4c9b-ac86-9021a325c095" wsaVersion="NONE" name="ObslugaEdmIti42WSSoap12Binding" type="wsdl" bindingName="{urn:ihe:iti:xds-b:2007}ObslugaEdmIti42WSSoap12Binding" soapVersion="1_2" anonymous="optional" definition="wsdl/edm/iti42/ObslugaEdmIti42WS_1.wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <con:settings/>
    <con:definitionCache type="TEXT" rootPart="file:/C:/BitBucket/p1-sgz-testy-systemowe-source3/integrationTests/src/test/resources/soapUi/Projekt-testow-dla-integratorow/Projekt-testow-zdarzenia-medyczne/wsdl/edm/iti42/ObslugaEdmIti42WS_1.wsdl">
      <con:part>
        <con:url>file:/C:/BitBucket/p1-sgz-testy-systemowe-source3/integrationTests/src/test/resources/soapUi/Projekt-testow-dla-integratorow/Projekt-testow-zdarzenia-medyczne/wsdl/edm/iti42/ObslugaEdmIti42WS_1.wsdl</con:url>
        <con:content><![CDATA[<wsdl:definitions targetNamespace="urn:ihe:iti:xds-b:2007" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns="http://schemas.xmlsoap.org/wsdl/" xmlns:rs="urn:oasis:names:tc:ebxml-regrep:xsd:rs:3.0" xmlns:wsaw="http://www.w3.org/2006/05/addressing/wsdl" xmlns:ihe="urn:ihe:iti:xds-b:2007" xmlns:mime="http://schemas.xmlsoap.org/wsdl/mime/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap12="http://schemas.xmlsoap.org/wsdl/soap12/" xmlns:wsp="http://www.w3.org/ns/ws-policy" xmlns:lcm="urn:oasis:names:tc:ebxml-regrep:xsd:lcm:3.0" xmlns:http="http://schemas.xmlsoap.org/wsdl/http/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:wsam="http://www.w3.org/2007/05/addressing/metadata">
  <wsp:Policy wsu:Id="wss_ds_assertion_policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
    <wsp:ExactlyOne>
      <wsp:All>
        <sp:AsymmetricBinding xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
          <wsp:Policy>
            <sp:InitiatorToken>
              <wsp:Policy>
                <sp:X509Token sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/AlwaysToRecipient">
                  <wsp:Policy>
                    <sp:WssX509V3Token10/>
                  </wsp:Policy>
                </sp:X509Token>
              </wsp:Policy>
            </sp:InitiatorToken>
            <sp:RecipientToken>
              <wsp:Policy>
                <sp:X509Token sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/Never">
                  <wsp:Policy>
                    <sp:WssX509V3Token10/>
                  </wsp:Policy>
                </sp:X509Token>
              </wsp:Policy>
            </sp:RecipientToken>
            <sp:AlgorithmSuite>
              <wsp:Policy>
                <sp:Basic256Sha256Rsa15/>
              </wsp:Policy>
            </sp:AlgorithmSuite>
            <sp:Layout>
              <wsp:Policy>
                <sp:Lax/>
              </wsp:Policy>
            </sp:Layout>
            <sp:OnlySignEntireHeadersAndBody/>
          </wsp:Policy>
        </sp:AsymmetricBinding>
        <sp:SupportingTokens xmlns:sp="http://schemas.xmlsoap.org/ws/2005/07/securitypolicy">
          <wsp:Policy>
            <sp:IssuedToken sp:IncludeToken="http://schemas.xmlsoap.org/ws/2005/07/securitypolicy/IncludeToken/AlwaysToRecipient">
              <sp:RequestSecurityTokenTemplate>
                <t:TokenType xmlns:t="http://schemas.xmlsoap.org/ws/2005/02/trust">urn:oasis:names:tc:SAML:2.0:assertion</t:TokenType>
              </sp:RequestSecurityTokenTemplate>
            </sp:IssuedToken>
          </wsp:Policy>
        </sp:SupportingTokens>
        <sp:Wss10 xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
          <sp:Policy>
            <sp:MustSupportRefKeyIdentifier/>
            <sp:MustSupportRefIssuerSerial/>
          </sp:Policy>
        </sp:Wss10>
        <sp:SignedParts xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
          <sp:Body/>
        </sp:SignedParts>
      </wsp:All>
    </wsp:ExactlyOne>
  </wsp:Policy>
  <wsdl:documentation>IHE XDS.b Document Registry = ITI-42 adaptor = Register Document Set.b</wsdl:documentation>
  <wsdl:types>
    <xsd:schema attributeFormDefault="unqualified" elementFormDefault="qualified">
      <xsd:import namespace="urn:oasis:names:tc:ebxml-regrep:xsd:rs:3.0" schemaLocation="ObslugaEdmIti42WS.xsd"/>
      <xsd:import namespace="urn:oasis:names:tc:ebxml-regrep:xsd:lcm:3.0" schemaLocation="ObslugaEdmIti42WS_1_2_3.xsd"/>
    </xsd:schema>
  </wsdl:types>
  <wsdl:message name="RegisterDocumentSet-b_Message">
    <wsdl:part name="body" element="lcm:SubmitObjectsRequest"/>
  </wsdl:message>
  <wsdl:message name="RegisterDocumentSet-bResponse_Message">
    <wsdl:part name="body" element="rs:RegistryResponse"/>
  </wsdl:message>
  <wsdl:portType name="ObslugaEdmIti42WSPortType">
    <wsdl:operation name="DocumentRegistry_RegisterDocumentSet-b">
      <wsdl:input message="ihe:RegisterDocumentSet-b_Message" wsp:PolicyURIs="#wss_ds_assertion_policy" wsaw:Action="urn:ihe:iti:2007:RegisterDocumentSet-b" xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy"/>
      <wsdl:output message="ihe:RegisterDocumentSet-bResponse_Message" wsaw:Action="urn:ihe:iti:2007:RegisterDocumentSet-bResponse"/>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="ObslugaEdmIti42WSSoap12Binding" type="ihe:ObslugaEdmIti42WSPortType">
    <soap12:binding transport="http://schemas.xmlsoap.org/soap/http" style="document"/>
    <wsdl:operation name="DocumentRegistry_RegisterDocumentSet-b">
      <soap12:operation soapAction="" style="document"/>
      <wsdl:input>
        <soap12:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap12:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="ObslugaEdmIti42WS">
    <wsdl:port name="ObslugaEdmIti42WSHttpSoap12Endpoint" binding="ihe:ObslugaEdmIti42WSSoap12Binding">
      <soap12:address location="http://p1tasus-sus:8280/services/ObslugaEdmIti42WS.ObslugaEdmIti42WSHttpSoap12Endpoint"/>
    </wsdl:port>
  </wsdl:service>
</wsdl:definitions>]]></con:content>
        <con:type>http://schemas.xmlsoap.org/wsdl/</con:type>
      </con:part>
      <con:part>
        <con:url>file:\C:\BitBucket\p1-sgz-testy-systemowe-source3\integrationTests\src\test\resources\soapUi\Projekt-testow-dla-integratorow\Projekt-testow-zdarzenia-medyczne\wsdl\edm\iti42\ObslugaEdmIti42WS.xsd</con:url>
        <con:content><![CDATA[<schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="urn:oasis:names:tc:ebxml-regrep:xsd:rs:3.0" xmlns="http://www.w3.org/2001/XMLSchema" xmlns:rim="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0" xmlns:tns="urn:oasis:names:tc:ebxml-regrep:xsd:rs:3.0">
  <annotation>
    <documentation xml:lang="en">The schema for OASIS ebXML Registry Services</documentation>
  </annotation>
  <import namespace="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0" schemaLocation="ObslugaEdmIti42WS_1.xsd"/>
  <complexType name="RegistryRequestType">
    <annotation>
      <documentation xml:lang="en">Base type for all ebXML Registry requests</documentation>
    </annotation>
    <sequence>
      <element minOccurs="0" name="RequestSlotList" type="rim:SlotListType"/>
    </sequence>
    <attribute name="id" type="anyURI" use="optional"/>
    <attribute name="comment" type="string" use="optional"/>
  </complexType>
  <element name="RegistryRequest" type="tns:RegistryRequestType"/>
  <element name="RegistryErrorList">
    <annotation>
      <documentation xml:lang="en">The RegistryErrorList is derived from the ErrorList element from the ebXML Message Service Specification</documentation>
    </annotation>
    <complexType>
      <sequence>
        <element maxOccurs="unbounded" ref="tns:RegistryError"/>
      </sequence>
      <attribute name="highestSeverity" type="rim:referenceURI" use="optional"/>
    </complexType>
  </element>
  <element name="RegistryError">
    <complexType>
      <simpleContent>
        <extension base="string">
          <attribute name="codeContext" type="string" use="required"/>
          <attribute name="errorCode" type="string" use="required"/>
          <attribute default="urn:oasis:names:tc:ebxml-regrep:ErrorSeverityType:Error" name="severity" type="rim:referenceURI"/>
          <attribute name="location" type="string" use="optional"/>
        </extension>
      </simpleContent>
    </complexType>
  </element>
  <complexType name="RegistryResponseType">
    <annotation>
      <documentation xml:lang="en">Base type for all ebXML Registry responses</documentation>
    </annotation>
    <sequence>
      <element minOccurs="0" name="ResponseSlotList" type="rim:SlotListType"/>
      <element minOccurs="0" ref="tns:RegistryErrorList"/>
    </sequence>
    <attribute name="status" type="rim:referenceURI" use="required"/>
    <attribute name="requestId" type="anyURI" use="optional"/>
  </complexType>
  <element name="RegistryResponse" type="tns:RegistryResponseType"/>
</schema>]]></con:content>
        <con:type>http://www.w3.org/2001/XMLSchema</con:type>
      </con:part>
      <con:part>
        <con:url>file:\C:\BitBucket\p1-sgz-testy-systemowe-source3\integrationTests\src\test\resources\soapUi\Projekt-testow-dla-integratorow\Projekt-testow-zdarzenia-medyczne\wsdl\edm\iti42\ObslugaEdmIti42WS_1.xsd</con:url>
        <con:content><![CDATA[<schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0" xmlns="http://www.w3.org/2001/XMLSchema" xmlns:tns="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0">
  <annotation>
    <documentation xml:lang="en">The schema for OASIS ebXML Registry Information Model</documentation>
  </annotation>
  <import namespace="http://www.w3.org/XML/1998/namespace" schemaLocation="ObslugaEdmIti42WS_1_2.xsd"/>
  <simpleType name="referenceURI">
    <annotation>
      <documentation xml:lang="en">referenceURI is used by reference attributes within RIM.
        Each attribute of type referenceURI references a RegistryObject with
        specified URI as id.</documentation>
    </annotation>
    <restriction base="anyURI"/>
  </simpleType>
  <simpleType name="String4">
    <restriction base="string">
      <maxLength value="4"/>
    </restriction>
  </simpleType>
  <simpleType name="String8">
    <restriction base="string">
      <maxLength value="8"/>
    </restriction>
  </simpleType>
  <simpleType name="String16">
    <restriction base="string">
      <maxLength value="16"/>
    </restriction>
  </simpleType>
  <simpleType name="String32">
    <restriction base="string">
      <maxLength value="32"/>
    </restriction>
  </simpleType>
  <simpleType name="ShortName">
    <restriction base="string">
      <maxLength value="64"/>
    </restriction>
  </simpleType>
  <simpleType name="LongName">
    <restriction base="string">
      <maxLength value="256"/>
    </restriction>
  </simpleType>
  <simpleType name="FreeFormText">
    <restriction base="string">
      <maxLength value="1024"/>
    </restriction>
  </simpleType>
  <complexType name="InternationalStringType">
    <sequence maxOccurs="unbounded" minOccurs="0">
      <element ref="tns:LocalizedString"/>
    </sequence>
  </complexType>
  <element name="InternationalString" type="tns:InternationalStringType"/>
  <element name="Name" type="tns:InternationalStringType"/>
  <element name="Description" type="tns:InternationalStringType"/>
  <complexType name="LocalizedStringType">
    <attribute default="en-US" ref="xml:lang"/>
    <attribute default="UTF-8" name="charset"/>
    <attribute name="value" type="tns:FreeFormText" use="required"/>
  </complexType>
  <element name="LocalizedString" type="tns:LocalizedStringType"/>
  <complexType name="SlotType1">
    <sequence>
      <element ref="tns:ValueList"/>
    </sequence>
    <attribute name="name" type="tns:LongName" use="required"/>
    <attribute name="slotType" type="tns:referenceURI" use="optional"/>
  </complexType>
  <element name="Slot" type="tns:SlotType1"/>
  <complexType name="ValueListType">
    <sequence maxOccurs="unbounded" minOccurs="0">
      <element ref="tns:Value"/>
    </sequence>
  </complexType>
  <element name="ValueList" type="tns:ValueListType"/>
  <element name="Value" type="tns:LongName"/>
  <complexType name="SlotListType">
    <sequence>
      <element maxOccurs="unbounded" minOccurs="0" ref="tns:Slot"/>
    </sequence>
  </complexType>
  <element name="SlotList" type="tns:SlotListType"/>
  <complexType name="IdentifiableType">
    <annotation>
      <documentation xml:lang="en">Common base type for all types that have unique identity.     
        If id is provided and is not in proper URN syntax then it is used for
        linkage within document and is ignored by the registry. In this case the
        registry generates a UUID URN for id attribute.
        id must not be null when object is retrieved from the registry.</documentation>
    </annotation>
    <sequence>
      <element maxOccurs="unbounded" minOccurs="0" ref="tns:Slot"/>
    </sequence>
    <attribute name="id" type="anyURI" use="required"/>
    <attribute name="home" type="anyURI" use="optional"/>
  </complexType>
  <element name="Identifiable" type="tns:IdentifiableType"/>
  <complexType name="ObjectRefType">
    <annotation>
      <documentation xml:lang="en">Use to reference an Object by its id.
        Specifies the id attribute of the object as its id attribute.
        id attribute in ObjectAttributes is exactly the same syntax and semantics as
        id attribute in RegistryObject.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:IdentifiableType">
        <attribute default="false" name="createReplica" type="boolean"/>
      </extension>
    </complexContent>
  </complexType>
  <complexType name="ObjectRefListType">
    <sequence maxOccurs="unbounded" minOccurs="0">
      <element ref="tns:ObjectRef"/>
    </sequence>
  </complexType>
  <element name="ObjectRefList" type="tns:ObjectRefListType"/>
  <element name="ObjectRef" substitutionGroup="tns:Identifiable" type="tns:ObjectRefType"/>
  <complexType name="RegistryObjectType">
    <complexContent>
      <extension base="tns:IdentifiableType">
        <sequence minOccurs="0">
          <element minOccurs="0" ref="tns:Name"/>
          <element minOccurs="0" ref="tns:Description"/>
          <element minOccurs="0" name="VersionInfo" type="tns:VersionInfoType"/>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:Classification"/>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:ExternalIdentifier"/>
        </sequence>
        <attribute name="lid" type="anyURI" use="optional"/>
        <attribute name="objectType" type="tns:referenceURI" use="optional"/>
        <attribute name="status" type="tns:referenceURI" use="optional"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="RegistryObject" substitutionGroup="tns:Identifiable" type="tns:RegistryObjectType"/>
  <complexType name="RegistryObjectListType">
    <sequence>
      <element maxOccurs="unbounded" minOccurs="0" ref="tns:Identifiable"/>
    </sequence>
  </complexType>
  <element name="RegistryObjectList" type="tns:RegistryObjectListType"/>
  <complexType name="AssociationType1">
    <annotation>
      <documentation xml:lang="en">Association is the mapping of the same named interface in ebRIM.
        It extends RegistryObject.
        An Association specifies references to two previously submitted
        registry entrys.
        The sourceObject is id of the sourceObject in association
        The targetObject is id of the targetObject in association</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <attribute name="associationType" type="tns:referenceURI" use="required"/>
        <attribute name="sourceObject" type="tns:referenceURI" use="required"/>
        <attribute name="targetObject" type="tns:referenceURI" use="required"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="Association" substitutionGroup="tns:Identifiable" type="tns:AssociationType1"/>
  <complexType name="AuditableEventType">
    <annotation>
      <documentation xml:lang="en">An Event that forms an audit trail in ebXML Registry.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element name="affectedObjects" type="tns:ObjectRefListType"/>
        </sequence>
        <attribute name="eventType" type="tns:referenceURI" use="required"/>
        <attribute name="timestamp" type="dateTime" use="required"/>
        <attribute name="user" type="tns:referenceURI" use="required"/>
        <attribute name="requestId" type="tns:referenceURI" use="required"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="AuditableEvent" substitutionGroup="tns:Identifiable" type="tns:AuditableEventType"/>
  <complexType name="ClassificationType">
    <annotation>
      <documentation xml:lang="en">Classification is the mapping of the same named interface in ebRIM.
        It extends RegistryObject.
        A Classification specifies references to two registry entrys.
        The classifiedObject is id of the Object being classified.
        The classificationNode is id of the ClassificationNode classying the object</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <attribute name="classificationScheme" type="tns:referenceURI" use="optional"/>
        <attribute name="classifiedObject" type="tns:referenceURI" use="required"/>
        <attribute name="classificationNode" type="tns:referenceURI" use="optional"/>
        <attribute name="nodeRepresentation" type="tns:LongName" use="optional"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="Classification" substitutionGroup="tns:Identifiable" type="tns:ClassificationType"/>
  <complexType name="ClassificationNodeType">
    <annotation>
      <documentation xml:lang="en">ClassificationNode is the mapping of the same named interface in ebRIM.
        It extends RegistryObject.
        ClassificationNode is used to submit a Classification tree to the Registry.
        The parent attribute is the id to the parent node. code is an optional code value for a ClassificationNode
        often defined by an external taxonomy (e.g. NAICS)</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:ClassificationNode"/>
        </sequence>
        <attribute name="parent" type="tns:referenceURI" use="optional"/>
        <attribute name="code" type="tns:LongName" use="optional"/>
        <attribute name="path" type="string" use="optional"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="ClassificationNode" substitutionGroup="tns:Identifiable" type="tns:ClassificationNodeType"/>
  <complexType name="ClassificationSchemeType">
    <annotation>
      <documentation xml:lang="en">ClassificationScheme is the mapping of the same named interface in ebRIM.
        It extends RegistryObject.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:ClassificationNode"/>
        </sequence>
        <attribute name="isInternal" type="boolean" use="required"/>
        <attribute name="nodeType" type="tns:referenceURI" use="required"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="ClassificationScheme" substitutionGroup="tns:Identifiable" type="tns:ClassificationSchemeType"/>
  <complexType name="ExternalIdentifierType">
    <annotation>
      <documentation xml:lang="en">ExternalIdentifier is the mapping of the same named interface in ebRIM.
        It extends RegistryObject.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <attribute name="registryObject" type="tns:referenceURI" use="required"/>
        <attribute name="identificationScheme" type="tns:referenceURI" use="required"/>
        <attribute name="value" type="tns:LongName" use="required"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="ExternalIdentifier" substitutionGroup="tns:Identifiable" type="tns:ExternalIdentifierType"/>
  <complexType name="ExternalLinkType">
    <annotation>
      <documentation xml:lang="en">ExternalLink is the mapping of the same named interface in ebRIM.
        It extends RegistryObject.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <attribute name="externalURI" type="anyURI" use="required"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="ExternalLink" substitutionGroup="tns:Identifiable" type="tns:ExternalLinkType"/>
  <complexType name="ExtrinsicObjectType">
    <annotation>
      <documentation xml:lang="en">ExtrinsicObject is the mapping of the same named interface in ebRIM.
        It extends RegistryObject.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element minOccurs="0" name="ContentVersionInfo" type="tns:VersionInfoType"/>
        </sequence>
        <attribute default="application/octet-stream" name="mimeType" type="tns:LongName"/>
        <attribute default="false" name="isOpaque" type="boolean"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="ExtrinsicObject" substitutionGroup="tns:Identifiable" type="tns:ExtrinsicObjectType"/>
  <element name="Address" type="tns:PostalAddressType"/>
  <complexType name="OrganizationType">
    <annotation>
      <documentation xml:lang="en">Mapping of the same named interface in ebRIM.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:Address"/>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:TelephoneNumber"/>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:EmailAddress"/>
        </sequence>
        <attribute name="parent" type="tns:referenceURI"/>
        <attribute name="primaryContact" type="tns:referenceURI" use="optional"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="Organization" substitutionGroup="tns:Identifiable" type="tns:OrganizationType"/>
  <complexType name="PersonNameType">
    <annotation>
      <documentation xml:lang="en">Mapping of the same named interface in ebRIM.</documentation>
    </annotation>
    <attribute name="firstName" type="tns:ShortName" use="optional"/>
    <attribute name="middleName" type="tns:ShortName" use="optional"/>
    <attribute name="lastName" type="tns:ShortName" use="optional"/>
  </complexType>
  <element name="PersonName" type="tns:PersonNameType"/>
  <complexType name="EmailAddressType">
    <annotation>
      <documentation xml:lang="en">Mapping of the same named interface in ebRIM.</documentation>
    </annotation>
    <attribute name="address" type="tns:ShortName" use="required"/>
    <attribute name="type" type="tns:String32" use="optional"/>
  </complexType>
  <element name="EmailAddress" type="tns:EmailAddressType"/>
  <complexType name="PostalAddressType">
    <annotation>
      <documentation xml:lang="en">Mapping of the same named interface in ebRIM.</documentation>
    </annotation>
    <attribute name="city" type="tns:ShortName" use="optional"/>
    <attribute name="country" type="tns:ShortName" use="optional"/>
    <attribute name="postalCode" type="tns:ShortName" use="optional"/>
    <attribute name="stateOrProvince" type="tns:ShortName" use="optional"/>
    <attribute name="street" type="tns:ShortName" use="optional"/>
    <attribute name="streetNumber" type="tns:String32" use="optional"/>
  </complexType>
  <element name="PostalAddress" type="tns:PostalAddressType"/>
  <complexType name="VersionInfoType">
    <attribute default="1.1" name="versionName" type="tns:String16" use="optional"/>
    <attribute name="comment" type="string" use="optional"/>
  </complexType>
  <complexType name="RegistryPackageType">
    <annotation>
      <documentation xml:lang="en">RegistryPackage is the mapping of the same named interface in ebRIM.
        It extends RegistryObject.
        A RegistryPackage is a named collection of objects.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element minOccurs="0" ref="tns:RegistryObjectList"/>
        </sequence>
      </extension>
    </complexContent>
  </complexType>
  <element name="RegistryPackage" substitutionGroup="tns:Identifiable" type="tns:RegistryPackageType"/>
  <complexType name="ServiceType">
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:ServiceBinding"/>
        </sequence>
      </extension>
    </complexContent>
  </complexType>
  <element name="Service" substitutionGroup="tns:Identifiable" type="tns:ServiceType"/>
  <complexType name="ServiceBindingType">
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:SpecificationLink"/>
        </sequence>
        <attribute name="service" type="tns:referenceURI" use="required"/>
        <attribute name="accessURI" type="anyURI" use="optional"/>
        <attribute name="targetBinding" type="tns:referenceURI" use="optional"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="ServiceBinding" substitutionGroup="tns:Identifiable" type="tns:ServiceBindingType"/>
  <complexType name="SpecificationLinkType">
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element minOccurs="0" ref="tns:UsageDescription"/>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:UsageParameter"/>
        </sequence>
        <attribute name="serviceBinding" type="tns:referenceURI" use="required"/>
        <attribute name="specificationObject" type="tns:referenceURI" use="required"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="SpecificationLink" substitutionGroup="tns:Identifiable" type="tns:SpecificationLinkType"/>
  <element name="UsageDescription" type="tns:InternationalStringType"/>
  <element name="UsageParameter" type="tns:FreeFormText"/>
  <complexType name="TelephoneNumberType">
    <annotation>
      <documentation xml:lang="en">TelephoneNumber is the mapping of the same named interface in ebRIM.</documentation>
    </annotation>
    <attribute name="areaCode" type="tns:String8" use="optional"/>
    <attribute name="countryCode" type="tns:String8" use="optional"/>
    <attribute name="extension" type="tns:String8" use="optional"/>
    <attribute name="number" type="tns:String16" use="optional"/>
    <attribute name="phoneType" type="tns:String32" use="optional"/>
  </complexType>
  <element name="TelephoneNumber" type="tns:TelephoneNumberType"/>
  <complexType name="TelephoneNumberListType">
    <sequence>
      <element maxOccurs="unbounded" minOccurs="0" ref="tns:TelephoneNumber"/>
    </sequence>
  </complexType>
  <complexType name="PersonType">
    <annotation>
      <documentation xml:lang="en">Mapping of the same named interface in ebRIM.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:Address"/>
          <element minOccurs="0" ref="tns:PersonName"/>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:TelephoneNumber"/>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:EmailAddress"/>
        </sequence>
      </extension>
    </complexContent>
  </complexType>
  <element name="Person" substitutionGroup="tns:Identifiable" type="tns:PersonType"/>
  <complexType name="UserType">
    <annotation>
      <documentation xml:lang="en">Mapping of the same named interface in ebRIM.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:PersonType"/>
    </complexContent>
  </complexType>
  <element name="User" substitutionGroup="tns:Identifiable" type="tns:UserType"/>
  <complexType name="RegistryType">
    <annotation>
      <documentation xml:lang="en">Mapping of the same named interface in ebRIM.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <attribute name="operator" type="tns:referenceURI" use="required"/>
        <attribute name="specificationVersion" type="string" use="required"/>
        <attribute default="P1D" name="replicationSyncLatency" type="duration" use="optional"/>
        <attribute default="P1D" name="catalogingLatency" type="duration" use="optional"/>
        <attribute default="registryLite" name="conformanceProfile" use="optional">
          <simpleType>
            <restriction base="NCName">
              <enumeration value="registryFull"/>
              <enumeration value="registryLite"/>
            </restriction>
          </simpleType>
        </attribute>
      </extension>
    </complexContent>
  </complexType>
  <element name="Registry" substitutionGroup="tns:Identifiable" type="tns:RegistryType"/>
  <complexType name="FederationType">
    <annotation>
      <documentation xml:lang="en">Mapping of the same named interface in ebRIM.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <attribute default="P1D" name="replicationSyncLatency" type="duration" use="optional"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="Federation" substitutionGroup="tns:Identifiable" type="tns:FederationType"/>
  <complexType name="AdhocQueryType">
    <annotation>
      <documentation xml:lang="en">A registry query.
      A QueryExpression child element is not required when invoking a stored query.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element minOccurs="0" ref="tns:QueryExpression"/>
        </sequence>
      </extension>
    </complexContent>
  </complexType>
  <element name="AdhocQuery" substitutionGroup="tns:RegistryObject" type="tns:AdhocQueryType"/>
  <complexType mixed="true" name="QueryExpressionType">
    <sequence>
      <any minOccurs="0" namespace="##other" processContents="lax"/>
    </sequence>
    <attribute name="queryLanguage" type="tns:referenceURI" use="required"/>
  </complexType>
  <element name="QueryExpression" type="tns:QueryExpressionType"/>
  <complexType name="NotificationType">
    <annotation>
      <documentation>Notification of registry events.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element ref="tns:RegistryObjectList"/>
        </sequence>
        <attribute name="subscription" type="tns:referenceURI" use="required"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="Notification" type="tns:NotificationType"/>
  <element name="Action" type="tns:ActionType"/>
  <complexType name="SubscriptionType">
    <annotation>
      <documentation xml:lang="en">A Subscription for specified Events in an ebXML V3+ registry.</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:RegistryObjectType">
        <sequence>
          <element maxOccurs="unbounded" minOccurs="0" ref="tns:Action"/>
        </sequence>
        <attribute name="selector" type="tns:referenceURI" use="required"/>
        <attribute name="startTime" type="dateTime" use="optional"/>
        <attribute name="endTime" type="dateTime" use="optional"/>
        <attribute default="P1D" name="notificationInterval" type="duration" use="optional"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="Subscription" substitutionGroup="tns:Identifiable" type="tns:SubscriptionType"/>
  <complexType abstract="true" name="ActionType">
    <annotation>
      <documentation>Abstract Base type for all types of Actions.</documentation>
    </annotation>
  </complexType>
  <complexType name="NotifyActionType">
    <annotation>
      <documentation xml:lang="en">Abstract Base type for all types of Notify Actions</documentation>
    </annotation>
    <complexContent>
      <extension base="tns:ActionType">
        <attribute default="urn:oasis:names:tc:ebxml-regrep:NotificationOptionType:ObjectRefs" name="notificationOption" type="tns:referenceURI"/>
        <attribute name="endPoint" type="anyURI" use="required"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="NotifyAction" substitutionGroup="tns:Action" type="tns:NotifyActionType"/>
</schema>]]></con:content>
        <con:type>http://www.w3.org/2001/XMLSchema</con:type>
      </con:part>
      <con:part>
        <con:url>file:\C:\BitBucket\p1-sgz-testy-systemowe-source3\integrationTests\src\test\resources\soapUi\Projekt-testow-dla-integratorow\Projekt-testow-zdarzenia-medyczne\wsdl\edm\iti42\ObslugaEdmIti42WS_1_2.xsd</con:url>
        <con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="unqualified" targetNamespace="http://www.w3.org/XML/1998/namespace" xml:lang="en" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://www.w3.org/1999/xhtml">
  <xs:annotation>
    <xs:documentation/>
  </xs:annotation>
  <xs:attribute name="lang">
    <xs:annotation>
      <xs:documentation/>
    </xs:annotation>
    <xs:simpleType>
      <xs:union memberTypes="xs:language">
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:enumeration value=""/>
          </xs:restriction>
        </xs:simpleType>
      </xs:union>
    </xs:simpleType>
  </xs:attribute>
  <xs:attribute name="space">
    <xs:annotation>
      <xs:documentation/>
    </xs:annotation>
    <xs:simpleType>
      <xs:restriction base="xs:NCName">
        <xs:enumeration value="default"/>
        <xs:enumeration value="preserve"/>
      </xs:restriction>
    </xs:simpleType>
  </xs:attribute>
  <xs:attribute name="base" type="xs:anyURI">
    <xs:annotation>
      <xs:documentation/>
    </xs:annotation>
  </xs:attribute>
  <xs:attribute name="id" type="xs:ID">
    <xs:annotation>
      <xs:documentation/>
    </xs:annotation>
  </xs:attribute>
  <xs:attributeGroup name="specialAttrs">
    <xs:attribute ref="xml:base"/>
    <xs:attribute ref="xml:lang"/>
    <xs:attribute ref="xml:space"/>
    <xs:attribute ref="xml:id"/>
  </xs:attributeGroup>
</xs:schema>]]></con:content>
        <con:type>http://www.w3.org/2001/XMLSchema</con:type>
      </con:part>
      <con:part>
        <con:url>file:\C:\BitBucket\p1-sgz-testy-systemowe-source3\integrationTests\src\test\resources\soapUi\Projekt-testow-dla-integratorow\Projekt-testow-zdarzenia-medyczne\wsdl\edm\iti42\ObslugaEdmIti42WS_1_2_3.xsd</con:url>
        <con:content><![CDATA[<schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="urn:oasis:names:tc:ebxml-regrep:xsd:lcm:3.0" xmlns="http://www.w3.org/2001/XMLSchema" xmlns:rs="urn:oasis:names:tc:ebxml-regrep:xsd:rs:3.0" xmlns:rim="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0" xmlns:tns="urn:oasis:names:tc:ebxml-regrep:xsd:lcm:3.0">
  <annotation>
    <documentation xml:lang="en">The schema for OASIS ebXML Registry Services</documentation>
  </annotation>
  <import namespace="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0" schemaLocation="ObslugaEdmIti42WS_1.xsd"/>
  <import namespace="urn:oasis:names:tc:ebxml-regrep:xsd:rs:3.0" schemaLocation="ObslugaEdmIti42WS.xsd"/>
  <element name="SubmitObjectsRequest">
    <annotation>
      <documentation xml:lang="en">The SubmitObjectsRequest allows one to submit a list of RegistryObject elements. Each RegistryEntry element provides metadata for a single submitted object.  Note that the repository item being submitted is in a separate document that is not in this DTD. The ebXML Messaging Services Specfication defines packaging, for submission, of the metadata of a repository item with the repository item itself. The value of the id attribute of the ExtrinsicObject element must be the same as the xlink:href attribute within the Reference element within the Manifest element of the MessageHeader.</documentation>
    </annotation>
    <complexType>
      <complexContent>
        <extension base="rs:RegistryRequestType">
          <sequence>
            <element ref="rim:RegistryObjectList"/>
          </sequence>
        </extension>
      </complexContent>
    </complexType>
  </element>
  <element name="UpdateObjectsRequest">
    <annotation>
      <documentation xml:lang="en">The UpdateObjectsRequest allows one to update a list of RegistryObject elements. Each RegistryEntry element provides metadata for a single submitted object.  Note that the repository item being submitted is in a separate document that is not in this DTD. The ebXML Messaging Services Specfication defines packaging, for submission, of the metadata of a repository item with the repository item itself. The value of the id attribute of the ExtrinsicObject element must be the same as the xlink:href attribute within the Reference element within the Manifest element of the MessageHeader.</documentation>
    </annotation>
    <complexType>
      <complexContent>
        <extension base="rs:RegistryRequestType">
          <sequence>
            <element ref="rim:RegistryObjectList"/>
          </sequence>
        </extension>
      </complexContent>
    </complexType>
  </element>
  <element name="ApproveObjectsRequest">
    <annotation>
      <documentation xml:lang="en">The ObjectRefList and AdhocQuery identify the list of
        objects being approved.</documentation>
    </annotation>
    <complexType>
      <complexContent>
        <extension base="rs:RegistryRequestType">
          <sequence>
            <element minOccurs="0" ref="rim:AdhocQuery"/>
            <element minOccurs="0" ref="rim:ObjectRefList"/>
          </sequence>
        </extension>
      </complexContent>
    </complexType>
  </element>
  <element name="DeprecateObjectsRequest">
    <annotation>
      <documentation xml:lang="en">The ObjectRefList and AdhocQuery identify the list of
        objects being deprecated.</documentation>
    </annotation>
    <complexType>
      <complexContent>
        <extension base="rs:RegistryRequestType">
          <sequence>
            <element minOccurs="0" ref="rim:AdhocQuery"/>
            <element minOccurs="0" ref="rim:ObjectRefList"/>
          </sequence>
        </extension>
      </complexContent>
    </complexType>
  </element>
  <element name="UndeprecateObjectsRequest">
    <annotation>
      <documentation xml:lang="en">The ObjectRefList is the list of
        refs to the registry entrys being un-deprecated.</documentation>
    </annotation>
    <complexType>
      <complexContent>
        <extension base="rs:RegistryRequestType">
          <sequence>
            <element minOccurs="0" ref="rim:AdhocQuery"/>
            <element minOccurs="0" ref="rim:ObjectRefList"/>
          </sequence>
        </extension>
      </complexContent>
    </complexType>
  </element>
  <element name="RemoveObjectsRequest">
    <annotation>
      <documentation xml:lang="en">The ObjectRefList is the list of
        refs to the registry entrys being removed</documentation>
    </annotation>
    <complexType>
      <complexContent>
        <extension base="rs:RegistryRequestType">
          <sequence>
            <element minOccurs="0" ref="rim:AdhocQuery"/>
            <element minOccurs="0" ref="rim:ObjectRefList"/>
          </sequence>
          <attribute default="urn:oasis:names:tc:ebxml-regrep:DeletionScopeType:DeleteAll" name="deletionScope" type="rim:referenceURI" use="optional"/>
        </extension>
      </complexContent>
    </complexType>
  </element>
  <element name="RelocateObjectsRequest">
    <complexType>
      <complexContent>
        <extension base="rs:RegistryRequestType">
          <sequence>
            <element ref="rim:AdhocQuery"/>
            <element name="SourceRegistry" type="rim:ObjectRefType"/>
            <element name="DestinationRegistry" type="rim:ObjectRefType"/>
            <element name="OwnerAtSource" type="rim:ObjectRefType"/>
            <element name="OwnerAtDestination" type="rim:ObjectRefType"/>
          </sequence>
        </extension>
      </complexContent>
    </complexType>
  </element>
  <element name="AcceptObjectsRequest">
    <complexType>
      <complexContent>
        <extension base="rs:RegistryRequestType">
          <attribute name="correlationId" type="anyURI" use="required"/>
        </extension>
      </complexContent>
    </complexType>
  </element>
</schema>]]></con:content>
        <con:type>http://www.w3.org/2001/XMLSchema</con:type>
      </con:part>
    </con:definitionCache>
    <con:endpoints>
      <con:endpoint>http://p1tasus-sus:8280/services/ObslugaEdmIti42WS.ObslugaEdmIti42WSHttpSoap12Endpoint</con:endpoint>
    </con:endpoints>
    <con:operation id="3780f118-741d-4bad-b1e2-215c699c42bb" isOneWay="false" action="" name="DocumentRegistry_RegisterDocumentSet-b" bindingOperationName="DocumentRegistry_RegisterDocumentSet-b" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional">
      <con:settings/>
      <con:call id="10e78b77-27f4-4ddd-9761-d4c0bf4dc73d" name="Request 1">
        <con:settings/>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://p1tasus-sus:8280/services/ObslugaEdmIti42WS.ObslugaEdmIti42WSHttpSoap12Endpoint</con:endpoint>
        <con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:urn="urn:oasis:names:tc:ebxml-regrep:xsd:lcm:3.0" xmlns:urn1="urn:oasis:names:tc:ebxml-regrep:xsd:rs:3.0" xmlns:urn2="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0">\r
   <soap:Header/>\r
   <soap:Body>\r
      <urn:SubmitObjectsRequest id="?" comment="?">\r
         <!--Optional:-->\r
         <urn1:RequestSlotList>\r
            <!--Zero or more repetitions:-->\r
            <urn2:Slot name="?" slotType="?">\r
               <urn2:ValueList>\r
                  <urn2:Value>?</urn2:Value>\r
               </urn2:ValueList>\r
            </urn2:Slot>\r
         </urn1:RequestSlotList>\r
         <urn2:RegistryObjectList>\r
            <!--Zero or more repetitions:-->\r
            <urn2:Identifiable id="?" home="?">\r
               <!--Zero or more repetitions:-->\r
               <urn2:Slot name="?" slotType="?">\r
                  <urn2:ValueList>\r
                     <urn2:Value>?</urn2:Value>\r
                  </urn2:ValueList>\r
               </urn2:Slot>\r
            </urn2:Identifiable>\r
         </urn2:RegistryObjectList>\r
      </urn:SubmitObjectsRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:ihe:iti:2007:RegisterDocumentSet-b"/>
      </con:call>
    </con:operation>
  </con:interface>
  <con:testSuite id="de8c70ea-d640-46bf-8625-c0343ad75a36" name="Zapis, modyfikacja, wyszukanie, odczyt i anulowanie Zdrzenia Medycznego - pacjent z PESEL">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase id="b3a9d76e-0391-4811-bb58-ea5741a9c15b" failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Hospitalizacja pacjenta z numerem PESEL" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskanie tokenu dostpowego" id="6ddc4f87-8416-4690-bb4d-0debf8e352dc">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych" id="0289ec51-5ee0-4dc3-adb0-1ed7216a3240">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

String identyfikatorZdarzenia = java.util.UUID.randomUUID().toString()
String korelacjaIdentyfikator = java.util.UUID.randomUUID().toString()
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString()

def pracownikImieNazwisko = context.expand('${#Project#imieNazwiskoPracownika}')
def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')
def locationIdentyfikator = context.expand('${#Project#identyfikatorMiejscaSwiadczenia}')
def podmiotIdentyfikator = context.expand('${#Project#identyfikatorPodmiotu}')

def formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
def teraz = ZonedDateTime.now()
String data1 = teraz.minusHours(6).format(formatter)
String data2 = teraz.format(formatter)
String data3 = teraz.minusHours(3).format(formatter)

def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("zdarzenieDataPoczatek", data1)
dane.setPropertyValue("locationStart", data1)
dane.setPropertyValue("locationEnd", data3)
dane.setPropertyValue("przepustkaDataPoczatek", data3)
dane.setPropertyValue("przepustkaDataKoniec", data2)
dane.setPropertyValue("locationStart1", data2)
dane.setPropertyValue("podpisData", data2)
dane.setPropertyValue("identyfikatorZdarzenia", identyfikatorZdarzenia)
dane.setPropertyValue("korelacjaIdentyfikator", korelacjaIdentyfikator)
dane.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
dane.setPropertyValue("proceduraDataPoczatek", data1)
dane.setPropertyValue("proceduraDataKoniec", data2)
dane.setPropertyValue("rozpoznanieData", data2)
dane.setPropertyValue("pracownikImieNazwisko", pracownikImieNazwisko)
dane.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)
dane.setPropertyValue("locationIdentyfikator", locationIdentyfikator)
dane.setPropertyValue("podmiotIdentyfikator", podmiotIdentyfikator)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="7b29c3bf-c225-4291-87d2-73e0243b61cc">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>40010151673</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>Senior</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>Sylwester</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>Sylwester Senior</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>1940-01-01</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>540</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142127</con:value>
            </con:property>
            <con:property>
              <con:name>procedureId</con:name>
              <con:value>5142129</con:value>
            </con:property>
            <con:property>
              <con:name>conditionId</con:name>
              <con:value>5142131</con:value>
            </con:property>
            <con:property>
              <con:name>provenanceId</con:name>
              <con:value>5142133</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>b383ae50-fcee-44e5-877f-1d1fa3786fd3</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>71548da9-9fca-499c-891e-3b0bbabfac17</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>46d58c21-89e9-4c4a-bb74-67977301b9e0</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T05:33:34.913+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:33:58.093+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart</con:name>
              <con:value>2022-09-02T05:33:34.913+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart1</con:name>
              <con:value>2022-09-02T11:33:34.913+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>przepustkaDataPoczatek</con:name>
              <con:value>2022-09-02T08:33:34.913+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>przepustkaDataKoniec</con:name>
              <con:value>2022-09-02T11:33:34.913+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationEnd</con:name>
              <con:value>2022-09-02T08:33:34.913+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataPoczatek</con:name>
              <con:value>2022-09-02T05:33:34.913+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>rozpoznanieData</con:name>
              <con:value>2022-09-02T11:33:34.913+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>encounter</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
   <id value="5142127"/>
   <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:33:40.323+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <implicitRules value="16.3.3"/>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
      <value value="b383ae50-fcee-44e5-877f-1d1fa3786fd3"/>
   </identifier>
   <status value="in-progress"/>
   <statusHistory>
      <status value="onleave"/>
      <period>
         <start value="2022-09-02T08:33:34.913+02:00"/>
         <end value="2022-09-02T11:33:34.913+02:00"/>
      </period>
   </statusHistory>
   <class>
      <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
      <code value="1"/>
      <display value="Pobyt w oddziale szpitalnym"/>
   </class>
   <subject>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
         <valueReference>
            <identifier>
               <system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
               <value value="01"/>
            </identifier>
         </valueReference>
      </extension>
      <reference value="Patient/540"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
         <value value="40010151673"/>
      </identifier>
      <display value="Sylwester Senior"/>
   </subject>
   <episodeOfCare>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
         <value value="71548da9-9fca-499c-891e-3b0bbabfac17"/>
      </identifier>
   </episodeOfCare>
   <participant>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
         <valueCoding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
            <code value="11"/>
         </valueCoding>
      </extension>
      <individual>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
            <value value="2698040"/>
         </identifier>
         <display value="Monika Lecznicza"/>
      </individual>
   </participant>
   <period>
      <start value="2022-09-02T05:33:34.913+02:00"/>
   </period>
   <hospitalization>
      <admitSource>
         <coding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.3.24"/>
            <code value="3"/>
         </coding>
      </admitSource>
   </hospitalization>
   <location>
      <location>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
            <value value="000000012106-001"/>
         </identifier>
      </location>
      <period>
         <start value="2022-09-02T05:33:34.913+02:00"/>
         <end value="2022-09-02T08:33:34.913+02:00"/>
      </period>
   </location>
   <location>
      <location>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
            <value value="000000012106-001"/>
         </identifier>
      </location>
      <period>
         <start value="2022-09-02T11:33:34.913+02:00"/>
      </period>
   </location>
   <serviceProvider>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
         <valueReference>
            <identifier>
               <system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
               <value value="01"/>
            </identifier>
         </valueReference>
      </extension>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
         <value value="000000012106"/>
      </identifier>
   </serviceProvider>
</Encounter>]]></con:value>
            </con:property>
            <con:property>
              <con:name>encounterUpdated</con:name>
              <con:value><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<Encounter xmlns="http://hl7.org/fhir">
  <id value="5142127"/>
  <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:33:40.323+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
  </meta>
  <implicitRules value="16.3.3"/>
  <identifier>
      <system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
      <value value="b383ae50-fcee-44e5-877f-1d1fa3786fd3"/>
  </identifier>
  <status value="in-progress"/>
  <statusHistory>
      <status value="onleave"/>
      <period>
         <start value="2022-09-02T08:33:34.913+02:00"/>
         <end value="2022-09-02T11:33:34.913+02:00"/>
      </period>
  </statusHistory>
  <class>
      <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
      <code value="1"/>
      <display value="Pobyt w oddziale szpitalnym"/>
  </class>
  <subject>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
         <valueReference>
            <identifier>
               <system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
               <value value="01"/>
            </identifier>
         </valueReference>
      </extension>
      <reference value="Patient/540"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
         <value value="40010151673"/>
      </identifier>
      <display value="Sylwester Senior"/>
  </subject>
  <episodeOfCare>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
         <value value="71548da9-9fca-499c-891e-3b0bbabfac17"/>
      </identifier>
  </episodeOfCare>
  <basedOn>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.4.1"/>
         <value value="F9A43D68E3D74E24811CE5"/>
         <period>
            <start value="2019-08-26T10:00:00+02:00"/>
         </period>
      </identifier>
  </basedOn>
  <participant>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
         <valueCoding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
            <code value="11"/>
         </valueCoding>
      </extension>
      <individual>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
            <value value="2698040"/>
         </identifier>
         <display value="Monika Lecznicza"/>
      </individual>
  </participant>
  <period>
      <start value="2022-09-02T05:33:34.913+02:00"/>
  </period>
  <hospitalization>
      <admitSource>
         <coding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.3.24"/>
            <code value="3"/>
         </coding>
      </admitSource>
  </hospitalization>
  <location>
      <location>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
            <value value="000000012106-001"/>
         </identifier>
      </location>
      <period>
         <start value="2022-09-02T05:33:34.913+02:00"/>
         <end value="2022-09-02T08:33:34.913+02:00"/>
      </period>
  </location>
  <location>
      <location>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
            <value value="000000012106-001"/>
         </identifier>
      </location>
      <period>
         <start value="2022-09-02T11:33:34.913+02:00"/>
      </period>
  </location>
  <serviceProvider>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
         <valueReference>
            <identifier>
               <system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
               <value value="01"/>
            </identifier>
         </valueReference>
      </extension>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
         <value value="000000012106"/>
      </identifier>
  </serviceProvider>
</Encounter>]]></con:value>
            </con:property>
            <con:property>
              <con:name>procedure</con:name>
              <con:value><![CDATA[<Procedure xmlns="http://hl7.org/fhir">
   <id value="5142129"/>
   <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:33:40.776+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProcedure"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <implicitRules value="16.3.3"/>
   <status value="completed"/>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
         <code value="79.76"/>
         <display value="Zamknite nastawienie zwichnicia kolana"/>
      </coding>
   </code>
   <subject>
      <reference value="Patient/540"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
         <value value="40010151673"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142127"/>
      <type value="Encounter"/>
   </encounter>
   <performedPeriod>
      <start value="2022-09-02T05:33:34.913+02:00"/>
      <end value="2022-09-02T11:33:34.913+02:00"/>
   </performedPeriod>
   <asserter>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
         <valueCoding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
            <code value="11"/>
         </valueCoding>
      </extension>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
         <value value="2698040"/>
      </identifier>
      <display value="Monika Lecznicza"/>
   </asserter>
   <location>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
         <value value="000000012106-001"/>
      </identifier>
   </location>
</Procedure>]]></con:value>
            </con:property>
            <con:property>
              <con:name>procedureUpdated</con:name>
              <con:value><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<Procedure xmlns="http://hl7.org/fhir">
  <id value="5142129"/>
  <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:33:40.776+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProcedure"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
  </meta>
  <implicitRules value="16.3.3"/>
  <status value="completed"/>
  <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
         <code value="79.77"/>
         <display value="Zamknite nastawienie zwichnicia kostki"/>
      </coding>
  </code>
  <subject>
      <reference value="Patient/540"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
         <value value="40010151673"/>
      </identifier>
  </subject>
  <encounter>
      <reference value="Encounter/5142127"/>
      <type value="Encounter"/>
  </encounter>
  <performedPeriod>
      <start value="2022-09-02T05:33:34.913+02:00"/>
      <end value="2022-09-02T11:33:34.913+02:00"/>
  </performedPeriod>
  <asserter>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
         <valueCoding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
            <code value="11"/>
         </valueCoding>
      </extension>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
         <value value="2698040"/>
      </identifier>
      <display value="Monika Lecznicza"/>
  </asserter>
  <location>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
         <value value="000000012106-001"/>
      </identifier>
  </location>
</Procedure>]]></con:value>
            </con:property>
            <con:property>
              <con:name>condition</con:name>
              <con:value><![CDATA[<Condition xmlns="http://hl7.org/fhir">
   <id value="5142131"/>
   <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:33:41.269+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventDiagnosis"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <implicitRules value="16.3.3"/>
   <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLLocation">
      <valueIdentifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
         <value value="000000012106-001"/>
      </valueIdentifier>
   </extension>
   <category>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.78"/>
         <code value="main"/>
         <display value="Gwne"/>
      </coding>
   </category>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.6.3"/>
         <code value="J04.0"/>
         <display value="Acute laryngitis"/>
      </coding>
   </code>
   <bodySite>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.79"/>
         <code value="left"/>
         <display value="Lewa strona ciaa"/>
      </coding>
   </bodySite>
   <subject>
      <reference value="Patient/540"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
         <value value="40010151673"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142127"/>
      <type value="Encounter"/>
   </encounter>
   <recordedDate value="2022-09-02T11:33:34.913+02:00"/>
   <asserter>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
         <valueCoding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
            <code value="11"/>
         </valueCoding>
      </extension>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
         <value value="2698040"/>
      </identifier>
      <display value="Monika Lecznicza"/>
   </asserter>
</Condition>]]></con:value>
            </con:property>
            <con:property>
              <con:name>conditionUpdated</con:name>
              <con:value><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<Condition xmlns="http://hl7.org/fhir">
  <id value="5142131"/>
  <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:33:41.269+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventDiagnosis"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
  </meta>
  <implicitRules value="16.3.3"/>
  <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLLocation">
      <valueIdentifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
         <value value="000000012106-001"/>
      </valueIdentifier>
  </extension>
  <category>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.78"/>
         <code value="main"/>
         <display value="Gwne"/>
      </coding>
  </category>
  <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.6.3"/>
         <code value="J04.0"/>
         <display value="Ostre zapalenie krtani"/>
      </coding>
  </code>
  <bodySite>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.79"/>
         <code value="left"/>
         <display value="Lewa strona ciaa"/>
      </coding>
  </bodySite>
  <subject>
      <reference value="Patient/540"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
         <value value="40010151673"/>
      </identifier>
  </subject>
  <encounter>
      <reference value="Encounter/5142127"/>
      <type value="Encounter"/>
  </encounter>
  <recordedDate value="2022-09-02T11:33:34.913+02:00"/>
  <asserter>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
         <valueCoding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
            <code value="11"/>
         </valueCoding>
      </extension>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
         <value value="2698040"/>
      </identifier>
      <display value="Monika Lecznicza"/>
  </asserter>
</Condition>]]></con:value>
            </con:property>
            <con:property>
              <con:name>provenance</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
   <id value="5142133"/>
   <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:33:57.454+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <implicitRules value="16.3.3"/>
   <target>
      <reference value="Patient/540"/>
      <type value="Patient"/>
   </target>
   <target>
      <reference value="Encounter/5142127"/>
      <type value="Encounter"/>
   </target>
   <target>
      <reference value="Condition/5142131"/>
      <type value="Condition"/>
   </target>
   <target>
      <reference value="Procedure/5142129"/>
      <type value="Procedure"/>
   </target>
   <recorded value="2022-09-02T11:33:34.913+02:00"/>
   <agent>
      <who>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
            <value value="000000012106"/>
         </identifier>
      </who>
   </agent>
   <signature>
      <type>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
         <code value="1.2.840.10065.1.12.1.14"/>
      </type>
      <when value="2022-09-02T11:33:34.913+02:00"/>
      <who>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
            <value value="000000012106"/>
         </identifier>
      </who>
      <targetFormat value="application/fhir+xml"/>
      <sigFormat value="application/signature+xml"/>
      <data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy01YjA5OWYxOC04N2M1LTQwMGEtOWZiYi1mNzcxNTcwMWU5ZTUiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNWIwOTlmMTgtODdjNS00MDBhLTlmYmItZjc3MTU3MDFlOWU1LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTQwL19oaXN0b3J5LzQzNjAiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+N1FDWFdCWU9XSEFBWWdTdm12MFpvMmxONTVXM0ExSHU0RUVmK0Ywc0wxND08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNWIwOTlmMTgtODdjNS00MDBhLTlmYmItZjc3MTU3MDFlOWU1LXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMTI3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+a3cxN3lrU3p3MnE2elRFRXBGbmNRNlE2Rzlhd1FHcGlJYVdwaEdJZnMyRT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNWIwOTlmMTgtODdjNS00MDBhLTlmYmItZjc3MTU3MDFlOWU1LXJlZjIiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvbmRpdGlvbi81MTQyMTMxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+WGg3SGF2TE05QUVXZldLTjZKZDNqbjF3bnVEME5pck9JMENadnBsQ3BMMD08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNWIwOTlmMTgtODdjNS00MDBhLTlmYmItZjc3MTU3MDFlOWU1LXJlZjMiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1Byb2NlZHVyZS81MTQyMTI5L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+ako2c3YzKy9YS3RhbUcyTGR3d05SaDRxNmh6ejVka1FyNUdrbXRXYTBSdz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLTViMDk5ZjE4LTg3YzUtNDAwYS05ZmJiLWY3NzE1NzAxZTllNS1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+ZjZENHZVeU5RQmNvYXRjbmVFaGdPV3dtZWZNUlJJRURGVVJkTWN5cThxaz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctNWIwOTlmMTgtODdjNS00MDBhLTlmYmItZjc3MTU3MDFlOWU1LXNpZ3ZhbHVlIj5MRENrVzladGpUamFPV3ViaDlONktPeWVWWHBuYmNDOU5YN1hMNmc0N2o5Qllzc1JWQnYrMmZ6bWlQdllNM0ZKdmdPQ1Izd3hCS3MyWWpnZUdqbTVkWHVMZDRTbEo5OWVaOSs0dkJsUnVEaitRWVFRYTJqeFUxTFc4Q1Vhc1lub2V1TGtiQ093bWJSWTdya2pna3JJZHhRMGJicUxDKzJBUU15Ylg0OHJqVmVDSkkwU1pxUHhCcm5wVmx6NjZIempSb3hVMFBmTnBFbERnTFJURnYydFg1aWdIczVHeE1LYnVTVkxlVTNkQmZ6U1NOK0xRRXNmVjVXRU9qa1Y5UjBwQjYwaWtKMTNKVkp6bG10RmViMHpUL3ZnSURGMFpTR2diNTllZEFMSjN3OTVmK2pDWEVsS1Y1YjlCQm9JdC8rMHREQThFME1BTGJPTmczWlZ5RFAzdUE9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy01YjA5OWYxOC04N2M1LTQwMGEtOWZiYi1mNzcxNTcwMWU5ZTUiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLTViMDk5ZjE4LTg3YzUtNDAwYS05ZmJiLWY3NzE1NzAxZTllNS1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6MzM6NDEuNTAzKzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4="/>
   </signature>
</Provenance>]]></con:value>
            </con:property>
            <con:property>
              <con:name>provenanceUpdated</con:name>
              <con:value><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<tag0:Provenance xmlns:tag0="http://hl7.org/fhir">
   <tag0:id value="5142133"/>
   <tag0:meta>
      <tag0:versionId value="1"/>
      <tag0:lastUpdated value="2022-09-02T11:33:57.454+02:00"/>
      <tag0:profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
      <tag0:security>
         <tag0:system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <tag0:code value="N"/>
      </tag0:security>
   </tag0:meta>
   <tag0:implicitRules value="16.3.3"/>
   <tag0:target>
      <tag0:reference value="Patient/540"/>
      <tag0:type value="Patient"/>
   </tag0:target>
   <tag0:target>
      <tag0:reference value="Encounter/5142127"/>
      <tag0:type value="Encounter"/>
   </tag0:target>
   <tag0:target>
      <tag0:reference value="Condition/5142131"/>
      <tag0:type value="Condition"/>
   </tag0:target>
   <tag0:target>
      <tag0:reference value="Procedure/5142129"/>
      <tag0:type value="Procedure"/>
   </tag0:target>
   <tag0:recorded value="2022-09-02T11:33:34.913+02:00"/>
   <tag0:agent>
      <tag0:who>
         <tag0:identifier>
            <tag0:system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
            <tag0:value value="000000012106"/>
         </tag0:identifier>
      </tag0:who>
   </tag0:agent>
   <tag0:signature>
      <tag0:type>
         <tag0:system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
         <tag0:code value="1.2.840.10065.1.12.1.14"/>
      </tag0:type>
      <tag0:when value="2022-09-02T11:33:34.913+02:00"/>
      <tag0:who>
         <tag0:identifier>
            <tag0:system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
            <tag0:value value="000000012106"/>
         </tag0:identifier>
      </tag0:who>
      <tag0:targetFormat value="application/fhir+xml"/>
      <tag0:sigFormat value="application/signature+xml"/>
      <tag0:data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1kYzAwMjZhYS1lYmRjLTRhNDUtYjNkNC1hMmQ0MmMzZGM2ZmIiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZGMwMDI2YWEtZWJkYy00YTQ1LWIzZDQtYTJkNDJjM2RjNmZiLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTQwL19oaXN0b3J5LzQzNjAiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+N1FDWFdCWU9XSEFBWWdTdm12MFpvMmxONTVXM0ExSHU0RUVmK0Ywc0wxND08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZGMwMDI2YWEtZWJkYy00YTQ1LWIzZDQtYTJkNDJjM2RjNmZiLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMTI3L19oaXN0b3J5LzIiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+ZFVWY3lUV2pWeksxcVJ2dUduZG5ja05yZ2xQMFBtNlhXS295dmVzQk53bz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZGMwMDI2YWEtZWJkYy00YTQ1LWIzZDQtYTJkNDJjM2RjNmZiLXJlZjIiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvbmRpdGlvbi81MTQyMTMxL19oaXN0b3J5LzIiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+emFTMjBqd1BiWkJWU3owUGFuNXIzeDdQMG1aaHQxa0VqRFVJanRWZEppQT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZGMwMDI2YWEtZWJkYy00YTQ1LWIzZDQtYTJkNDJjM2RjNmZiLXJlZjMiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1Byb2NlZHVyZS81MTQyMTI5L19oaXN0b3J5LzIiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+SXVJUzVYOW85U3F2T0JWRlVkRVhiblJqYTdLL2pCOUsxMUdzdnBsR2xSTT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLWRjMDAyNmFhLWViZGMtNGE0NS1iM2Q0LWEyZDQyYzNkYzZmYi1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+NnAxWVFpL0pGNFRXK0M0eWcvU0dYQXZzZnJJejdNVDVhVU9NdVRwbjMwST08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctZGMwMDI2YWEtZWJkYy00YTQ1LWIzZDQtYTJkNDJjM2RjNmZiLXNpZ3ZhbHVlIj5zdDhWSFFtdzJRTEY5SnB6ZTJoSEFkcjFRVEZPT2UycE5rcEFRZndYSzQybW5BdkRlN3dqSjZKNDRWbmdaT24zcHdyZll0VVc1SVJRMmErMjlNOHc0ZURvOXIrUDU1VTVKWEMwdnNnay94eFQwMm8ycXpaQUlReG5CUU9sbzlmcktwWjNuMU00aHQvRzlqUkRtTTJ1UUhIaFNXTXdHbXVZcTEvajByNzZlck9sSXRHTTEybk9kdG9QazVITzUwbG1JU2QyZlNQYkJVd212OXNBbkFVQVZUSTJ6SGY1MTBzNThWVitPUHFuYVNjMUhkZHJaUW5XTzNuS0VBdElNbGtVNE8xTHJpM1QzRURkZTNvdXdyT0MwR1MyS1ZndmdVSmY4OVpiSFJwTk16a1ZEclRlS2swZFFuYjdDU1BjY3Z0M29nVmRobmtlak1VY3FTeWQrYzFqeUE9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy1kYzAwMjZhYS1lYmRjLTRhNDUtYjNkNC1hMmQ0MmMzZGM2ZmIiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLWRjMDAyNmFhLWViZGMtNGE0NS1iM2Q0LWEyZDQyYzNkYzZmYi1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6MzQ6MDMuMzkyKzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4="/>
   </tag0:signature>
</tag0:Provenance>]]></con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataKoniec</con:name>
              <con:value>2022-09-02T11:33:34.913+02:00</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="daneModyfikacja" id="93256633-fc47-4dca-aecc-430c1e46f188">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>typProceduryKod</con:name>
              <con:value>79.77</con:value>
            </con:property>
            <con:property>
              <con:name>typProceduryDisplay</con:name>
              <con:value>Zamknite nastawienie zwichnicia kostki</con:value>
            </con:property>
            <con:property>
              <con:name>typRozpoznaniaKod</con:name>
              <con:value>J04.0</con:value>
            </con:property>
            <con:property>
              <con:name>typRozpoznaniaDisplay</con:name>
              <con:value>Ostre zapalenie krtani</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Patient ID" id="ea62a594-29d0-43c4-8c8b-3893829f75ad">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>48d1bd54-39e7-4f92-a587-b4df08704d3a</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>${dane#identyfikatorPacjentaOID}</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>${dane#identyfikatorPacjenta}</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>${dane#nazwisko}</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>${dane#imie}</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>${dane#dataUrodzenia}</con:value>
            </con:property>
            <con:property>
              <con:name>-----------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>540</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>4360</con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>patientId</con:entry>
            <con:entry>patientVersion</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_FAIL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych patient" id="0a43caba-527a-4f46-8cbe-a7de83e60ffe">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>patientId</con:sourceType>
            <con:sourceStep>Patient ID</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>patientVersion</con:sourceType>
            <con:sourceStep>Patient ID</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
            <con:name>versionMod</con:name>
            <con:sourceType>patientVersion</con:sourceType>
            <con:sourceStep>Patient ID</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>danePodpisuModyfikacja</con:targetStep>
            <con:targetPath xsi:nil="true"/>
            <con:type>XPATH</con:type>
            <con:targetTransferType>XPATH</con:targetTransferType>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterResource" id="4b22707f-bca7-41f0-978f-d9079d6283fd">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-hospitalizacja-poczatek.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
   <meta> 
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
	  <security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
	  </security>	  
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
	  <value value="b383ae50-fcee-44e5-877f-1d1fa3786fd3"/>
   </identifier>
   <status value="in-progress"/>
   <statusHistory>
		<status value = "onleave"/>
		<period>
			<start value = "2022-09-02T08:33:34.913+02:00"/>
			<end value = "2022-09-02T11:33:34.913+02:00"/>
		</period>
   </statusHistory>
   <class>
      <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
	  <code value="1"/>
	  <display value="Pobyt w oddziale szpitalnym"/>
   </class>
   <subject>
	  <extension xmlns="http://hl7.org/fhir"
     url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
		<valueReference>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
				<value value="01"/>
			</identifier>
		</valueReference>
	   </extension>
	  <reference value="Patient/540"/>
	  <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
		 <value value="40010151673"/>
      </identifier>
	  <display value="Sylwester Senior"/>
   </subject>
   <episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="71548da9-9fca-499c-891e-3b0bbabfac17"/>
		</identifier>
	</episodeOfCare>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<period>
		<start value="2022-09-02T05:33:34.913+02:00"/>
	</period>
	<hospitalization>
		<admitSource>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.3.24"/>
				<code value="3"/>
			</coding>
		</admitSource>
	</hospitalization>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
		<period>
			<start value="2022-09-02T05:33:34.913+02:00"/>
			<end value="2022-09-02T08:33:34.913+02:00"/>
		</period>
	</location>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
		<period>
			<start value="2022-09-02T11:33:34.913+02:00"/>
		</period>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
		url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter" id="692ec706-7f6e-4dbe-89d1-ab940b72c5bd">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter" id="ca159828-a602-4357-a4ba-632c00d8f164" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="45dcab9f-b043-403b-8bcc-cc8b06dbb79c" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="fc3f6f6e-a781-4619-b73a-34b804318c18" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';


exists(//ns1:Encounter/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="3b986195-cacc-46af-8c79-df6ca0bf90a2" name="Zwrcocno numer wersji sytemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych encounter" id="a32dbdd0-7657-42ff-b37c-254a3a141929">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>encounterVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>encounter</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>encounter</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="procedureResource" id="166981b7-e55e-45dc-9faf-77526bc558b0">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>procedure.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Procedure xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProcedure"/>
       <security>
           <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
           <code value="N"/>
       </security>
   </meta>
   <status value="completed"/>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6" />
         <code value="79.76"/>
         <display value="Zamknite nastawienie zwichnicia kolana"/>
      </coding>
   </code>
   <subject>
	  <reference value="Patient/540"/>
	  <type value="Patient"/>
	  <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
         <value value="40010151673"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142127"/>
      <type value="Encounter"/>
   </encounter>
   <performedPeriod>
      <start value="2022-09-02T05:33:34.913+02:00"/>
      <end value="2022-09-02T11:33:34.913+02:00"/>
   </performedPeriod>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
   <location>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
		</identifier>
   </location>
</Procedure>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Procedure" id="5a52d4d2-0fcf-4ac3-ab88-d4426602d600">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Zapis-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Procedure" id="fbb19b00-838c-4ef3-a04b-b95933e72a12" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${procedureResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Procedure/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b5455364-85e4-472b-9176-40088197ed11" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="24e682e5-7a78-416c-bbe1-366fbde4baa0" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';
exists(//ns1:Procedure/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c207887a-1ef3-48ec-bc0b-05caa143fe7b" name="Zwrcono numer wersji systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych procedure" id="6c16d3b6-5dd3-4c31-8aa1-90f0e5a9865c">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>procedureId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>procedureVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="false" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>procedure</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure</con:sourceStep>
            <con:sourcePath>//*:Procedure</con:sourcePath>
            <con:targetType>procedure</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="conditionResource" id="55da0037-e844-4127-b59d-6f7e2aef7cf2">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>condition.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Condition xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventDiagnosis"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <extension url ="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLLocation">
      <valueIdentifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
      </valueIdentifier>
   </extension>
   <category>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.78"/>
         <code value="main"/>
         <display value="Gwne"/>
      </coding>
   </category>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.6.3"/>
         <code value="J04.0"/>
         <display value="Acute laryngitis"/>
      </coding>
   </code>
   <bodySite>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.79"/>
         <code value="left"/>
         <display value="Lewa strona ciaa"/>
      </coding>
   </bodySite>
   <subject>
	  <reference value="Patient/540"/>
	  <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
         <value value="40010151673"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142127"/>
      <type value="Encounter"/>
   </encounter>
   <recordedDate value="2022-09-02T11:33:34.913+02:00"/>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
</Condition>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Condition" id="adcbb52d-dc2b-4340-ad1b-5d9b9cff1f74">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="Zapis-condition" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Condition" id="5950c24f-0baf-497e-ac19-ab6769e5b9e2" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${conditionResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Condition</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7f8a96ea-5431-4e04-bc31-f31e8587599e" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c468a985-1324-4eb5-83f5-85df20928b5a" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';
exists(//ns1:Condition/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="4ba7731a-bb80-4557-8850-aaef6b9c23e3" name="Zwrcono numer wersji systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>encounter</con:entry>
              <con:entry>id</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych condition" id="c6bd446b-c7de-4d7e-8616-b5e7a3a8ba2b">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>conditionId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>conditionVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>condition</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>condition</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu" id="16035ab5-16d6-4375-be19-e2254e07fc15">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>4360</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>procedureVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>conditionVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy01YjA5OWYxOC04N2M1LTQwMGEtOWZiYi1mNzcxNTcwMWU5ZTUiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNWIwOTlmMTgtODdjNS00MDBhLTlmYmItZjc3MTU3MDFlOWU1LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTQwL19oaXN0b3J5LzQzNjAiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+N1FDWFdCWU9XSEFBWWdTdm12MFpvMmxONTVXM0ExSHU0RUVmK0Ywc0wxND08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNWIwOTlmMTgtODdjNS00MDBhLTlmYmItZjc3MTU3MDFlOWU1LXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMTI3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+a3cxN3lrU3p3MnE2elRFRXBGbmNRNlE2Rzlhd1FHcGlJYVdwaEdJZnMyRT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNWIwOTlmMTgtODdjNS00MDBhLTlmYmItZjc3MTU3MDFlOWU1LXJlZjIiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvbmRpdGlvbi81MTQyMTMxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+WGg3SGF2TE05QUVXZldLTjZKZDNqbjF3bnVEME5pck9JMENadnBsQ3BMMD08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNWIwOTlmMTgtODdjNS00MDBhLTlmYmItZjc3MTU3MDFlOWU1LXJlZjMiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1Byb2NlZHVyZS81MTQyMTI5L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+ako2c3YzKy9YS3RhbUcyTGR3d05SaDRxNmh6ejVka1FyNUdrbXRXYTBSdz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLTViMDk5ZjE4LTg3YzUtNDAwYS05ZmJiLWY3NzE1NzAxZTllNS1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+ZjZENHZVeU5RQmNvYXRjbmVFaGdPV3dtZWZNUlJJRURGVVJkTWN5cThxaz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctNWIwOTlmMTgtODdjNS00MDBhLTlmYmItZjc3MTU3MDFlOWU1LXNpZ3ZhbHVlIj5MRENrVzladGpUamFPV3ViaDlONktPeWVWWHBuYmNDOU5YN1hMNmc0N2o5Qllzc1JWQnYrMmZ6bWlQdllNM0ZKdmdPQ1Izd3hCS3MyWWpnZUdqbTVkWHVMZDRTbEo5OWVaOSs0dkJsUnVEaitRWVFRYTJqeFUxTFc4Q1Vhc1lub2V1TGtiQ093bWJSWTdya2pna3JJZHhRMGJicUxDKzJBUU15Ylg0OHJqVmVDSkkwU1pxUHhCcm5wVmx6NjZIempSb3hVMFBmTnBFbERnTFJURnYydFg1aWdIczVHeE1LYnVTVkxlVTNkQmZ6U1NOK0xRRXNmVjVXRU9qa1Y5UjBwQjYwaWtKMTNKVkp6bG10RmViMHpUL3ZnSURGMFpTR2diNTllZEFMSjN3OTVmK2pDWEVsS1Y1YjlCQm9JdC8rMHREQThFME1BTGJPTmczWlZ5RFAzdUE9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy01YjA5OWYxOC04N2M1LTQwMGEtOWZiYi1mNzcxNTcwMWU5ZTUiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLTViMDk5ZjE4LTg3YzUtNDAwYS05ZmJiLWY3NzE1NzAxZTllNS1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6MzM6NDEuNTAzKzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4=</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu" id="eed7f854-2356-4303-be26-373e2e3610cb">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane#patientId}') + "/_history/" + context.expand('${danePodpisu#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane#encounterId}') + "/_history/" + context.expand('${danePodpisu#encounterVersion}')
String conditionReference = zmUrl + "/fhir/Condition/" + context.expand('${dane#conditionId}') + "/_history/" + context.expand('${danePodpisu#conditionVersion}')
String procedureReference = zmUrl + "/fhir/Procedure/" + context.expand('${dane#procedureId}') + "/_history/" + context.expand('${danePodpisu#procedureVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);
refs.add(conditionReference);
refs.add(procedureReference);

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisu'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource" id="b68b686c-ec72-4783-a686-87383e1ce09c">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, danePodpisu</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/540"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142127"/>
		<type value="Encounter"/>
	</target>
	<target>
		<reference value="Condition/5142131"/>
		<type value="Condition"/>
	</target>
	<target>
		<reference value="Procedure/5142129"/>
		<type value="Procedure"/>
	</target>
	<recorded value="2022-09-02T11:33:34.913+02:00"/>
	<agent>
		
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:33:34.913+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy01YjA5OWYxOC04N2M1LTQwMGEtOWZiYi1mNzcxNTcwMWU5ZTUiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNWIwOTlmMTgtODdjNS00MDBhLTlmYmItZjc3MTU3MDFlOWU1LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTQwL19oaXN0b3J5LzQzNjAiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+N1FDWFdCWU9XSEFBWWdTdm12MFpvMmxONTVXM0ExSHU0RUVmK0Ywc0wxND08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNWIwOTlmMTgtODdjNS00MDBhLTlmYmItZjc3MTU3MDFlOWU1LXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMTI3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+a3cxN3lrU3p3MnE2elRFRXBGbmNRNlE2Rzlhd1FHcGlJYVdwaEdJZnMyRT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNWIwOTlmMTgtODdjNS00MDBhLTlmYmItZjc3MTU3MDFlOWU1LXJlZjIiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvbmRpdGlvbi81MTQyMTMxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+WGg3SGF2TE05QUVXZldLTjZKZDNqbjF3bnVEME5pck9JMENadnBsQ3BMMD08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNWIwOTlmMTgtODdjNS00MDBhLTlmYmItZjc3MTU3MDFlOWU1LXJlZjMiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1Byb2NlZHVyZS81MTQyMTI5L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+ako2c3YzKy9YS3RhbUcyTGR3d05SaDRxNmh6ejVka1FyNUdrbXRXYTBSdz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLTViMDk5ZjE4LTg3YzUtNDAwYS05ZmJiLWY3NzE1NzAxZTllNS1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+ZjZENHZVeU5RQmNvYXRjbmVFaGdPV3dtZWZNUlJJRURGVVJkTWN5cThxaz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctNWIwOTlmMTgtODdjNS00MDBhLTlmYmItZjc3MTU3MDFlOWU1LXNpZ3ZhbHVlIj5MRENrVzladGpUamFPV3ViaDlONktPeWVWWHBuYmNDOU5YN1hMNmc0N2o5Qllzc1JWQnYrMmZ6bWlQdllNM0ZKdmdPQ1Izd3hCS3MyWWpnZUdqbTVkWHVMZDRTbEo5OWVaOSs0dkJsUnVEaitRWVFRYTJqeFUxTFc4Q1Vhc1lub2V1TGtiQ093bWJSWTdya2pna3JJZHhRMGJicUxDKzJBUU15Ylg0OHJqVmVDSkkwU1pxUHhCcm5wVmx6NjZIempSb3hVMFBmTnBFbERnTFJURnYydFg1aWdIczVHeE1LYnVTVkxlVTNkQmZ6U1NOK0xRRXNmVjVXRU9qa1Y5UjBwQjYwaWtKMTNKVkp6bG10RmViMHpUL3ZnSURGMFpTR2diNTllZEFMSjN3OTVmK2pDWEVsS1Y1YjlCQm9JdC8rMHREQThFME1BTGJPTmczWlZ5RFAzdUE9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy01YjA5OWYxOC04N2M1LTQwMGEtOWZiYi1mNzcxNTcwMWU5ZTUiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLTViMDk5ZjE4LTg3YzUtNDAwYS05ZmJiLWY3NzE1NzAxZTllNS1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6MzM6NDEuNTAzKzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4="/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance" id="78baad33-5603-4582-9bfa-0fb5c95e9b69">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7955ada5-b8e7-437e-9ce2-7ace877d963d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f39d13c2-d3a9-4624-b02e-b99dd46ba95d" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';



exists(//ns1:Provenance/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="a8bb050d-e325-4fa6-91f0-0184f5052efe" name="Zwrcono numer wersji systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych provenance" id="afd5e2c7-354c-4c3c-a974-f86d95836201">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>provenanceId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="false" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>provenance</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>provenance</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Aktualizacja Encounter" id="2ea1a691-1be9-486f-adea-89b1df99d034">
        <con:settings/>
        <con:config>
          <script>import groovy.xml.XmlUtil;
import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

def dane = testRunner.testCase.testSteps['dane']
def encounter = dane.getPropertyValue( "encounter" )

def encounterXML = new XmlParser().parseText(encounter)
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString().replace("-", "").toUpperCase().substring(0, 22)


//dodanie wzla basedOn
encounterXML.episodeOfCare[0].plus({ new Node(encounterXML,'basedOn') })
new Node(encounterXML.basedOn[0],'identifier')
new Node(encounterXML.basedOn[0].identifier[0],'system', [value: 'urn:oid:2.16.840.1.113883.3.4424.2.7.2.4.1'])
new Node(encounterXML.basedOn[0].identifier[0],'value', [value: skierowanieIdentyfikator])
new Node(encounterXML.basedOn[0].identifier[0],'period')
new Node(encounterXML.basedOn[0].identifier[0].period[0],'start', [value: '2019-08-26T10:00:00+02:00'])
encounter = XmlUtil.serialize(encounterXML)

log.info encounter
dane.setPropertyValue( "encounterUpdated",  encounter)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="PUT Encounter" id="dd30d405-0ce4-47ad-89a6-200424dec151">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="PUT Encounter" id="f7fa236e-a6d9-42e7-a08e-1ea1d2b3b4c3" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${dane#encounterUpdated}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/16516</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="5ee71594-dbf9-44bc-8849-4356624ce9f1" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#encounterId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych encounter po aktualizacji" id="407f296e-8339-4695-b3e6-c0c8e682abd7">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>PUT Encounter</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>encounterVersion</con:targetType>
            <con:targetStep>danePodpisuModyfikacja</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Aktualizacja Procedure" id="735b5b61-91c1-47fc-8a3d-3bfc496426b8">
        <con:settings/>
        <con:config>
          <script>import groovy.xml.XmlUtil;
import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

def formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
def teraz = ZonedDateTime.now()
String data = teraz.format(formatter)

def dane = testRunner.testCase.testSteps['dane']
def dane2 = testRunner.testCase.testSteps['daneModyfikacja']
def procedure = dane.getPropertyValue( "procedure" )
def kodProcedury =  dane2.getPropertyValue( "typProceduryKod" )
def proceduraNazwa =  dane2.getPropertyValue( "typProceduryDisplay" )

def procedureXML = new XmlParser().parseText(procedure)


// zmiana kodu procedury
procedureXML.code.coding.code.@value=kodProcedury
procedureXML.code.coding.display.@value=proceduraNazwa


procedure = XmlUtil.serialize(procedureXML)

log.info procedure

dane.setPropertyValue( "procedureUpdated",  procedure)
dane.setPropertyValue("podpisData", data)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="PUT Procedure" id="2f418eaa-e2cf-4a87-9fc2-af185a5e64e0">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="PUT Procedure" id="533e1e07-aee3-4deb-b99e-6b8ba3bc85bd" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${dane#procedureUpdated}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Procedure/16533</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="d5dbc41b-d472-4b1a-a9b6-3dc169553d00" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="plsubject" value=""/>
              <con:entry key="id" value="${dane#procedureId}"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych procedure po aktualizacji" id="43deb5b8-0cb7-4738-8aa5-a009c629db33">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>PUT Procedure</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>procedureVersion</con:targetType>
            <con:targetStep>danePodpisuModyfikacja</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
            <con:name>rozpoznanieData</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>PUT Procedure</con:sourceStep>
            <con:sourcePath>//*:Procedure/*:performedPeriod/*:end/@value</con:sourcePath>
            <con:targetType>rozpoznanieData</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:targetPath xsi:nil="true"/>
            <con:type>XPATH</con:type>
            <con:targetTransferType>XPATH</con:targetTransferType>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Aktualizacja Condition" id="20527079-6abe-4710-b74c-df5ac1d21928">
        <con:settings/>
        <con:config>
          <script>import groovy.xml.XmlUtil;
import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

def dane = testRunner.testCase.testSteps['dane']
def dane2 = testRunner.testCase.testSteps['daneModyfikacja']
def condition = dane.getPropertyValue( "condition" )
def kodRozpoznania =  dane2.getPropertyValue( "typRozpoznaniaKod" )
def rozpoznanieNazwa =  dane2.getPropertyValue( "typRozpoznaniaDisplay" )

def conditionXML = new XmlParser().parseText(condition)

// zmiana kodu rozpoznania
conditionXML.code.coding.code.@value=kodRozpoznania
conditionXML.code.coding.display.@value=rozpoznanieNazwa


condition = XmlUtil.serialize(conditionXML)

log.info condition
dane.setPropertyValue( "conditionUpdated",  condition)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="PUT Condition" id="8f81c766-58fb-499e-8414-e4c095ea4fa2">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="PUT Condition" id="533e1e07-aee3-4deb-b99e-6b8ba3bc85bd" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${dane#conditionUpdated}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Condition/16544</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="d5dbc41b-d472-4b1a-a9b6-3dc169553d00" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="309647ff-4e9e-4c59-bf1b-20af08d804d5" name="Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="plsubject" value=""/>
              <con:entry key="id" value="${dane#conditionId}"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>encounter</con:entry>
              <con:entry>id</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych condition po aktualizacji" id="1003f5a3-6289-4dc2-b1e0-8e66894424dd">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>PUT Condition</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>conditionVersion</con:targetType>
            <con:targetStep>danePodpisuModyfikacja</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisuModyfikacja" id="7e6290ba-8e99-4075-b639-ebf0e070170e">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>4360</con:value>
            </con:property>
            <con:property>
              <con:name>conditionVersion</con:name>
              <con:value>2</con:value>
            </con:property>
            <con:property>
              <con:name>procedureVersion</con:name>
              <con:value>2</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>2</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1kYzAwMjZhYS1lYmRjLTRhNDUtYjNkNC1hMmQ0MmMzZGM2ZmIiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZGMwMDI2YWEtZWJkYy00YTQ1LWIzZDQtYTJkNDJjM2RjNmZiLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTQwL19oaXN0b3J5LzQzNjAiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+N1FDWFdCWU9XSEFBWWdTdm12MFpvMmxONTVXM0ExSHU0RUVmK0Ywc0wxND08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZGMwMDI2YWEtZWJkYy00YTQ1LWIzZDQtYTJkNDJjM2RjNmZiLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMTI3L19oaXN0b3J5LzIiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+ZFVWY3lUV2pWeksxcVJ2dUduZG5ja05yZ2xQMFBtNlhXS295dmVzQk53bz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZGMwMDI2YWEtZWJkYy00YTQ1LWIzZDQtYTJkNDJjM2RjNmZiLXJlZjIiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvbmRpdGlvbi81MTQyMTMxL19oaXN0b3J5LzIiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+emFTMjBqd1BiWkJWU3owUGFuNXIzeDdQMG1aaHQxa0VqRFVJanRWZEppQT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZGMwMDI2YWEtZWJkYy00YTQ1LWIzZDQtYTJkNDJjM2RjNmZiLXJlZjMiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1Byb2NlZHVyZS81MTQyMTI5L19oaXN0b3J5LzIiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+SXVJUzVYOW85U3F2T0JWRlVkRVhiblJqYTdLL2pCOUsxMUdzdnBsR2xSTT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLWRjMDAyNmFhLWViZGMtNGE0NS1iM2Q0LWEyZDQyYzNkYzZmYi1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+NnAxWVFpL0pGNFRXK0M0eWcvU0dYQXZzZnJJejdNVDVhVU9NdVRwbjMwST08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctZGMwMDI2YWEtZWJkYy00YTQ1LWIzZDQtYTJkNDJjM2RjNmZiLXNpZ3ZhbHVlIj5zdDhWSFFtdzJRTEY5SnB6ZTJoSEFkcjFRVEZPT2UycE5rcEFRZndYSzQybW5BdkRlN3dqSjZKNDRWbmdaT24zcHdyZll0VVc1SVJRMmErMjlNOHc0ZURvOXIrUDU1VTVKWEMwdnNnay94eFQwMm8ycXpaQUlReG5CUU9sbzlmcktwWjNuMU00aHQvRzlqUkRtTTJ1UUhIaFNXTXdHbXVZcTEvajByNzZlck9sSXRHTTEybk9kdG9QazVITzUwbG1JU2QyZlNQYkJVd212OXNBbkFVQVZUSTJ6SGY1MTBzNThWVitPUHFuYVNjMUhkZHJaUW5XTzNuS0VBdElNbGtVNE8xTHJpM1QzRURkZTNvdXdyT0MwR1MyS1ZndmdVSmY4OVpiSFJwTk16a1ZEclRlS2swZFFuYjdDU1BjY3Z0M29nVmRobmtlak1VY3FTeWQrYzFqeUE9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy1kYzAwMjZhYS1lYmRjLTRhNDUtYjNkNC1hMmQ0MmMzZGM2ZmIiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLWRjMDAyNmFhLWViZGMtNGE0NS1iM2Q0LWEyZDQyYzNkYzZmYi1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6MzQ6MDMuMzkyKzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4=</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu Modyfikacja" id="5cac0b5f-0229-42a9-82e8-bbb6cc3ba563">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane#patientId}') + "/_history/" + context.expand('${danePodpisuModyfikacja#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane#encounterId}') + "/_history/" + context.expand('${danePodpisuModyfikacja#encounterVersion}')
String conditionReference = zmUrl + "/fhir/Condition/" + context.expand('${dane#conditionId}') + "/_history/" + context.expand('${danePodpisuModyfikacja#conditionVersion}')
String procedureReference = zmUrl + "/fhir/Procedure/" + context.expand('${dane#procedureId}') + "/_history/" + context.expand('${danePodpisuModyfikacja#procedureVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);
refs.add(conditionReference);
refs.add(procedureReference);

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisuModyfikacja'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Aktualizacja Provenance" id="f7be906f-c456-4e02-812a-8c4a865658b7">
        <con:settings/>
        <con:config>
          <script>import groovy.xml.XmlUtil;
import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

def dane = testRunner.testCase.testSteps['dane']
def dane2 = testRunner.testCase.testSteps['danePodpisuModyfikacja']
def provenance = dane.getPropertyValue( "provenance" )
def podpis =  dane2.getPropertyValue( "binaryPodpis" )

// zmiana podpisu
def provenanceXML = new XmlSlurper().parseText(provenance)

provenanceXML.signature.each { signature ->
    signature.data.each { data ->
        data.@value=podpis
    }
}

provenance = XmlUtil.serialize(provenanceXML)

//log.info provenance
log.info provenance
dane.setPropertyValue( "provenanceUpdated",  provenance)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="PUT Provenance" id="4b4b5cd7-5287-4ca0-9fc7-27c31f1c80df">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Modyfikacja" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="PUT Provenance" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${dane#provenanceUpdated}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7955ada5-b8e7-437e-9ce2-7ace877d963d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f39d13c2-d3a9-4624-b02e-b99dd46ba95d" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';



exists(//ns1:Provenance/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="a8bb050d-e325-4fa6-91f0-0184f5052efe" name="Zwrcono numer wersji systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value="${dane#provenanceId}"/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Delay" id="36857059-4830-4b20-8785-1ad706f26b9b">
        <con:settings/>
        <con:config>
          <delay>${#Project#delaySeconds}000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Provenance" id="0ee76029-bd4e-42bd-a316-53b1af6dbb06">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Odczyt-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Provenance" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7955ada5-b8e7-437e-9ce2-7ace877d963d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f39d13c2-d3a9-4624-b02e-b99dd46ba95d" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';



exists(//ns1:Provenance/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="a8bb050d-e325-4fa6-91f0-0184f5052efe" name="Zwrcono numer wersji systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XQuery Match" id="98a5429f-cbd2-4685-98a1-8b6af9a6cfef" name="version = 2">
              <con:configuration>
                <path>//*:resource//*:Provenance//*:meta//*:versionId//@value</path>
                <content>&lt;xml-fragment value="2"/></content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="target" value="${dane#procedureId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Provenance" id="bb967a29-06bc-4d10-b6d5-c605386c1fba">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Anulowanie-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Provenance" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#provenanceId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Condition" id="18aa3e43-e276-40fa-9b75-de45060e2331">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="Anulowanie-condition" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Condition" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#conditionId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Procedure" id="f537bade-87be-4a6d-82ea-66d1977c4bf8">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Anulowanie-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Procedure" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#procedureId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Encounter" id="839a7ab0-3105-420d-9498-380205e40656">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Delete-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Encounter" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#encounterId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:testCase id="bde7c781-678c-46d6-8212-24f2d4a4839f" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Wypis ze szpitala pacjenta z numerem PESEL" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskanie tokenu dostpowego" id="31c367d8-8ba1-4cec-9f6f-ba2db918dbf5">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych i pobranie zmiennych" id="481386c6-da75-406e-a9bf-113b1253ebeb">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

String identyfikatorZdarzenia = java.util.UUID.randomUUID().toString()
String korelacjaIdentyfikator = java.util.UUID.randomUUID().toString()
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString()

def pracownikImieNazwisko = context.expand('${#Project#imieNazwiskoPracownika}')
def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')
def locationIdentyfikator = context.expand('${#Project#identyfikatorMiejscaSwiadczenia}')
def podmiotIdentyfikator = context.expand('${#Project#identyfikatorPodmiotu}')

def formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
def teraz = ZonedDateTime.now()
String data1 = teraz.format(formatter)
String data2 = teraz.minusMinutes(30).format(formatter)
String data3 = teraz.minusHours(2).format(formatter)
String data4 = teraz.minusHours(1).format(formatter)

def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("zdarzenieDataKoniec", data1)
dane.setPropertyValue("podpisData", data1)
dane.setPropertyValue("locationStart", data3)
dane.setPropertyValue("locationEnd", data4)
dane.setPropertyValue("locationStart1", data2)
dane.setPropertyValue("locationEnd1", data1)
dane.setPropertyValue("przepustkaDataPoczatek", data4)
dane.setPropertyValue("przepustkaDataKoniec", data2)
dane.setPropertyValue("zdarzenieDataPoczatek", data3)
dane.setPropertyValue("zdarzenieDataKoniec", data1)
dane.setPropertyValue("identyfikatorZdarzenia", identyfikatorZdarzenia)
dane.setPropertyValue("korelacjaIdentyfikator", korelacjaIdentyfikator)
dane.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
dane.setPropertyValue("pracownikImieNazwisko", pracownikImieNazwisko)
dane.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)
dane.setPropertyValue("locationIdentyfikator", locationIdentyfikator)
dane.setPropertyValue("podmiotIdentyfikator", podmiotIdentyfikator)

def daneProcedura1 = testRunner.testCase.testSteps['daneProcedura1']
def daneProcedura2 = testRunner.testCase.testSteps['daneProcedura2']
daneProcedura1.setPropertyValue("proceduraDataPoczatek", data3)
daneProcedura1.setPropertyValue("proceduraDataKoniec", data2)
daneProcedura2.setPropertyValue("proceduraDataPoczatek", data2)
daneProcedura2.setPropertyValue("proceduraDataKoniec", data1)
testRunner.testCase.testSteps['daneRozpoznanie'].setPropertyValue("rozpoznanieData", data1)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="01530b2f-2556-4a83-abb5-58a187c69026">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>40010151673</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>Senior</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>Sylwester</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>Sylwester Senior</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>1940-01-01</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>540</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142139</con:value>
            </con:property>
            <con:property>
              <con:name>provenanceId</con:name>
              <con:value>5142153</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
            <con:property>
              <con:name>hospitalizacjaWypisKod</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>hospitalizacjaWypisSlownik</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.11.3.21</con:value>
            </con:property>
            <con:property>
              <con:name>statusZdarzenia</con:name>
              <con:value>finished</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2022-09-02T11:34:44.036+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:34:44.036+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart</con:name>
              <con:value>2022-09-02T09:34:44.036+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationEnd</con:name>
              <con:value>2022-09-02T10:34:44.036+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart1</con:name>
              <con:value>2022-09-02T11:04:44.036+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationEnd1</con:name>
              <con:value>2022-09-02T11:34:44.036+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>przepustkaDataPoczatek</con:name>
              <con:value>2022-09-02T10:34:44.036+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>przepustkaDataKoniec</con:name>
              <con:value>2022-09-02T11:04:44.036+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T09:34:44.036+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>41ed2472-d228-4d29-9e41-a09cce77b6d6</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>0a51e56e-1568-4ef2-85a7-5fdc63b02a18</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>be16622c-b44e-4eb9-a79e-a25e6109366f</con:value>
            </con:property>
            <con:property>
              <con:name>hospitalizacjaPrzyjecieSlownik</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.11.3.24</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="daneProcedura1" id="4b804d14-21e8-4f2f-86c2-a66d738e30bf">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>typProceduryKod</con:name>
              <con:value>79.76</con:value>
            </con:property>
            <con:property>
              <con:name>typProceduryDisplay</con:name>
              <con:value>Zamknite nastawienie zwichnicia kolana</con:value>
            </con:property>
            <con:property>
              <con:name>procedureId1</con:name>
              <con:value>5142141</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataPoczatek</con:name>
              <con:value>2022-09-02T09:34:44.036+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataKoniec</con:name>
              <con:value>2022-09-02T11:04:44.036+02:00</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="daneProcedura2" id="7abb2dae-63a7-4739-981f-b72f70ab97e1">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>typProceduryKod</con:name>
              <con:value>99.19</con:value>
            </con:property>
            <con:property>
              <con:name>typProceduryDisplay</con:name>
              <con:value>Wstrzyknicie antykoagulanta</con:value>
            </con:property>
            <con:property>
              <con:name>procedureId2</con:name>
              <con:value>5142143</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataPoczatek</con:name>
              <con:value>2022-09-02T11:04:44.036+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataKoniec</con:name>
              <con:value>2022-09-02T11:34:44.036+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-002</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="daneRozpoznanie" id="056b9a24-157e-4ff0-b299-27c314584666">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>typRozpoznaniaKod</con:name>
              <con:value>S83.1</con:value>
            </con:property>
            <con:property>
              <con:name>typRozpoznaniaDisplay</con:name>
              <con:value>Zwichnicie stawu kolanowego</con:value>
            </con:property>
            <con:property>
              <con:name>conditionId</con:name>
              <con:value>5142145</con:value>
            </con:property>
            <con:property>
              <con:name>rozpoznanieData</con:name>
              <con:value>2022-09-02T11:34:44.036+02:00</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Patient ID" id="9071146b-92dc-4770-87c2-db7f2c8c7897">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>48d1bd54-39e7-4f92-a587-b4df08704d3a</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>${dane#identyfikatorPacjentaOID}</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>${dane#identyfikatorPacjenta}</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>${dane#nazwisko}</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>${dane#imie}</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>${dane#dataUrodzenia}</con:value>
            </con:property>
            <con:property>
              <con:name>-----------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>540</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>4360</con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>patientId</con:entry>
            <con:entry>patientVersion</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_FAIL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych patient" id="db3de20e-b404-42b6-bf6b-67e407d725bd">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>patientId</con:sourceType>
            <con:sourceStep>Patient ID</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>patientVersion</con:sourceType>
            <con:sourceStep>Patient ID</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterResource" id="bee38127-125d-4072-891a-1d0def61a23c">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-hospitalizacja-koniec.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
   <id value="5141903"/>
   <meta> 
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
	  <security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
	  </security>	  
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
	  <value value="41ed2472-d228-4d29-9e41-a09cce77b6d6"/>
   </identifier>
   <status value="finished"/>
   <statusHistory>
		<status value = "onleave"/>
		<period>
			<start value = "2022-09-02T10:34:44.036+02:00"/>
			<end value = "2022-09-02T11:04:44.036+02:00"/>
		</period>
   </statusHistory>
   <class>
      <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
	  <code value="1"/>
	  <display value="Pobyt w oddziale szpitalnym"/>
   </class>
   <subject>
	  <extension xmlns="http://hl7.org/fhir"
     url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
		<valueReference>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
				<value value="01"/>
			</identifier>
		</valueReference>
	   </extension>
	  <reference value="Patient/540"/>
	  <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
		 <value value="40010151673"/>
      </identifier>
	  <display value="Sylwester Senior"/>
   </subject>
   <episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="0a51e56e-1568-4ef2-85a7-5fdc63b02a18"/>
		</identifier>
	</episodeOfCare>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<period>
		<start value="2022-09-02T09:34:44.036+02:00"/>
		<end value = "2022-09-02T11:34:44.036+02:00"/>										  
	</period>
	<hospitalization>
		<admitSource>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.3.24"/>
				<code value="3"/>
			</coding>
		</admitSource>
		<dischargeDisposition>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.3.21"/>
				<code value="1"/>
			</coding>
		</dischargeDisposition>						 
	</hospitalization>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
		<period>
			<start value="2022-09-02T09:34:44.036+02:00"/>
			<end value="2022-09-02T10:34:44.036+02:00"/>
		</period>
	</location>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-002"/>
			</identifier>
		</location>
		<period>
			<start value="2022-09-02T11:04:44.036+02:00"/>
			<end value="2022-09-02T11:34:44.036+02:00"/>
		</period>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
		url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter" id="ffc5d81a-73da-43ed-8c4b-af7703cb4b7d">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter" id="ca159828-a602-4357-a4ba-632c00d8f164" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="45dcab9f-b043-403b-8bcc-cc8b06dbb79c" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="fc3f6f6e-a781-4619-b73a-34b804318c18" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';


exists(//ns1:Encounter/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="3b986195-cacc-46af-8c79-df6ca0bf90a2" name="Zwrcocno numer wersji sytemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych encounter" id="681c23e3-ecbb-4016-9171-739b689d0b71">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>encounterVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="procedureResource1" id="144bf526-bd72-46d1-9b34-123fab89883c">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, daneProcedura1</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>procedure.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Procedure xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProcedure"/>
       <security>
           <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
           <code value="N"/>
       </security>
   </meta>
   <status value="completed"/>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6" />
         <code value="79.76"/>
         <display value="Zamknite nastawienie zwichnicia kolana"/>
      </coding>
   </code>
   <subject>
	  <reference value="Patient/540"/>
	  <type value="Patient"/>
	  <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
         <value value="40010151673"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142139"/>
      <type value="Encounter"/>
   </encounter>
   <performedPeriod>
      <start value="2022-09-02T09:34:44.036+02:00"/>
      <end value="2022-09-02T11:04:44.036+02:00"/>
   </performedPeriod>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
   <location>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
		</identifier>
   </location>
</Procedure>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Procedure1" id="6558c7fe-2654-426e-b651-4e079cb63515">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Zapis-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Procedure1" id="fbb19b00-838c-4ef3-a04b-b95933e72a12" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${procedureResource1#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Procedure/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b5455364-85e4-472b-9176-40088197ed11" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="24e682e5-7a78-416c-bbe1-366fbde4baa0" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';
exists(//ns1:Procedure/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c207887a-1ef3-48ec-bc0b-05caa143fe7b" name="Zwrcono numer wersji systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych procedure1" id="46454ec2-2a8c-403e-9934-f22643587263">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure1</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>procedureId1</con:targetType>
            <con:targetStep>daneProcedura1</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure1</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>procedure1Version</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="procedureResource2" id="2ae509da-2a2c-4ea4-b767-bfa9a38f7c8f">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, daneProcedura2</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>procedure.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Procedure xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProcedure"/>
       <security>
           <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
           <code value="N"/>
       </security>
   </meta>
   <status value="completed"/>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6" />
         <code value="99.19"/>
         <display value="Wstrzyknicie antykoagulanta"/>
      </coding>
   </code>
   <subject>
	  <reference value="Patient/540"/>
	  <type value="Patient"/>
	  <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
         <value value="40010151673"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142139"/>
      <type value="Encounter"/>
   </encounter>
   <performedPeriod>
      <start value="2022-09-02T11:04:44.036+02:00"/>
      <end value="2022-09-02T11:34:44.036+02:00"/>
   </performedPeriod>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
   <location>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-002"/>
		</identifier>
   </location>
</Procedure>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Procedure2" id="4ee92f88-a47d-4891-9a6c-44c8d7c67389">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Zapis-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Procedure2" id="fbb19b00-838c-4ef3-a04b-b95933e72a12" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${procedureResource2#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Procedure/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="d2e7df78-1fff-4b38-b584-126546deb4fe" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="d63ec327-d784-4d95-9ad8-32513502378f" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';
exists(//ns1:Procedure/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych procedure2" id="01a46095-2b41-4922-b7f9-2025c0982b42">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure2</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>procedureId2</con:targetType>
            <con:targetStep>daneProcedura2</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure2</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>procedure2Version</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="conditionResource" id="2cbe5388-11d9-4894-b421-0a3f2eb501ab">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, daneRozpoznanie</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>condition.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Condition xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventDiagnosis"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <extension url ="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLLocation">
      <valueIdentifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
      </valueIdentifier>
   </extension>
   <category>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.78"/>
         <code value="main"/>
         <display value="Gwne"/>
      </coding>
   </category>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.6.3"/>
         <code value="S83.1"/>
         <display value="Zwichnicie stawu kolanowego"/>
      </coding>
   </code>
   <bodySite>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.79"/>
         <code value="left"/>
         <display value="Lewa strona ciaa"/>
      </coding>
   </bodySite>
   <subject>
	  <reference value="Patient/540"/>
	  <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
         <value value="40010151673"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142139"/>
      <type value="Encounter"/>
   </encounter>
   <recordedDate value="2022-09-02T11:34:44.036+02:00"/>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
</Condition>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Condition" id="8578fedd-c4e2-4332-8806-5c18c5be98d3">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="Zapis-condition" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Condition" id="5950c24f-0baf-497e-ac19-ab6769e5b9e2" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${conditionResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Condition</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7f8a96ea-5431-4e04-bc31-f31e8587599e" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c468a985-1324-4eb5-83f5-85df20928b5a" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';
exists(//ns1:Condition/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="4ba7731a-bb80-4557-8850-aaef6b9c23e3" name="Zwrcono numer wersji systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>encounter</con:entry>
              <con:entry>id</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych condition" id="f423b3ab-8a59-4d64-862e-0b4ee7bcfc59">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>conditionId</con:targetType>
            <con:targetStep>daneRozpoznanie</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>conditionVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu" id="40c4629b-b50e-48a8-a190-d022355a0775">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>4360</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>conditionVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>procedure1Version</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>procedure2Version</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1hNGIzOGMwYy02NzFlLTRjYjItYTRiZS01YTMwYjBhZTUzZTAiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYTRiMzhjMGMtNjcxZS00Y2IyLWE0YmUtNWEzMGIwYWU1M2UwLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTQwL19oaXN0b3J5LzQzNjAiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+N1FDWFdCWU9XSEFBWWdTdm12MFpvMmxONTVXM0ExSHU0RUVmK0Ywc0wxND08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYTRiMzhjMGMtNjcxZS00Y2IyLWE0YmUtNWEzMGIwYWU1M2UwLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMTM5L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+QnpTektQYzVVSTlBSnEwMkdMYVI3TkZaMys4b3E0cHd0Y1JvVUhPY2l5cz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYTRiMzhjMGMtNjcxZS00Y2IyLWE0YmUtNWEzMGIwYWU1M2UwLXJlZjIiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvbmRpdGlvbi81MTQyMTQ1L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+M2pibVdMd1Y2RWJ6SElJMjV3SHJBZzNXbWlRUCt5ODFhTERIZHdoOHZhcz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYTRiMzhjMGMtNjcxZS00Y2IyLWE0YmUtNWEzMGIwYWU1M2UwLXJlZjMiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1Byb2NlZHVyZS81MTQyMTQxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+WC9HS1JCa2M4SDNWVGQ0L0J4N2pxRmYyYkN2Um1KSVhLb1hCOTJyMjVYQT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYTRiMzhjMGMtNjcxZS00Y2IyLWE0YmUtNWEzMGIwYWU1M2UwLXJlZjQiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1Byb2NlZHVyZS81MTQyMTQzL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+Q2pOSUNYUmdIWjZ5SEtXKzA0aFpXbHprd3dVVXF1TTE3Wk1mSmZqNDFZST08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLWE0YjM4YzBjLTY3MWUtNGNiMi1hNGJlLTVhMzBiMGFlNTNlMC1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+VlFGZ2RoWUZpU2wyeEFVL1lXbXVGQ042K0ZIV3E3MGZtbEpMSDVjMGcrRT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctYTRiMzhjMGMtNjcxZS00Y2IyLWE0YmUtNWEzMGIwYWU1M2UwLXNpZ3ZhbHVlIj54TFFIUjJqcDR1dmROYlRlUSs0cmttb05uTmhxZWxJU2lJYisrTUxOWnIyeFFjbHBCN3MzSEZMYVRDMXhoSUhFY3JZTjhVMk8ydCsvQTFlTFplelFRTmtLRGVyN1ZFNkwxQ0oyQkRvZm4yTE9YUUJVU3l4cmpSaE9oS3JwcFBMeXBpa3JTRnhrYlRrVDk2aTkxemlsZmh1SEwvb0xIVDdaRzhBVFNoYm04YU5ibnl4eU1sYWgvb2FuUWdlTExuaUFCQm9WVkJVQnh4R2k4Snk3Nk9JU0FWWHpla2Z5ZnZXVCtMUU03blZiSHhaMEY4ZTJKVGY4M0JOSFZ4cFhqeWhRbWdrK0RXRDVQc2U0eUs0Mi92RHdVdUQxYm9uUzJiazg1UVNCZlBacG5sUzlwalJxbVFqUk1ZZXVnckZBUVNIZDRYa3ltSlBxK1ZQS2FYWlU2TFAvS3c9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy1hNGIzOGMwYy02NzFlLTRjYjItYTRiZS01YTMwYjBhZTUzZTAiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLWE0YjM4YzBjLTY3MWUtNGNiMi1hNGJlLTVhMzBiMGFlNTNlMC1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6MzQ6NTEuMTg5KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4=</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu" id="d7d449d8-83df-4bb8-a761-9974ffbf9737">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane#patientId}') + "/_history/" + context.expand('${danePodpisu#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane#encounterId}') + "/_history/" + context.expand('${danePodpisu#encounterVersion}')
String conditionReference = zmUrl + "/fhir/Condition/" + context.expand('${daneRozpoznanie#conditionId}') + "/_history/" + context.expand('${danePodpisu#conditionVersion}')
String procedure1Reference = zmUrl + "/fhir/Procedure/" + context.expand('${daneProcedura1#procedureId1}') + "/_history/" + context.expand('${danePodpisu#procedure1Version}')
String procedure2Reference = zmUrl + "/fhir/Procedure/" + context.expand('${daneProcedura2#procedureId2}') + "/_history/" + context.expand('${danePodpisu#procedure2Version}')


List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);
refs.add(conditionReference);
refs.add(procedure1Reference);
refs.add(procedure2Reference);

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisu'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource" id="432cade5-8484-42d3-9950-14fb9e806cbe">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, daneProcedura1, daneProcedura2, daneRozpoznanie,danePodpisu</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-all.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/540"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142139"/>
		<type value="Encounter"/>
	</target>
	<target>
		<reference value="Procedure/5142141"/>
		<type value="Procedure"/>
	</target>
	<target>
		<reference value="Procedure/5142143"/>
		<type value="Procedure"/>
	</target>
	<target>
		<reference value="Condition/5142145"/>
		<type value="Condition"/>
	</target>
	<recorded value="2022-09-02T11:34:44.036+02:00"/>
	<agent>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:34:44.036+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1hNGIzOGMwYy02NzFlLTRjYjItYTRiZS01YTMwYjBhZTUzZTAiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYTRiMzhjMGMtNjcxZS00Y2IyLWE0YmUtNWEzMGIwYWU1M2UwLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTQwL19oaXN0b3J5LzQzNjAiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+N1FDWFdCWU9XSEFBWWdTdm12MFpvMmxONTVXM0ExSHU0RUVmK0Ywc0wxND08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYTRiMzhjMGMtNjcxZS00Y2IyLWE0YmUtNWEzMGIwYWU1M2UwLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMTM5L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+QnpTektQYzVVSTlBSnEwMkdMYVI3TkZaMys4b3E0cHd0Y1JvVUhPY2l5cz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYTRiMzhjMGMtNjcxZS00Y2IyLWE0YmUtNWEzMGIwYWU1M2UwLXJlZjIiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvbmRpdGlvbi81MTQyMTQ1L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+M2pibVdMd1Y2RWJ6SElJMjV3SHJBZzNXbWlRUCt5ODFhTERIZHdoOHZhcz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYTRiMzhjMGMtNjcxZS00Y2IyLWE0YmUtNWEzMGIwYWU1M2UwLXJlZjMiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1Byb2NlZHVyZS81MTQyMTQxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+WC9HS1JCa2M4SDNWVGQ0L0J4N2pxRmYyYkN2Um1KSVhLb1hCOTJyMjVYQT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYTRiMzhjMGMtNjcxZS00Y2IyLWE0YmUtNWEzMGIwYWU1M2UwLXJlZjQiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1Byb2NlZHVyZS81MTQyMTQzL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+Q2pOSUNYUmdIWjZ5SEtXKzA0aFpXbHprd3dVVXF1TTE3Wk1mSmZqNDFZST08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLWE0YjM4YzBjLTY3MWUtNGNiMi1hNGJlLTVhMzBiMGFlNTNlMC1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+VlFGZ2RoWUZpU2wyeEFVL1lXbXVGQ042K0ZIV3E3MGZtbEpMSDVjMGcrRT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctYTRiMzhjMGMtNjcxZS00Y2IyLWE0YmUtNWEzMGIwYWU1M2UwLXNpZ3ZhbHVlIj54TFFIUjJqcDR1dmROYlRlUSs0cmttb05uTmhxZWxJU2lJYisrTUxOWnIyeFFjbHBCN3MzSEZMYVRDMXhoSUhFY3JZTjhVMk8ydCsvQTFlTFplelFRTmtLRGVyN1ZFNkwxQ0oyQkRvZm4yTE9YUUJVU3l4cmpSaE9oS3JwcFBMeXBpa3JTRnhrYlRrVDk2aTkxemlsZmh1SEwvb0xIVDdaRzhBVFNoYm04YU5ibnl4eU1sYWgvb2FuUWdlTExuaUFCQm9WVkJVQnh4R2k4Snk3Nk9JU0FWWHpla2Z5ZnZXVCtMUU03blZiSHhaMEY4ZTJKVGY4M0JOSFZ4cFhqeWhRbWdrK0RXRDVQc2U0eUs0Mi92RHdVdUQxYm9uUzJiazg1UVNCZlBacG5sUzlwalJxbVFqUk1ZZXVnckZBUVNIZDRYa3ltSlBxK1ZQS2FYWlU2TFAvS3c9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy1hNGIzOGMwYy02NzFlLTRjYjItYTRiZS01YTMwYjBhZTUzZTAiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLWE0YjM4YzBjLTY3MWUtNGNiMi1hNGJlLTVhMzBiMGFlNTNlMC1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6MzQ6NTEuMTg5KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4="/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance" id="f7d4d542-4b4c-4411-86ce-538a3c93d05c">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="c308b714-cdad-4496-8fce-2267b2cd8d9d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="b8505c3b-22ae-4dab-9363-fdbf6f2c0710" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';
exists(//ns1:Provenance/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych provenance" id="53f667b2-81d5-4e62-be87-781a176fe3fa">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>provenanceId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Delay" id="a9197c8c-ac30-4c42-867d-d518e266f6a8">
        <con:settings/>
        <con:config>
          <delay>${#Project#delaySeconds}000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Provenance" id="9847048a-aada-45dd-84c1-d9d53711bc1a">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Anulowanie-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Provenance" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#provenanceId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Condition" id="4e8d6777-fba8-4466-9ebf-eb968242b473">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="Anulowanie-condition" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Condition" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${daneRozpoznanie#conditionId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Procedure 2" id="eef6ee60-a345-4583-b01d-f279ba07fe16">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Anulowanie-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Procedure 2" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${daneProcedura2#procedureId2}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Procedure 1" id="35ffebf4-9670-4712-b02b-4255ebb7c169">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Anulowanie-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Procedure 1" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${daneProcedura1#procedureId1}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Encounter" id="29e74bba-0c90-48df-a3e4-8b834c0bdf5b">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Delete-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Encounter" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#encounterId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:testCase id="a437c24a-5949-4314-9790-978dac28fd2a" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Porada lekarska dla pacjenta z numerem PESEL" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskanie tokenu dostpowego" id="d90e8c6a-8435-42b6-9315-b3ad62fac7ea">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych i pobranie zmiennych" id="8e0323b4-53d0-4a0e-9dfc-56f4cc786797">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

String identyfikatorZdarzenia = java.util.UUID.randomUUID().toString()
String korelacjaIdentyfikator = java.util.UUID.randomUUID().toString()
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString().replace("-", "").toUpperCase().substring(0, 22)

def pracownikImieNazwisko = context.expand('${#Project#imieNazwiskoPracownika}')
def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')
def locationIdentyfikator = context.expand('${#Project#identyfikatorMiejscaSwiadczenia}')
def podmiotIdentyfikator = context.expand('${#Project#identyfikatorPodmiotu}')

def formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
def teraz = ZonedDateTime.now()
String data1 = teraz.minusHours(1).format(formatter)
String data2 = teraz.format(formatter)


def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("identyfikatorZdarzenia", identyfikatorZdarzenia)
dane.setPropertyValue("korelacjaIdentyfikator", korelacjaIdentyfikator)
dane.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
dane.setPropertyValue("zdarzenieDataPoczatek", data1)
dane.setPropertyValue("zdarzenieDataKoniec", data2)
dane.setPropertyValue("podpisData", data2)
dane.setPropertyValue("proceduraDataPoczatek", data1)
dane.setPropertyValue("proceduraDataKoniec", data2)
dane.setPropertyValue("rozpoznanieData", data2)
dane.setPropertyValue("pracownikImieNazwisko", pracownikImieNazwisko)
dane.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)
dane.setPropertyValue("locationIdentyfikator", locationIdentyfikator)
dane.setPropertyValue("podmiotIdentyfikator", podmiotIdentyfikator)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="dece3e67-bb41-4bb2-b4f7-5d20c7fb0fcc">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>40010151673</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>Senior</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>Sylwester</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>Sylwester Senior</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>1940-01-01</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>540</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142167</con:value>
            </con:property>
            <con:property>
              <con:name>procedureId</con:name>
              <con:value>5142169</con:value>
            </con:property>
            <con:property>
              <con:name>conditionId</con:name>
              <con:value>5142171</con:value>
            </con:property>
            <con:property>
              <con:name>provenanceId</con:name>
              <con:value>5142173</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>73f236b6-7845-46c2-9b1d-dd22a36e719b</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>d2549032-a939-4f4a-8095-079cdb31f511</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>8259B376C8ED4F3292FD13</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:35:25.022+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2022-09-02T11:35:25.022+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T10:35:25.022+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataPoczatek</con:name>
              <con:value>2022-09-02T10:35:25.022+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataKoniec</con:name>
              <con:value>2022-09-02T11:35:25.022+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>rozpoznanieData</con:name>
              <con:value>2022-09-02T11:35:25.022+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Patient ID" id="adffae0f-3ff4-448b-a4e4-9a973f3d56bf">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>48d1bd54-39e7-4f92-a587-b4df08704d3a</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>${dane#identyfikatorPacjentaOID}</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>${dane#identyfikatorPacjenta}</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>${dane#nazwisko}</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>${dane#imie}</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>${dane#dataUrodzenia}</con:value>
            </con:property>
            <con:property>
              <con:name>-----------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>540</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>4360</con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>patientId</con:entry>
            <con:entry>patientVersion</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_FAIL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych patient" id="711545b3-31de-4e3e-8cc2-0465f8d29b66">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>patientId</con:sourceType>
            <con:sourceStep>Patient ID</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>patientVersion</con:sourceType>
            <con:sourceStep>Patient ID</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterResource" id="38ab1e90-3152-4b11-8320-884397b6a435">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-porada.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<identifier>
		<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
		<value value="d2549032-a939-4f4a-8095-079cdb31f511"/>
	</identifier>
	<status value="finished"/>
	<class>
		<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
		<code value="4"/>
		<display value="Porada"/>
	</class>
	<subject>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<reference value="Patient/540"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="40010151673"/>
		</identifier>
		<display value="Sylwester Senior"/>
	</subject>
	<episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="73f236b6-7845-46c2-9b1d-dd22a36e719b"/>
		</identifier>
	</episodeOfCare>
	<basedOn>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.17.4.1"/>
			<value value="8259B376C8ED4F3292FD13"/>
			<period>
				<start value="2019-08-26T10:00:00+02:00"/>
			</period>
		</identifier>
	</basedOn>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
			<valueCoding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
				<code value="11"/>
			</valueCoding>
		</extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<period>
		<start value="2022-09-02T10:35:25.022+02:00"/>
		<end value="2022-09-02T11:35:25.022+02:00"/>
	</period>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
		<period>
			<start value="2022-09-02T10:35:25.022+02:00"/>
			<end value="2022-09-02T11:35:25.022+02:00"/>
		</period>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter" id="5c4a7e26-4bc3-4a96-8651-8748ec8073d4">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter" id="ca159828-a602-4357-a4ba-632c00d8f164" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="18bf6ab8-2610-482a-adf9-6ec5f9fd89ca" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych encounter" id="7ae0605a-c16e-4ad0-b907-6603e23e8355">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>encounterVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="procedureResource" id="1188b94c-8c92-4368-a8de-d4188789164d">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>procedure.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Procedure xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProcedure"/>
       <security>
           <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
           <code value="N"/>
       </security>
   </meta>
   <status value="completed"/>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6" />
         <code value="79.76"/>
         <display value="Zamknite nastawienie zwichnicia kolana"/>
      </coding>
   </code>
   <subject>
	  <reference value="Patient/540"/>
	  <type value="Patient"/>
	  <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
         <value value="40010151673"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142167"/>
      <type value="Encounter"/>
   </encounter>
   <performedPeriod>
      <start value="2022-09-02T10:35:25.022+02:00"/>
      <end value="2022-09-02T11:35:25.022+02:00"/>
   </performedPeriod>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
   <location>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
		</identifier>
   </location>
</Procedure>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Procedure" id="881ae017-86b7-4fd0-b5fb-8f16de698b25">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Zapis-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Procedure" id="fbb19b00-838c-4ef3-a04b-b95933e72a12" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${procedureResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Procedure/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b5455364-85e4-472b-9176-40088197ed11" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="24e682e5-7a78-416c-bbe1-366fbde4baa0" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';
exists(//ns1:Procedure/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c207887a-1ef3-48ec-bc0b-05caa143fe7b" name="Zwrcono numer wersji systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych procedure" id="1a5a2b73-f550-4b5c-9475-7e52a26ed4e9">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>procedureId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>procedureVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="conditionResource" id="d32e682d-fc5c-4a17-8e0a-5e3449ec524f">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>condition.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Condition xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventDiagnosis"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <extension url ="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLLocation">
      <valueIdentifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
      </valueIdentifier>
   </extension>
   <category>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.78"/>
         <code value="main"/>
         <display value="Gwne"/>
      </coding>
   </category>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.6.3"/>
         <code value="J04.0"/>
         <display value="Acute laryngitis"/>
      </coding>
   </code>
   <bodySite>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.79"/>
         <code value="left"/>
         <display value="Lewa strona ciaa"/>
      </coding>
   </bodySite>
   <subject>
	  <reference value="Patient/540"/>
	  <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
         <value value="40010151673"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142167"/>
      <type value="Encounter"/>
   </encounter>
   <recordedDate value="2022-09-02T11:35:25.022+02:00"/>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
</Condition>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Condition" id="9df4f0b2-078f-4719-bcda-d3c5a5e1f097">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="Zapis-condition" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Condition" id="5950c24f-0baf-497e-ac19-ab6769e5b9e2" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${conditionResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Condition</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7f8a96ea-5431-4e04-bc31-f31e8587599e" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c468a985-1324-4eb5-83f5-85df20928b5a" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';
exists(//ns1:Condition/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="4ba7731a-bb80-4557-8850-aaef6b9c23e3" name="Zwrcono numer wersji systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>encounter</con:entry>
              <con:entry>id</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych condition" id="d8f985e0-0648-4d9c-b134-cf48df294baa">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>conditionId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>conditionVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu" id="ca007a1a-7830-4366-b613-e6056a6d38c1">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>4360</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1hYzNhNmFhZi0zZTFjLTQyMGEtYTY5OC03OTQzMDJjNzhjZjkiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYWMzYTZhYWYtM2UxYy00MjBhLWE2OTgtNzk0MzAyYzc4Y2Y5LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTQwL19oaXN0b3J5LzQzNjAiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+N1FDWFdCWU9XSEFBWWdTdm12MFpvMmxONTVXM0ExSHU0RUVmK0Ywc0wxND08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYWMzYTZhYWYtM2UxYy00MjBhLWE2OTgtNzk0MzAyYzc4Y2Y5LXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMTY3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+Y3UrTm9ob1VKZGdoR3B3cGpxL0J4SUZDamwxNlVOYlNRdjI3c0hqYk9hbz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYWMzYTZhYWYtM2UxYy00MjBhLWE2OTgtNzk0MzAyYzc4Y2Y5LXJlZjIiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvbmRpdGlvbi81MTQyMTcxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+c2c5TW4yYUk1NnNYU0FtU2hwWmJEOFQ1UmtCTGJvMFI3UDkrTW5rczlyYz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYWMzYTZhYWYtM2UxYy00MjBhLWE2OTgtNzk0MzAyYzc4Y2Y5LXJlZjMiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1Byb2NlZHVyZS81MTQyMTY5L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+TlVmb2tWUDZ1Ulh4OURhd1V5aDJxa2ZnV3Z4WUREbmUxQit3WmtPYk9zZz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLWFjM2E2YWFmLTNlMWMtNDIwYS1hNjk4LTc5NDMwMmM3OGNmOS1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+aHQ5dndZKzZUNnB0T3VrcHV3eWMwNHAzaWx4RmdrYUZmM05kbnUrcXF6WT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctYWMzYTZhYWYtM2UxYy00MjBhLWE2OTgtNzk0MzAyYzc4Y2Y5LXNpZ3ZhbHVlIj5IcDlvSUk3K0M2dVJscUgvQWVjY2NwOFV4MmtrN0E2YXNpZC9Dd05PeEVKRHh3RDUwUTVTYlVMajE1Y2g0RjdPdDU4WCt3eklOZ21uRnNVSVRkNXlFdVFmQ0lSOVc1dkNZN0F6cUIrTjNUK2dzTjFTZ3RoZDQ4anI0aWF4MjBObWxXUWNDWUtaZVc3SGFJVFp4dVliREFWVlJiMHliTTltVFZ0eHRBaERYc01pQk9lOGQ3Zy9Sa2pCdVk4YzdhcFFKQmZxeFFIbCsvWWRQL2ljQVNGVFZ2Sld4WEwyaXdtdis2eWIyWjNNbjV5TURtYkhrT3pKODRiMVJYNEpxdC9QQnF3dlFoWmxzU2ZmRnpKT1lNSmxxb1k0UndsSk9Xb2V2WGNDOWpNMW5YeXZxQ1F0OUo2RXZiQldEdk9hL3NwY0pxVWoweHptYWd4R0FMcTdsTmdRNXc9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy1hYzNhNmFhZi0zZTFjLTQyMGEtYTY5OC03OTQzMDJjNzhjZjkiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLWFjM2E2YWFmLTNlMWMtNDIwYS1hNjk4LTc5NDMwMmM3OGNmOS1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6MzU6MzEuMDc1KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4=</con:value>
            </con:property>
            <con:property>
              <con:name>procedureVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>conditionVersion</con:name>
              <con:value>1</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu" id="6b9ad551-d01b-45c5-8d8f-4d9967bd82db">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane#patientId}') + "/_history/" + context.expand('${danePodpisu#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane#encounterId}') + "/_history/" + context.expand('${danePodpisu#encounterVersion}')
String conditionReference = zmUrl + "/fhir/Condition/" + context.expand('${dane#conditionId}') + "/_history/" + context.expand('${danePodpisu#conditionVersion}')
String procedureReference = zmUrl + "/fhir/Procedure/" + context.expand('${dane#procedureId}') + "/_history/" + context.expand('${danePodpisu#procedureVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);
refs.add(conditionReference);
refs.add(procedureReference);

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisu'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource" id="39687a12-9ae4-43d0-9bd7-80fa6e922854">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, danePodpisu</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/540"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142167"/>
		<type value="Encounter"/>
	</target>
	<target>
		<reference value="Condition/5142171"/>
		<type value="Condition"/>
	</target>
	<target>
		<reference value="Procedure/5142169"/>
		<type value="Procedure"/>
	</target>
	<recorded value="2022-09-02T11:35:25.022+02:00"/>
	<agent>
		
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:35:25.022+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1hYzNhNmFhZi0zZTFjLTQyMGEtYTY5OC03OTQzMDJjNzhjZjkiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYWMzYTZhYWYtM2UxYy00MjBhLWE2OTgtNzk0MzAyYzc4Y2Y5LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTQwL19oaXN0b3J5LzQzNjAiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+N1FDWFdCWU9XSEFBWWdTdm12MFpvMmxONTVXM0ExSHU0RUVmK0Ywc0wxND08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYWMzYTZhYWYtM2UxYy00MjBhLWE2OTgtNzk0MzAyYzc4Y2Y5LXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMTY3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+Y3UrTm9ob1VKZGdoR3B3cGpxL0J4SUZDamwxNlVOYlNRdjI3c0hqYk9hbz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYWMzYTZhYWYtM2UxYy00MjBhLWE2OTgtNzk0MzAyYzc4Y2Y5LXJlZjIiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvbmRpdGlvbi81MTQyMTcxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+c2c5TW4yYUk1NnNYU0FtU2hwWmJEOFQ1UmtCTGJvMFI3UDkrTW5rczlyYz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYWMzYTZhYWYtM2UxYy00MjBhLWE2OTgtNzk0MzAyYzc4Y2Y5LXJlZjMiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1Byb2NlZHVyZS81MTQyMTY5L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+TlVmb2tWUDZ1Ulh4OURhd1V5aDJxa2ZnV3Z4WUREbmUxQit3WmtPYk9zZz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLWFjM2E2YWFmLTNlMWMtNDIwYS1hNjk4LTc5NDMwMmM3OGNmOS1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+aHQ5dndZKzZUNnB0T3VrcHV3eWMwNHAzaWx4RmdrYUZmM05kbnUrcXF6WT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctYWMzYTZhYWYtM2UxYy00MjBhLWE2OTgtNzk0MzAyYzc4Y2Y5LXNpZ3ZhbHVlIj5IcDlvSUk3K0M2dVJscUgvQWVjY2NwOFV4MmtrN0E2YXNpZC9Dd05PeEVKRHh3RDUwUTVTYlVMajE1Y2g0RjdPdDU4WCt3eklOZ21uRnNVSVRkNXlFdVFmQ0lSOVc1dkNZN0F6cUIrTjNUK2dzTjFTZ3RoZDQ4anI0aWF4MjBObWxXUWNDWUtaZVc3SGFJVFp4dVliREFWVlJiMHliTTltVFZ0eHRBaERYc01pQk9lOGQ3Zy9Sa2pCdVk4YzdhcFFKQmZxeFFIbCsvWWRQL2ljQVNGVFZ2Sld4WEwyaXdtdis2eWIyWjNNbjV5TURtYkhrT3pKODRiMVJYNEpxdC9QQnF3dlFoWmxzU2ZmRnpKT1lNSmxxb1k0UndsSk9Xb2V2WGNDOWpNMW5YeXZxQ1F0OUo2RXZiQldEdk9hL3NwY0pxVWoweHptYWd4R0FMcTdsTmdRNXc9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy1hYzNhNmFhZi0zZTFjLTQyMGEtYTY5OC03OTQzMDJjNzhjZjkiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLWFjM2E2YWFmLTNlMWMtNDIwYS1hNjk4LTc5NDMwMmM3OGNmOS1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6MzU6MzEuMDc1KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4="/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance" id="4779fd43-7497-4e3a-b1dc-8f80c4233271">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b48d3edc-e5a5-41ea-8489-1455d79d68fb" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych provenance" id="5ca1f491-f233-4755-9ffa-00807686a9cc">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>provenanceId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Delay" id="66ec2cb5-3b66-4256-a466-9063d02a4d86">
        <con:settings/>
        <con:config>
          <delay>${#Project#delaySeconds}000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Provenance" id="36b83244-31cf-48fb-838d-cd4cfde93549">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Anulowanie-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Provenance" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#provenanceId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Condition" id="ccc62731-8609-4976-bc9c-92e5fb488606">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="Anulowanie-condition" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Condition" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#conditionId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Procedure" id="995c6f92-9878-4f11-b537-40ecc3f5a177">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Anulowanie-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Procedure" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#procedureId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Encounter" id="d58ec398-4011-4b44-833a-f22312e54322">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Delete-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Encounter" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#encounterId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:testCase id="1d3c874f-3bbf-4aae-81eb-a7197d05a3c5" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Wyjazd ratunkowy do pacjenta z numerem PESEL" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskanie tokenu dostpowego" id="5bf66cb8-692a-46bd-9306-568349b4844a">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych i pobranie zmiennych" id="3a520a54-89dd-4bbb-9ccf-62e8f9c8b304">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

String identyfikatorZdarzenia = java.util.UUID.randomUUID().toString()
String korelacjaIdentyfikator = java.util.UUID.randomUUID().toString()
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString().replace("-", "").toUpperCase().substring(0, 22)

def pracownikImieNazwisko = context.expand('${#Project#imieNazwiskoPracownika}')
def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')
def locationIdentyfikator = context.expand('${#Project#identyfikatorMiejscaSwiadczenia}')
def podmiotIdentyfikator = context.expand('${#Project#identyfikatorPodmiotu}')

def formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
def teraz = ZonedDateTime.now()
String data1 = teraz.minusHours(1).format(formatter)
String data2 = teraz.format(formatter)

def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("identyfikatorZdarzenia", identyfikatorZdarzenia)
dane.setPropertyValue("korelacjaIdentyfikator", korelacjaIdentyfikator)
dane.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
dane.setPropertyValue("zdarzenieDataPoczatek", data1)
dane.setPropertyValue("zdarzenieDataKoniec", data2)
dane.setPropertyValue("podpisData", data2)
dane.setPropertyValue("pracownikImieNazwisko", pracownikImieNazwisko)
dane.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)
dane.setPropertyValue("locationIdentyfikator", locationIdentyfikator)
dane.setPropertyValue("podmiotIdentyfikator", podmiotIdentyfikator)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="01725012-57bd-495e-84a7-c06deaa3e4bf">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>40010151673</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>Senior</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>Sylwester</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>Sylwester Senior</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>1940-01-01</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>540</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142175</con:value>
            </con:property>
            <con:property>
              <con:name>provenanceId</con:name>
              <con:value>5142177</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T10:36:13.401+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2022-09-02T11:36:13.401+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:36:13.401+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>88f8a2d9-9e56-4a60-8fc4-eaa56f636774</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>123aac68-b786-470f-b243-904d601d6b0e</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>7E54CF7569DE476AA381C8</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Patient ID" id="03c1a92b-9e4f-4d07-8576-83930c140337">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>48d1bd54-39e7-4f92-a587-b4df08704d3a</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>${dane#identyfikatorPacjentaOID}</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>${dane#identyfikatorPacjenta}</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>${dane#nazwisko}</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>${dane#imie}</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>${dane#dataUrodzenia}</con:value>
            </con:property>
            <con:property>
              <con:name>-----------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>540</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>4360</con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>patientId</con:entry>
            <con:entry>patientVersion</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_FAIL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych patient" id="2f4b6ce9-9876-4fb3-bc89-6d2492ade3f5">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>patientId</con:sourceType>
            <con:sourceStep>Patient ID</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>patientVersion</con:sourceType>
            <con:sourceStep>Patient ID</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterResource" id="0c1c92ed-580e-4eb6-add0-2f1ebcb7b0b7">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-wyjazd-ratunkowy.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<identifier>
		<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
		<value value="123aac68-b786-470f-b243-904d601d6b0e"/>
	</identifier>
	<status value="finished"/>
	<class>
		<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
		<code value="16"/>
		<display value="Hemodializa"/>
	</class>
	<subject>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<reference value="Patient/540"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="40010151673"/>
		</identifier>
		<display value="Sylwester Senior"/>
	</subject>
	<episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="88f8a2d9-9e56-4a60-8fc4-eaa56f636774"/>
		</identifier>
	</episodeOfCare>
	<basedOn>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.17.4.1"/>
			<value value="7E54CF7569DE476AA381C8"/>
			<period>
				<start value="2019-08-26T10:00:00+02:00"/>
			</period>
		</identifier>
	</basedOn>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
			<valueCoding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
				<code value="11"/>
			</valueCoding>
		</extension>
		<type>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.84"/>
				<code value="KGW"/>
				<display value="Kierownik grupy wyjazdowej"/>
			</coding>
		</type>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
			<valueCoding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
				<code value="22"/>
			</valueCoding>
		</extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
				<value value="00210125944"/>
			</identifier>
			<display value="Anna Penoletnia"/>
		</individual>
	</participant>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
			<valueCoding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
				<code value="22"/>
			</valueCoding>
		</extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
				<value value="BJ23454"/>
			</identifier>
			<display value="Ivan Milan"/>
		</individual>
	</participant>
	<period>
		<start value="2022-09-02T10:36:13.401+02:00"/>
		<end value="2022-09-02T11:36:13.401+02:00"/>
	</period>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
		<period>
			<start value="2022-09-02T10:36:13.401+02:00"/>
			<end value="2022-09-02T11:36:13.401+02:00"/>
		</period>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter" id="772958cd-8176-4e93-8875-a8123de2b2f1">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter" id="ca159828-a602-4357-a4ba-632c00d8f164" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="18bf6ab8-2610-482a-adf9-6ec5f9fd89ca" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych encounter" id="1cad3437-962f-4442-b2f0-505b2d6b3e75">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>encounterVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu" id="d92e97d7-02f7-4dd6-85fe-9ca1288bf3f7">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>4360</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1iMmQyMjA0NS00MGY3LTQ1Y2MtOWQ2MC05MjllMmNlMzBkMzciPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYjJkMjIwNDUtNDBmNy00NWNjLTlkNjAtOTI5ZTJjZTMwZDM3LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTQwL19oaXN0b3J5LzQzNjAiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+N1FDWFdCWU9XSEFBWWdTdm12MFpvMmxONTVXM0ExSHU0RUVmK0Ywc0wxND08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYjJkMjIwNDUtNDBmNy00NWNjLTlkNjAtOTI5ZTJjZTMwZDM3LXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMTc1L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+TUxMWHpIUXF5TnN1M3JtdFpQUG41Y0dPaFZLQnMzTFpkVmlkQUFveFZEWT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLWIyZDIyMDQ1LTQwZjctNDVjYy05ZDYwLTkyOWUyY2UzMGQzNy1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+Smkxa3FxL05mcVlFREw2YlRYclFBNEk5bnhzeUx4V0pSZThZQ0VOK2RSVT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctYjJkMjIwNDUtNDBmNy00NWNjLTlkNjAtOTI5ZTJjZTMwZDM3LXNpZ3ZhbHVlIj5YT0VpMGlqdGhVVFVZQzVIcU9sYlFCWEUzbmdNOVBZcTBpWi9uLzZHSHFSclNxcjZIYVJjeHNJYnNjKzlSMmNVVkJoS2JmdGh1RDJrL2d6czRKd2ZZU01sZnRQL2FBM1lXZUQ3SUZncmpaSEpWRGJrUnl1QVh5RUdwMS9ndUlZd21GZEFzTHZReVowUDZNdEhIdVk2b2tHdkhjd3pEWmZQSXBUTThoMDFZTEJQZEpGNDA2QXNPUkZTdlBSWk9tR0VZUDQ0SnowMXBXS1loQ01uVUFBL3BQU2JDRFFYNk5mVERyM3VoYXNvdTg2TEtiN2VTRHZJNmJmQ2F4dUxXYTRuM29IYlJ0MWtzTFcxVFlmZW5YVU5ZVXpRZGI3S3NZcmdEamFnS1hlOXZ3Njl4NU9Yc294QkdrV2dVaUxhdnZCT1Bzb0VCVmhhMEJqU0xnS1JEenhYK2c9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy1iMmQyMjA0NS00MGY3LTQ1Y2MtOWQ2MC05MjllMmNlMzBkMzciPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLWIyZDIyMDQ1LTQwZjctNDVjYy05ZDYwLTkyOWUyY2UzMGQzNy1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6MzY6MjMuMjQ1KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4=</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu" id="7f314929-8156-4436-b1c5-508cca59eee0">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane#patientId}') + "/_history/" + context.expand('${danePodpisu#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane#encounterId}') + "/_history/" + context.expand('${danePodpisu#encounterVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisu'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource" id="8d0cec82-0406-49fe-9cee-ed623148ef81">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane,danePodpisu</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-encounter.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/540"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142175"/>
		<type value="Encounter"/>
	</target>
	<recorded value="2022-09-02T11:36:13.401+02:00"/>
	<agent>

		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:36:13.401+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1iMmQyMjA0NS00MGY3LTQ1Y2MtOWQ2MC05MjllMmNlMzBkMzciPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYjJkMjIwNDUtNDBmNy00NWNjLTlkNjAtOTI5ZTJjZTMwZDM3LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTQwL19oaXN0b3J5LzQzNjAiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+N1FDWFdCWU9XSEFBWWdTdm12MFpvMmxONTVXM0ExSHU0RUVmK0Ywc0wxND08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYjJkMjIwNDUtNDBmNy00NWNjLTlkNjAtOTI5ZTJjZTMwZDM3LXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMTc1L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+TUxMWHpIUXF5TnN1M3JtdFpQUG41Y0dPaFZLQnMzTFpkVmlkQUFveFZEWT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLWIyZDIyMDQ1LTQwZjctNDVjYy05ZDYwLTkyOWUyY2UzMGQzNy1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+Smkxa3FxL05mcVlFREw2YlRYclFBNEk5bnhzeUx4V0pSZThZQ0VOK2RSVT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctYjJkMjIwNDUtNDBmNy00NWNjLTlkNjAtOTI5ZTJjZTMwZDM3LXNpZ3ZhbHVlIj5YT0VpMGlqdGhVVFVZQzVIcU9sYlFCWEUzbmdNOVBZcTBpWi9uLzZHSHFSclNxcjZIYVJjeHNJYnNjKzlSMmNVVkJoS2JmdGh1RDJrL2d6czRKd2ZZU01sZnRQL2FBM1lXZUQ3SUZncmpaSEpWRGJrUnl1QVh5RUdwMS9ndUlZd21GZEFzTHZReVowUDZNdEhIdVk2b2tHdkhjd3pEWmZQSXBUTThoMDFZTEJQZEpGNDA2QXNPUkZTdlBSWk9tR0VZUDQ0SnowMXBXS1loQ01uVUFBL3BQU2JDRFFYNk5mVERyM3VoYXNvdTg2TEtiN2VTRHZJNmJmQ2F4dUxXYTRuM29IYlJ0MWtzTFcxVFlmZW5YVU5ZVXpRZGI3S3NZcmdEamFnS1hlOXZ3Njl4NU9Yc294QkdrV2dVaUxhdnZCT1Bzb0VCVmhhMEJqU0xnS1JEenhYK2c9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy1iMmQyMjA0NS00MGY3LTQ1Y2MtOWQ2MC05MjllMmNlMzBkMzciPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLWIyZDIyMDQ1LTQwZjctNDVjYy05ZDYwLTkyOWUyY2UzMGQzNy1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6MzY6MjMuMjQ1KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4="/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance" id="ddb4453f-7e69-46c9-89c8-244ee6359cab">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b48d3edc-e5a5-41ea-8489-1455d79d68fb" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych provenance" id="76044a6c-002d-4928-8250-5b89a51a6fce">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>provenanceId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Delay" id="7dae3baf-1fb7-4212-b932-eea68e085a9e">
        <con:settings/>
        <con:config>
          <delay>${#Project#delaySeconds}000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Provenance" id="90c52225-a9b3-4475-9ba9-2bce500730f4">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Anulowanie-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Provenance" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#provenanceId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Encounter" id="b816d435-79a5-41fa-9f45-d71d20e117cc">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Delete-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Encounter" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#encounterId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:testCase id="52ede0eb-db8d-4b70-9d0b-f8517a0125c3" failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Rejestracja informacji o wadze, wzrocie, obwodzie pasa, bmi i miarowoci rytmu serca pacjenta oraz uywaniu wyrobw tytoniowych przez pacjenta, cinieniu krwi pacjenta i grupie krwi pacjenta" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskanie tokenu dostpowego" id="49bcad7b-cb4f-4545-a694-26296ba1e1ee">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych i pobranie zmiennych" id="9754d592-0849-4dea-b5d8-6061402eadd4">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

String identyfikatorZdarzenia = java.util.UUID.randomUUID().toString()
String korelacjaIdentyfikator = java.util.UUID.randomUUID().toString()
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString().replace("-", "").toUpperCase().substring(0, 22)

def pracownikImieNazwisko = context.expand('${#Project#imieNazwiskoPracownika}')
def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')
def locationIdentyfikator = context.expand('${#Project#identyfikatorMiejscaSwiadczenia}')
def podmiotIdentyfikator = context.expand('${#Project#identyfikatorPodmiotu}')

def formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
def teraz = ZonedDateTime.now()
String data1 = teraz.minusHours(1).format(formatter)
String data2 = teraz.format(formatter)

def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("identyfikatorZdarzenia", identyfikatorZdarzenia)
dane.setPropertyValue("korelacjaIdentyfikator", korelacjaIdentyfikator)
dane.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
dane.setPropertyValue("zdarzenieDataPoczatek", data1)
dane.setPropertyValue("zdarzenieDataKoniec", data2)
dane.setPropertyValue("podpisData", data2)
dane.setPropertyValue("effectiveDateTime", data2)
dane.setPropertyValue("pracownikImieNazwisko", pracownikImieNazwisko)
dane.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)
dane.setPropertyValue("locationIdentyfikator", locationIdentyfikator)
dane.setPropertyValue("podmiotIdentyfikator", podmiotIdentyfikator)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="16c9d9c0-0273-4948-b4b7-7fc04978c7d4">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>40010151673</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>Senior</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>Sylwester</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>Sylwester Senior</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>1940-01-01</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>540</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142179</con:value>
            </con:property>
            <con:property>
              <con:name>provenanceId</con:name>
              <con:value>5142197</con:value>
            </con:property>
            <con:property>
              <con:name>observationIdWzrost</con:name>
              <con:value>5142183</con:value>
            </con:property>
            <con:property>
              <con:name>observationIdWaga</con:name>
              <con:value>5142181</con:value>
            </con:property>
            <con:property>
              <con:name>observationIdPalenie</con:name>
              <con:value>5142185</con:value>
            </con:property>
            <con:property>
              <con:name>observationIdObwd</con:name>
              <con:value>5142187</con:value>
            </con:property>
            <con:property>
              <con:name>observationIdMiarowosc</con:name>
              <con:value>5142191</con:value>
            </con:property>
            <con:property>
              <con:name>observationIdBmi</con:name>
              <con:value>5142189</con:value>
            </con:property>
            <con:property>
              <con:name>observationIdCinienie</con:name>
              <con:value>5142193</con:value>
            </con:property>
            <con:property>
              <con:name>observationIdGrupaKrwi</con:name>
              <con:value>5142195</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>A3E53FAC296742C0A4AAAE</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>263c245e-0946-41e1-952e-73a2d8c3b0e8</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>fa7f6b82-431a-4b40-a438-b185f3a27ca7</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2022-09-02T11:37:01.571+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>effectiveDateTime</con:name>
              <con:value>2022-09-02T11:37:01.571+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T10:37:01.571+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:37:01.571+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Patient ID" id="b6294d2a-178d-4751-834f-759061be3017">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>48d1bd54-39e7-4f92-a587-b4df08704d3a</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>${dane#identyfikatorPacjentaOID}</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>${dane#identyfikatorPacjenta}</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>${dane#nazwisko}</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>${dane#imie}</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>${dane#dataUrodzenia}</con:value>
            </con:property>
            <con:property>
              <con:name>-----------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>540</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>4360</con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>patientId</con:entry>
            <con:entry>patientVersion</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_FAIL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych patient" id="2bdc00b9-5a5d-43ec-853d-35df7b9d7951">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>patientId</con:sourceType>
            <con:sourceStep>Patient ID</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>patientVersion</con:sourceType>
            <con:sourceStep>Patient ID</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterResource" id="c6257db4-a9af-4ca3-a4c8-975477f4c9f9">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-bilans.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<identifier>
		<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
		<value value="fa7f6b82-431a-4b40-a438-b185f3a27ca7"/>
	</identifier>
	<status value="finished"/>
	<class>
		<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
		<code value="17"/>
		<display value="Bilans zdrowia"/>
	</class>
	<subject>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<reference value="Patient/540"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="40010151673"/>
		</identifier>
		<display value="Sylwester Senior"/>
	</subject>
	<episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="263c245e-0946-41e1-952e-73a2d8c3b0e8"/>
		</identifier>
	</episodeOfCare>
	<basedOn>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.17.4.1"/>
			<value value="A3E53FAC296742C0A4AAAE"/>
			<period>
				<start value="2019-08-26T10:00:00+02:00"/>
			</period>
		</identifier>
	</basedOn>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
			<valueCoding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
				<code value="11"/>
			</valueCoding>
		</extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<period>
		<start value="2022-09-02T10:37:01.571+02:00"/>
		<end value="2022-09-02T11:37:01.571+02:00"/>
	</period>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
		<period>
			<start value="2022-09-02T10:37:01.571+02:00"/>
			<end value="2022-09-02T11:37:01.571+02:00"/>
		</period>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter" id="5f4d98f9-68be-4793-925b-dc5b0dfa9dc5">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter" id="ca159828-a602-4357-a4ba-632c00d8f164" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="18bf6ab8-2610-482a-adf9-6ec5f9fd89ca" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych encounter" id="2530dfca-e890-4789-ac0d-740e4020f8ef">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>encounterVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="observationResourceWaga" id="8ae9fef0-ccb5-4164-8fb5-1f16fc5ae095">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>observation-waga-pesel.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Observation xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLAnthropometricMeasurements"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<status value="final"/>
	<code>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.6.1"/>
			<code value="29463-7"/>
			<display value="Body weight"/>
		</coding>
	</code>
	<subject>
		<reference value="Patient/540"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="40010151673"/>
		</identifier>
	</subject>
	<encounter>
		<reference value="Encounter/5142179"/>
		<type value="Encounter"/>
	</encounter>
	<effectiveDateTime value="2022-09-02T11:37:01.571+02:00"/>
	<performer>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
	</performer>
	<valueQuantity>
		<value value="78.8"/>
		<system value="urn:oid:2.16.840.1.113883.6.8"/>
		<code value="kg"/>
	</valueQuantity>
</Observation>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Observation - waga" id="ba2a66dd-8a2b-42de-9eeb-338d504c6d07">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="POST Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Observation - waga" id="060f119d-bfe7-4ca7-8c93-065148c8732c" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${observationResourceWaga#resourceRequest}</con:request>
            <con:originalUri>http://10.0.35.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="9072fbcd-ee14-49d0-9d56-1c3d118d5ae9" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="1adfa3f4-7dc5-4662-8470-2593971461e8" name="Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych observation1" id="93a5f1a3-23d2-4829-8698-c4aa045e0034">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation - waga</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>observationIdWaga</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation - waga</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>observationWagaVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="observationResourceWzrost" id="0bc3e606-1eaa-4a87-bb08-1fe35b05e5e9">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>observation-wzrost-pesel.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Observation xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLAnthropometricMeasurements"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<status value="final"/>
	<code>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.6.1"/>
			<code value="8302-2"/>
			<display value="Body height"/>
		</coding>
	</code>
	<subject>
		<reference value="Patient/540"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="40010151673"/>
		</identifier>
	</subject>
	<encounter>
		<reference value="Encounter/5142179"/>
		<type value="Encounter"/>
	</encounter>
	<effectiveDateTime value="2022-09-02T11:37:01.571+02:00"/>
	<performer>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
	</performer>
	<valueQuantity>
		<value value="177"/>
		<system value="urn:oid:2.16.840.1.113883.6.8"/>
		<code value="cm"/>
	</valueQuantity>
</Observation>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Observation - wzrost" id="48bc100c-480f-4535-8ebc-89e6d737a8fe">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="POST Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Observation - wzrost" id="060f119d-bfe7-4ca7-8c93-065148c8732c" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${observationResourceWzrost#resourceRequest}</con:request>
            <con:originalUri>http://10.0.35.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="84bfd76a-cd1c-4830-96dd-3a39a01f3eff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="6c713db5-20f7-4ec7-b7b6-49c2b891c25c" name="Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych observation2" id="e8afb661-863f-4783-b302-aa1f8a8419a9">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation - wzrost</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>observationIdWzrost</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation - wzrost</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>observationWzrostVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="observationResourcePalenie" id="4aaed794-10d4-49e4-900d-1a8ae25fe046">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>observation-palenie-pesel.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Observation xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLSmokingStatus"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<status value="final"/>
	<code>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.6.1"/>
			<code value="72166-2"/>
			<display value="Tobacco smoking status"/>
		</coding>
	</code>
	<subject>
		<reference value="Patient/540"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="40010151673"/>
		</identifier>
	</subject>
	<encounter>
		<reference value="Encounter/5142179"/>
		<type value="Encounter"/>
	</encounter>
	<valueCodeableConcept>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.73"/>
			<code value="6"/>
			<display value="Palcy codziennie - e-papierosy"/>
		</coding>
	</valueCodeableConcept>
</Observation>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Observation - palenie" id="a437c82f-fe0e-4844-883f-4a6cf867e872">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="POST Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Observation - palenie" id="060f119d-bfe7-4ca7-8c93-065148c8732c" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${observationResourcePalenie#resourceRequest}</con:request>
            <con:originalUri>http://10.0.35.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a6e173b7-a90a-43a7-b3af-2a95eb23ccb7" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="e1014703-a906-4b78-a955-26516cdc3a2a" name=" Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych observation3" id="de247bf3-e23d-4c0a-adba-0710bc657ff6">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation - palenie</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>observationIdPalenie</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation - palenie</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>observationPalenieVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="observationResourceObwodPas" id="21e6e1f9-3556-440c-b5de-f11c27a93c8f">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>observation-obwd-pesel.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Observation xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLAnthropometricMeasurements"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<status value="final"/>
	<code>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.6.1"/>
			<code value="56114-2"/>
			<display value="Waist Circumference by NHANES"/>
		</coding>
	</code>
	<subject>
		<reference value="Patient/540"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="40010151673"/>
		</identifier>
	</subject>
	<encounter>
		<reference value="Encounter/5142179"/>
		<type value="Encounter"/>
	</encounter>
	<effectiveDateTime value="2022-09-02T11:37:01.571+02:00"/>
	<performer>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
	</performer>
	<valueQuantity>
		<value value="96"/>
		<system value="urn:oid:2.16.840.1.113883.6.8"/>
		<code value="cm"/>
	</valueQuantity>
</Observation>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Observation - obwd pas" id="01077c90-779e-4d99-871c-965a32245911">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="POST Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Observation - obwd pas" id="060f119d-bfe7-4ca7-8c93-065148c8732c" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${observationResourceObwodPas#resourceRequest}</con:request>
            <con:originalUri>http://10.0.35.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="84bfd76a-cd1c-4830-96dd-3a39a01f3eff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="6c713db5-20f7-4ec7-b7b6-49c2b891c25c" name="Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych observation4" id="f3f19d9d-51ac-48e2-843c-b4344c96ee3d">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation - obwd pas</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>observationIdObwd</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation - obwd pas</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>observationObwdVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="observationResourceBmi" id="d0ef24a6-122b-4673-86b8-c4d9753ac732">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>observation-bmi-pesel.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Observation xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLAnthropometricMeasurements"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<status value="final"/>
	<code>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.6.1"/>
			<code value="LP35925-4"/>
			<display value="Body mass index (BMI)"/>
		</coding>
	</code>
	<subject>
		<reference value="Patient/540"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="40010151673"/>
		</identifier>
	</subject>
	<encounter>
		<reference value="Encounter/5142179"/>
		<type value="Encounter"/>
	</encounter>
	<effectiveDateTime value="2022-09-02T11:37:01.571+02:00"/>
	<performer>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
	</performer>
	<valueQuantity>
		<value value="23.3"/>
		<system value="urn:oid:2.16.840.1.113883.6.8"/>
		<code value="kg/m2"/>
	</valueQuantity>
</Observation>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Observation - bmi" id="81f7d3a0-fa93-480a-87cd-6e4f3a6e5576">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="POST Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Observation - bmi" id="060f119d-bfe7-4ca7-8c93-065148c8732c" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${observationResourceBmi#resourceRequest}</con:request>
            <con:originalUri>http://10.0.35.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="84bfd76a-cd1c-4830-96dd-3a39a01f3eff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="6c713db5-20f7-4ec7-b7b6-49c2b891c25c" name="Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych observation5" id="0b2f1b84-bdfe-4e03-a8af-dc39e952e6d0">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation - bmi</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>observationIdBmi</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation - bmi</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>observationBmiVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="observationResourceMiarowosc" id="74d871b9-ae7b-4b70-b1e7-a06205ec1a10">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>observation-miarowosc-pesel.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Observation xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLAnthropometricMeasurements"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<status value="final"/>
	<code>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
			<code value="89.59"/>
			<display value="Inne nieinwazyjne badania serca i ukadu naczyniowego"/>
		</coding>
	</code>
	<subject>
		<reference value="Patient/540"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="40010151673"/>
		</identifier>
	</subject>
	<encounter>
		<reference value="Encounter/5142179"/>
		<type value="Encounter"/>
	</encounter>
	<effectiveDateTime value="2022-09-02T11:37:01.571+02:00"/>
	<performer>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
	</performer>
	<valueCodeableConcept>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.122"/>
			<code value="1"/>
			<display value="Rytm serca miarowy"/>
		</coding>
	</valueCodeableConcept>
</Observation>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Observation - miarowosc" id="14464645-825b-4d67-be8a-b8de91847c89">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="POST Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Observation - miarowosc" id="060f119d-bfe7-4ca7-8c93-065148c8732c" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${observationResourceMiarowosc#resourceRequest}</con:request>
            <con:originalUri>http://10.0.35.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="84bfd76a-cd1c-4830-96dd-3a39a01f3eff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="6c713db5-20f7-4ec7-b7b6-49c2b891c25c" name="Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych observation6" id="3258b1ef-f8a1-4a1c-adea-61916a78896a">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation - miarowosc</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>observationIdMiarowosc</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation - miarowosc</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>observationMiarowoscVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="observationResourceCinienie" id="f20a48a7-5d37-487f-a97f-41c0d456ced8">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>observation-cinienie-pesel.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Observation xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLBloodPressure"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<status value="final"/>
	<code>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.6.1"/>
			<code value="85354-9"/>
			<display value="Blood pressure panel with all children optional"/>
		</coding>
	</code>
	<subject>
		<reference value="Patient/540"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="40010151673"/>
		</identifier>
	</subject>
	<encounter>
		<reference value="Encounter/5142179"/>
		<type value="Encounter"/>
	</encounter>
	<effectiveDateTime value="2022-09-02T11:37:01.571+02:00"/>
	<performer>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
	</performer>
	<component>
		<code>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.6.1"/>
				<code value="8480-6"/>
				<display value="Systolic blood pressure"/>
			</coding>
		</code>
		<valueQuantity>
			<value value="107"/>
			<system value="urn:oid:2.16.840.1.113883.6.8"/>
			<code value="mm[Hg]"/>
		</valueQuantity>
	</component>
	<component>
		<code>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.6.1"/>
				<code value="8462-4"/>
				<display value="Diastolic blood pressure"/>
			</coding>
		</code>
		<valueQuantity>
			<value value="60"/>
			<system value="urn:oid:2.16.840.1.113883.6.8"/>
			<code value="mm[Hg]"/>
		</valueQuantity>
	</component>
</Observation>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Observation - cinienie" id="cf6f1096-cb44-4fb3-8bbd-d2183e5bb707">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="POST Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Observation - cinienie" id="060f119d-bfe7-4ca7-8c93-065148c8732c" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${observationResourceCinienie#resourceRequest}</con:request>
            <con:originalUri>http://10.0.35.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="84bfd76a-cd1c-4830-96dd-3a39a01f3eff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="6c713db5-20f7-4ec7-b7b6-49c2b891c25c" name="Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych observation7" id="157ea578-f1ff-412c-be1c-7ed061ec05d0">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation - cinienie</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>observationIdCinienie</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation - cinienie</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>observationCinienieVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="observationResourceGrupaKrwi" id="c850c2cd-fd8d-4b64-9e24-6f8ab2cc6676">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>observation-krew-pesel.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Observation xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLBloodGroup"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
	  </security>
	</meta>
	<status value="final"/>
	<code>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.6.1"/>
			<code value="883-9"/>
			<display value="ABO group [Type] in Blood"/>
		</coding>
	</code>
	<subject>
		<reference value="Patient/540"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="40010151673"/>
		</identifier>
	</subject>
	<effectiveDateTime value="2020-06-02T10:00:00+01:00"/>
	<performer>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="ANNA KASINA"/>
	</performer>
	<valueCodeableConcept>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.6.96"/>
			<code value="112144000"/>
			<display value="Blood group A (finding)"/>
		</coding>
	</valueCodeableConcept>
</Observation>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Observation - grupa krwi" id="f30b633d-d138-466c-90e5-5956c4bf3fc1">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="POST Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Observation - grupa krwi" id="060f119d-bfe7-4ca7-8c93-065148c8732c" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${observationResourceGrupaKrwi#resourceRequest}</con:request>
            <con:originalUri>http://10.0.35.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="84bfd76a-cd1c-4830-96dd-3a39a01f3eff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="6c713db5-20f7-4ec7-b7b6-49c2b891c25c" name="Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych observation8" id="93878b8f-0621-48ac-814d-982f6741b1f9">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation - grupa krwi</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>observationIdGrupaKrwi</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation - grupa krwi</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>observationGrupaKrwiVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu" id="c3aaa490-6ecf-446b-9c07-95cbc6cf340e">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>4360</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>observationWagaVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>observationWzrostVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>observationPalenieVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>observationObwdVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>observationBmiVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>observationMiarowoscVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>observationCinienieVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>observationGrupaKrwiVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy01MmMxNWMwZi0yZjg0LTQ2ZDMtOWY1My0yYzQzMTIxYzg2ZjIiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNTJjMTVjMGYtMmY4NC00NmQzLTlmNTMtMmM0MzEyMWM4NmYyLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTQwL19oaXN0b3J5LzQzNjAiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+N1FDWFdCWU9XSEFBWWdTdm12MFpvMmxONTVXM0ExSHU0RUVmK0Ywc0wxND08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNTJjMTVjMGYtMmY4NC00NmQzLTlmNTMtMmM0MzEyMWM4NmYyLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMTc5L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+cGhGTk9BVFBzQmVyZkU0ODg1Lzl2dTFSMlQ0WlpPZFo3aVl1UlUzS0VKaz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNTJjMTVjMGYtMmY4NC00NmQzLTlmNTMtMmM0MzEyMWM4NmYyLXJlZjIiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL09ic2VydmF0aW9uLzUxNDIxODEvX2hpc3RvcnkvMSI+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5xOVEzWmxySlM4L2U3aVlZOUR5VXY3TFRKeFRlWGw5T281aFpRL0x3d2xZPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PGRzOlJlZmVyZW5jZSBJZD0ieG1sZHNpZy01MmMxNWMwZi0yZjg0LTQ2ZDMtOWY1My0yYzQzMTIxYzg2ZjItcmVmMyIgVVJJPSJodHRwczovL2lzdXMuZXpkcm93aWUuZ292LnBsL2ZoaXIvT2JzZXJ2YXRpb24vNTE0MjE4My9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPit1UkkwMlplTHYyaGZYMDJtQ0l2NEZubWxkZkgwcjN2b1JTWXlVMjNYcXM9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTUyYzE1YzBmLTJmODQtNDZkMy05ZjUzLTJjNDMxMjFjODZmMi1yZWY0IiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9PYnNlcnZhdGlvbi81MTQyMTg1L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+Ulh0NmorQXd4b3ozVFdZMXZPMFRGZnNlVXk4ZU9nOGtaK0t1ektSSEhrUT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNTJjMTVjMGYtMmY4NC00NmQzLTlmNTMtMmM0MzEyMWM4NmYyLXJlZjUiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL09ic2VydmF0aW9uLzUxNDIxODcvX2hpc3RvcnkvMSI+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT4yT2UxKzZyVk5rRytTeUk2Smx5MFM5a2xOWlNOOEViTUJzMm9nS0xRTERvPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PGRzOlJlZmVyZW5jZSBJZD0ieG1sZHNpZy01MmMxNWMwZi0yZjg0LTQ2ZDMtOWY1My0yYzQzMTIxYzg2ZjItcmVmNiIgVVJJPSJodHRwczovL2lzdXMuZXpkcm93aWUuZ292LnBsL2ZoaXIvT2JzZXJ2YXRpb24vNTE0MjE4OS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjg3MXpYYUorTUQ4OVpxTDNuRFdRN2ptNGNpYlNiY0pTeHE4RXlqVXdYVHM9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTUyYzE1YzBmLTJmODQtNDZkMy05ZjUzLTJjNDMxMjFjODZmMi1yZWY3IiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9PYnNlcnZhdGlvbi81MTQyMTkxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+c2ZFMWJTVWdsMWJKaytKNWNURG9pbVA3aFZvLzVXZkx0M1FhZG9wOVBjVT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNTJjMTVjMGYtMmY4NC00NmQzLTlmNTMtMmM0MzEyMWM4NmYyLXJlZjgiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL09ic2VydmF0aW9uLzUxNDIxOTMvX2hpc3RvcnkvMSI+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5DaXVtK1l6UVpVSlFtRVNxd1VzN0xNQVlUeEJ1SHJ0OG9HbW9oeVJBYUlNPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PGRzOlJlZmVyZW5jZSBJZD0ieG1sZHNpZy01MmMxNWMwZi0yZjg0LTQ2ZDMtOWY1My0yYzQzMTIxYzg2ZjItcmVmOSIgVVJJPSJodHRwczovL2lzdXMuZXpkcm93aWUuZ292LnBsL2ZoaXIvT2JzZXJ2YXRpb24vNTE0MjE5NS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPllWaHUyN2tTSFhqRllCWnpHYVJVV1JRNy9FTDRLYW4vZGxmK1E4YzR4ajg9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy01MmMxNWMwZi0yZjg0LTQ2ZDMtOWY1My0yYzQzMTIxYzg2ZjItc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPnZDRXJRSDcxM3RSODNjMEptOUpTZDRjSklaUVV3enR3WTFVNDJ5WHpndjg9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLTUyYzE1YzBmLTJmODQtNDZkMy05ZjUzLTJjNDMxMjFjODZmMi1zaWd2YWx1ZSI+ZzNjYjNiUS9wcm5NRVBRUW5oeEFEdkQwL3JjaU5mS3AraDVwRHlpVU8zNllReG5wVStJVEkxdDV6ck05VzRJb1YvV3NlN2FNTzRKUWY0T2Rnb09KWEhPUDlIeHRnMHpjTEtiQVVzQ3BTMk9KU0FsUUZYL1c2dUdWbjVZaWM5bTV4eTFMS3Rld25JRTNodkNHSUNNc1oxRUlCQnhDOXhIVTZ3RUxwbXhncnQ0ODAvWVNjNTA5bysrWHcvWml2RVc5aVNUMW1iSkM3Ni9RL01CUWtQNzJSZEJLTDlpSEZ3M2x0ZlI0WVY0U3o1OWFGVUowWVdJTVZkT2Y4UUh5ZmFmc3dCbWZ5ekp5TlA2SnJrZEljS2pMQ3BOMHdLcXNoWmdGdUN2eG5hNHA3anVqd0oxZy9YVkt0SlJKcXhBekx5QnJVTHNPaW42N1RwaS8rMlEyM3IvMDJ3PT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZNVENDQXhtZ0F3SUJBZ0lJZnFoa0FVQ2RCRnN3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1UQTJNakV3TnpRMU16ZGFGdzB5TXpBMk1qRXdOelExTXpkYU1JR2tNVFF3TWdZRFZRUUREQ3RRYjJSdGFXOTBYMnhsWTNwdWFXTjZlVjh4TFhWM2FXVnllbmwwWld4dWFXVnVhV1VnWkdGdWVXTm9NVFV3TXdZRFZRUUZFeXd5TGpFMkxqZzBNQzR4TGpFeE16ZzRNeTR6TGpRME1qUXVNaTR6TGpFNklEQXdNREF3TURBeE1qRXdOakVZTUJZR0ExVUVDd3dQVURFZ1NXNTBaV2R5WVdONWFtNWxNUTR3REFZRFZRUUtEQVZEVTBsUFdqRUxNQWtHQTFVRUJoTUNVRXd3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRHVJL0E5OFBvNzd1cVZjZ3VZenZ1WmJqVXZDejJaR2pJZXVFSXRxeElRc28yT2dOSC94Qi9BWWV1M1BzVGVBdVFLU0VhNkpmNmd4LzVaL1IzQ2ZUbUd2SU8wRmJzTGtNcDlxV0Qrd1FTR2ZsQzZwNXBZM1QrTzFKYW96clZqR3F4YjFJZGJPdmhoZWFqdXFydUNvUjdhdjYvMWpzQzBmTUE2a1pUUW5EY01ORXA3Sk5yWDRRUmxvUlA2ZHg2ek9LQVhhZzJCNHYrMVR2Tjk5WGVBME1EaHV1bzN2eU14d0RvbWw4aGlzYWFtMmdnRm42MGVzYmY5V2hOckdTaE1JVFdQWGpKRDNwdzZKNjFZLzBlWTluM0tTM0tUS010b0JLMk9Fbmg0V1FQRGJoeHp1dmprdnJ2UVFwUUFxWGRWVGVycGtBT0VVMEhBay9CSXIxL1lVQzluQWdNQkFBR2pnYmd3Z2JVd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JSaWhvRUNCb0cxYlhPZmRzcjRkTFczaHRJNmhqQlZCZ05WSFI4RVRqQk1NRXFnU0tCR2hrUm9kSFJ3Y3pvdkwybHVkQzF3TVM1bGVtUnliM2RwWlM1bmIzWXVjR3d2WTJOd01TOWpjbXd2UTBOUU1VbHVkR1ZuY21GamVXcHVaVk4xWWtOQlYxTlRMbU55YkRBZEJnTlZIUTRFRmdRVXZycFFEUEREeEdsZm5vQXJRVlNyYlNuNHkra3dEZ1lEVlIwUEFRSC9CQVFEQWdlQU1BMEdDU3FHU0liM0RRRUJEUVVBQTRJQ0FRQys2R0xjcmxjL1M0azhzREtpWWcvbXlJNWE1cUNIeEdpY3FzaU8vQTl6MGl1S2l3N1JMNkNmS2RQT2RiZitub0R2ZWs1c09BOGZaRHBWWUhtbHdFOUtMSmswZGVsQ0UySGtiK1pKSHlzYVRYaXRWeDlhWGswYTd3djJ2Q3FMR2xKcXlabzV2ZWNwam84M0I5QkhseUpTRDdWTGw1WFVzRnEvNUluOGRMbm9RaHBKWFN6ZGJKWlNYcVdxQ2hmdE5TSU5nODVmUDBpeWYwWVJPcEZJRVNGTVRGRWNkWUdUNllFRzV0MHNnaUttZm5nYzQ5M0VSdFMyOXBTWUhyTWdGZllNcVFiRm9hUXZnK3VWV3JMczlyaUh6emZMaXR1cnppcUNtL2dROE1CcUpjK2NVcnlCLzRBSEZEUGxQblh2TW1SQ2FKMXV2OFJ3TnJqSWRhT2prSHJkREtxbmJJQ21MclhaMUlrcTQ5NGY4QXNCcjk0bkJydGo0bnlvU2lIQUx3WGJHMVBRQlFtU1RCNmVsbUpHYlRrbGVvOXBjNHZHK29QTWtTR1VNdEcwOS92M1pucHRVREVKUjZEeFBPV1Q3d0pDOVF2WjQxdVZkRFF1aWtXZWwyK1FxaXkyTnBYeHF2VFhnZTFsZlBEYTFWcmwwejU3VnFRUVFrUmlXVjBXMUx2YjRxc3NMRDZqLzltSitndEtRV25NRHlkZGZ3NWpnaGJ4YmRWc0MyUTRCckZlY0VDTjBpTHhNbHJ6WEpuT0dlSE9zSjVIaC9pZG44NlkweW5FSG1mcVBrdjR5M01ORjdvWjg4M29kQlE1RjhSdjZlbGRvSHZTTTZ3N3VCNnVDVmg4YXJuV0k3bCs2dWorOEJucCtiek1NL1VJM2kyVWtKMVhsbGNRNXR4WlVRPT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48ZHM6WDUwOVN1YmplY3ROYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsc2VyaWFsTnVtYmVyPTIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMTogMDAwMDAwMDEyMTA2LGNuPVBvZG1pb3RfbGVjem5pY3p5XzEtdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctNTJjMTVjMGYtMmY4NC00NmQzLTlmNTMtMmM0MzEyMWM4NmYyIj48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy01MmMxNWMwZi0yZjg0LTQ2ZDMtOWY1My0yYzQzMTIxYzg2ZjItc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjM3OjE5LjE0NiswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkVkSXRYNmdLQXowM2xQZ0dLOFNxTzNsaUc1NTdsL28yNjZ1Z2xtV1psWFU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+b3R5OXJqazlvK0lJU204LzNHaEYxd1ZrVDBlWUFyeWFCTk5FMUhTdUVHaz08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+MzE0MTcwMDc4ODYxNzkzNDMxNDwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5kNlZNbDFEWmZhRk9lUjQ1REJIZytGNFBnazk1SFVNSElIcXkxc0Z6MEhBPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu" id="7235bbd2-918e-48ae-92bc-a6d838d08c8f">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane#patientId}') + "/_history/" + context.expand('${danePodpisu#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane#encounterId}') + "/_history/" + context.expand('${danePodpisu#encounterVersion}')
String observation1Reference = zmUrl + "/fhir/Observation/" + context.expand('${dane#observationIdWaga}') + "/_history/" + context.expand('${danePodpisu#observationWagaVersion}')
String observation2Reference = zmUrl + "/fhir/Observation/" + context.expand('${dane#observationIdWzrost}') + "/_history/" + context.expand('${danePodpisu#observationWzrostVersion}')
String observation3Reference = zmUrl + "/fhir/Observation/" + context.expand('${dane#observationIdPalenie}') + "/_history/" + context.expand('${danePodpisu#observationPalenieVersion}')
String observation4Reference = zmUrl + "/fhir/Observation/" + context.expand('${dane#observationIdObwd}') + "/_history/" + context.expand('${danePodpisu#observationObwdVersion}')
String observation5Reference = zmUrl + "/fhir/Observation/" + context.expand('${dane#observationIdBmi}') + "/_history/" + context.expand('${danePodpisu#observationBmiVersion}')
String observation6Reference = zmUrl + "/fhir/Observation/" + context.expand('${dane#observationIdMiarowosc}') + "/_history/" + context.expand('${danePodpisu#observationMiarowoscVersion}')
String observation7Reference = zmUrl + "/fhir/Observation/" + context.expand('${dane#observationIdCinienie}') + "/_history/" + context.expand('${danePodpisu#observationCinienieVersion}')
String observation8Reference = zmUrl + "/fhir/Observation/" + context.expand('${dane#observationIdGrupaKrwi}') + "/_history/" + context.expand('${danePodpisu#observationGrupaKrwiVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);
refs.add(observation1Reference);
refs.add(observation2Reference);
refs.add(observation3Reference);
refs.add(observation4Reference);
refs.add(observation5Reference);
refs.add(observation6Reference);
refs.add(observation7Reference);
refs.add(observation8Reference);

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisu'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource" id="06a58839-1860-4529-afb7-caa640c83633">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, danePodpisu</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-waga-wzrost-palenie.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/540"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142179"/>
		<type value="Encounter"/>
	</target>
	<target>
		<reference value="Observation/5142181"/>
		<type value="Observation"/>
	</target>
	<target>
		<reference value="Observation/5142183"/>
		<type value="Observation"/>
	</target>
	<target>
		<reference value="Observation/5142185"/>
		<type value="Observation"/>
	</target>
	<target>
		<reference value="Observation/5142187"/>
		<type value="Observation"/>
	</target>
	<target>
		<reference value="Observation/5142189"/>
		<type value="Observation"/>
	</target>
	<target>
		<reference value="Observation/5142191"/>
		<type value="Observation"/>
	</target>
	<target>
		<reference value="Observation/5142193"/>
		<type value="Observation"/>
	</target>	
	<target>
		<reference value="Observation/5142195"/>
		<type value="Observation"/>
	</target>	
	<recorded value="2022-09-02T11:37:01.571+02:00"/>
	<agent>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:37:01.571+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy01MmMxNWMwZi0yZjg0LTQ2ZDMtOWY1My0yYzQzMTIxYzg2ZjIiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNTJjMTVjMGYtMmY4NC00NmQzLTlmNTMtMmM0MzEyMWM4NmYyLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTQwL19oaXN0b3J5LzQzNjAiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+N1FDWFdCWU9XSEFBWWdTdm12MFpvMmxONTVXM0ExSHU0RUVmK0Ywc0wxND08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNTJjMTVjMGYtMmY4NC00NmQzLTlmNTMtMmM0MzEyMWM4NmYyLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMTc5L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+cGhGTk9BVFBzQmVyZkU0ODg1Lzl2dTFSMlQ0WlpPZFo3aVl1UlUzS0VKaz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNTJjMTVjMGYtMmY4NC00NmQzLTlmNTMtMmM0MzEyMWM4NmYyLXJlZjIiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL09ic2VydmF0aW9uLzUxNDIxODEvX2hpc3RvcnkvMSI+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5xOVEzWmxySlM4L2U3aVlZOUR5VXY3TFRKeFRlWGw5T281aFpRL0x3d2xZPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PGRzOlJlZmVyZW5jZSBJZD0ieG1sZHNpZy01MmMxNWMwZi0yZjg0LTQ2ZDMtOWY1My0yYzQzMTIxYzg2ZjItcmVmMyIgVVJJPSJodHRwczovL2lzdXMuZXpkcm93aWUuZ292LnBsL2ZoaXIvT2JzZXJ2YXRpb24vNTE0MjE4My9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPit1UkkwMlplTHYyaGZYMDJtQ0l2NEZubWxkZkgwcjN2b1JTWXlVMjNYcXM9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTUyYzE1YzBmLTJmODQtNDZkMy05ZjUzLTJjNDMxMjFjODZmMi1yZWY0IiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9PYnNlcnZhdGlvbi81MTQyMTg1L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+Ulh0NmorQXd4b3ozVFdZMXZPMFRGZnNlVXk4ZU9nOGtaK0t1ektSSEhrUT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNTJjMTVjMGYtMmY4NC00NmQzLTlmNTMtMmM0MzEyMWM4NmYyLXJlZjUiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL09ic2VydmF0aW9uLzUxNDIxODcvX2hpc3RvcnkvMSI+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT4yT2UxKzZyVk5rRytTeUk2Smx5MFM5a2xOWlNOOEViTUJzMm9nS0xRTERvPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PGRzOlJlZmVyZW5jZSBJZD0ieG1sZHNpZy01MmMxNWMwZi0yZjg0LTQ2ZDMtOWY1My0yYzQzMTIxYzg2ZjItcmVmNiIgVVJJPSJodHRwczovL2lzdXMuZXpkcm93aWUuZ292LnBsL2ZoaXIvT2JzZXJ2YXRpb24vNTE0MjE4OS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjg3MXpYYUorTUQ4OVpxTDNuRFdRN2ptNGNpYlNiY0pTeHE4RXlqVXdYVHM9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTUyYzE1YzBmLTJmODQtNDZkMy05ZjUzLTJjNDMxMjFjODZmMi1yZWY3IiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9PYnNlcnZhdGlvbi81MTQyMTkxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+c2ZFMWJTVWdsMWJKaytKNWNURG9pbVA3aFZvLzVXZkx0M1FhZG9wOVBjVT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNTJjMTVjMGYtMmY4NC00NmQzLTlmNTMtMmM0MzEyMWM4NmYyLXJlZjgiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL09ic2VydmF0aW9uLzUxNDIxOTMvX2hpc3RvcnkvMSI+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5DaXVtK1l6UVpVSlFtRVNxd1VzN0xNQVlUeEJ1SHJ0OG9HbW9oeVJBYUlNPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PGRzOlJlZmVyZW5jZSBJZD0ieG1sZHNpZy01MmMxNWMwZi0yZjg0LTQ2ZDMtOWY1My0yYzQzMTIxYzg2ZjItcmVmOSIgVVJJPSJodHRwczovL2lzdXMuZXpkcm93aWUuZ292LnBsL2ZoaXIvT2JzZXJ2YXRpb24vNTE0MjE5NS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPllWaHUyN2tTSFhqRllCWnpHYVJVV1JRNy9FTDRLYW4vZGxmK1E4YzR4ajg9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy01MmMxNWMwZi0yZjg0LTQ2ZDMtOWY1My0yYzQzMTIxYzg2ZjItc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPnZDRXJRSDcxM3RSODNjMEptOUpTZDRjSklaUVV3enR3WTFVNDJ5WHpndjg9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLTUyYzE1YzBmLTJmODQtNDZkMy05ZjUzLTJjNDMxMjFjODZmMi1zaWd2YWx1ZSI+ZzNjYjNiUS9wcm5NRVBRUW5oeEFEdkQwL3JjaU5mS3AraDVwRHlpVU8zNllReG5wVStJVEkxdDV6ck05VzRJb1YvV3NlN2FNTzRKUWY0T2Rnb09KWEhPUDlIeHRnMHpjTEtiQVVzQ3BTMk9KU0FsUUZYL1c2dUdWbjVZaWM5bTV4eTFMS3Rld25JRTNodkNHSUNNc1oxRUlCQnhDOXhIVTZ3RUxwbXhncnQ0ODAvWVNjNTA5bysrWHcvWml2RVc5aVNUMW1iSkM3Ni9RL01CUWtQNzJSZEJLTDlpSEZ3M2x0ZlI0WVY0U3o1OWFGVUowWVdJTVZkT2Y4UUh5ZmFmc3dCbWZ5ekp5TlA2SnJrZEljS2pMQ3BOMHdLcXNoWmdGdUN2eG5hNHA3anVqd0oxZy9YVkt0SlJKcXhBekx5QnJVTHNPaW42N1RwaS8rMlEyM3IvMDJ3PT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZNVENDQXhtZ0F3SUJBZ0lJZnFoa0FVQ2RCRnN3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1UQTJNakV3TnpRMU16ZGFGdzB5TXpBMk1qRXdOelExTXpkYU1JR2tNVFF3TWdZRFZRUUREQ3RRYjJSdGFXOTBYMnhsWTNwdWFXTjZlVjh4TFhWM2FXVnllbmwwWld4dWFXVnVhV1VnWkdGdWVXTm9NVFV3TXdZRFZRUUZFeXd5TGpFMkxqZzBNQzR4TGpFeE16ZzRNeTR6TGpRME1qUXVNaTR6TGpFNklEQXdNREF3TURBeE1qRXdOakVZTUJZR0ExVUVDd3dQVURFZ1NXNTBaV2R5WVdONWFtNWxNUTR3REFZRFZRUUtEQVZEVTBsUFdqRUxNQWtHQTFVRUJoTUNVRXd3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRHVJL0E5OFBvNzd1cVZjZ3VZenZ1WmJqVXZDejJaR2pJZXVFSXRxeElRc28yT2dOSC94Qi9BWWV1M1BzVGVBdVFLU0VhNkpmNmd4LzVaL1IzQ2ZUbUd2SU8wRmJzTGtNcDlxV0Qrd1FTR2ZsQzZwNXBZM1QrTzFKYW96clZqR3F4YjFJZGJPdmhoZWFqdXFydUNvUjdhdjYvMWpzQzBmTUE2a1pUUW5EY01ORXA3Sk5yWDRRUmxvUlA2ZHg2ek9LQVhhZzJCNHYrMVR2Tjk5WGVBME1EaHV1bzN2eU14d0RvbWw4aGlzYWFtMmdnRm42MGVzYmY5V2hOckdTaE1JVFdQWGpKRDNwdzZKNjFZLzBlWTluM0tTM0tUS010b0JLMk9Fbmg0V1FQRGJoeHp1dmprdnJ2UVFwUUFxWGRWVGVycGtBT0VVMEhBay9CSXIxL1lVQzluQWdNQkFBR2pnYmd3Z2JVd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JSaWhvRUNCb0cxYlhPZmRzcjRkTFczaHRJNmhqQlZCZ05WSFI4RVRqQk1NRXFnU0tCR2hrUm9kSFJ3Y3pvdkwybHVkQzF3TVM1bGVtUnliM2RwWlM1bmIzWXVjR3d2WTJOd01TOWpjbXd2UTBOUU1VbHVkR1ZuY21GamVXcHVaVk4xWWtOQlYxTlRMbU55YkRBZEJnTlZIUTRFRmdRVXZycFFEUEREeEdsZm5vQXJRVlNyYlNuNHkra3dEZ1lEVlIwUEFRSC9CQVFEQWdlQU1BMEdDU3FHU0liM0RRRUJEUVVBQTRJQ0FRQys2R0xjcmxjL1M0azhzREtpWWcvbXlJNWE1cUNIeEdpY3FzaU8vQTl6MGl1S2l3N1JMNkNmS2RQT2RiZitub0R2ZWs1c09BOGZaRHBWWUhtbHdFOUtMSmswZGVsQ0UySGtiK1pKSHlzYVRYaXRWeDlhWGswYTd3djJ2Q3FMR2xKcXlabzV2ZWNwam84M0I5QkhseUpTRDdWTGw1WFVzRnEvNUluOGRMbm9RaHBKWFN6ZGJKWlNYcVdxQ2hmdE5TSU5nODVmUDBpeWYwWVJPcEZJRVNGTVRGRWNkWUdUNllFRzV0MHNnaUttZm5nYzQ5M0VSdFMyOXBTWUhyTWdGZllNcVFiRm9hUXZnK3VWV3JMczlyaUh6emZMaXR1cnppcUNtL2dROE1CcUpjK2NVcnlCLzRBSEZEUGxQblh2TW1SQ2FKMXV2OFJ3TnJqSWRhT2prSHJkREtxbmJJQ21MclhaMUlrcTQ5NGY4QXNCcjk0bkJydGo0bnlvU2lIQUx3WGJHMVBRQlFtU1RCNmVsbUpHYlRrbGVvOXBjNHZHK29QTWtTR1VNdEcwOS92M1pucHRVREVKUjZEeFBPV1Q3d0pDOVF2WjQxdVZkRFF1aWtXZWwyK1FxaXkyTnBYeHF2VFhnZTFsZlBEYTFWcmwwejU3VnFRUVFrUmlXVjBXMUx2YjRxc3NMRDZqLzltSitndEtRV25NRHlkZGZ3NWpnaGJ4YmRWc0MyUTRCckZlY0VDTjBpTHhNbHJ6WEpuT0dlSE9zSjVIaC9pZG44NlkweW5FSG1mcVBrdjR5M01ORjdvWjg4M29kQlE1RjhSdjZlbGRvSHZTTTZ3N3VCNnVDVmg4YXJuV0k3bCs2dWorOEJucCtiek1NL1VJM2kyVWtKMVhsbGNRNXR4WlVRPT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48ZHM6WDUwOVN1YmplY3ROYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsc2VyaWFsTnVtYmVyPTIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMTogMDAwMDAwMDEyMTA2LGNuPVBvZG1pb3RfbGVjem5pY3p5XzEtdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctNTJjMTVjMGYtMmY4NC00NmQzLTlmNTMtMmM0MzEyMWM4NmYyIj48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy01MmMxNWMwZi0yZjg0LTQ2ZDMtOWY1My0yYzQzMTIxYzg2ZjItc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjM3OjE5LjE0NiswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkVkSXRYNmdLQXowM2xQZ0dLOFNxTzNsaUc1NTdsL28yNjZ1Z2xtV1psWFU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+b3R5OXJqazlvK0lJU204LzNHaEYxd1ZrVDBlWUFyeWFCTk5FMUhTdUVHaz08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+MzE0MTcwMDc4ODYxNzkzNDMxNDwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5kNlZNbDFEWmZhRk9lUjQ1REJIZytGNFBnazk1SFVNSElIcXkxc0Z6MEhBPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+"/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance" id="3d93e61a-5fa4-4640-9434-c8a75d0a487a">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b48d3edc-e5a5-41ea-8489-1455d79d68fb" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych provenance" id="bc9b44aa-7290-4e69-a362-1ea9928f715b">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>provenanceId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Delay" id="ee9c2e19-12a0-44b2-812b-13726426de2c">
        <con:settings/>
        <con:config>
          <delay>${#Project#delaySeconds}000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Provenance" id="393c6342-329d-47ca-aa8e-4abd649805d6">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Anulowanie-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Provenance" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#provenanceId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Observation 8" id="68128f29-b84f-4bdd-837d-921c2f67b657">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="DELETE Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Observation 8" id="060f119d-bfe7-4ca7-8c93-065148c8732c" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.35.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a6e173b7-a90a-43a7-b3af-2a95eb23ccb7" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#observationIdGrupaKrwi}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Observation 7" id="3c526836-f9bd-4d53-a1bf-d91d54271f5c">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="DELETE Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Observation 7" id="060f119d-bfe7-4ca7-8c93-065148c8732c" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.35.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a6e173b7-a90a-43a7-b3af-2a95eb23ccb7" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#observationIdCinienie}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Observation 6" id="9a0e58c4-4bf3-43f0-aa58-52a8546ecbd3">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="DELETE Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Observation 6" id="060f119d-bfe7-4ca7-8c93-065148c8732c" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.35.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a6e173b7-a90a-43a7-b3af-2a95eb23ccb7" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#observationIdMiarowosc}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Observation 5" id="60b1a786-c542-4502-9a64-8a0aeb74a58c">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="DELETE Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Observation 5" id="060f119d-bfe7-4ca7-8c93-065148c8732c" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.35.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a6e173b7-a90a-43a7-b3af-2a95eb23ccb7" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#observationIdBmi}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Observation 4" id="0ad54d18-10fb-42c0-9e41-b623103c888f">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="DELETE Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Observation 4" id="060f119d-bfe7-4ca7-8c93-065148c8732c" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.35.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a6e173b7-a90a-43a7-b3af-2a95eb23ccb7" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#observationIdObwd}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Observation 3" id="9d7d681d-e365-41bf-8295-107195628f04">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="DELETE Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Observation 3" id="060f119d-bfe7-4ca7-8c93-065148c8732c" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.35.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a6e173b7-a90a-43a7-b3af-2a95eb23ccb7" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#observationIdPalenie}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Observation 2" id="a9b2a6aa-c65b-445a-8e30-23710929b504">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="DELETE Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Observation 2" id="060f119d-bfe7-4ca7-8c93-065148c8732c" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.35.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a6e173b7-a90a-43a7-b3af-2a95eb23ccb7" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#observationIdWzrost}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Observation 1" id="5be44b16-b275-4c33-9b56-f00465b998f4">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="DELETE Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Observation 1" id="060f119d-bfe7-4ca7-8c93-065148c8732c" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.35.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a6e173b7-a90a-43a7-b3af-2a95eb23ccb7" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#observationIdWaga}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Encounter" id="16d9fc61-0187-4ed9-9e24-1087b545b44e">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Delete-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Encounter" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#encounterId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:testCase id="6bdba708-da08-4d15-880c-a94d96074482" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Rejestracja noworodka - cia pojedyncza, matka z numerem PESEL" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskanie tokenu dostpowego" id="8947bf2a-f4a0-495d-bebd-c47ca3a39a7a">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="b55a33ac-fef2-4f5d-b97f-5a985e3fb025">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>identyfikatorMatkiPesel</con:name>
              <con:value>81050913126-20220901-02</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorMatkaPosiadajacaPeselOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.7.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>numerKolejnyDziecka</con:name>
              <con:value>2</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="generowanie daty urodzenia" id="28e25c00-6f98-4e0b-8c9c-00c18b2f0608">
        <con:settings/>
        <con:config>
          <script>int ilosc
String numerKolejnyDziecka
String format1 = "yyyyMMdd"

use (groovy.time.TimeCategory) {
	dataUrodzenia = 1.days.ago.format(format1)
}

ilosc = testRunner.testCase.testSteps['dane'].getPropertyValue('numerKolejnyDziecka').toInteger() + 1

log.info ilosc

if (ilosc &lt; 10)
numerKolejnyDziecka = "0" + ilosc.toString()
else
numerKolejnyDziecka = ilosc.toString()


def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("identyfikatorMatkiPesel", "81050913126-" + dataUrodzenia + "-" + numerKolejnyDziecka)
dane.setPropertyValue("numerKolejnyDziecka", ilosc.toString())</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Patient" id="9bc2f613-b083-49c3-b784-2fedddf83c01">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Patient/{id}" methodName="Wyszukanie-patient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Patient" id="1befa294-d6ad-4124-bffc-d60bec916dde" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.35.10/fhir/Patient/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="fded652e-b550-42ba-9b79-fab09515d96c" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="plgiven" value="Joanna"/>
              <con:entry key="plpatient" value="${dane#identyfikatorMatkaPosiadajacaPeselOID}|${dane#identyfikatorMatkiPesel}"/>
              <con:entry key="plfamily" value="Nowak"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>plfamily</con:entry>
              <con:entry>plgiven</con:entry>
              <con:entry>gender</con:entry>
              <con:entry>birthdate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="goto" name="Conditional Goto" id="431e2576-55c0-4795-8bc8-38813b9433e6">
        <con:settings/>
        <con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:condition>
            <con:name>id</con:name>
            <con:type>XPATH</con:type>
            <con:expression>//*:total/@value >=1</con:expression>
            <con:targetStep>generowanie daty urodzenia</con:targetStep>
          </con:condition>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="patientResource" id="6093650f-e453-4cea-a5fe-77a6faff1148">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>patient-noworodek-ciaza-poj-pesel.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Patient xmlns="http://hl7.org/fhir">
    <meta>
        <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPatient" />
        <security>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
            <code value="N"/>
        </security>
    </meta>
    <identifier>
        <system value="urn:oid:2.16.840.1.113883.3.4424.1.7.1.616" />
        <value value="81050913126-20220901-02" />
    </identifier>
    <name>
        <family value="Nowak"/>
        <given value="Joanna"/>
    </name>
    <telecom>
        <system value="phone"/>
        <value value="+48666666666"/>
    </telecom>
    <gender value="male"/>
    <birthDate value="2020-01-30"/>
    <multipleBirthBoolean value="false" />
</Patient>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Patient" id="f67f5107-467a-40a3-8d1e-08ca0c361632">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Patient/{id}" methodName="Zapis-patient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Patient" id="ae51083b-704b-45e7-88c7-385ef76c5721" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${patientResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Patient/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="90ea303b-56ec-4f6e-8ca9-b87beea0c859" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201, 412</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="48910b19-f7e5-42fe-a8ba-028e83f5ec09" name=" Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="identifier" value=""/>
              <con:entry key="plgiven" value=""/>
              <con:entry key="birthdate" value=""/>
              <con:entry key="gender" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="_id" value=""/>
              <con:entry key="encounter" value=""/>
              <con:entry key="plfamily" value=""/>
              <con:entry key="_sort" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plgiven</con:entry>
              <con:entry>plfamily</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>gender</con:entry>
              <con:entry>birthdate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:setupScript>testRunner.testCase.testSteps['dane'].setPropertyValue("numerKolejnyDziecka", "0")</con:setupScript>
      <con:properties/>
    </con:testCase>
    <con:testCase id="593cf25c-e64a-4144-8616-9e5b0e983a20" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Rejestracja informacji o alergiach oraz historii ciy pacjentki z numerem PESEL" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskanie tokenu dostpowego" id="6abc5f3c-69dc-455e-adf7-bea5761e1081">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych i pobranie zmiennych" id="81d1f25e-584d-4a4b-ae5d-ef55c454425c">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

def pracownikImieNazwisko = context.expand('${#Project#imieNazwiskoPracownika}')
def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')

def formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
def teraz = ZonedDateTime.now()
String data1 = teraz.minusHours(1).format(formatter)
String data2 = teraz.format(formatter)
String data3 = teraz.plusMonths(9).format(formatter)

def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("identyfikatorZdarzenia", UUID.randomUUID().toString())
dane.setPropertyValue("skierowanieIdentyfikator", UUID.randomUUID().toString())
dane.setPropertyValue("zdarzenieDataPoczatek", data1)
dane.setPropertyValue("zdarzenieDataKoniec", data2)
dane.setPropertyValue("podpisData", data2)
dane.setPropertyValue("pracownikImieNazwisko", pracownikImieNazwisko)
dane.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)
dane.setPropertyValue("wykonanieObserwacjiData", data1)
dane.setPropertyValue("przewidywanaDataPorodu", data3)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="c197a888-63c9-4cbe-b946-587667b1fdcd">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>allergyId</con:name>
              <con:value>5142201</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>40010151673</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>Senior</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>Sylwester</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>Sylwester Senior</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>1940-01-01</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>540</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationId</con:name>
              <con:value>146607</con:value>
            </con:property>
            <con:property>
              <con:name>observationId</con:name>
              <con:value>4773637</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>313dee54-ca71-41b4-97e3-8cc1f72701eb</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>cfdd1d31-55e7-4726-a6cf-d125ed622938</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:38:21.274+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T10:38:21.274+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2022-09-02T11:38:21.274+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>dataSzczepienia</con:name>
              <con:value>2022-06-20T13:28:16.598+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>wykonanieObserwacjiData</con:name>
              <con:value>2022-09-02T10:38:21.274+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>przewidywanaDataPorodu</con:name>
              <con:value>2023-06-02T11:38:21.274+02:00</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Patient ID" id="7569469b-9b37-44ad-8f0f-6ac7738fa5b2">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>48d1bd54-39e7-4f92-a587-b4df08704d3a</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>${dane#identyfikatorPacjentaOID}</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>${dane#identyfikatorPacjenta}</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>${dane#nazwisko}</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>${dane#imie}</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>${dane#dataUrodzenia}</con:value>
            </con:property>
            <con:property>
              <con:name>-----------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>540</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>4360</con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>patientId</con:entry>
            <con:entry>patientVersion</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych patient" id="2c4d92bf-da3d-4331-8024-4a52751d971a">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>patientId</con:sourceType>
            <con:sourceStep>Patient ID</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="allergyResource" id="5d9db632-3b68-4b80-9303-525837e7c74e">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>allergyIntolerance.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<AllergyIntolerance xmlns="http://hl7.org/fhir">

   <meta>
      <versionId value="1"/>
      <lastUpdated value="2020-03-12T07:44:07.642+00:00"/>
	  <source value="#fX1gpBfjfHJGEEaB"/>
	  <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLAllergyIntolerance"/>
	  <security>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
            <code value="N"/>
       </security>
   </meta>
   <clinicalStatus>
      <coding>
         <system value="http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical"/>
         <code value="active"/>
         <display value="Active"/>
      </coding>
   </clinicalStatus>
   <type value="allergy"/>
   <category value="food"/>
   <code>
      <coding>
         <system value="http://snomed.info/sct"/>
         <code value="102259006"/>
         <display value="Cashew nuts"/>
      </coding>
   </code>
	<patient>
		<reference value="Patient/540"/>
        <type value="Patient"/>
		<identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
            <value value="40010151673"/>
        </identifier>
		<display value="Sylwester Senior"/>
    </patient>
   <recordedDate value="2022-09-02T10:38:21.274+02:00"/>
   <recorder>
           <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616" />
            <value value="00210125944"/>
        </identifier>
		<display value="test"/>
   </recorder>
   <note>
      <text value="The criticality is high becasue of the observed anaphylactic reaction when challenged with cashew extract."/>
   </note>
   <reaction>
	  <manifestation>
         <coding>
            <system value="http://snomed.info/sct"/>
            <code value="126485001"/>
            <display value="Anaphylactic reaction"/>
         </coding>
      </manifestation>
   </reaction>
</AllergyIntolerance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Allergy" id="fcaf4d25-bd0f-4762-852d-bbf19554c0ae">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/AllergyIntolerance/{id}" methodName="Zapis-allergy" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Allergy" id="ca159828-a602-4357-a4ba-632c00d8f164" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${allergyResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="18bf6ab8-2610-482a-adf9-6ec5f9fd89ca" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="a5d309c9-b060-468e-bc3d-2aaaa366308d" name="Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych allergy" id="2d85c48d-bc47-4487-a2b0-d140efb20632">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Allergy</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>allergyId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="observationResourceCiaza" id="66c2fa6a-8992-48b1-8a24-406a0b165a14">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>observation-pregnacy-poj.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Observation xmlns="http://hl7.org/fhir">
    <meta>
        <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPregnacyHistory"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
    </meta>
	<basedOn>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.141"/>
		</identifier>
		<display value="Program Bada Prenatalnych"/>
   </basedOn>
    <status value="final"/>
    <code>
        <coding>
            <system value="urn:oid:2.16.840.1.113883.6.1"/>
            <code value="82810-3"/>
            <display value="Status ciy"/>
        </coding>
    </code>
    <subject>
		<reference value="Patient/540"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="40010151673"/>
		</identifier>
		<display value="Sylwester Senior" />
    </subject>
	<effectiveDateTime value="2022-09-02T10:38:21.274+02:00"/>
    <performer>
        <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
            <value value="2698040"/>
        </identifier>
		<display value="Marzena Lttd"/>
    </performer>
    <valueCodeableConcept>
        <coding>
            <system value="urn:oid:2.16.840.1.113883.6.1"/>
            <code value="LA15173-0"/>
			<display value="Cia"/>
        </coding>
    </valueCodeableConcept >
    <component>
        <code>
            <coding>
                <system value="urn:oid:2.16.840.1.113883.6.1" />
                <code value="11780-4" />
                <display value="Data porodu wyliczona na podstawie ostatniej owulacji"/>
            </coding>
        </code>
		<valueDateTime value="2023-06-02T11:38:21.274+02:00" />
    </component>
</Observation>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Observation - ciaza" id="270f9ab6-3eab-4f51-af39-9b7ae46e0810">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="POST Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Observation - ciaza" id="060f119d-bfe7-4ca7-8c93-065148c8732c" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${observationResourceCiaza#resourceRequest}</con:request>
            <con:originalUri>http://10.0.35.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="84bfd76a-cd1c-4830-96dd-3a39a01f3eff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f79de363-d012-426d-94a8-e2efc7d72813" name="Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych observation" id="47544fc8-8f80-4563-a9bc-ff2286fbb36f">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation - ciaza</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>observationId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Observation" id="b3a6ceae-c6a0-4621-93f4-2288192e97b8">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="GET Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Observation" id="777613dc-21fe-4cad-b901-eef290f8f520" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.50.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="64ef46a4-de83-444b-a09e-e452ffb92a50" name="Valid HTTP Status Codes 200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="7a763e2b-f8f2-4069-8f8d-e82402bea5b0" name="ID">
              <con:configuration>
                <path>//*:id/@value</path>
                <content>${dane#observationId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#observationId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Allergy" id="066272ad-0654-435b-b421-8f183158e7fa">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/AllergyIntolerance/{id}" methodName="Odczyt-allergy" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Allergy" id="edaa6f19-0baf-430b-b2ad-6d941f03becd" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.50.10/fhir/AllergyIntolerance/266057</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="e66f9f04-49ef-447b-903f-fc62cb164c10" name="Valid HTTP Status Codes 200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="b2de3d11-2db5-4d76-8e78-0beb3402f3ac" name="ID">
              <con:configuration>
                <path>//*:id/@value</path>
                <content>${dane#allergyId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#allergyId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Delay" id="0e2401fa-d48b-4577-b93f-ff177d92e0f9">
        <con:settings/>
        <con:config>
          <delay>${#Project#delaySeconds}000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Observation" id="9ffb4346-5414-403e-b22b-7d3df4cc5a4a">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="DELETE Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Observation" id="777613dc-21fe-4cad-b901-eef290f8f520" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.50.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="64ef46a4-de83-444b-a09e-e452ffb92a50" name="Valid HTTP Status Codes 200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#observationId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Allergy" id="5950208e-466e-4ac1-ad14-d52823d8d575">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/AllergyIntolerance/{id}" methodName="DELETE-allergy" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Allergy" id="edaa6f19-0baf-430b-b2ad-6d941f03becd" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.50.10/fhir/AllergyIntolerance/266057</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="e66f9f04-49ef-447b-903f-fc62cb164c10" name="Valid HTTP Status Codes 200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#allergyId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:testCase id="f97e9780-e027-4289-abb4-938810465dc8" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Rejestracja danych uprawnie do wiadcze - EWU - PESEL" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskanie tokenu dostpowego" id="af942e01-4337-4e4f-9076-f9307fb9fdba">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="27788cb5-8cc9-49eb-8a0c-fd65f73ea3cd">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>40010151673</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>Senior</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>Sylwester</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>Sylwester Senior</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>1940-01-01</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>540</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142203</con:value>
            </con:property>
            <con:property>
              <con:name>procedureId</con:name>
              <con:value>5142205</con:value>
            </con:property>
            <con:property>
              <con:name>coverageId</con:name>
              <con:value>5142209</con:value>
            </con:property>
            <con:property>
              <con:name>conditionId</con:name>
              <con:value>5142207</con:value>
            </con:property>
            <con:property>
              <con:name>provenanceId</con:name>
              <con:value>5142211</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T09:38:22.759+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart</con:name>
              <con:value>2022-09-02T09:38:22.759+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>coverageData</con:name>
              <con:value>2022-09-02T09:38:22.759+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:38:22.759+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationEnd</con:name>
              <con:value>2022-09-02T10:38:22.760+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart1</con:name>
              <con:value>2022-09-02T11:38:22.759+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>rozpoznanieData</con:name>
              <con:value>2022-09-02T11:38:22.759+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataPoczatek</con:name>
              <con:value>2022-09-02T09:38:22.759+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataKoniec</con:name>
              <con:value>2022-09-02T11:38:22.759+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>przepustkaDataPoczatek</con:name>
              <con:value>2022-09-02T10:38:22.760+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>przepustkaDataKoniec</con:name>
              <con:value>2022-09-02T11:38:22.759+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>coverageDataStart</con:name>
              <con:value>2022-09-02T09:38:22.759+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>d0fa9b43-f970-4f16-88ae-ffbe2ebecc5a</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>5fbf057f-470c-4cbc-86be-0493afb21610</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>33f15a17-1f41-408d-896b-39258eca8060</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane2" id="7b16974b-61ab-455a-b8a7-5ff360fc02ed">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>platnikIdentyfikator</con:name>
              <con:value>40010151673</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych" id="a33e5c7a-1d7a-4f1f-9fa8-74c4241c3229">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

String zdarzenieIdentyfikator = java.util.UUID.randomUUID().toString()
String korelacjaIdentyfikator = java.util.UUID.randomUUID().toString()
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString()

def pracownikImieNazwisko = context.expand('${#Project#imieNazwiskoPracownika}')
def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')
def locationIdentyfikator = context.expand('${#Project#identyfikatorMiejscaSwiadczenia}')
def podmiotIdentyfikator = context.expand('${#Project#identyfikatorPodmiotu}')

DateTimeFormatter format = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
String time1 = ZonedDateTime.now().minusHours(2).format(format)
String time2 = ZonedDateTime.now().format(format)
String time3 = ZonedDateTime.now().minusHours(1).format(format)

def dane = testRunner.testCase.getTestStepByName("dane")
dane.setPropertyValue("identyfikatorZdarzenia", zdarzenieIdentyfikator)
dane.setPropertyValue("korelacjaIdentyfikator", korelacjaIdentyfikator)
dane.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
dane.setPropertyValue("zdarzenieDataPoczatek", time1)
dane.setPropertyValue("coverageDataStart", time1)
dane.setPropertyValue("podpisData", time2)
dane.setPropertyValue("coverageData", time1)
dane.setPropertyValue("locationStart", time1)
dane.setPropertyValue("locationEnd", time3)
dane.setPropertyValue("locationStart1", time2)
dane.setPropertyValue("proceduraDataPoczatek", time1)
dane.setPropertyValue("proceduraDataKoniec", time2)
dane.setPropertyValue("rozpoznanieData", time2)
dane.setPropertyValue("przepustkaDataPoczatek", time3)
dane.setPropertyValue("przepustkaDataKoniec", time2)
dane.setPropertyValue("pracownikImieNazwisko", pracownikImieNazwisko)
dane.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)
dane.setPropertyValue("locationIdentyfikator", locationIdentyfikator)
dane.setPropertyValue("podmiotIdentyfikator", podmiotIdentyfikator)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Patient ID" id="1a1e58e0-3838-4d4b-87be-84d6addd871e">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>48d1bd54-39e7-4f92-a587-b4df08704d3a</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>${dane#identyfikatorPacjentaOID}</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>${dane#identyfikatorPacjenta}</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>${dane#nazwisko}</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>${dane#imie}</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>${dane#dataUrodzenia}</con:value>
            </con:property>
            <con:property>
              <con:name>-----------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>540</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>4360</con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>patientId</con:entry>
            <con:entry>patientVersion</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych patient" id="79cc2166-f00d-4fe1-80cf-e5bd8ace20f3">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>patientId</con:sourceType>
            <con:sourceStep>Patient ID</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>patientVersion</con:sourceType>
            <con:sourceStep>Patient ID</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterResource" id="c9fccd9c-2d6a-49a9-9e51-57fffa8fcd49">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-hospitalizacja-poczatek.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
   <meta> 
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
	  <security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
	  </security>	  
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
	  <value value="33f15a17-1f41-408d-896b-39258eca8060"/>
   </identifier>
   <status value="in-progress"/>
   <statusHistory>
		<status value = "onleave"/>
		<period>
			<start value = "2022-09-02T10:38:22.760+02:00"/>
			<end value = "2022-09-02T11:38:22.759+02:00"/>
		</period>
   </statusHistory>
   <class>
      <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
	  <code value="1"/>
	  <display value="Pobyt w oddziale szpitalnym"/>
   </class>
   <subject>
	  <extension xmlns="http://hl7.org/fhir"
     url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
		<valueReference>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
				<value value="01"/>
			</identifier>
		</valueReference>
	   </extension>
	  <reference value="Patient/540"/>
	  <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
		 <value value="40010151673"/>
      </identifier>
	  <display value="Sylwester Senior"/>
   </subject>
   <episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="5fbf057f-470c-4cbc-86be-0493afb21610"/>
		</identifier>
	</episodeOfCare>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<period>
		<start value="2022-09-02T09:38:22.759+02:00"/>
	</period>
	<hospitalization>
		<admitSource>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.3.24"/>
				<code value="3"/>
			</coding>
		</admitSource>
	</hospitalization>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
		<period>
			<start value="2022-09-02T09:38:22.759+02:00"/>
			<end value="2022-09-02T10:38:22.760+02:00"/>
		</period>
	</location>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
		<period>
			<start value="2022-09-02T11:38:22.759+02:00"/>
		</period>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
		url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter" id="43e73355-0822-4b64-a17c-68d54a29cd12">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter" id="ca159828-a602-4357-a4ba-632c00d8f164" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="45dcab9f-b043-403b-8bcc-cc8b06dbb79c" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="fc3f6f6e-a781-4619-b73a-34b804318c18" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';


exists(//ns1:Encounter/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="3b986195-cacc-46af-8c79-df6ca0bf90a2" name="Zwrcocno numer wersji sytemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="encounterID" id="edc21d9b-74c2-444e-b54a-848787c956d7">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id-zdarzenia</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>coverageVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="procedureResource" id="600e71cb-6d01-44b0-91b2-5b84511e24dd">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>procedure.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Procedure xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProcedure"/>
       <security>
           <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
           <code value="N"/>
       </security>
   </meta>
   <status value="completed"/>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6" />
         <code value="79.76"/>
         <display value="Zamknite nastawienie zwichnicia kolana"/>
      </coding>
   </code>
   <subject>
	  <reference value="Patient/540"/>
	  <type value="Patient"/>
	  <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
         <value value="40010151673"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142203"/>
      <type value="Encounter"/>
   </encounter>
   <performedPeriod>
      <start value="2022-09-02T09:38:22.759+02:00"/>
      <end value="2022-09-02T11:38:22.759+02:00"/>
   </performedPeriod>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
   <location>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
		</identifier>
   </location>
</Procedure>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Procedure" id="74c31c6c-b62c-4922-b32c-dffea0f831dc">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Zapis-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Procedure" id="fbb19b00-838c-4ef3-a04b-b95933e72a12" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${procedureResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Procedure/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b5455364-85e4-472b-9176-40088197ed11" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="24e682e5-7a78-416c-bbe1-366fbde4baa0" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';
exists(//ns1:Procedure/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c207887a-1ef3-48ec-bc0b-05caa143fe7b" name="Zwrcono numer wersji systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych procedure" id="e5b9f1a5-d9d5-4908-8294-f823fbb33e5b">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>procedureId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>procedureVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="conditionResource" id="1754546a-2929-42a1-bcf2-55dc9a166197">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>condition.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Condition xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventDiagnosis"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <extension url ="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLLocation">
      <valueIdentifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
      </valueIdentifier>
   </extension>
   <category>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.78"/>
         <code value="main"/>
         <display value="Gwne"/>
      </coding>
   </category>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.6.3"/>
         <code value="J04.0"/>
         <display value="Acute laryngitis"/>
      </coding>
   </code>
   <bodySite>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.79"/>
         <code value="left"/>
         <display value="Lewa strona ciaa"/>
      </coding>
   </bodySite>
   <subject>
	  <reference value="Patient/540"/>
	  <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
         <value value="40010151673"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142203"/>
      <type value="Encounter"/>
   </encounter>
   <recordedDate value="2022-09-02T11:38:22.759+02:00"/>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
</Condition>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Condition" id="a6509d25-c832-46b5-b3bc-5c5fdc9bcf75">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="Zapis-condition" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Condition" id="5950c24f-0baf-497e-ac19-ab6769e5b9e2" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${conditionResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Condition</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7f8a96ea-5431-4e04-bc31-f31e8587599e" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c468a985-1324-4eb5-83f5-85df20928b5a" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';
exists(//ns1:Condition/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="4ba7731a-bb80-4557-8850-aaef6b9c23e3" name="Zwrcono numer wersji systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>encounter</con:entry>
              <con:entry>id</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych condition" id="b8d6f3ff-350c-45aa-951c-0318e009c2d4">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>conditionId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>conditionVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="coverageResource" id="98aed195-e681-4401-b39b-fe06d780bb98">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane,dane2</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>coverage-ewus.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Coverage xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementEWUS"/>
	<security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
	</meta>
	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementEncounterReference">
		<valueReference>
			<reference value="Encounter/5142203"/>
			<type value="Encounter"/>			
		</valueReference>
	</extension>
	<status value="active"/>
	<type>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.93"/>
			<code value="EL"/>
			<display value="wiadczeniobiorca, ktrego prawo do wiadcze opieki zdrowotnej zostao potwierdzone dokumentem elektronicznym, o ktrym mowa w art. 50 ust. 3 ustawy"/>
		</coding>
	</type>
	<beneficiary>
		<reference value="Patient/540"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="40010151673"/>
		</identifier>
	</beneficiary>
	<period>
		<start value="2022-09-02T09:38:22.759+02:00"/>
		<end value="2025-08-26T16:00:00+02:00"/>
	</period>
	<payor>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="40010151673"/>
		</identifier>
	</payor>
	<class>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentDate">
			<valueDateTime value="2022-09-02T09:38:22.759+02:00"/>
		</extension>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentIdentifier">
			<valueString value="12345678"/>
		</extension>	
		<type>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.92"/>
				<code value="DE"/>
			</coding>
		</type>
		<value value="01"/>
	</class>
</Coverage>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Coverage" id="f4fa4671-595f-442e-9d08-834a5c52dba7">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Coverage/{id}" methodName="Zapis-coverage" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Coverage" id="0746632f-7cfd-4e17-a31e-7377f439e634" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${coverageResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Coverage/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="dc629020-ca9d-4b82-bd1f-446fcbe14dc0" name="Valid HTTP Status Codes - 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="2ae2753a-3a1c-4d9a-8561-52840fef3c7c" name="coverageID">
              <con:configuration>
                <path>exists(/*:Coverage/*:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c1c49296-5abe-4bca-9c24-b3054e7b7519" name="profil PLEntitlementEWUS">
              <con:configuration>
                <path>/*:Coverage/*:meta/*:profile/@value</path>
                <content>https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementEWUS</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c1c49296-5abe-4bca-9c24-b3054e7b7519" name="PLEntitlementEncounterReference - encounterID">
              <con:configuration>
                <path>/*:Coverage/*:extension[@url='https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementEncounterReference']/*:valueReference/*:reference/@value</path>
                <content>Encounter/${dane#encounterID}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c1c49296-5abe-4bca-9c24-b3054e7b7519" name="beneficiary - patientID">
              <con:configuration>
                <path>/*:Coverage/*:beneficiary/*:reference/@value</path>
                <content>Patient/${dane#patientID}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="17a7c1ff-72ef-4cc5-a4b6-912bd540ef9b" name="Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="coverageID" id="f8434845-b1b6-4c86-aac5-5ef09f92fd4b">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Coverage</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>coverageId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Coverage</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>coverageVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu" id="efe011fc-593e-47c6-8ca5-774aec009e19">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>4360</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>coverageVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1mMGU5N2E4MS1jOGM0LTRjZjktYmU5Ny1lYjA0YjBiNjFiYTQiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZjBlOTdhODEtYzhjNC00Y2Y5LWJlOTctZWIwNGIwYjYxYmE0LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTQwL19oaXN0b3J5LzQzNjAiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+N1FDWFdCWU9XSEFBWWdTdm12MFpvMmxONTVXM0ExSHU0RUVmK0Ywc0wxND08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZjBlOTdhODEtYzhjNC00Y2Y5LWJlOTctZWIwNGIwYjYxYmE0LXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMjAzL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+UGVac1l6K0hOTkt1cCtZUWpMOFFMUXlXV1ZyOHhrOURpWnI4OFRxNFZHUT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZjBlOTdhODEtYzhjNC00Y2Y5LWJlOTctZWIwNGIwYjYxYmE0LXJlZjIiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvbmRpdGlvbi81MTQyMjA3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+Q3JLTUVjVC9DYTZkN09zbTRKaHJiazFUcTU3NGtuU09SbXJ5Nzd1TzVSRT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZjBlOTdhODEtYzhjNC00Y2Y5LWJlOTctZWIwNGIwYjYxYmE0LXJlZjMiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1Byb2NlZHVyZS81MTQyMjA1L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+QytxZkRIcEh6UE9iUUNaUTlmYlJHSG1rKzZRUHF2OGh2OVNiSHFvTFFCaz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZjBlOTdhODEtYzhjNC00Y2Y5LWJlOTctZWIwNGIwYjYxYmE0LXJlZjQiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvdmVyYWdlLzUxNDIyMDkvX2hpc3RvcnkvMSI+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT4vYTZMaloxbTRvbVlVYmhoVUxTWFVjR1phMGhsOXpZcDJZeDNwQStmeGFVPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PGRzOlJlZmVyZW5jZSBUeXBlPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzI1NpZ25lZFByb3BlcnRpZXMiIFVSST0iI3htbGRzaWctZjBlOTdhODEtYzhjNC00Y2Y5LWJlOTctZWIwNGIwYjYxYmE0LXNpZ25lZHByb3BzIj48ZHM6VHJhbnNmb3Jtcz48ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48L2RzOlRyYW5zZm9ybXM+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vK0NkZVMxU0xSQ0oycDFQSWd1eXVjMHp0RXg0YWFkRFV3YzE3eTVxZjk0PTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PC9kczpTaWduZWRJbmZvPjxkczpTaWduYXR1cmVWYWx1ZSBJZD0ieG1sZHNpZy1mMGU5N2E4MS1jOGM0LTRjZjktYmU5Ny1lYjA0YjBiNjFiYTQtc2lndmFsdWUiPkdtSUwvM1I0MWM5dHY0RFkyaHAwRXlVaTJrTmo4UW02d0NYWllLRlVUdVYwb0M3U1ZPem9LbGh0MXh0R3MwL0RkdUdSMmt5R3k2RkF3Y2ZaaUtxdTd4ZVA3T2RxbWg1Q3RmS28rZ0t3NWNXN1RRQ0lZSUNCbWh3M3NtNmg4TkpIT2FrU2JNaXZuR2RHemRoaDlyZDVjNnJqY1BRdWNqL0tDQ2gzbElGS1Y4Y2dKalFCbnpEY2UzdElWVUVNRk1ibTNGeUdGT2VrL2pKa3loSDNFdGFXS0FqbDBIZFByTUVIdStCb0UvdElQbHpPUEN6Z2dBalJPeENMTFlGcnlCSzJBNG11R1pudmZsSjkrUzFlUk9Bb0hJdi9XelUrRHFITXBjcXpLTnkvUGkvVTBtY09ta0U1MlZ0TFVuZ0dIRnVxTk5ObWtqRXZ1VGdCZnhKbFkvZmdTUT09PC9kczpTaWduYXR1cmVWYWx1ZT48ZHM6S2V5SW5mbz48ZHM6WDUwOURhdGE+PGRzOlg1MDlDZXJ0aWZpY2F0ZT5NSUlGTVRDQ0F4bWdBd0lCQWdJSWZxaGtBVUNkQkZzd0RRWUpLb1pJaHZjTkFRRU5CUUF3VVRFWU1CWUdBMVVFQXd3UFEwTWdVREVnVTNWaVEwRWdWMU5UTVJnd0ZnWURWUVFMREE5UU1TQkpiblJsWjNKaFkzbHFibVV4RGpBTUJnTlZCQW9NQlVOVFNVOWFNUXN3Q1FZRFZRUUdFd0pRVERBZUZ3MHlNVEEyTWpFd056UTFNemRhRncweU16QTJNakV3TnpRMU16ZGFNSUdrTVRRd01nWURWUVFEREN0UWIyUnRhVzkwWDJ4bFkzcHVhV042ZVY4eExYVjNhV1Z5ZW5sMFpXeHVhV1Z1YVdVZ1pHRnVlV05vTVRVd013WURWUVFGRXl3eUxqRTJMamcwTUM0eExqRXhNemc0TXk0ekxqUTBNalF1TWk0ekxqRTZJREF3TURBd01EQXhNakV3TmpFWU1CWUdBMVVFQ3d3UFVERWdTVzUwWldkeVlXTjVhbTVsTVE0d0RBWURWUVFLREFWRFUwbFBXakVMTUFrR0ExVUVCaE1DVUV3d2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUUR1SS9BOThQbzc3dXFWY2d1WXp2dVpialV2Q3oyWkdqSWV1RUl0cXhJUXNvMk9nTkgveEIvQVlldTNQc1RlQXVRS1NFYTZKZjZneC81Wi9SM0NmVG1HdklPMEZic0xrTXA5cVdEK3dRU0dmbEM2cDVwWTNUK08xSmFvenJWakdxeGIxSWRiT3ZoaGVhanVxcnVDb1I3YXY2LzFqc0MwZk1BNmtaVFFuRGNNTkVwN0pOclg0UVJsb1JQNmR4NnpPS0FYYWcyQjR2KzFUdk45OVhlQTBNRGh1dW8zdnlNeHdEb21sOGhpc2FhbTJnZ0ZuNjBlc2JmOVdoTnJHU2hNSVRXUFhqSkQzcHc2SjYxWS8wZVk5bjNLUzNLVEtNdG9CSzJPRW5oNFdRUERiaHh6dXZqa3ZydlFRcFFBcVhkVlRlcnBrQU9FVTBIQWsvQklyMS9ZVUM5bkFnTUJBQUdqZ2Jnd2diVXdEQVlEVlIwVEFRSC9CQUl3QURBZkJnTlZIU01FR0RBV2dCUmlob0VDQm9HMWJYT2Zkc3I0ZExXM2h0STZoakJWQmdOVkhSOEVUakJNTUVxZ1NLQkdoa1JvZEhSd2N6b3ZMMmx1ZEMxd01TNWxlbVJ5YjNkcFpTNW5iM1l1Y0d3dlkyTndNUzlqY213dlEwTlFNVWx1ZEdWbmNtRmplV3B1WlZOMVlrTkJWMU5UTG1OeWJEQWRCZ05WSFE0RUZnUVV2cnBRRFBERHhHbGZub0FyUVZTcmJTbjR5K2t3RGdZRFZSMFBBUUgvQkFRREFnZUFNQTBHQ1NxR1NJYjNEUUVCRFFVQUE0SUNBUUMrNkdMY3JsYy9TNGs4c0RLaVlnL215STVhNXFDSHhHaWNxc2lPL0E5ejBpdUtpdzdSTDZDZktkUE9kYmYrbm9EdmVrNXNPQThmWkRwVllIbWx3RTlLTEprMGRlbENFMkhrYitaSkh5c2FUWGl0Vng5YVhrMGE3d3YydkNxTEdsSnF5Wm81dmVjcGpvODNCOUJIbHlKU0Q3VkxsNVhVc0ZxLzVJbjhkTG5vUWhwSlhTemRiSlpTWHFXcUNoZnROU0lOZzg1ZlAwaXlmMFlST3BGSUVTRk1URkVjZFlHVDZZRUc1dDBzZ2lLbWZuZ2M0OTNFUnRTMjlwU1lIck1nRmZZTXFRYkZvYVF2Zyt1VldyTHM5cmlIenpmTGl0dXJ6aXFDbS9nUThNQnFKYytjVXJ5Qi80QUhGRFBsUG5Ydk1tUkNhSjF1djhSd05yaklkYU9qa0hyZERLcW5iSUNtTHJYWjFJa3E0OTRmOEFzQnI5NG5CcnRqNG55b1NpSEFMd1hiRzFQUUJRbVNUQjZlbG1KR2JUa2xlbzlwYzR2RytvUE1rU0dVTXRHMDkvdjNabnB0VURFSlI2RHhQT1dUN3dKQzlRdlo0MXVWZERRdWlrV2VsMitRcWl5Mk5wWHhxdlRYZ2UxbGZQRGExVnJsMHo1N1ZxUVFRa1JpV1YwVzFMdmI0cXNzTEQ2ai85bUorZ3RLUVduTUR5ZGRmdzVqZ2hieGJkVnNDMlE0QnJGZWNFQ04waUx4TWxyelhKbk9HZUhPc0o1SGgvaWRuODZZMHluRUhtZnFQa3Y0eTNNTkY3b1o4ODNvZEJRNUY4UnY2ZWxkb0h2U002dzd1QjZ1Q1ZoOGFybldJN2wrNnVqKzhCbnArYnpNTS9VSTNpMlVrSjFYbGxjUTV0eFpVUT09PC9kczpYNTA5Q2VydGlmaWNhdGU+PGRzOlg1MDlTdWJqZWN0TmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLHNlcmlhbE51bWJlcj0yLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMi4zLjE6IDAwMDAwMDAxMjEwNixjbj1Qb2RtaW90X2xlY3puaWN6eV8xLXV3aWVyenl0ZWxuaWVuaWUgZGFueWNoPC9kczpYNTA5U3ViamVjdE5hbWU+PGRzOlg1MDlJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj45MTI2NjU0NjAxNDA4MDg3MTMxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwvZHM6WDUwOUlzc3VlclNlcmlhbD48L2RzOlg1MDlEYXRhPjwvZHM6S2V5SW5mbz48ZHM6T2JqZWN0Pjx4YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcyB4bWxuczp4YWRlcz0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMy92MS4zLjIjIiB4bWxuczp4YWRlczE0MT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMy92MS40LjEjIiBUYXJnZXQ9IiN4bWxkc2lnLWYwZTk3YTgxLWM4YzQtNGNmOS1iZTk3LWViMDRiMGI2MWJhNCI+PHhhZGVzOlNpZ25lZFByb3BlcnRpZXMgSWQ9InhtbGRzaWctZjBlOTdhODEtYzhjNC00Y2Y5LWJlOTctZWIwNGIwYjYxYmE0LXNpZ25lZHByb3BzIj48eGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48eGFkZXM6U2lnbmluZ1RpbWU+MjAyMi0wOS0wMlQxMTozODoyOS42NzYrMDI6MDA8L3hhZGVzOlNpZ25pbmdUaW1lPjx4YWRlczpTaWduaW5nQ2VydGlmaWNhdGU+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5FZEl0WDZnS0F6MDNsUGdHSzhTcU8zbGlHNTU3bC9vMjY2dWdsbVdabFhVPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj45MTI2NjU0NjAxNDA4MDg3MTMxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPm90eTlyams5bytJSVNtOC8zR2hGMXdWa1QwZVlBcnlhQk5ORTFIU3VFR2s9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjMxNDE3MDA3ODg2MTc5MzQzMTQ8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+ZDZWTWwxRFpmYUZPZVI0NURCSGcrRjRQZ2s5NUhVTUhJSHF5MXNGejBIQT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+NzU4MTg3OTcyMDYzMDY2MDIyNjwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PC94YWRlczpTaWduaW5nQ2VydGlmaWNhdGU+PC94YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjwveGFkZXM6U2lnbmVkUHJvcGVydGllcz48L3hhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzPjwvZHM6T2JqZWN0PjwvZHM6U2lnbmF0dXJlPg==</con:value>
            </con:property>
            <con:property>
              <con:name>procedureVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>conditionVersion</con:name>
              <con:value>1</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu" id="64951484-1726-441d-9472-db1d7712cb8e">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane#patientId}') + "/_history/" + context.expand('${danePodpisu#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane#encounterId}') + "/_history/" + context.expand('${danePodpisu#encounterVersion}')
String conditionReference = zmUrl + "/fhir/Condition/" + context.expand('${dane#conditionId}') + "/_history/" + context.expand('${danePodpisu#conditionVersion}')
String procedureReference = zmUrl + "/fhir/Procedure/" + context.expand('${dane#procedureId}') + "/_history/" + context.expand('${danePodpisu#procedureVersion}')
String coverageReference = zmUrl + "/fhir/Coverage/" + context.expand('${dane#coverageId}') + "/_history/" + context.expand('${danePodpisu#coverageVersion}')


List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);
refs.add(conditionReference);
refs.add(procedureReference);
refs.add(coverageReference);

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');
log.info(refs)
String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
log.info(podpis)
testRunner.testCase.testSteps['danePodpisu'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource" id="c287bae5-3efd-4147-892f-1486f2a3dc83">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, danePodpisu</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/540"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142203"/>
		<type value="Encounter"/>
	</target>
	<target>
		<reference value="Condition/5142207"/>
		<type value="Condition"/>
	</target>
	<target>
		<reference value="Procedure/5142205"/>
		<type value="Procedure"/>
	</target>
	<recorded value="2022-09-02T11:38:22.759+02:00"/>
	<agent>
		
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:38:22.759+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1mMGU5N2E4MS1jOGM0LTRjZjktYmU5Ny1lYjA0YjBiNjFiYTQiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZjBlOTdhODEtYzhjNC00Y2Y5LWJlOTctZWIwNGIwYjYxYmE0LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTQwL19oaXN0b3J5LzQzNjAiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+N1FDWFdCWU9XSEFBWWdTdm12MFpvMmxONTVXM0ExSHU0RUVmK0Ywc0wxND08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZjBlOTdhODEtYzhjNC00Y2Y5LWJlOTctZWIwNGIwYjYxYmE0LXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMjAzL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+UGVac1l6K0hOTkt1cCtZUWpMOFFMUXlXV1ZyOHhrOURpWnI4OFRxNFZHUT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZjBlOTdhODEtYzhjNC00Y2Y5LWJlOTctZWIwNGIwYjYxYmE0LXJlZjIiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvbmRpdGlvbi81MTQyMjA3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+Q3JLTUVjVC9DYTZkN09zbTRKaHJiazFUcTU3NGtuU09SbXJ5Nzd1TzVSRT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZjBlOTdhODEtYzhjNC00Y2Y5LWJlOTctZWIwNGIwYjYxYmE0LXJlZjMiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1Byb2NlZHVyZS81MTQyMjA1L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+QytxZkRIcEh6UE9iUUNaUTlmYlJHSG1rKzZRUHF2OGh2OVNiSHFvTFFCaz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZjBlOTdhODEtYzhjNC00Y2Y5LWJlOTctZWIwNGIwYjYxYmE0LXJlZjQiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvdmVyYWdlLzUxNDIyMDkvX2hpc3RvcnkvMSI+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT4vYTZMaloxbTRvbVlVYmhoVUxTWFVjR1phMGhsOXpZcDJZeDNwQStmeGFVPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PGRzOlJlZmVyZW5jZSBUeXBlPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzI1NpZ25lZFByb3BlcnRpZXMiIFVSST0iI3htbGRzaWctZjBlOTdhODEtYzhjNC00Y2Y5LWJlOTctZWIwNGIwYjYxYmE0LXNpZ25lZHByb3BzIj48ZHM6VHJhbnNmb3Jtcz48ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48L2RzOlRyYW5zZm9ybXM+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vK0NkZVMxU0xSQ0oycDFQSWd1eXVjMHp0RXg0YWFkRFV3YzE3eTVxZjk0PTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PC9kczpTaWduZWRJbmZvPjxkczpTaWduYXR1cmVWYWx1ZSBJZD0ieG1sZHNpZy1mMGU5N2E4MS1jOGM0LTRjZjktYmU5Ny1lYjA0YjBiNjFiYTQtc2lndmFsdWUiPkdtSUwvM1I0MWM5dHY0RFkyaHAwRXlVaTJrTmo4UW02d0NYWllLRlVUdVYwb0M3U1ZPem9LbGh0MXh0R3MwL0RkdUdSMmt5R3k2RkF3Y2ZaaUtxdTd4ZVA3T2RxbWg1Q3RmS28rZ0t3NWNXN1RRQ0lZSUNCbWh3M3NtNmg4TkpIT2FrU2JNaXZuR2RHemRoaDlyZDVjNnJqY1BRdWNqL0tDQ2gzbElGS1Y4Y2dKalFCbnpEY2UzdElWVUVNRk1ibTNGeUdGT2VrL2pKa3loSDNFdGFXS0FqbDBIZFByTUVIdStCb0UvdElQbHpPUEN6Z2dBalJPeENMTFlGcnlCSzJBNG11R1pudmZsSjkrUzFlUk9Bb0hJdi9XelUrRHFITXBjcXpLTnkvUGkvVTBtY09ta0U1MlZ0TFVuZ0dIRnVxTk5ObWtqRXZ1VGdCZnhKbFkvZmdTUT09PC9kczpTaWduYXR1cmVWYWx1ZT48ZHM6S2V5SW5mbz48ZHM6WDUwOURhdGE+PGRzOlg1MDlDZXJ0aWZpY2F0ZT5NSUlGTVRDQ0F4bWdBd0lCQWdJSWZxaGtBVUNkQkZzd0RRWUpLb1pJaHZjTkFRRU5CUUF3VVRFWU1CWUdBMVVFQXd3UFEwTWdVREVnVTNWaVEwRWdWMU5UTVJnd0ZnWURWUVFMREE5UU1TQkpiblJsWjNKaFkzbHFibVV4RGpBTUJnTlZCQW9NQlVOVFNVOWFNUXN3Q1FZRFZRUUdFd0pRVERBZUZ3MHlNVEEyTWpFd056UTFNemRhRncweU16QTJNakV3TnpRMU16ZGFNSUdrTVRRd01nWURWUVFEREN0UWIyUnRhVzkwWDJ4bFkzcHVhV042ZVY4eExYVjNhV1Z5ZW5sMFpXeHVhV1Z1YVdVZ1pHRnVlV05vTVRVd013WURWUVFGRXl3eUxqRTJMamcwTUM0eExqRXhNemc0TXk0ekxqUTBNalF1TWk0ekxqRTZJREF3TURBd01EQXhNakV3TmpFWU1CWUdBMVVFQ3d3UFVERWdTVzUwWldkeVlXTjVhbTVsTVE0d0RBWURWUVFLREFWRFUwbFBXakVMTUFrR0ExVUVCaE1DVUV3d2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUUR1SS9BOThQbzc3dXFWY2d1WXp2dVpialV2Q3oyWkdqSWV1RUl0cXhJUXNvMk9nTkgveEIvQVlldTNQc1RlQXVRS1NFYTZKZjZneC81Wi9SM0NmVG1HdklPMEZic0xrTXA5cVdEK3dRU0dmbEM2cDVwWTNUK08xSmFvenJWakdxeGIxSWRiT3ZoaGVhanVxcnVDb1I3YXY2LzFqc0MwZk1BNmtaVFFuRGNNTkVwN0pOclg0UVJsb1JQNmR4NnpPS0FYYWcyQjR2KzFUdk45OVhlQTBNRGh1dW8zdnlNeHdEb21sOGhpc2FhbTJnZ0ZuNjBlc2JmOVdoTnJHU2hNSVRXUFhqSkQzcHc2SjYxWS8wZVk5bjNLUzNLVEtNdG9CSzJPRW5oNFdRUERiaHh6dXZqa3ZydlFRcFFBcVhkVlRlcnBrQU9FVTBIQWsvQklyMS9ZVUM5bkFnTUJBQUdqZ2Jnd2diVXdEQVlEVlIwVEFRSC9CQUl3QURBZkJnTlZIU01FR0RBV2dCUmlob0VDQm9HMWJYT2Zkc3I0ZExXM2h0STZoakJWQmdOVkhSOEVUakJNTUVxZ1NLQkdoa1JvZEhSd2N6b3ZMMmx1ZEMxd01TNWxlbVJ5YjNkcFpTNW5iM1l1Y0d3dlkyTndNUzlqY213dlEwTlFNVWx1ZEdWbmNtRmplV3B1WlZOMVlrTkJWMU5UTG1OeWJEQWRCZ05WSFE0RUZnUVV2cnBRRFBERHhHbGZub0FyUVZTcmJTbjR5K2t3RGdZRFZSMFBBUUgvQkFRREFnZUFNQTBHQ1NxR1NJYjNEUUVCRFFVQUE0SUNBUUMrNkdMY3JsYy9TNGs4c0RLaVlnL215STVhNXFDSHhHaWNxc2lPL0E5ejBpdUtpdzdSTDZDZktkUE9kYmYrbm9EdmVrNXNPQThmWkRwVllIbWx3RTlLTEprMGRlbENFMkhrYitaSkh5c2FUWGl0Vng5YVhrMGE3d3YydkNxTEdsSnF5Wm81dmVjcGpvODNCOUJIbHlKU0Q3VkxsNVhVc0ZxLzVJbjhkTG5vUWhwSlhTemRiSlpTWHFXcUNoZnROU0lOZzg1ZlAwaXlmMFlST3BGSUVTRk1URkVjZFlHVDZZRUc1dDBzZ2lLbWZuZ2M0OTNFUnRTMjlwU1lIck1nRmZZTXFRYkZvYVF2Zyt1VldyTHM5cmlIenpmTGl0dXJ6aXFDbS9nUThNQnFKYytjVXJ5Qi80QUhGRFBsUG5Ydk1tUkNhSjF1djhSd05yaklkYU9qa0hyZERLcW5iSUNtTHJYWjFJa3E0OTRmOEFzQnI5NG5CcnRqNG55b1NpSEFMd1hiRzFQUUJRbVNUQjZlbG1KR2JUa2xlbzlwYzR2RytvUE1rU0dVTXRHMDkvdjNabnB0VURFSlI2RHhQT1dUN3dKQzlRdlo0MXVWZERRdWlrV2VsMitRcWl5Mk5wWHhxdlRYZ2UxbGZQRGExVnJsMHo1N1ZxUVFRa1JpV1YwVzFMdmI0cXNzTEQ2ai85bUorZ3RLUVduTUR5ZGRmdzVqZ2hieGJkVnNDMlE0QnJGZWNFQ04waUx4TWxyelhKbk9HZUhPc0o1SGgvaWRuODZZMHluRUhtZnFQa3Y0eTNNTkY3b1o4ODNvZEJRNUY4UnY2ZWxkb0h2U002dzd1QjZ1Q1ZoOGFybldJN2wrNnVqKzhCbnArYnpNTS9VSTNpMlVrSjFYbGxjUTV0eFpVUT09PC9kczpYNTA5Q2VydGlmaWNhdGU+PGRzOlg1MDlTdWJqZWN0TmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLHNlcmlhbE51bWJlcj0yLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMi4zLjE6IDAwMDAwMDAxMjEwNixjbj1Qb2RtaW90X2xlY3puaWN6eV8xLXV3aWVyenl0ZWxuaWVuaWUgZGFueWNoPC9kczpYNTA5U3ViamVjdE5hbWU+PGRzOlg1MDlJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj45MTI2NjU0NjAxNDA4MDg3MTMxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwvZHM6WDUwOUlzc3VlclNlcmlhbD48L2RzOlg1MDlEYXRhPjwvZHM6S2V5SW5mbz48ZHM6T2JqZWN0Pjx4YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcyB4bWxuczp4YWRlcz0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMy92MS4zLjIjIiB4bWxuczp4YWRlczE0MT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMy92MS40LjEjIiBUYXJnZXQ9IiN4bWxkc2lnLWYwZTk3YTgxLWM4YzQtNGNmOS1iZTk3LWViMDRiMGI2MWJhNCI+PHhhZGVzOlNpZ25lZFByb3BlcnRpZXMgSWQ9InhtbGRzaWctZjBlOTdhODEtYzhjNC00Y2Y5LWJlOTctZWIwNGIwYjYxYmE0LXNpZ25lZHByb3BzIj48eGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48eGFkZXM6U2lnbmluZ1RpbWU+MjAyMi0wOS0wMlQxMTozODoyOS42NzYrMDI6MDA8L3hhZGVzOlNpZ25pbmdUaW1lPjx4YWRlczpTaWduaW5nQ2VydGlmaWNhdGU+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5FZEl0WDZnS0F6MDNsUGdHSzhTcU8zbGlHNTU3bC9vMjY2dWdsbVdabFhVPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj45MTI2NjU0NjAxNDA4MDg3MTMxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPm90eTlyams5bytJSVNtOC8zR2hGMXdWa1QwZVlBcnlhQk5ORTFIU3VFR2s9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjMxNDE3MDA3ODg2MTc5MzQzMTQ8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+ZDZWTWwxRFpmYUZPZVI0NURCSGcrRjRQZ2s5NUhVTUhJSHF5MXNGejBIQT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+NzU4MTg3OTcyMDYzMDY2MDIyNjwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PC94YWRlczpTaWduaW5nQ2VydGlmaWNhdGU+PC94YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjwveGFkZXM6U2lnbmVkUHJvcGVydGllcz48L3hhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzPjwvZHM6T2JqZWN0PjwvZHM6U2lnbmF0dXJlPg=="/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance" id="b00ed389-f08b-4443-b6f0-9bff821c15d3">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7955ada5-b8e7-437e-9ce2-7ace877d963d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f39d13c2-d3a9-4624-b02e-b99dd46ba95d" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';



exists(//ns1:Provenance/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych provenance" id="6500e938-0d22-4e95-8b2b-f322b136e1b4">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>provenanceId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Delay" id="42ecb051-8de9-460d-82ad-c4616c34f2a9">
        <con:settings/>
        <con:config>
          <delay>${#Project#delaySeconds}000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Provenance" id="0a66324b-b0f0-4b48-a834-c8ffa0747394">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Anulowanie-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Provenance" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#provenanceId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Coverage" id="c183a710-9712-4108-8c14-b565484480ec">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Coverage/{id}" methodName="Anulowanie-coverage" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Coverage" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#coverageId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Condition" id="252b92b9-62ce-4d56-b73d-3ea1b7a9c235">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="Anulowanie-condition" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Condition" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#conditionId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Procedure" id="66028aba-7464-4432-8ce2-38df01659a92">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Anulowanie-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Procedure" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#procedureId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Encounter" id="82c86cd9-0fc1-4be2-8e85-fe5215d50688">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Delete-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Encounter" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#encounterId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:setupScript/>
      <con:properties/>
    </con:testCase>
    <con:testCase id="81e45414-e761-4a90-86e8-5c851919d6a2" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Rejestracja informacji historii ciy mnogiej pacjentki z numerem PESEL - zakoczonej" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskanie tokenu dostpowego" id="ca4782a2-3270-4c22-a7d8-47916ba139c7">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych i pobranie zmiennych" id="6a839c70-2497-444e-b146-cc6e4bb9a055">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

def pracownikImieNazwisko = context.expand('${#Project#imieNazwiskoPracownika}')
def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')

def formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
def teraz = ZonedDateTime.now()
String data1 = teraz.minusHours(1).format(formatter)
String data2 = teraz.format(formatter)
String data3 = teraz.plusMonths(9).format(formatter)

def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("identyfikatorZdarzenia", UUID.randomUUID().toString())
dane.setPropertyValue("skierowanieIdentyfikator", UUID.randomUUID().toString())
dane.setPropertyValue("zdarzenieDataPoczatek", data1)
dane.setPropertyValue("zdarzenieDataKoniec", data2)
dane.setPropertyValue("podpisData", data2)
dane.setPropertyValue("pracownikImieNazwisko", pracownikImieNazwisko)
dane.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)
dane.setPropertyValue("wykonanieObserwacjiData", data1)
dane.setPropertyValue("przewidywanaDataPorodu", data3)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="dd60f19b-482f-4027-9ead-7bfede59febc">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>allergyId</con:name>
              <con:value>4775353</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>40010151673</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>Senior</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>Sylwester</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>Sylwester Senior</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>1940-01-01</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>540</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationId</con:name>
              <con:value>146607</con:value>
            </con:property>
            <con:property>
              <con:name>observationId</con:name>
              <con:value>4773637</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>01c5d8b2-7b0d-4f5d-87cf-75989f1a8ada</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>0444eb0d-c173-4555-a4fa-cb3b214a599a</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:39:06.694+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T10:39:06.694+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2022-09-02T11:39:06.694+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>dataSzczepienia</con:name>
              <con:value>2022-06-20T13:28:16.598+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>wykonanieObserwacjiData</con:name>
              <con:value>2022-09-02T10:39:06.694+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>przewidywanaDataPorodu</con:name>
              <con:value>2023-06-02T11:39:06.694+02:00</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Patient ID" id="af18e25c-4630-4e6b-901e-094d0ce53ee9">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>48d1bd54-39e7-4f92-a587-b4df08704d3a</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>${dane#identyfikatorPacjentaOID}</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>${dane#identyfikatorPacjenta}</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>${dane#nazwisko}</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>${dane#imie}</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>${dane#dataUrodzenia}</con:value>
            </con:property>
            <con:property>
              <con:name>-----------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>540</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>4360</con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>patientId</con:entry>
            <con:entry>patientVersion</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych patient" id="9b3d7eb8-7453-4da9-9f82-870798f84ec5">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>patientId</con:sourceType>
            <con:sourceStep>Patient ID</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="observationResourceCiaza" id="d113b2d9-2f7b-4266-a090-ed0db65db1c7">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>observation-pregnacy-mng-zakonczona.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Observation xmlns="http://hl7.org/fhir">
    <meta>
        <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPregnacyHistory"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
    </meta>
	<basedOn>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.141"/>
		</identifier>
		<display value="Program Bada Prenatalnych"/>
   </basedOn>
    <status value="final"/>
    <code>
        <coding>
            <system value="urn:oid:2.16.840.1.113883.6.1"/>
            <code value="82810-3"/>
            <display value="Status ciy"/>
        </coding>
    </code>
    <subject>
		<reference value="Patient/540"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="40010151673"/>
		</identifier>
		<display value="Sylwester Senior" />
    </subject>
	<effectiveDateTime value="2022-09-02T10:39:06.694+02:00"/>
    <performer>
        <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
            <value value="2698040"/>
        </identifier>
		<display value="Marzena Lttd"/>
    </performer>
    <valueCodeableConcept>
        <coding>
            <system value="urn:oid:2.16.840.1.113883.6.1"/>
            <code value="LA26683-5"/>
			<display value="Brak ciy"/>
        </coding>
    </valueCodeableConcept >
	<component>
        <code>
            <coding>
                <system value="urn:oid:2.16.840.1.113883.6.1" />
                <code value="45371-2" />
                <display value="Cia mnoga"/>
            </coding>
        </code>
    </component>
	<component>
        <code>
            <coding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.140" />
                <code value="P" />
                <display value="Pord"/>
            </coding>
        </code>
    </component>
</Observation>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Observation - ciaza" id="7dea6901-2611-43ae-a782-d11967288d50">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="POST Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Observation - ciaza" id="060f119d-bfe7-4ca7-8c93-065148c8732c" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${observationResourceCiaza#resourceRequest}</con:request>
            <con:originalUri>http://10.0.35.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="84bfd76a-cd1c-4830-96dd-3a39a01f3eff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f79de363-d012-426d-94a8-e2efc7d72813" name="Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych observation" id="739264ba-12d2-4a5e-ab34-815ae6ae7ff0">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation - ciaza</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>observationId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Observation" id="ab969b83-f49f-4148-8377-d6366828eff7">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="GET Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Observation" id="777613dc-21fe-4cad-b901-eef290f8f520" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.50.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="64ef46a4-de83-444b-a09e-e452ffb92a50" name="Valid HTTP Status Codes 200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="7a763e2b-f8f2-4069-8f8d-e82402bea5b0" name="ID">
              <con:configuration>
                <path>//*:id/@value</path>
                <content>${dane#observationId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#observationId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Delay" id="3365f92f-819f-4b9b-85d6-84e4b631df97">
        <con:settings/>
        <con:config>
          <delay>${#Project#delaySeconds}000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Observation" id="fd727911-8839-48a2-9f42-042b9df028d5">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="DELETE Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Observation" id="777613dc-21fe-4cad-b901-eef290f8f520" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.50.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="64ef46a4-de83-444b-a09e-e452ffb92a50" name="Valid HTTP Status Codes 200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#observationId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:properties/>
  </con:testSuite>
  <con:testSuite id="dd91ee92-047b-4275-857e-9779e783c8ef" name="Zapis, modyfikacja, wyszukanie, odczyt i anulowanie Zdarzenia Medycznego - pacjent bez PESEL">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase id="d8bf2802-74c0-4739-8ac0-03eeda73618b" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Hospitalizacja pacjenta bez numeru PESEL" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskanie tokenu dostpowego" id="7d511ca1-3f78-4609-97e5-8a1ad3eee0bf">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych" id="b755ae8e-1850-4a2d-950d-5256226b84d9">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

String identyfikatorZdarzenia = java.util.UUID.randomUUID().toString()
String korelacjaIdentyfikator = java.util.UUID.randomUUID().toString()
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString()
String paszportSeria = org.apache.commons.lang.RandomStringUtils.random(2, true, false)
String paszportNum = org.apache.commons.lang.RandomStringUtils.random(6, false, true)

def pracownikImieNazwisko = context.expand('${#Project#imieNazwiskoPracownika}')
def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')
def locationIdentyfikator = context.expand('${#Project#identyfikatorMiejscaSwiadczenia}')
def podmiotIdentyfikator = context.expand('${#Project#identyfikatorPodmiotu}')

def formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
def teraz = ZonedDateTime.now()
String data1 = teraz.minusHours(6).format(formatter)
String data2 = teraz.format(formatter)
String data3 = teraz.minusHours(3).format(formatter)

def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("identyfikatorPacjenta", paszportSeria.toUpperCase()+paszportNum)
dane.setPropertyValue("zdarzenieDataPoczatek", data1)
dane.setPropertyValue("locationStart", data1)
dane.setPropertyValue("locationEnd", data3)
dane.setPropertyValue("przepustkaDataPoczatek", data3)
dane.setPropertyValue("przepustkaDataKoniec", data2)
dane.setPropertyValue("locationStart1", data2)
dane.setPropertyValue("podpisData", data2)
dane.setPropertyValue("proceduraDataPoczatek", data1)
dane.setPropertyValue("proceduraDataKoniec", data2)
dane.setPropertyValue("rozpoznanieData", data2)
dane.setPropertyValue("identyfikatorZdarzenia", identyfikatorZdarzenia)
dane.setPropertyValue("korelacjaIdentyfikator", korelacjaIdentyfikator)
dane.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
dane.setPropertyValue("pracownikImieNazwisko", pracownikImieNazwisko)
dane.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)
dane.setPropertyValue("locationIdentyfikator", locationIdentyfikator)
dane.setPropertyValue("podmiotIdentyfikator", podmiotIdentyfikator)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="a2c7172f-2edc-47f1-a243-56aa02c556c7">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.4.330.56</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>DH118015</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>ANNA</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>ANNA KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>ubezpieczenieOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.8.3</con:value>
            </con:property>
            <con:property>
              <con:name>ubezpiecznieIdentyfikator</con:name>
              <con:value>12345678912345678912</con:value>
            </con:property>
            <con:property>
              <con:name>platnikOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.8.3</con:value>
            </con:property>
            <con:property>
              <con:name>platnikIdentyfikator</con:name>
              <con:value>12345678912345678912</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>5142213</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142215</con:value>
            </con:property>
            <con:property>
              <con:name>procedureId</con:name>
              <con:value>5142217</con:value>
            </con:property>
            <con:property>
              <con:name>conditionId</con:name>
              <con:value>5142219</con:value>
            </con:property>
            <con:property>
              <con:name>provenanceId</con:name>
              <con:value>5142221</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>8846417e-4ef2-4a03-8ea7-02940c291c48</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>273f4630-6efa-4acc-b5e4-9097dcd2118d</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>334e2cc4-1f44-40ab-9518-c3d5515dcd67</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzeniaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart1</con:name>
              <con:value>2022-09-02T11:39:16.040+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart</con:name>
              <con:value>2022-09-02T05:39:16.040+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationEnd</con:name>
              <con:value>2022-09-02T08:39:16.040+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>przepustkaDataPoczatek</con:name>
              <con:value>2022-09-02T08:39:16.040+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>przepustkaDataKoniec</con:name>
              <con:value>2022-09-02T11:39:16.040+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataPoczatek</con:name>
              <con:value>2022-09-02T05:39:16.040+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T05:39:16.040+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>rozpoznanieData</con:name>
              <con:value>2022-09-02T11:39:16.040+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:39:33.400+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>provenance</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
   <id value="5142221"/>
   <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:39:31.955+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <implicitRules value="16.3.3"/>
   <target>
      <reference value="Patient/5142213"/>
      <type value="Patient"/>
   </target>
   <target>
      <reference value="Encounter/5142215"/>
      <type value="Encounter"/>
   </target>
   <target>
      <reference value="Condition/5142219"/>
      <type value="Condition"/>
   </target>
   <target>
      <reference value="Procedure/5142217"/>
      <type value="Procedure"/>
   </target>
   <recorded value="2022-09-02T11:39:16.040+02:00"/>
   <agent>
      <who>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
            <value value="000000012106"/>
         </identifier>
      </who>
   </agent>
   <signature>
      <type>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
         <code value="1.2.840.10065.1.12.1.14"/>
      </type>
      <when value="2022-09-02T11:39:16.040+02:00"/>
      <who>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
            <value value="000000012106"/>
         </identifier>
      </who>
      <targetFormat value="application/fhir+xml"/>
      <sigFormat value="application/signature+xml"/>
      <data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1kZWViMzMyNi1jNDQ1LTQzMjYtOThhYi03MzM0OGNhNGI0NDUiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZGVlYjMzMjYtYzQ0NS00MzI2LTk4YWItNzMzNDhjYTRiNDQ1LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTE0MjIxMy9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPm4zQnNoa2MxWkVHUnVUVmFmbGwzOXpSSU53Y2krdlM1eEc1NnFNNDBISEk9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWRlZWIzMzI2LWM0NDUtNDMyNi05OGFiLTczMzQ4Y2E0YjQ0NS1yZWYxIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9FbmNvdW50ZXIvNTE0MjIxNS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlQ5dno4eU9IbzJoS3A0dDNnNFk5T1R3TGJ1Q0tycXl3cnl3REZOd0UxWE09PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWRlZWIzMzI2LWM0NDUtNDMyNi05OGFiLTczMzQ4Y2E0YjQ0NS1yZWYyIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db25kaXRpb24vNTE0MjIxOS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmtUbEFyUk15MC9KSXh5QkdveGVzVENFcUwyR25DZGVMVlA3VExUNExxczg9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWRlZWIzMzI2LWM0NDUtNDMyNi05OGFiLTczMzQ4Y2E0YjQ0NS1yZWYzIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Qcm9jZWR1cmUvNTE0MjIxNy9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkcySTlTQzFHQ2NWUWQ4SDd6Q0duNTRleHFTVXp6bzJSV1hMT0tDMUxXUlU9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy1kZWViMzMyNi1jNDQ1LTQzMjYtOThhYi03MzM0OGNhNGI0NDUtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmVYQjc0dkZYRTlsTTduVS90cGRObWdqK3doUzd0VVJWNmtMRE4zTVhONHM9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLWRlZWIzMzI2LWM0NDUtNDMyNi05OGFiLTczMzQ4Y2E0YjQ0NS1zaWd2YWx1ZSI+dEZUQ20xemlYNDEraExkYlVGdUhFeWk4UFFCQWtQQytwSE81aU1HNVF3L3FDVzJVemJnSmljVlYrdElpWmF6OEhtdlZCMm45d0JIVWF5bWZSaDZaWEdmcW5vRUVwWFNZaDNUUkFySitTV0pKekR2d3RLa3c0MWc5QzZYRktFTmt0TXZaeUdWbVhxWlNPTHZPbE1BU0FYdDZQR3dNOXZJa0QxOUZVemk0c2NMVjVhenB2bnUwM3hPVGxyK1EzNlBRV3AzbXF0QlRkcHptVDhNMnBucSszMUovYW9hUXhCZVlwV0Nha1QreU1CRHJsUUZYV1QwM0hQN3lQemo0SGhKSTZ6NHBtSlNyaFgzaEIxRE45YjgyRWpERVk4ak5hSSthNjR0WW4rS0lwYmhGaWhvOFJjK0xMVnczOCt1cCtnSkdGN3phZGphQzREU0h1eDFjNTJsaWF3PT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZNVENDQXhtZ0F3SUJBZ0lJZnFoa0FVQ2RCRnN3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1UQTJNakV3TnpRMU16ZGFGdzB5TXpBMk1qRXdOelExTXpkYU1JR2tNVFF3TWdZRFZRUUREQ3RRYjJSdGFXOTBYMnhsWTNwdWFXTjZlVjh4TFhWM2FXVnllbmwwWld4dWFXVnVhV1VnWkdGdWVXTm9NVFV3TXdZRFZRUUZFeXd5TGpFMkxqZzBNQzR4TGpFeE16ZzRNeTR6TGpRME1qUXVNaTR6TGpFNklEQXdNREF3TURBeE1qRXdOakVZTUJZR0ExVUVDd3dQVURFZ1NXNTBaV2R5WVdONWFtNWxNUTR3REFZRFZRUUtEQVZEVTBsUFdqRUxNQWtHQTFVRUJoTUNVRXd3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRHVJL0E5OFBvNzd1cVZjZ3VZenZ1WmJqVXZDejJaR2pJZXVFSXRxeElRc28yT2dOSC94Qi9BWWV1M1BzVGVBdVFLU0VhNkpmNmd4LzVaL1IzQ2ZUbUd2SU8wRmJzTGtNcDlxV0Qrd1FTR2ZsQzZwNXBZM1QrTzFKYW96clZqR3F4YjFJZGJPdmhoZWFqdXFydUNvUjdhdjYvMWpzQzBmTUE2a1pUUW5EY01ORXA3Sk5yWDRRUmxvUlA2ZHg2ek9LQVhhZzJCNHYrMVR2Tjk5WGVBME1EaHV1bzN2eU14d0RvbWw4aGlzYWFtMmdnRm42MGVzYmY5V2hOckdTaE1JVFdQWGpKRDNwdzZKNjFZLzBlWTluM0tTM0tUS010b0JLMk9Fbmg0V1FQRGJoeHp1dmprdnJ2UVFwUUFxWGRWVGVycGtBT0VVMEhBay9CSXIxL1lVQzluQWdNQkFBR2pnYmd3Z2JVd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JSaWhvRUNCb0cxYlhPZmRzcjRkTFczaHRJNmhqQlZCZ05WSFI4RVRqQk1NRXFnU0tCR2hrUm9kSFJ3Y3pvdkwybHVkQzF3TVM1bGVtUnliM2RwWlM1bmIzWXVjR3d2WTJOd01TOWpjbXd2UTBOUU1VbHVkR1ZuY21GamVXcHVaVk4xWWtOQlYxTlRMbU55YkRBZEJnTlZIUTRFRmdRVXZycFFEUEREeEdsZm5vQXJRVlNyYlNuNHkra3dEZ1lEVlIwUEFRSC9CQVFEQWdlQU1BMEdDU3FHU0liM0RRRUJEUVVBQTRJQ0FRQys2R0xjcmxjL1M0azhzREtpWWcvbXlJNWE1cUNIeEdpY3FzaU8vQTl6MGl1S2l3N1JMNkNmS2RQT2RiZitub0R2ZWs1c09BOGZaRHBWWUhtbHdFOUtMSmswZGVsQ0UySGtiK1pKSHlzYVRYaXRWeDlhWGswYTd3djJ2Q3FMR2xKcXlabzV2ZWNwam84M0I5QkhseUpTRDdWTGw1WFVzRnEvNUluOGRMbm9RaHBKWFN6ZGJKWlNYcVdxQ2hmdE5TSU5nODVmUDBpeWYwWVJPcEZJRVNGTVRGRWNkWUdUNllFRzV0MHNnaUttZm5nYzQ5M0VSdFMyOXBTWUhyTWdGZllNcVFiRm9hUXZnK3VWV3JMczlyaUh6emZMaXR1cnppcUNtL2dROE1CcUpjK2NVcnlCLzRBSEZEUGxQblh2TW1SQ2FKMXV2OFJ3TnJqSWRhT2prSHJkREtxbmJJQ21MclhaMUlrcTQ5NGY4QXNCcjk0bkJydGo0bnlvU2lIQUx3WGJHMVBRQlFtU1RCNmVsbUpHYlRrbGVvOXBjNHZHK29QTWtTR1VNdEcwOS92M1pucHRVREVKUjZEeFBPV1Q3d0pDOVF2WjQxdVZkRFF1aWtXZWwyK1FxaXkyTnBYeHF2VFhnZTFsZlBEYTFWcmwwejU3VnFRUVFrUmlXVjBXMUx2YjRxc3NMRDZqLzltSitndEtRV25NRHlkZGZ3NWpnaGJ4YmRWc0MyUTRCckZlY0VDTjBpTHhNbHJ6WEpuT0dlSE9zSjVIaC9pZG44NlkweW5FSG1mcVBrdjR5M01ORjdvWjg4M29kQlE1RjhSdjZlbGRvSHZTTTZ3N3VCNnVDVmg4YXJuV0k3bCs2dWorOEJucCtiek1NL1VJM2kyVWtKMVhsbGNRNXR4WlVRPT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48ZHM6WDUwOVN1YmplY3ROYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsc2VyaWFsTnVtYmVyPTIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMTogMDAwMDAwMDEyMTA2LGNuPVBvZG1pb3RfbGVjem5pY3p5XzEtdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctZGVlYjMzMjYtYzQ0NS00MzI2LTk4YWItNzMzNDhjYTRiNDQ1Ij48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy1kZWViMzMyNi1jNDQ1LTQzMjYtOThhYi03MzM0OGNhNGI0NDUtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjM5OjI3LjE4OCswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkVkSXRYNmdLQXowM2xQZ0dLOFNxTzNsaUc1NTdsL28yNjZ1Z2xtV1psWFU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+b3R5OXJqazlvK0lJU204LzNHaEYxd1ZrVDBlWUFyeWFCTk5FMUhTdUVHaz08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+MzE0MTcwMDc4ODYxNzkzNDMxNDwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5kNlZNbDFEWmZhRk9lUjQ1REJIZytGNFBnazk1SFVNSElIcXkxc0Z6MEhBPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+"/>
   </signature>
</Provenance>]]></con:value>
            </con:property>
            <con:property>
              <con:name>encounter</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
   <id value="5142215"/>
   <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:39:25.193+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <implicitRules value="16.3.3"/>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
      <value value="8846417e-4ef2-4a03-8ea7-02940c291c48"/>
   </identifier>
   <status value="in-progress"/>
   <statusHistory>
      <status value="onleave"/>
      <period>
         <start value="2022-09-02T08:39:16.040+02:00"/>
         <end value="2022-09-02T11:39:16.040+02:00"/>
      </period>
   </statusHistory>
   <class>
      <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
      <code value="1"/>
      <display value="Pobyt w oddziale szpitalnym"/>
   </class>
   <subject>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
         <valueReference>
            <identifier>
               <system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
               <value value="12345678912345678912"/>
            </identifier>
         </valueReference>
      </extension>
      <reference value="Patient/5142213"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="DH118015"/>
      </identifier>
      <display value="ANNA KASINA"/>
   </subject>
   <episodeOfCare>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
         <value value="273f4630-6efa-4acc-b5e4-9097dcd2118d"/>
      </identifier>
   </episodeOfCare>
   <participant>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
         <valueCoding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
            <code value="11"/>
         </valueCoding>
      </extension>
      <individual>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
            <value value="2698040"/>
         </identifier>
         <display value="Monika Lecznicza"/>
      </individual>
   </participant>
   <period>
      <start value="2022-09-02T05:39:16.040+02:00"/>
   </period>
   <hospitalization>
      <admitSource>
         <coding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.3.24"/>
            <code value="3"/>
         </coding>
      </admitSource>
   </hospitalization>
   <location>
      <location>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
            <value value="000000012106-001"/>
         </identifier>
      </location>
      <period>
         <start value="2022-09-02T05:39:16.040+02:00"/>
         <end value="2022-09-02T08:39:16.040+02:00"/>
      </period>
   </location>
   <location>
      <location>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
            <value value="000000012106-001"/>
         </identifier>
      </location>
      <period>
         <start value="2022-09-02T11:39:16.040+02:00"/>
      </period>
   </location>
   <serviceProvider>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
         <valueReference>
            <identifier>
               <system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
               <value value="12345678912345678912"/>
            </identifier>
         </valueReference>
      </extension>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
         <value value="000000012106"/>
      </identifier>
   </serviceProvider>
</Encounter>]]></con:value>
            </con:property>
            <con:property>
              <con:name>procedure</con:name>
              <con:value><![CDATA[<Procedure xmlns="http://hl7.org/fhir">
   <id value="5142217"/>
   <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:39:26.426+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProcedure"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <implicitRules value="16.3.3"/>
   <status value="completed"/>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
         <code value="79.76"/>
         <display value="Zamknite nastawienie zwichnicia kolana"/>
      </coding>
   </code>
   <subject>
      <reference value="Patient/5142213"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="DH118015"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142215"/>
      <type value="Encounter"/>
   </encounter>
   <performedPeriod>
      <start value="2022-09-02T05:39:16.040+02:00"/>
      <end value="2022-09-02T11:39:16.040+02:00"/>
   </performedPeriod>
   <asserter>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
         <valueCoding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
            <code value="11"/>
         </valueCoding>
      </extension>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
         <value value="2698040"/>
      </identifier>
      <display value="Monika Lecznicza"/>
   </asserter>
   <location>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
         <value value="000000012106-001"/>
      </identifier>
   </location>
</Procedure>]]></con:value>
            </con:property>
            <con:property>
              <con:name>condition</con:name>
              <con:value><![CDATA[<Condition xmlns="http://hl7.org/fhir">
   <id value="5142219"/>
   <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:39:26.990+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventDiagnosis"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <implicitRules value="16.3.3"/>
   <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLLocation">
      <valueIdentifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
         <value value="000000012106-001"/>
      </valueIdentifier>
   </extension>
   <category>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.78"/>
         <code value="main"/>
         <display value="Gwne"/>
      </coding>
   </category>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.6.3"/>
         <code value="J04.0"/>
         <display value="Acute laryngitis"/>
      </coding>
   </code>
   <bodySite>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.79"/>
         <code value="left"/>
         <display value="Lewa strona ciaa"/>
      </coding>
   </bodySite>
   <subject>
      <reference value="Patient/5142213"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="DH118015"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142215"/>
      <type value="Encounter"/>
   </encounter>
   <recordedDate value="2022-09-02T11:39:16.040+02:00"/>
   <asserter>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
         <valueCoding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
            <code value="11"/>
         </valueCoding>
      </extension>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
         <value value="2698040"/>
      </identifier>
      <display value="Monika Lecznicza"/>
   </asserter>
</Condition>]]></con:value>
            </con:property>
            <con:property>
              <con:name>encounterUpdated</con:name>
              <con:value><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<Encounter xmlns="http://hl7.org/fhir">
  <id value="5142215"/>
  <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:39:25.193+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
  </meta>
  <implicitRules value="16.3.3"/>
  <identifier>
      <system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
      <value value="8846417e-4ef2-4a03-8ea7-02940c291c48"/>
  </identifier>
  <status value="in-progress"/>
  <statusHistory>
      <status value="onleave"/>
      <period>
         <start value="2022-09-02T08:39:16.040+02:00"/>
         <end value="2022-09-02T11:39:16.040+02:00"/>
      </period>
  </statusHistory>
  <class>
      <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
      <code value="1"/>
      <display value="Pobyt w oddziale szpitalnym"/>
  </class>
  <subject>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
         <valueReference>
            <identifier>
               <system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
               <value value="12345678912345678912"/>
            </identifier>
         </valueReference>
      </extension>
      <reference value="Patient/5142213"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="DH118015"/>
      </identifier>
      <display value="ANNA KASINA"/>
  </subject>
  <episodeOfCare>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
         <value value="273f4630-6efa-4acc-b5e4-9097dcd2118d"/>
      </identifier>
  </episodeOfCare>
  <basedOn>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.4.1"/>
         <value value="088B44D578E8465DB3BC62"/>
         <period>
            <start value="2019-08-26T10:00:00+02:00"/>
         </period>
      </identifier>
  </basedOn>
  <participant>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
         <valueCoding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
            <code value="11"/>
         </valueCoding>
      </extension>
      <individual>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
            <value value="2698040"/>
         </identifier>
         <display value="Monika Lecznicza"/>
      </individual>
  </participant>
  <period>
      <start value="2022-09-02T05:39:16.040+02:00"/>
  </period>
  <hospitalization>
      <admitSource>
         <coding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.3.24"/>
            <code value="3"/>
         </coding>
      </admitSource>
  </hospitalization>
  <location>
      <location>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
            <value value="000000012106-001"/>
         </identifier>
      </location>
      <period>
         <start value="2022-09-02T05:39:16.040+02:00"/>
         <end value="2022-09-02T08:39:16.040+02:00"/>
      </period>
  </location>
  <location>
      <location>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
            <value value="000000012106-001"/>
         </identifier>
      </location>
      <period>
         <start value="2022-09-02T11:39:16.040+02:00"/>
      </period>
  </location>
  <serviceProvider>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
         <valueReference>
            <identifier>
               <system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
               <value value="12345678912345678912"/>
            </identifier>
         </valueReference>
      </extension>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
         <value value="000000012106"/>
      </identifier>
  </serviceProvider>
</Encounter>]]></con:value>
            </con:property>
            <con:property>
              <con:name>procedureUpdated</con:name>
              <con:value><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<Procedure xmlns="http://hl7.org/fhir">
  <id value="5142217"/>
  <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:39:26.426+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProcedure"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
  </meta>
  <implicitRules value="16.3.3"/>
  <status value="completed"/>
  <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
         <code value="79.77"/>
         <display value="Zamknite nastawienie zwichnicia kostki"/>
      </coding>
  </code>
  <subject>
      <reference value="Patient/5142213"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="DH118015"/>
      </identifier>
  </subject>
  <encounter>
      <reference value="Encounter/5142215"/>
      <type value="Encounter"/>
  </encounter>
  <performedPeriod>
      <start value="2022-09-02T05:39:16.040+02:00"/>
      <end value="2022-09-02T11:39:16.040+02:00"/>
  </performedPeriod>
  <asserter>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
         <valueCoding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
            <code value="11"/>
         </valueCoding>
      </extension>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
         <value value="2698040"/>
      </identifier>
      <display value="Monika Lecznicza"/>
  </asserter>
  <location>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
         <value value="000000012106-001"/>
      </identifier>
  </location>
</Procedure>]]></con:value>
            </con:property>
            <con:property>
              <con:name>conditionUpdated</con:name>
              <con:value><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<Condition xmlns="http://hl7.org/fhir">
  <id value="5142219"/>
  <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:39:26.990+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventDiagnosis"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
  </meta>
  <implicitRules value="16.3.3"/>
  <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLLocation">
      <valueIdentifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
         <value value="000000012106-001"/>
      </valueIdentifier>
  </extension>
  <category>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.78"/>
         <code value="main"/>
         <display value="Gwne"/>
      </coding>
  </category>
  <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.6.3"/>
         <code value="J04.0"/>
         <display value="Ostre zapalenie krtani"/>
      </coding>
  </code>
  <bodySite>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.79"/>
         <code value="left"/>
         <display value="Lewa strona ciaa"/>
      </coding>
  </bodySite>
  <subject>
      <reference value="Patient/5142213"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="DH118015"/>
      </identifier>
  </subject>
  <encounter>
      <reference value="Encounter/5142215"/>
      <type value="Encounter"/>
  </encounter>
  <recordedDate value="2022-09-02T11:39:16.040+02:00"/>
  <asserter>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
         <valueCoding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
            <code value="11"/>
         </valueCoding>
      </extension>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
         <value value="2698040"/>
      </identifier>
      <display value="Monika Lecznicza"/>
  </asserter>
</Condition>]]></con:value>
            </con:property>
            <con:property>
              <con:name>provenanceUpdated</con:name>
              <con:value><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<tag0:Provenance xmlns:tag0="http://hl7.org/fhir">
   <tag0:id value="5142221"/>
   <tag0:meta>
      <tag0:versionId value="1"/>
      <tag0:lastUpdated value="2022-09-02T11:39:31.955+02:00"/>
      <tag0:profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
      <tag0:security>
         <tag0:system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <tag0:code value="N"/>
      </tag0:security>
   </tag0:meta>
   <tag0:implicitRules value="16.3.3"/>
   <tag0:target>
      <tag0:reference value="Patient/5142213"/>
      <tag0:type value="Patient"/>
   </tag0:target>
   <tag0:target>
      <tag0:reference value="Encounter/5142215"/>
      <tag0:type value="Encounter"/>
   </tag0:target>
   <tag0:target>
      <tag0:reference value="Condition/5142219"/>
      <tag0:type value="Condition"/>
   </tag0:target>
   <tag0:target>
      <tag0:reference value="Procedure/5142217"/>
      <tag0:type value="Procedure"/>
   </tag0:target>
   <tag0:recorded value="2022-09-02T11:39:16.040+02:00"/>
   <tag0:agent>
      <tag0:who>
         <tag0:identifier>
            <tag0:system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
            <tag0:value value="000000012106"/>
         </tag0:identifier>
      </tag0:who>
   </tag0:agent>
   <tag0:signature>
      <tag0:type>
         <tag0:system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
         <tag0:code value="1.2.840.10065.1.12.1.14"/>
      </tag0:type>
      <tag0:when value="2022-09-02T11:39:16.040+02:00"/>
      <tag0:who>
         <tag0:identifier>
            <tag0:system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
            <tag0:value value="000000012106"/>
         </tag0:identifier>
      </tag0:who>
      <tag0:targetFormat value="application/fhir+xml"/>
      <tag0:sigFormat value="application/signature+xml"/>
      <tag0:data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy00ZTJiYjI3NS1mMGFlLTRhMTYtOWZjOS05MTk1NmM2NDAwZDYiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNGUyYmIyNzUtZjBhZS00YTE2LTlmYzktOTE5NTZjNjQwMGQ2LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTE0MjIxMy9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPm4zQnNoa2MxWkVHUnVUVmFmbGwzOXpSSU53Y2krdlM1eEc1NnFNNDBISEk9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTRlMmJiMjc1LWYwYWUtNGExNi05ZmM5LTkxOTU2YzY0MDBkNi1yZWYxIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9FbmNvdW50ZXIvNTE0MjIxNS9faGlzdG9yeS8yIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlFLV3V1ZlU0eUpROE9DRnZqMUFTUGNHK3gwZVBRb25kY0VtTWZIU0tjSlE9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTRlMmJiMjc1LWYwYWUtNGExNi05ZmM5LTkxOTU2YzY0MDBkNi1yZWYyIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db25kaXRpb24vNTE0MjIxOS9faGlzdG9yeS8yIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPnBTUHBVRVF6dmhqZUV1cnVIWG1hSkZQcU9yS1hzdEtsUjZ0TUhQMHVYMmM9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTRlMmJiMjc1LWYwYWUtNGExNi05ZmM5LTkxOTU2YzY0MDBkNi1yZWYzIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Qcm9jZWR1cmUvNTE0MjIxNy9faGlzdG9yeS8yIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmNHNWo1eWV3TlR6NnJ0MEs4dStlNDlLV3BXM1lnUnRITTJjblVYY3JGZWM9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy00ZTJiYjI3NS1mMGFlLTRhMTYtOWZjOS05MTk1NmM2NDAwZDYtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlNFNW9PU0RYV3RVK3ZWNSttdXZEQkREQ3pXQitDamYxOE84bkdiaFJhK0E9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLTRlMmJiMjc1LWYwYWUtNGExNi05ZmM5LTkxOTU2YzY0MDBkNi1zaWd2YWx1ZSI+WWEyYVVPV0t4LzNCMy9HRHJyT216NDV6UDZsSnN5a0pZMndZRFhLSXF3aFRXWVh1UnlPSDdxbWpxK3UraStrZnVuaWZhTkRveXBDcmNsbWxnK0xJMFA5VHBwcmRqVUNvVXArbFJCNEowU1JOZDgvUFZxZjhhL0FaUTh1Zzh5aTdVM2dSSDFVZms1dUpRWGNEejRGN200THJHcVVKeWdJUDg0YWxqczgvT3FaSGpPSWM4RSs4SUVUM1QwWmM0YVpxeXlEZkQrQU9lUGNGVmh5YnByNDBsWHF2d1FGanJWQVNxaDBuWVRFYnhvYm93bmVNOThpTXViYllSK1RiSmNQQk85UWNRemxzNllWc3ZIZ2cxVDFtVkNBcUs0N0tyZG05LzJxWHdUS0RIbC9RcnNCMjZBZ21tRG1mU1g2VW1kaXl6ZmlGQzFkU01icW9HUDRKRjBVYzZBPT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZNVENDQXhtZ0F3SUJBZ0lJZnFoa0FVQ2RCRnN3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1UQTJNakV3TnpRMU16ZGFGdzB5TXpBMk1qRXdOelExTXpkYU1JR2tNVFF3TWdZRFZRUUREQ3RRYjJSdGFXOTBYMnhsWTNwdWFXTjZlVjh4TFhWM2FXVnllbmwwWld4dWFXVnVhV1VnWkdGdWVXTm9NVFV3TXdZRFZRUUZFeXd5TGpFMkxqZzBNQzR4TGpFeE16ZzRNeTR6TGpRME1qUXVNaTR6TGpFNklEQXdNREF3TURBeE1qRXdOakVZTUJZR0ExVUVDd3dQVURFZ1NXNTBaV2R5WVdONWFtNWxNUTR3REFZRFZRUUtEQVZEVTBsUFdqRUxNQWtHQTFVRUJoTUNVRXd3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRHVJL0E5OFBvNzd1cVZjZ3VZenZ1WmJqVXZDejJaR2pJZXVFSXRxeElRc28yT2dOSC94Qi9BWWV1M1BzVGVBdVFLU0VhNkpmNmd4LzVaL1IzQ2ZUbUd2SU8wRmJzTGtNcDlxV0Qrd1FTR2ZsQzZwNXBZM1QrTzFKYW96clZqR3F4YjFJZGJPdmhoZWFqdXFydUNvUjdhdjYvMWpzQzBmTUE2a1pUUW5EY01ORXA3Sk5yWDRRUmxvUlA2ZHg2ek9LQVhhZzJCNHYrMVR2Tjk5WGVBME1EaHV1bzN2eU14d0RvbWw4aGlzYWFtMmdnRm42MGVzYmY5V2hOckdTaE1JVFdQWGpKRDNwdzZKNjFZLzBlWTluM0tTM0tUS010b0JLMk9Fbmg0V1FQRGJoeHp1dmprdnJ2UVFwUUFxWGRWVGVycGtBT0VVMEhBay9CSXIxL1lVQzluQWdNQkFBR2pnYmd3Z2JVd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JSaWhvRUNCb0cxYlhPZmRzcjRkTFczaHRJNmhqQlZCZ05WSFI4RVRqQk1NRXFnU0tCR2hrUm9kSFJ3Y3pvdkwybHVkQzF3TVM1bGVtUnliM2RwWlM1bmIzWXVjR3d2WTJOd01TOWpjbXd2UTBOUU1VbHVkR1ZuY21GamVXcHVaVk4xWWtOQlYxTlRMbU55YkRBZEJnTlZIUTRFRmdRVXZycFFEUEREeEdsZm5vQXJRVlNyYlNuNHkra3dEZ1lEVlIwUEFRSC9CQVFEQWdlQU1BMEdDU3FHU0liM0RRRUJEUVVBQTRJQ0FRQys2R0xjcmxjL1M0azhzREtpWWcvbXlJNWE1cUNIeEdpY3FzaU8vQTl6MGl1S2l3N1JMNkNmS2RQT2RiZitub0R2ZWs1c09BOGZaRHBWWUhtbHdFOUtMSmswZGVsQ0UySGtiK1pKSHlzYVRYaXRWeDlhWGswYTd3djJ2Q3FMR2xKcXlabzV2ZWNwam84M0I5QkhseUpTRDdWTGw1WFVzRnEvNUluOGRMbm9RaHBKWFN6ZGJKWlNYcVdxQ2hmdE5TSU5nODVmUDBpeWYwWVJPcEZJRVNGTVRGRWNkWUdUNllFRzV0MHNnaUttZm5nYzQ5M0VSdFMyOXBTWUhyTWdGZllNcVFiRm9hUXZnK3VWV3JMczlyaUh6emZMaXR1cnppcUNtL2dROE1CcUpjK2NVcnlCLzRBSEZEUGxQblh2TW1SQ2FKMXV2OFJ3TnJqSWRhT2prSHJkREtxbmJJQ21MclhaMUlrcTQ5NGY4QXNCcjk0bkJydGo0bnlvU2lIQUx3WGJHMVBRQlFtU1RCNmVsbUpHYlRrbGVvOXBjNHZHK29QTWtTR1VNdEcwOS92M1pucHRVREVKUjZEeFBPV1Q3d0pDOVF2WjQxdVZkRFF1aWtXZWwyK1FxaXkyTnBYeHF2VFhnZTFsZlBEYTFWcmwwejU3VnFRUVFrUmlXVjBXMUx2YjRxc3NMRDZqLzltSitndEtRV25NRHlkZGZ3NWpnaGJ4YmRWc0MyUTRCckZlY0VDTjBpTHhNbHJ6WEpuT0dlSE9zSjVIaC9pZG44NlkweW5FSG1mcVBrdjR5M01ORjdvWjg4M29kQlE1RjhSdjZlbGRvSHZTTTZ3N3VCNnVDVmg4YXJuV0k3bCs2dWorOEJucCtiek1NL1VJM2kyVWtKMVhsbGNRNXR4WlVRPT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48ZHM6WDUwOVN1YmplY3ROYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsc2VyaWFsTnVtYmVyPTIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMTogMDAwMDAwMDEyMTA2LGNuPVBvZG1pb3RfbGVjem5pY3p5XzEtdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctNGUyYmIyNzUtZjBhZS00YTE2LTlmYzktOTE5NTZjNjQwMGQ2Ij48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy00ZTJiYjI3NS1mMGFlLTRhMTYtOWZjOS05MTk1NmM2NDAwZDYtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjM5OjM0LjU3MSswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkVkSXRYNmdLQXowM2xQZ0dLOFNxTzNsaUc1NTdsL28yNjZ1Z2xtV1psWFU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+b3R5OXJqazlvK0lJU204LzNHaEYxd1ZrVDBlWUFyeWFCTk5FMUhTdUVHaz08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+MzE0MTcwMDc4ODYxNzkzNDMxNDwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5kNlZNbDFEWmZhRk9lUjQ1REJIZytGNFBnazk1SFVNSElIcXkxc0Z6MEhBPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+"/>
   </tag0:signature>
</tag0:Provenance>]]></con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataKoniec</con:name>
              <con:value>2022-09-02T11:39:16.040+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="daneModyfikacja" id="131c6f7b-74ec-46a4-a553-f75ce65421d8">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>typProceduryKod</con:name>
              <con:value>79.77</con:value>
            </con:property>
            <con:property>
              <con:name>typProceduryDisplay</con:name>
              <con:value>Zamknite nastawienie zwichnicia kostki</con:value>
            </con:property>
            <con:property>
              <con:name>typRozpoznaniaKod</con:name>
              <con:value>J04.0</con:value>
            </con:property>
            <con:property>
              <con:name>typRozpoznaniaDisplay</con:name>
              <con:value>Ostre zapalenie krtani</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="patientResource" id="ea3a6dbe-b907-46da-a765-96644ba43cf0">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>patient-paszport.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Patient xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPatient"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
      <value value="DH118015"/>
   </identifier>
   <name>
      <family value="KASINA"/>
      <given value="ANNA"/>
   </name>
   <telecom>
      <system value="phone"/>
      <value value="+32475556791"/>
   </telecom>
   <gender value="male"/>
   <birthDate value="1960-06-30"/>
</Patient>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Patient" id="f3c39840-9e74-4ed6-9bd0-c76eb5f65018">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Patient/{id}" methodName="Zapis-patient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Patient" id="ae51083b-704b-45e7-88c7-385ef76c5721" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${patientResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Patient/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="90ea303b-56ec-4f6e-8ca9-b87beea0c859" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="identifier" value=""/>
              <con:entry key="plgiven" value=""/>
              <con:entry key="birthdate" value=""/>
              <con:entry key="gender" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="_id" value=""/>
              <con:entry key="encounter" value=""/>
              <con:entry key="plfamily" value=""/>
              <con:entry key="_sort" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plgiven</con:entry>
              <con:entry>plfamily</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>gender</con:entry>
              <con:entry>birthdate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych patient" id="2ae9fee5-d019-4bff-8e6b-341e990e1f91">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
            <con:name>versionMod</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>danePodpisuModyfikacja</con:targetStep>
            <con:targetPath xsi:nil="true"/>
            <con:type>XPATH</con:type>
            <con:targetTransferType>XPATH</con:targetTransferType>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterResource" id="c7a2e734-d00b-41bc-96f9-0dc2dcb2a927">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-hospitalizacja-poczatek.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
   <meta> 
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
	  <security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
	  </security>	  
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
	  <value value="8846417e-4ef2-4a03-8ea7-02940c291c48"/>
   </identifier>
   <status value="in-progress"/>
   <statusHistory>
		<status value = "onleave"/>
		<period>
			<start value = "2022-09-02T08:39:16.040+02:00"/>
			<end value = "2022-09-02T11:39:16.040+02:00"/>
		</period>
   </statusHistory>
   <class>
      <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
	  <code value="1"/>
	  <display value="Pobyt w oddziale szpitalnym"/>
   </class>
   <subject>
	  <extension xmlns="http://hl7.org/fhir"
     url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
		<valueReference>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
				<value value="12345678912345678912"/>
			</identifier>
		</valueReference>
	   </extension>
	  <reference value="Patient/5142213"/>
	  <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
		 <value value="DH118015"/>
      </identifier>
	  <display value="ANNA KASINA"/>
   </subject>
   <episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="273f4630-6efa-4acc-b5e4-9097dcd2118d"/>
		</identifier>
	</episodeOfCare>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<period>
		<start value="2022-09-02T05:39:16.040+02:00"/>
	</period>
	<hospitalization>
		<admitSource>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.3.24"/>
				<code value="3"/>
			</coding>
		</admitSource>
	</hospitalization>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
		<period>
			<start value="2022-09-02T05:39:16.040+02:00"/>
			<end value="2022-09-02T08:39:16.040+02:00"/>
		</period>
	</location>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
		<period>
			<start value="2022-09-02T11:39:16.040+02:00"/>
		</period>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
		url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
					<value value="12345678912345678912"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter" id="fd03a0ad-929f-4d43-9219-4df4f160a7bc">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter" id="ca159828-a602-4357-a4ba-632c00d8f164" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="45dcab9f-b043-403b-8bcc-cc8b06dbb79c" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych encounter" id="987ff20b-e490-4ec7-aed8-4d3289975b28">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>encounterVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>encounter</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>encounter</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="procedureResource" id="905bea1d-5c09-4a45-87b7-bdc8ddb61f60">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>procedure.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Procedure xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProcedure"/>
       <security>
           <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
           <code value="N"/>
       </security>
   </meta>
   <status value="completed"/>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6" />
         <code value="79.76"/>
         <display value="Zamknite nastawienie zwichnicia kolana"/>
      </coding>
   </code>
   <subject>
	  <reference value="Patient/5142213"/>
	  <type value="Patient"/>
	  <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="DH118015"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142215"/>
      <type value="Encounter"/>
   </encounter>
   <performedPeriod>
      <start value="2022-09-02T05:39:16.040+02:00"/>
      <end value="2022-09-02T11:39:16.040+02:00"/>
   </performedPeriod>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
   <location>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
		</identifier>
   </location>
</Procedure>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Procedure" id="e826c84e-25c7-4ae7-a4b9-0bee3aa57e77">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Zapis-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Procedure" id="fbb19b00-838c-4ef3-a04b-b95933e72a12" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${procedureResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Procedure/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b5455364-85e4-472b-9176-40088197ed11" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="24e682e5-7a78-416c-bbe1-366fbde4baa0" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';
exists(//ns1:Procedure/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c207887a-1ef3-48ec-bc0b-05caa143fe7b" name="Zwrcono numer wersji systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych procedure" id="d0f0ed1c-8bce-480f-b81d-b20cb0e013f0">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>procedureId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>procedureVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>procedure</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure</con:sourceStep>
            <con:targetType>procedure</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="conditionResource" id="dedf17a3-2664-4951-90e1-c1ac3bf77463">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>condition.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Condition xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventDiagnosis"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <extension url ="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLLocation">
      <valueIdentifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
      </valueIdentifier>
   </extension>
   <category>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.78"/>
         <code value="main"/>
         <display value="Gwne"/>
      </coding>
   </category>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.6.3"/>
         <code value="J04.0"/>
         <display value="Acute laryngitis"/>
      </coding>
   </code>
   <bodySite>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.79"/>
         <code value="left"/>
         <display value="Lewa strona ciaa"/>
      </coding>
   </bodySite>
   <subject>
	  <reference value="Patient/5142213"/>
	  <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="DH118015"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142215"/>
      <type value="Encounter"/>
   </encounter>
   <recordedDate value="2022-09-02T11:39:16.040+02:00"/>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
</Condition>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Condition" id="6af1e4fb-bec2-401f-ab46-d1ba028d4ce6">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="Zapis-condition" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Condition" id="5950c24f-0baf-497e-ac19-ab6769e5b9e2" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${conditionResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Condition</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7f8a96ea-5431-4e04-bc31-f31e8587599e" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c468a985-1324-4eb5-83f5-85df20928b5a" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';
exists(//ns1:Condition/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="4ba7731a-bb80-4557-8850-aaef6b9c23e3" name="Zwrcono numer wersji systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>encounter</con:entry>
              <con:entry>id</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych condition" id="9865ac6e-9fc6-41a4-8e7c-7d6d4a18f162">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>conditionId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>conditionVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>condition</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:targetType>condition</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu" id="f05405c0-8a81-49bc-b112-8014bb6f5d3a">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1kZWViMzMyNi1jNDQ1LTQzMjYtOThhYi03MzM0OGNhNGI0NDUiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZGVlYjMzMjYtYzQ0NS00MzI2LTk4YWItNzMzNDhjYTRiNDQ1LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTE0MjIxMy9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPm4zQnNoa2MxWkVHUnVUVmFmbGwzOXpSSU53Y2krdlM1eEc1NnFNNDBISEk9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWRlZWIzMzI2LWM0NDUtNDMyNi05OGFiLTczMzQ4Y2E0YjQ0NS1yZWYxIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9FbmNvdW50ZXIvNTE0MjIxNS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlQ5dno4eU9IbzJoS3A0dDNnNFk5T1R3TGJ1Q0tycXl3cnl3REZOd0UxWE09PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWRlZWIzMzI2LWM0NDUtNDMyNi05OGFiLTczMzQ4Y2E0YjQ0NS1yZWYyIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db25kaXRpb24vNTE0MjIxOS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmtUbEFyUk15MC9KSXh5QkdveGVzVENFcUwyR25DZGVMVlA3VExUNExxczg9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWRlZWIzMzI2LWM0NDUtNDMyNi05OGFiLTczMzQ4Y2E0YjQ0NS1yZWYzIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Qcm9jZWR1cmUvNTE0MjIxNy9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkcySTlTQzFHQ2NWUWQ4SDd6Q0duNTRleHFTVXp6bzJSV1hMT0tDMUxXUlU9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy1kZWViMzMyNi1jNDQ1LTQzMjYtOThhYi03MzM0OGNhNGI0NDUtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmVYQjc0dkZYRTlsTTduVS90cGRObWdqK3doUzd0VVJWNmtMRE4zTVhONHM9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLWRlZWIzMzI2LWM0NDUtNDMyNi05OGFiLTczMzQ4Y2E0YjQ0NS1zaWd2YWx1ZSI+dEZUQ20xemlYNDEraExkYlVGdUhFeWk4UFFCQWtQQytwSE81aU1HNVF3L3FDVzJVemJnSmljVlYrdElpWmF6OEhtdlZCMm45d0JIVWF5bWZSaDZaWEdmcW5vRUVwWFNZaDNUUkFySitTV0pKekR2d3RLa3c0MWc5QzZYRktFTmt0TXZaeUdWbVhxWlNPTHZPbE1BU0FYdDZQR3dNOXZJa0QxOUZVemk0c2NMVjVhenB2bnUwM3hPVGxyK1EzNlBRV3AzbXF0QlRkcHptVDhNMnBucSszMUovYW9hUXhCZVlwV0Nha1QreU1CRHJsUUZYV1QwM0hQN3lQemo0SGhKSTZ6NHBtSlNyaFgzaEIxRE45YjgyRWpERVk4ak5hSSthNjR0WW4rS0lwYmhGaWhvOFJjK0xMVnczOCt1cCtnSkdGN3phZGphQzREU0h1eDFjNTJsaWF3PT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZNVENDQXhtZ0F3SUJBZ0lJZnFoa0FVQ2RCRnN3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1UQTJNakV3TnpRMU16ZGFGdzB5TXpBMk1qRXdOelExTXpkYU1JR2tNVFF3TWdZRFZRUUREQ3RRYjJSdGFXOTBYMnhsWTNwdWFXTjZlVjh4TFhWM2FXVnllbmwwWld4dWFXVnVhV1VnWkdGdWVXTm9NVFV3TXdZRFZRUUZFeXd5TGpFMkxqZzBNQzR4TGpFeE16ZzRNeTR6TGpRME1qUXVNaTR6TGpFNklEQXdNREF3TURBeE1qRXdOakVZTUJZR0ExVUVDd3dQVURFZ1NXNTBaV2R5WVdONWFtNWxNUTR3REFZRFZRUUtEQVZEVTBsUFdqRUxNQWtHQTFVRUJoTUNVRXd3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRHVJL0E5OFBvNzd1cVZjZ3VZenZ1WmJqVXZDejJaR2pJZXVFSXRxeElRc28yT2dOSC94Qi9BWWV1M1BzVGVBdVFLU0VhNkpmNmd4LzVaL1IzQ2ZUbUd2SU8wRmJzTGtNcDlxV0Qrd1FTR2ZsQzZwNXBZM1QrTzFKYW96clZqR3F4YjFJZGJPdmhoZWFqdXFydUNvUjdhdjYvMWpzQzBmTUE2a1pUUW5EY01ORXA3Sk5yWDRRUmxvUlA2ZHg2ek9LQVhhZzJCNHYrMVR2Tjk5WGVBME1EaHV1bzN2eU14d0RvbWw4aGlzYWFtMmdnRm42MGVzYmY5V2hOckdTaE1JVFdQWGpKRDNwdzZKNjFZLzBlWTluM0tTM0tUS010b0JLMk9Fbmg0V1FQRGJoeHp1dmprdnJ2UVFwUUFxWGRWVGVycGtBT0VVMEhBay9CSXIxL1lVQzluQWdNQkFBR2pnYmd3Z2JVd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JSaWhvRUNCb0cxYlhPZmRzcjRkTFczaHRJNmhqQlZCZ05WSFI4RVRqQk1NRXFnU0tCR2hrUm9kSFJ3Y3pvdkwybHVkQzF3TVM1bGVtUnliM2RwWlM1bmIzWXVjR3d2WTJOd01TOWpjbXd2UTBOUU1VbHVkR1ZuY21GamVXcHVaVk4xWWtOQlYxTlRMbU55YkRBZEJnTlZIUTRFRmdRVXZycFFEUEREeEdsZm5vQXJRVlNyYlNuNHkra3dEZ1lEVlIwUEFRSC9CQVFEQWdlQU1BMEdDU3FHU0liM0RRRUJEUVVBQTRJQ0FRQys2R0xjcmxjL1M0azhzREtpWWcvbXlJNWE1cUNIeEdpY3FzaU8vQTl6MGl1S2l3N1JMNkNmS2RQT2RiZitub0R2ZWs1c09BOGZaRHBWWUhtbHdFOUtMSmswZGVsQ0UySGtiK1pKSHlzYVRYaXRWeDlhWGswYTd3djJ2Q3FMR2xKcXlabzV2ZWNwam84M0I5QkhseUpTRDdWTGw1WFVzRnEvNUluOGRMbm9RaHBKWFN6ZGJKWlNYcVdxQ2hmdE5TSU5nODVmUDBpeWYwWVJPcEZJRVNGTVRGRWNkWUdUNllFRzV0MHNnaUttZm5nYzQ5M0VSdFMyOXBTWUhyTWdGZllNcVFiRm9hUXZnK3VWV3JMczlyaUh6emZMaXR1cnppcUNtL2dROE1CcUpjK2NVcnlCLzRBSEZEUGxQblh2TW1SQ2FKMXV2OFJ3TnJqSWRhT2prSHJkREtxbmJJQ21MclhaMUlrcTQ5NGY4QXNCcjk0bkJydGo0bnlvU2lIQUx3WGJHMVBRQlFtU1RCNmVsbUpHYlRrbGVvOXBjNHZHK29QTWtTR1VNdEcwOS92M1pucHRVREVKUjZEeFBPV1Q3d0pDOVF2WjQxdVZkRFF1aWtXZWwyK1FxaXkyTnBYeHF2VFhnZTFsZlBEYTFWcmwwejU3VnFRUVFrUmlXVjBXMUx2YjRxc3NMRDZqLzltSitndEtRV25NRHlkZGZ3NWpnaGJ4YmRWc0MyUTRCckZlY0VDTjBpTHhNbHJ6WEpuT0dlSE9zSjVIaC9pZG44NlkweW5FSG1mcVBrdjR5M01ORjdvWjg4M29kQlE1RjhSdjZlbGRvSHZTTTZ3N3VCNnVDVmg4YXJuV0k3bCs2dWorOEJucCtiek1NL1VJM2kyVWtKMVhsbGNRNXR4WlVRPT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48ZHM6WDUwOVN1YmplY3ROYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsc2VyaWFsTnVtYmVyPTIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMTogMDAwMDAwMDEyMTA2LGNuPVBvZG1pb3RfbGVjem5pY3p5XzEtdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctZGVlYjMzMjYtYzQ0NS00MzI2LTk4YWItNzMzNDhjYTRiNDQ1Ij48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy1kZWViMzMyNi1jNDQ1LTQzMjYtOThhYi03MzM0OGNhNGI0NDUtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjM5OjI3LjE4OCswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkVkSXRYNmdLQXowM2xQZ0dLOFNxTzNsaUc1NTdsL28yNjZ1Z2xtV1psWFU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+b3R5OXJqazlvK0lJU204LzNHaEYxd1ZrVDBlWUFyeWFCTk5FMUhTdUVHaz08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+MzE0MTcwMDc4ODYxNzkzNDMxNDwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5kNlZNbDFEWmZhRk9lUjQ1REJIZytGNFBnazk1SFVNSElIcXkxc0Z6MEhBPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+</con:value>
            </con:property>
            <con:property>
              <con:name>procedureVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>conditionVersion</con:name>
              <con:value>1</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu" id="41773fe5-5e95-4cc0-b275-0657646d5142">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane#patientId}') + "/_history/" + context.expand('${danePodpisu#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane#encounterId}') + "/_history/" + context.expand('${danePodpisu#encounterVersion}')
String conditionReference = zmUrl + "/fhir/Condition/" + context.expand('${dane#conditionId}') + "/_history/" + context.expand('${danePodpisu#conditionVersion}')
String procedureReference = zmUrl + "/fhir/Procedure/" + context.expand('${dane#procedureId}') + "/_history/" + context.expand('${danePodpisu#procedureVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);
refs.add(conditionReference);
refs.add(procedureReference);

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisu'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource" id="e5a25d6c-b3a0-4b5b-9133-222244977058">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, danePodpisu</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/5142213"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142215"/>
		<type value="Encounter"/>
	</target>
	<target>
		<reference value="Condition/5142219"/>
		<type value="Condition"/>
	</target>
	<target>
		<reference value="Procedure/5142217"/>
		<type value="Procedure"/>
	</target>
	<recorded value="2022-09-02T11:39:16.040+02:00"/>
	<agent>
		
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:39:16.040+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1kZWViMzMyNi1jNDQ1LTQzMjYtOThhYi03MzM0OGNhNGI0NDUiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZGVlYjMzMjYtYzQ0NS00MzI2LTk4YWItNzMzNDhjYTRiNDQ1LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTE0MjIxMy9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPm4zQnNoa2MxWkVHUnVUVmFmbGwzOXpSSU53Y2krdlM1eEc1NnFNNDBISEk9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWRlZWIzMzI2LWM0NDUtNDMyNi05OGFiLTczMzQ4Y2E0YjQ0NS1yZWYxIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9FbmNvdW50ZXIvNTE0MjIxNS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlQ5dno4eU9IbzJoS3A0dDNnNFk5T1R3TGJ1Q0tycXl3cnl3REZOd0UxWE09PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWRlZWIzMzI2LWM0NDUtNDMyNi05OGFiLTczMzQ4Y2E0YjQ0NS1yZWYyIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db25kaXRpb24vNTE0MjIxOS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmtUbEFyUk15MC9KSXh5QkdveGVzVENFcUwyR25DZGVMVlA3VExUNExxczg9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWRlZWIzMzI2LWM0NDUtNDMyNi05OGFiLTczMzQ4Y2E0YjQ0NS1yZWYzIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Qcm9jZWR1cmUvNTE0MjIxNy9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkcySTlTQzFHQ2NWUWQ4SDd6Q0duNTRleHFTVXp6bzJSV1hMT0tDMUxXUlU9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy1kZWViMzMyNi1jNDQ1LTQzMjYtOThhYi03MzM0OGNhNGI0NDUtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmVYQjc0dkZYRTlsTTduVS90cGRObWdqK3doUzd0VVJWNmtMRE4zTVhONHM9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLWRlZWIzMzI2LWM0NDUtNDMyNi05OGFiLTczMzQ4Y2E0YjQ0NS1zaWd2YWx1ZSI+dEZUQ20xemlYNDEraExkYlVGdUhFeWk4UFFCQWtQQytwSE81aU1HNVF3L3FDVzJVemJnSmljVlYrdElpWmF6OEhtdlZCMm45d0JIVWF5bWZSaDZaWEdmcW5vRUVwWFNZaDNUUkFySitTV0pKekR2d3RLa3c0MWc5QzZYRktFTmt0TXZaeUdWbVhxWlNPTHZPbE1BU0FYdDZQR3dNOXZJa0QxOUZVemk0c2NMVjVhenB2bnUwM3hPVGxyK1EzNlBRV3AzbXF0QlRkcHptVDhNMnBucSszMUovYW9hUXhCZVlwV0Nha1QreU1CRHJsUUZYV1QwM0hQN3lQemo0SGhKSTZ6NHBtSlNyaFgzaEIxRE45YjgyRWpERVk4ak5hSSthNjR0WW4rS0lwYmhGaWhvOFJjK0xMVnczOCt1cCtnSkdGN3phZGphQzREU0h1eDFjNTJsaWF3PT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZNVENDQXhtZ0F3SUJBZ0lJZnFoa0FVQ2RCRnN3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1UQTJNakV3TnpRMU16ZGFGdzB5TXpBMk1qRXdOelExTXpkYU1JR2tNVFF3TWdZRFZRUUREQ3RRYjJSdGFXOTBYMnhsWTNwdWFXTjZlVjh4TFhWM2FXVnllbmwwWld4dWFXVnVhV1VnWkdGdWVXTm9NVFV3TXdZRFZRUUZFeXd5TGpFMkxqZzBNQzR4TGpFeE16ZzRNeTR6TGpRME1qUXVNaTR6TGpFNklEQXdNREF3TURBeE1qRXdOakVZTUJZR0ExVUVDd3dQVURFZ1NXNTBaV2R5WVdONWFtNWxNUTR3REFZRFZRUUtEQVZEVTBsUFdqRUxNQWtHQTFVRUJoTUNVRXd3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRHVJL0E5OFBvNzd1cVZjZ3VZenZ1WmJqVXZDejJaR2pJZXVFSXRxeElRc28yT2dOSC94Qi9BWWV1M1BzVGVBdVFLU0VhNkpmNmd4LzVaL1IzQ2ZUbUd2SU8wRmJzTGtNcDlxV0Qrd1FTR2ZsQzZwNXBZM1QrTzFKYW96clZqR3F4YjFJZGJPdmhoZWFqdXFydUNvUjdhdjYvMWpzQzBmTUE2a1pUUW5EY01ORXA3Sk5yWDRRUmxvUlA2ZHg2ek9LQVhhZzJCNHYrMVR2Tjk5WGVBME1EaHV1bzN2eU14d0RvbWw4aGlzYWFtMmdnRm42MGVzYmY5V2hOckdTaE1JVFdQWGpKRDNwdzZKNjFZLzBlWTluM0tTM0tUS010b0JLMk9Fbmg0V1FQRGJoeHp1dmprdnJ2UVFwUUFxWGRWVGVycGtBT0VVMEhBay9CSXIxL1lVQzluQWdNQkFBR2pnYmd3Z2JVd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JSaWhvRUNCb0cxYlhPZmRzcjRkTFczaHRJNmhqQlZCZ05WSFI4RVRqQk1NRXFnU0tCR2hrUm9kSFJ3Y3pvdkwybHVkQzF3TVM1bGVtUnliM2RwWlM1bmIzWXVjR3d2WTJOd01TOWpjbXd2UTBOUU1VbHVkR1ZuY21GamVXcHVaVk4xWWtOQlYxTlRMbU55YkRBZEJnTlZIUTRFRmdRVXZycFFEUEREeEdsZm5vQXJRVlNyYlNuNHkra3dEZ1lEVlIwUEFRSC9CQVFEQWdlQU1BMEdDU3FHU0liM0RRRUJEUVVBQTRJQ0FRQys2R0xjcmxjL1M0azhzREtpWWcvbXlJNWE1cUNIeEdpY3FzaU8vQTl6MGl1S2l3N1JMNkNmS2RQT2RiZitub0R2ZWs1c09BOGZaRHBWWUhtbHdFOUtMSmswZGVsQ0UySGtiK1pKSHlzYVRYaXRWeDlhWGswYTd3djJ2Q3FMR2xKcXlabzV2ZWNwam84M0I5QkhseUpTRDdWTGw1WFVzRnEvNUluOGRMbm9RaHBKWFN6ZGJKWlNYcVdxQ2hmdE5TSU5nODVmUDBpeWYwWVJPcEZJRVNGTVRGRWNkWUdUNllFRzV0MHNnaUttZm5nYzQ5M0VSdFMyOXBTWUhyTWdGZllNcVFiRm9hUXZnK3VWV3JMczlyaUh6emZMaXR1cnppcUNtL2dROE1CcUpjK2NVcnlCLzRBSEZEUGxQblh2TW1SQ2FKMXV2OFJ3TnJqSWRhT2prSHJkREtxbmJJQ21MclhaMUlrcTQ5NGY4QXNCcjk0bkJydGo0bnlvU2lIQUx3WGJHMVBRQlFtU1RCNmVsbUpHYlRrbGVvOXBjNHZHK29QTWtTR1VNdEcwOS92M1pucHRVREVKUjZEeFBPV1Q3d0pDOVF2WjQxdVZkRFF1aWtXZWwyK1FxaXkyTnBYeHF2VFhnZTFsZlBEYTFWcmwwejU3VnFRUVFrUmlXVjBXMUx2YjRxc3NMRDZqLzltSitndEtRV25NRHlkZGZ3NWpnaGJ4YmRWc0MyUTRCckZlY0VDTjBpTHhNbHJ6WEpuT0dlSE9zSjVIaC9pZG44NlkweW5FSG1mcVBrdjR5M01ORjdvWjg4M29kQlE1RjhSdjZlbGRvSHZTTTZ3N3VCNnVDVmg4YXJuV0k3bCs2dWorOEJucCtiek1NL1VJM2kyVWtKMVhsbGNRNXR4WlVRPT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48ZHM6WDUwOVN1YmplY3ROYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsc2VyaWFsTnVtYmVyPTIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMTogMDAwMDAwMDEyMTA2LGNuPVBvZG1pb3RfbGVjem5pY3p5XzEtdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctZGVlYjMzMjYtYzQ0NS00MzI2LTk4YWItNzMzNDhjYTRiNDQ1Ij48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy1kZWViMzMyNi1jNDQ1LTQzMjYtOThhYi03MzM0OGNhNGI0NDUtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjM5OjI3LjE4OCswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkVkSXRYNmdLQXowM2xQZ0dLOFNxTzNsaUc1NTdsL28yNjZ1Z2xtV1psWFU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+b3R5OXJqazlvK0lJU204LzNHaEYxd1ZrVDBlWUFyeWFCTk5FMUhTdUVHaz08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+MzE0MTcwMDc4ODYxNzkzNDMxNDwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5kNlZNbDFEWmZhRk9lUjQ1REJIZytGNFBnazk1SFVNSElIcXkxc0Z6MEhBPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+"/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance" id="17822f76-ca4b-4fe2-8381-c518e804a506">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7955ada5-b8e7-437e-9ce2-7ace877d963d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych provenance" id="cd435e19-b268-422f-91e7-5e7ae6a6b35a">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>provenanceId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="false" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>provenance</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>provenance</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Aktualizacja Encounter" id="c117f0cd-77b6-4c1f-9e14-5ef9244bbfc0">
        <con:settings/>
        <con:config>
          <script>import groovy.xml.XmlUtil;
import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

def dane = testRunner.testCase.testSteps['dane']
def encounter = dane.getPropertyValue( "encounter" )

def encounterXML = new XmlParser().parseText(encounter)
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString().replace("-", "").toUpperCase().substring(0, 22)


//dodanie wzla basedOn
encounterXML.episodeOfCare[0].plus({ new Node(encounterXML,'basedOn') })
new Node(encounterXML.basedOn[0],'identifier')
new Node(encounterXML.basedOn[0].identifier[0],'system', [value: 'urn:oid:2.16.840.1.113883.3.4424.2.7.2.4.1'])
new Node(encounterXML.basedOn[0].identifier[0],'value', [value: skierowanieIdentyfikator])
new Node(encounterXML.basedOn[0].identifier[0],'period')
new Node(encounterXML.basedOn[0].identifier[0].period[0],'start', [value: '2019-08-26T10:00:00+02:00'])
encounter = XmlUtil.serialize(encounterXML)

log.info encounter
dane.setPropertyValue( "encounterUpdated",  encounter)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="PUT Encounter" id="56478893-e132-4651-b227-2ba2e301820e">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="PUT Encounter" id="f7fa236e-a6d9-42e7-a08e-1ea1d2b3b4c3" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${dane#encounterUpdated}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/16516</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="5ee71594-dbf9-44bc-8849-4356624ce9f1" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#encounterId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych encounter po aktualizacji" id="52983995-b235-4d1c-ae93-5217fe054db9">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>PUT Encounter</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>encounterVersion</con:targetType>
            <con:targetStep>danePodpisuModyfikacja</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Aktualizacja Procedure" id="d611df86-8d34-406d-ba47-c49eeb3c3312">
        <con:settings/>
        <con:config>
          <script>import groovy.xml.XmlUtil;
import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

def formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
def teraz = ZonedDateTime.now()
String data = teraz.format(formatter)

def dane = testRunner.testCase.testSteps['dane']
def dane2 = testRunner.testCase.testSteps['daneModyfikacja']
def procedure = dane.getPropertyValue( "procedure" )
def kodProcedury =  dane2.getPropertyValue( "typProceduryKod" )
def proceduraNazwa =  dane2.getPropertyValue( "typProceduryDisplay" )

def procedureXML = new XmlParser().parseText(procedure)


// zmiana kodu procedury
procedureXML.code.coding.code.@value=kodProcedury
procedureXML.code.coding.display.@value=proceduraNazwa


procedure = XmlUtil.serialize(procedureXML)

log.info procedure

dane.setPropertyValue( "procedureUpdated",  procedure)
dane.setPropertyValue("podpisData", data)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="PUT Procedure" id="605afd05-94cf-465d-8473-7e71aee16599">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="PUT Procedure" id="533e1e07-aee3-4deb-b99e-6b8ba3bc85bd" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${dane#procedureUpdated}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Procedure/16533</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="d5dbc41b-d472-4b1a-a9b6-3dc169553d00" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="plsubject" value=""/>
              <con:entry key="id" value="${dane#procedureId}"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych procedure po aktualizacji" id="77f6d226-b89a-426d-93a0-35ee2795a681">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>PUT Procedure</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>procedureVersion</con:targetType>
            <con:targetStep>danePodpisuModyfikacja</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
            <con:name>rozpoznanieData</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>PUT Procedure</con:sourceStep>
            <con:sourcePath>//*:Procedure/*:performedPeriod/*:end/@value</con:sourcePath>
            <con:targetType>rozpoznanieData</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:targetPath xsi:nil="true"/>
            <con:type>XPATH</con:type>
            <con:targetTransferType>XPATH</con:targetTransferType>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Aktualizacja Condition" id="1e28c66a-2356-4106-acbf-5eda81cf0e6a">
        <con:settings/>
        <con:config>
          <script>import groovy.xml.XmlUtil;
import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

def dane = testRunner.testCase.testSteps['dane']
def dane2 = testRunner.testCase.testSteps['daneModyfikacja']
def condition = dane.getPropertyValue( "condition" )
def kodRozpoznania =  dane2.getPropertyValue( "typRozpoznaniaKod" )
def rozpoznanieNazwa =  dane2.getPropertyValue( "typRozpoznaniaDisplay" )

def conditionXML = new XmlParser().parseText(condition)

// zmiana kodu rozpoznania
conditionXML.code.coding.code.@value=kodRozpoznania
conditionXML.code.coding.display.@value=rozpoznanieNazwa


condition = XmlUtil.serialize(conditionXML)

log.info condition
dane.setPropertyValue( "conditionUpdated",  condition)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="PUT Condition" id="d534ef08-dfbd-4f22-825a-205f1befc379">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="PUT Condition" id="533e1e07-aee3-4deb-b99e-6b8ba3bc85bd" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${dane#conditionUpdated}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Condition/16544</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="d5dbc41b-d472-4b1a-a9b6-3dc169553d00" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="309647ff-4e9e-4c59-bf1b-20af08d804d5" name="Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="plsubject" value=""/>
              <con:entry key="id" value="${dane#conditionId}"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>encounter</con:entry>
              <con:entry>id</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych condition po aktualizacji" id="2c7290e3-7721-4181-bfb9-58c4f196cd7c">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>PUT Condition</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>conditionVersion</con:targetType>
            <con:targetStep>danePodpisuModyfikacja</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisuModyfikacja" id="d321a90d-6a14-4382-88cf-f104f3311e21">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>conditionVersion</con:name>
              <con:value>2</con:value>
            </con:property>
            <con:property>
              <con:name>procedureVersion</con:name>
              <con:value>2</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>2</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy00ZTJiYjI3NS1mMGFlLTRhMTYtOWZjOS05MTk1NmM2NDAwZDYiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNGUyYmIyNzUtZjBhZS00YTE2LTlmYzktOTE5NTZjNjQwMGQ2LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTE0MjIxMy9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPm4zQnNoa2MxWkVHUnVUVmFmbGwzOXpSSU53Y2krdlM1eEc1NnFNNDBISEk9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTRlMmJiMjc1LWYwYWUtNGExNi05ZmM5LTkxOTU2YzY0MDBkNi1yZWYxIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9FbmNvdW50ZXIvNTE0MjIxNS9faGlzdG9yeS8yIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlFLV3V1ZlU0eUpROE9DRnZqMUFTUGNHK3gwZVBRb25kY0VtTWZIU0tjSlE9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTRlMmJiMjc1LWYwYWUtNGExNi05ZmM5LTkxOTU2YzY0MDBkNi1yZWYyIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db25kaXRpb24vNTE0MjIxOS9faGlzdG9yeS8yIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPnBTUHBVRVF6dmhqZUV1cnVIWG1hSkZQcU9yS1hzdEtsUjZ0TUhQMHVYMmM9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTRlMmJiMjc1LWYwYWUtNGExNi05ZmM5LTkxOTU2YzY0MDBkNi1yZWYzIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Qcm9jZWR1cmUvNTE0MjIxNy9faGlzdG9yeS8yIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmNHNWo1eWV3TlR6NnJ0MEs4dStlNDlLV3BXM1lnUnRITTJjblVYY3JGZWM9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy00ZTJiYjI3NS1mMGFlLTRhMTYtOWZjOS05MTk1NmM2NDAwZDYtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlNFNW9PU0RYV3RVK3ZWNSttdXZEQkREQ3pXQitDamYxOE84bkdiaFJhK0E9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLTRlMmJiMjc1LWYwYWUtNGExNi05ZmM5LTkxOTU2YzY0MDBkNi1zaWd2YWx1ZSI+WWEyYVVPV0t4LzNCMy9HRHJyT216NDV6UDZsSnN5a0pZMndZRFhLSXF3aFRXWVh1UnlPSDdxbWpxK3UraStrZnVuaWZhTkRveXBDcmNsbWxnK0xJMFA5VHBwcmRqVUNvVXArbFJCNEowU1JOZDgvUFZxZjhhL0FaUTh1Zzh5aTdVM2dSSDFVZms1dUpRWGNEejRGN200THJHcVVKeWdJUDg0YWxqczgvT3FaSGpPSWM4RSs4SUVUM1QwWmM0YVpxeXlEZkQrQU9lUGNGVmh5YnByNDBsWHF2d1FGanJWQVNxaDBuWVRFYnhvYm93bmVNOThpTXViYllSK1RiSmNQQk85UWNRemxzNllWc3ZIZ2cxVDFtVkNBcUs0N0tyZG05LzJxWHdUS0RIbC9RcnNCMjZBZ21tRG1mU1g2VW1kaXl6ZmlGQzFkU01icW9HUDRKRjBVYzZBPT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZNVENDQXhtZ0F3SUJBZ0lJZnFoa0FVQ2RCRnN3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1UQTJNakV3TnpRMU16ZGFGdzB5TXpBMk1qRXdOelExTXpkYU1JR2tNVFF3TWdZRFZRUUREQ3RRYjJSdGFXOTBYMnhsWTNwdWFXTjZlVjh4TFhWM2FXVnllbmwwWld4dWFXVnVhV1VnWkdGdWVXTm9NVFV3TXdZRFZRUUZFeXd5TGpFMkxqZzBNQzR4TGpFeE16ZzRNeTR6TGpRME1qUXVNaTR6TGpFNklEQXdNREF3TURBeE1qRXdOakVZTUJZR0ExVUVDd3dQVURFZ1NXNTBaV2R5WVdONWFtNWxNUTR3REFZRFZRUUtEQVZEVTBsUFdqRUxNQWtHQTFVRUJoTUNVRXd3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRHVJL0E5OFBvNzd1cVZjZ3VZenZ1WmJqVXZDejJaR2pJZXVFSXRxeElRc28yT2dOSC94Qi9BWWV1M1BzVGVBdVFLU0VhNkpmNmd4LzVaL1IzQ2ZUbUd2SU8wRmJzTGtNcDlxV0Qrd1FTR2ZsQzZwNXBZM1QrTzFKYW96clZqR3F4YjFJZGJPdmhoZWFqdXFydUNvUjdhdjYvMWpzQzBmTUE2a1pUUW5EY01ORXA3Sk5yWDRRUmxvUlA2ZHg2ek9LQVhhZzJCNHYrMVR2Tjk5WGVBME1EaHV1bzN2eU14d0RvbWw4aGlzYWFtMmdnRm42MGVzYmY5V2hOckdTaE1JVFdQWGpKRDNwdzZKNjFZLzBlWTluM0tTM0tUS010b0JLMk9Fbmg0V1FQRGJoeHp1dmprdnJ2UVFwUUFxWGRWVGVycGtBT0VVMEhBay9CSXIxL1lVQzluQWdNQkFBR2pnYmd3Z2JVd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JSaWhvRUNCb0cxYlhPZmRzcjRkTFczaHRJNmhqQlZCZ05WSFI4RVRqQk1NRXFnU0tCR2hrUm9kSFJ3Y3pvdkwybHVkQzF3TVM1bGVtUnliM2RwWlM1bmIzWXVjR3d2WTJOd01TOWpjbXd2UTBOUU1VbHVkR1ZuY21GamVXcHVaVk4xWWtOQlYxTlRMbU55YkRBZEJnTlZIUTRFRmdRVXZycFFEUEREeEdsZm5vQXJRVlNyYlNuNHkra3dEZ1lEVlIwUEFRSC9CQVFEQWdlQU1BMEdDU3FHU0liM0RRRUJEUVVBQTRJQ0FRQys2R0xjcmxjL1M0azhzREtpWWcvbXlJNWE1cUNIeEdpY3FzaU8vQTl6MGl1S2l3N1JMNkNmS2RQT2RiZitub0R2ZWs1c09BOGZaRHBWWUhtbHdFOUtMSmswZGVsQ0UySGtiK1pKSHlzYVRYaXRWeDlhWGswYTd3djJ2Q3FMR2xKcXlabzV2ZWNwam84M0I5QkhseUpTRDdWTGw1WFVzRnEvNUluOGRMbm9RaHBKWFN6ZGJKWlNYcVdxQ2hmdE5TSU5nODVmUDBpeWYwWVJPcEZJRVNGTVRGRWNkWUdUNllFRzV0MHNnaUttZm5nYzQ5M0VSdFMyOXBTWUhyTWdGZllNcVFiRm9hUXZnK3VWV3JMczlyaUh6emZMaXR1cnppcUNtL2dROE1CcUpjK2NVcnlCLzRBSEZEUGxQblh2TW1SQ2FKMXV2OFJ3TnJqSWRhT2prSHJkREtxbmJJQ21MclhaMUlrcTQ5NGY4QXNCcjk0bkJydGo0bnlvU2lIQUx3WGJHMVBRQlFtU1RCNmVsbUpHYlRrbGVvOXBjNHZHK29QTWtTR1VNdEcwOS92M1pucHRVREVKUjZEeFBPV1Q3d0pDOVF2WjQxdVZkRFF1aWtXZWwyK1FxaXkyTnBYeHF2VFhnZTFsZlBEYTFWcmwwejU3VnFRUVFrUmlXVjBXMUx2YjRxc3NMRDZqLzltSitndEtRV25NRHlkZGZ3NWpnaGJ4YmRWc0MyUTRCckZlY0VDTjBpTHhNbHJ6WEpuT0dlSE9zSjVIaC9pZG44NlkweW5FSG1mcVBrdjR5M01ORjdvWjg4M29kQlE1RjhSdjZlbGRvSHZTTTZ3N3VCNnVDVmg4YXJuV0k3bCs2dWorOEJucCtiek1NL1VJM2kyVWtKMVhsbGNRNXR4WlVRPT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48ZHM6WDUwOVN1YmplY3ROYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsc2VyaWFsTnVtYmVyPTIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMTogMDAwMDAwMDEyMTA2LGNuPVBvZG1pb3RfbGVjem5pY3p5XzEtdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctNGUyYmIyNzUtZjBhZS00YTE2LTlmYzktOTE5NTZjNjQwMGQ2Ij48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy00ZTJiYjI3NS1mMGFlLTRhMTYtOWZjOS05MTk1NmM2NDAwZDYtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjM5OjM0LjU3MSswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkVkSXRYNmdLQXowM2xQZ0dLOFNxTzNsaUc1NTdsL28yNjZ1Z2xtV1psWFU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+b3R5OXJqazlvK0lJU204LzNHaEYxd1ZrVDBlWUFyeWFCTk5FMUhTdUVHaz08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+MzE0MTcwMDc4ODYxNzkzNDMxNDwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5kNlZNbDFEWmZhRk9lUjQ1REJIZytGNFBnazk1SFVNSElIcXkxc0Z6MEhBPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu Modyfikacja" id="75d9d94b-6f43-4445-8b11-ec86c2b95e24">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane#patientId}') + "/_history/" + context.expand('${danePodpisuModyfikacja#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane#encounterId}') + "/_history/" + context.expand('${danePodpisuModyfikacja#encounterVersion}')
String conditionReference = zmUrl + "/fhir/Condition/" + context.expand('${dane#conditionId}') + "/_history/" + context.expand('${danePodpisuModyfikacja#conditionVersion}')
String procedureReference = zmUrl + "/fhir/Procedure/" + context.expand('${dane#procedureId}') + "/_history/" + context.expand('${danePodpisuModyfikacja#procedureVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);
refs.add(conditionReference);
refs.add(procedureReference);

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisuModyfikacja'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Aktualizacja Provenance" id="cd61e6a4-a119-4340-8903-2b7d4fb7502b">
        <con:settings/>
        <con:config>
          <script>import groovy.xml.XmlUtil;
import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

def dane = testRunner.testCase.testSteps['dane']
def dane2 = testRunner.testCase.testSteps['danePodpisuModyfikacja']
def provenance = dane.getPropertyValue( "provenance" )
def podpis =  dane2.getPropertyValue( "binaryPodpis" )

// zmiana podpisu
def provenanceXML = new XmlSlurper().parseText(provenance)

provenanceXML.signature.each { signature ->
    signature.data.each { data ->
        data.@value=podpis
    }
}

provenance = XmlUtil.serialize(provenanceXML)

//log.info provenance
log.info provenance
dane.setPropertyValue( "provenanceUpdated",  provenance)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="PUT Provenance" id="447c7e82-9a8f-415d-9c6f-59783eabef59">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Modyfikacja" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="PUT Provenance" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${dane#provenanceUpdated}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7955ada5-b8e7-437e-9ce2-7ace877d963d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f39d13c2-d3a9-4624-b02e-b99dd46ba95d" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';



exists(//ns1:Provenance/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="a8bb050d-e325-4fa6-91f0-0184f5052efe" name="Zwrcono numer wersji systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value="${dane#provenanceId}"/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Delay" id="4b99bd22-5dc3-4d81-b285-2fe8d6ad0299">
        <con:settings/>
        <con:config>
          <delay>${#Project#delaySeconds}000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Provenance" id="2788e646-bf23-4341-a5eb-9affcac2e6c6">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Anulowanie-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Provenance" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#provenanceId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Condition" id="571013fa-c4da-4ed4-874e-50a4c5334f6f">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="Anulowanie-condition" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Condition" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#conditionId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Procedure" id="8ce44e2e-8bb7-4cb2-b581-8e38d2cadd3e">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Anulowanie-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Procedure" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#procedureId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Encounter" id="6973ecc0-3788-42c9-8037-905d7e001f14">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Delete-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Encounter" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#encounterId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:testCase id="7dfd2b6d-61a2-4f3d-a48d-d8dccc190ecc" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Wypis ze szpitala pacjenta bez numeru PESEL" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskanie tokenu dostpowego" id="898d1c99-3f4a-4e64-923f-39ff21f46881">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych i pobranie zmiennych" id="7a984665-94ff-4ac1-a8bf-b79486f7385a">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

String identyfikatorZdarzenia = java.util.UUID.randomUUID().toString()
String korelacjaIdentyfikator = java.util.UUID.randomUUID().toString()
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString()
String paszportSeria = org.apache.commons.lang.RandomStringUtils.random(2, true, false)
String paszportNum = org.apache.commons.lang.RandomStringUtils.random(6, false, true)

def pracownikImieNazwisko = context.expand('${#Project#imieNazwiskoPracownika}')
def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')
def locationIdentyfikator = context.expand('${#Project#identyfikatorMiejscaSwiadczenia}')
def podmiotIdentyfikator = context.expand('${#Project#identyfikatorPodmiotu}')

def formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
def teraz = ZonedDateTime.now()
String data1 = teraz.format(formatter)
String data2 = teraz.minusMinutes(30).format(formatter)
String data3 = teraz.minusHours(2).format(formatter)
String data4 = teraz.minusHours(1).format(formatter)

def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("identyfikatorZdarzenia", identyfikatorZdarzenia)
dane.setPropertyValue("korelacjaIdentyfikator", korelacjaIdentyfikator)
dane.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
dane.setPropertyValue("zdarzenieDataKoniec", data1)
dane.setPropertyValue("podpisData", data1)
dane.setPropertyValue("identyfikatorPacjenta", paszportSeria.toUpperCase()+paszportNum)
dane.setPropertyValue("locationStart", data3)
dane.setPropertyValue("locationEnd", data4)
dane.setPropertyValue("locationStart1", data2)
dane.setPropertyValue("locationEnd1", data1)
dane.setPropertyValue("przepustkaDataPoczatek", data4)
dane.setPropertyValue("przepustkaDataKoniec", data2)
dane.setPropertyValue("zdarzenieDataPoczatek", data3)
dane.setPropertyValue("zdarzenieDataKoniec", data1)
dane.setPropertyValue("pracownikImieNazwisko", pracownikImieNazwisko)
dane.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)
dane.setPropertyValue("locationIdentyfikator", locationIdentyfikator)
dane.setPropertyValue("podmiotIdentyfikator", podmiotIdentyfikator)

def daneProcedura1 = testRunner.testCase.testSteps['daneProcedura1']
def daneProcedura2 = testRunner.testCase.testSteps['daneProcedura2']
daneProcedura1.setPropertyValue("proceduraDataPoczatek", data3)
daneProcedura1.setPropertyValue("proceduraDataKoniec", data2)
daneProcedura2.setPropertyValue("proceduraDataPoczatek", data2)
daneProcedura2.setPropertyValue("proceduraDataKoniec", data1)
testRunner.testCase.testSteps['daneRozpoznanie'].setPropertyValue("rozpoznanieData", data1)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="268ee517-1ca8-45f0-b5ec-cacc359e7c4b">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.4.330.56</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>CK779177</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>ANNA</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>ANNA KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>hospitalizacjaWypisKod</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>hospitalizacjaWypisSlownik</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.11.3.21</con:value>
            </con:property>
            <con:property>
              <con:name>statusZdarzenia</con:name>
              <con:value>finished</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>5142225</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142227</con:value>
            </con:property>
            <con:property>
              <con:name>provenanceId</con:name>
              <con:value>5142237</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>45cc2e79-7361-402c-94f2-393c80a8ce92</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T09:39:45.243+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2022-09-02T11:39:45.243+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart</con:name>
              <con:value>2022-09-02T09:39:45.243+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationEnd</con:name>
              <con:value>2022-09-02T10:39:45.243+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart1</con:name>
              <con:value>2022-09-02T11:09:45.243+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationEnd1</con:name>
              <con:value>2022-09-02T11:39:45.243+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>przepustkaDataPoczatek</con:name>
              <con:value>2022-09-02T10:39:45.243+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>przepustkaDataKoniec</con:name>
              <con:value>2022-09-02T11:09:45.243+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:39:45.243+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>56f409bf-9ec3-4b43-85d2-43e556b73aaa</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>47e476d6-79f6-4f87-b26b-d03b97d47d7e</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="daneProcedura1" id="41ada6a1-ea87-4ce2-8915-65e12504da72">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>typProceduryKod</con:name>
              <con:value>79.76</con:value>
            </con:property>
            <con:property>
              <con:name>typProceduryDisplay</con:name>
              <con:value>Zamknite nastawienie zwichnicia kolana</con:value>
            </con:property>
            <con:property>
              <con:name>procedureId1</con:name>
              <con:value>5142229</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataPoczatek</con:name>
              <con:value>2022-09-02T09:39:45.243+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataKoniec</con:name>
              <con:value>2022-09-02T11:09:45.243+02:00</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="daneProcedura2" id="caeaed77-1ac3-4c32-a0dc-d5bd9b2c2a46">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>typProceduryKod</con:name>
              <con:value>99.19</con:value>
            </con:property>
            <con:property>
              <con:name>typProceduryDisplay</con:name>
              <con:value>Wstrzyknicie antykoagulanta</con:value>
            </con:property>
            <con:property>
              <con:name>procedureId2</con:name>
              <con:value>5142231</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataPoczatek</con:name>
              <con:value>2022-09-02T11:09:45.243+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataKoniec</con:name>
              <con:value>2022-09-02T11:39:45.243+02:00</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="daneRozpoznanie" id="73046346-730a-4e6b-8599-3c851ec3587a">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>typRozpoznaniaKod</con:name>
              <con:value>J04.0</con:value>
            </con:property>
            <con:property>
              <con:name>typRozpoznaniaDisplay</con:name>
              <con:value>Acute laryngitis</con:value>
            </con:property>
            <con:property>
              <con:name>conditionId</con:name>
              <con:value>5142233</con:value>
            </con:property>
            <con:property>
              <con:name>rozpoznanieData</con:name>
              <con:value>2022-09-02T11:39:45.243+02:00</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="patientResource" id="53c55f5e-3947-496d-9ab8-5e06a44b94db">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>patient-paszport.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Patient xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPatient"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
      <value value="CK779177"/>
   </identifier>
   <name>
      <family value="KASINA"/>
      <given value="ANNA"/>
   </name>
   <telecom>
      <system value="phone"/>
      <value value="+32475556791"/>
   </telecom>
   <gender value="male"/>
   <birthDate value="1960-06-30"/>
</Patient>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Patient" id="e45b8e47-a45a-4655-9668-f3f34767f5a1">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Patient/{id}" methodName="Zapis-patient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Patient" id="ae51083b-704b-45e7-88c7-385ef76c5721" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${patientResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Patient/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="90ea303b-56ec-4f6e-8ca9-b87beea0c859" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="identifier" value=""/>
              <con:entry key="plgiven" value=""/>
              <con:entry key="birthdate" value=""/>
              <con:entry key="gender" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="_id" value=""/>
              <con:entry key="encounter" value=""/>
              <con:entry key="plfamily" value=""/>
              <con:entry key="_sort" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plgiven</con:entry>
              <con:entry>plfamily</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>gender</con:entry>
              <con:entry>birthdate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych patient" id="7996cb02-4cf3-4693-a00d-f973da293eb0">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterResource" id="dec2aa6d-a800-463f-874f-ef3717f82c8d">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-hospitalizacja-koniec.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
   <id value="5142031"/>
   <meta> 
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
	  <security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
	  </security>	  
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
	  <value value="45cc2e79-7361-402c-94f2-393c80a8ce92"/>
   </identifier>
   <status value="finished"/>
   <statusHistory>
		<status value = "onleave"/>
		<period>
			<start value = "2022-09-02T10:39:45.243+02:00"/>
			<end value = "2022-09-02T11:09:45.243+02:00"/>
		</period>
   </statusHistory>
   <class>
      <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
	  <code value="1"/>
	  <display value="Pobyt w oddziale szpitalnym"/>
   </class>
   <subject>
	  <extension xmlns="http://hl7.org/fhir"
     url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
		<valueReference>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
				<value value="01"/>
			</identifier>
		</valueReference>
	   </extension>
	  <reference value="Patient/5142225"/>
	  <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
		 <value value="CK779177"/>
      </identifier>
	  <display value="ANNA KASINA"/>
   </subject>
   <episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="56f409bf-9ec3-4b43-85d2-43e556b73aaa"/>
		</identifier>
	</episodeOfCare>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<period>
		<start value="2022-09-02T09:39:45.243+02:00"/>
		<end value = "2022-09-02T11:39:45.243+02:00"/>										  
	</period>
	<hospitalization>
		<admitSource>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.3.24"/>
				<code value="3"/>
			</coding>
		</admitSource>
		<dischargeDisposition>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.3.21"/>
				<code value="1"/>
			</coding>
		</dischargeDisposition>						 
	</hospitalization>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
		<period>
			<start value="2022-09-02T09:39:45.243+02:00"/>
			<end value="2022-09-02T10:39:45.243+02:00"/>
		</period>
	</location>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-002"/>
			</identifier>
		</location>
		<period>
			<start value="2022-09-02T11:09:45.243+02:00"/>
			<end value="2022-09-02T11:39:45.243+02:00"/>
		</period>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
		url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter" id="f06fd65d-1503-4f44-b108-c6022faa2434">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter" id="ca159828-a602-4357-a4ba-632c00d8f164" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="45dcab9f-b043-403b-8bcc-cc8b06dbb79c" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych encounter" id="ee086f12-f9b3-4804-acf7-4021576e685a">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>encounterVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="procedureResource1" id="147d48ab-1c2c-4ce9-bf71-7bf862b6ee59">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, daneProcedura1</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>procedure.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Procedure xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProcedure"/>
       <security>
           <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
           <code value="N"/>
       </security>
   </meta>
   <status value="completed"/>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6" />
         <code value="79.76"/>
         <display value="Zamknite nastawienie zwichnicia kolana"/>
      </coding>
   </code>
   <subject>
	  <reference value="Patient/5142225"/>
	  <type value="Patient"/>
	  <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="CK779177"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142227"/>
      <type value="Encounter"/>
   </encounter>
   <performedPeriod>
      <start value="2022-09-02T09:39:45.243+02:00"/>
      <end value="2022-09-02T11:09:45.243+02:00"/>
   </performedPeriod>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
   <location>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
		</identifier>
   </location>
</Procedure>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Procedure1" id="53faf921-4b39-41c2-962a-85d3dcff68c7">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Zapis-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Procedure1" id="fbb19b00-838c-4ef3-a04b-b95933e72a12" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${procedureResource1#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Procedure/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b5455364-85e4-472b-9176-40088197ed11" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych procedure1" id="fdf38e3a-20ef-4c22-b8f1-15493a1c44b1">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure1</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>procedureId1</con:targetType>
            <con:targetStep>daneProcedura1</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure1</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>procedure1Version</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="procedureResource2" id="d1499a52-c8c8-49eb-abfd-8777e5f929c9">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, daneProcedura2</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>procedure.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Procedure xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProcedure"/>
       <security>
           <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
           <code value="N"/>
       </security>
   </meta>
   <status value="completed"/>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6" />
         <code value="99.19"/>
         <display value="Wstrzyknicie antykoagulanta"/>
      </coding>
   </code>
   <subject>
	  <reference value="Patient/5142225"/>
	  <type value="Patient"/>
	  <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="CK779177"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142227"/>
      <type value="Encounter"/>
   </encounter>
   <performedPeriod>
      <start value="2022-09-02T11:09:45.243+02:00"/>
      <end value="2022-09-02T11:39:45.243+02:00"/>
   </performedPeriod>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
   <location>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
		</identifier>
   </location>
</Procedure>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Procedure2" id="90bdf73e-b30d-4000-a954-998804803066">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Zapis-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Procedure2" id="fbb19b00-838c-4ef3-a04b-b95933e72a12" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${procedureResource2#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Procedure/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="d2e7df78-1fff-4b38-b584-126546deb4fe" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych procedure2" id="aaa0e728-a03c-436c-b289-f9cf64241afe">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure2</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>procedureId2</con:targetType>
            <con:targetStep>daneProcedura2</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure2</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>procedure2Version</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="conditionResource" id="b9937542-7eba-4e5c-8717-b33132376852">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, daneRozpoznanie</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>condition.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Condition xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventDiagnosis"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <extension url ="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLLocation">
      <valueIdentifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
      </valueIdentifier>
   </extension>
   <category>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.78"/>
         <code value="main"/>
         <display value="Gwne"/>
      </coding>
   </category>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.6.3"/>
         <code value="J04.0"/>
         <display value="Acute laryngitis"/>
      </coding>
   </code>
   <bodySite>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.79"/>
         <code value="left"/>
         <display value="Lewa strona ciaa"/>
      </coding>
   </bodySite>
   <subject>
	  <reference value="Patient/5142225"/>
	  <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="CK779177"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142227"/>
      <type value="Encounter"/>
   </encounter>
   <recordedDate value="2022-09-02T11:39:45.243+02:00"/>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
</Condition>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Condition" id="eebb01b3-8aeb-49a8-89eb-5143ed4c657d">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="Zapis-condition" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Condition" id="5950c24f-0baf-497e-ac19-ab6769e5b9e2" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${conditionResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Condition</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7f8a96ea-5431-4e04-bc31-f31e8587599e" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>encounter</con:entry>
              <con:entry>id</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych condition" id="2bc9f02b-1d46-46c2-bf42-95f5b4aa0874">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>conditionId</con:targetType>
            <con:targetStep>daneRozpoznanie</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>conditionVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu" id="f69a7079-0396-4d70-b3f9-6c092a0ceea6">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>conditionVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>procedure1Version</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>procedure2Version</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy0zNjhiYzUwZi05YTY5LTQ2ODUtODliYy04ZTE3MGZjZjVmYjYiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctMzY4YmM1MGYtOWE2OS00Njg1LTg5YmMtOGUxNzBmY2Y1ZmI2LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTE0MjIyNS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkY0UlNxU2M0c1lQWnBSZDFQc0pEaFJVaGNjTlhBeGxyLy9xU1llOW5EbTQ9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTM2OGJjNTBmLTlhNjktNDY4NS04OWJjLThlMTcwZmNmNWZiNi1yZWYxIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9FbmNvdW50ZXIvNTE0MjIyNy9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjYyR2VjM05NRVZudmlycW5tbGxFM2ZhR2k4K0F6RGNjUTltWTFwOXJQREk9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTM2OGJjNTBmLTlhNjktNDY4NS04OWJjLThlMTcwZmNmNWZiNi1yZWYyIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db25kaXRpb24vNTE0MjIzMy9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ5VWVJQ1FuWksvSCt0YXhCdGpYOWp2d25saEFKb05IWS9WcmNNSE5McnM9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTM2OGJjNTBmLTlhNjktNDY4NS04OWJjLThlMTcwZmNmNWZiNi1yZWYzIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Qcm9jZWR1cmUvNTE0MjIyOS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkZ5VmxYcFBRaUVwYTd2dFdZdEVvQlpwVnp5dVlHR1QvVFZwVzhWaHowd0U9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTM2OGJjNTBmLTlhNjktNDY4NS04OWJjLThlMTcwZmNmNWZiNi1yZWY0IiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Qcm9jZWR1cmUvNTE0MjIzMS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlg5QnlCazhwYVhJQkJIOHhpVGxyQWlnRGlKL1IwelhuSFh2WW1rSTBDTjg9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy0zNjhiYzUwZi05YTY5LTQ2ODUtODliYy04ZTE3MGZjZjVmYjYtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjZMYUFrOVV0Unp6U3VUd1lVYWo0VmYyVlFTVVBrNWhRSTJmL3JqSzJaZzQ9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLTM2OGJjNTBmLTlhNjktNDY4NS04OWJjLThlMTcwZmNmNWZiNi1zaWd2YWx1ZSI+NlUrV2p1dGJ6MFc0V3pVRzMvaG1JdmRtRWhPTlhtZWM0V2VCZTJxM0hLOUFwWDE0YmZxZVlFbGVpZVgzU0sxcnA3NnNUbW11bUt2cVkxQ2NmbXMza2RCZ1RXZjFFV1grU2oyU0pFdDI4L2VUVUJWK2NHcWZKd2g0c3RXM0EyZXlOa3dwNk5uWDhFVC9iV2dYM3lkNGlmSjllS1gyY1pzQUIyUW9SYkZMSGVmV1VkNGhkdm4xbGJvS21HRzFCN2s2R0FUNFlsMG1xYzJOUTc2Q0hPcEJmZENHRDRObnJLVkhuVFJXOWV2Tm91MjUyNlhFMGZVdGdnMUFwWmNJNUdwUTVqeEowNW9EOFdEZGM2VVRMZkF0cnM4SUljbUxBVDlyWVZ4dCtDZWJNTkVZWUFHNWdDVWE3TEUxV0VCQTBRc2NLNWZsSkR3VnppUDdoSGtFV2ZreTNBPT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZNVENDQXhtZ0F3SUJBZ0lJZnFoa0FVQ2RCRnN3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1UQTJNakV3TnpRMU16ZGFGdzB5TXpBMk1qRXdOelExTXpkYU1JR2tNVFF3TWdZRFZRUUREQ3RRYjJSdGFXOTBYMnhsWTNwdWFXTjZlVjh4TFhWM2FXVnllbmwwWld4dWFXVnVhV1VnWkdGdWVXTm9NVFV3TXdZRFZRUUZFeXd5TGpFMkxqZzBNQzR4TGpFeE16ZzRNeTR6TGpRME1qUXVNaTR6TGpFNklEQXdNREF3TURBeE1qRXdOakVZTUJZR0ExVUVDd3dQVURFZ1NXNTBaV2R5WVdONWFtNWxNUTR3REFZRFZRUUtEQVZEVTBsUFdqRUxNQWtHQTFVRUJoTUNVRXd3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRHVJL0E5OFBvNzd1cVZjZ3VZenZ1WmJqVXZDejJaR2pJZXVFSXRxeElRc28yT2dOSC94Qi9BWWV1M1BzVGVBdVFLU0VhNkpmNmd4LzVaL1IzQ2ZUbUd2SU8wRmJzTGtNcDlxV0Qrd1FTR2ZsQzZwNXBZM1QrTzFKYW96clZqR3F4YjFJZGJPdmhoZWFqdXFydUNvUjdhdjYvMWpzQzBmTUE2a1pUUW5EY01ORXA3Sk5yWDRRUmxvUlA2ZHg2ek9LQVhhZzJCNHYrMVR2Tjk5WGVBME1EaHV1bzN2eU14d0RvbWw4aGlzYWFtMmdnRm42MGVzYmY5V2hOckdTaE1JVFdQWGpKRDNwdzZKNjFZLzBlWTluM0tTM0tUS010b0JLMk9Fbmg0V1FQRGJoeHp1dmprdnJ2UVFwUUFxWGRWVGVycGtBT0VVMEhBay9CSXIxL1lVQzluQWdNQkFBR2pnYmd3Z2JVd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JSaWhvRUNCb0cxYlhPZmRzcjRkTFczaHRJNmhqQlZCZ05WSFI4RVRqQk1NRXFnU0tCR2hrUm9kSFJ3Y3pvdkwybHVkQzF3TVM1bGVtUnliM2RwWlM1bmIzWXVjR3d2WTJOd01TOWpjbXd2UTBOUU1VbHVkR1ZuY21GamVXcHVaVk4xWWtOQlYxTlRMbU55YkRBZEJnTlZIUTRFRmdRVXZycFFEUEREeEdsZm5vQXJRVlNyYlNuNHkra3dEZ1lEVlIwUEFRSC9CQVFEQWdlQU1BMEdDU3FHU0liM0RRRUJEUVVBQTRJQ0FRQys2R0xjcmxjL1M0azhzREtpWWcvbXlJNWE1cUNIeEdpY3FzaU8vQTl6MGl1S2l3N1JMNkNmS2RQT2RiZitub0R2ZWs1c09BOGZaRHBWWUhtbHdFOUtMSmswZGVsQ0UySGtiK1pKSHlzYVRYaXRWeDlhWGswYTd3djJ2Q3FMR2xKcXlabzV2ZWNwam84M0I5QkhseUpTRDdWTGw1WFVzRnEvNUluOGRMbm9RaHBKWFN6ZGJKWlNYcVdxQ2hmdE5TSU5nODVmUDBpeWYwWVJPcEZJRVNGTVRGRWNkWUdUNllFRzV0MHNnaUttZm5nYzQ5M0VSdFMyOXBTWUhyTWdGZllNcVFiRm9hUXZnK3VWV3JMczlyaUh6emZMaXR1cnppcUNtL2dROE1CcUpjK2NVcnlCLzRBSEZEUGxQblh2TW1SQ2FKMXV2OFJ3TnJqSWRhT2prSHJkREtxbmJJQ21MclhaMUlrcTQ5NGY4QXNCcjk0bkJydGo0bnlvU2lIQUx3WGJHMVBRQlFtU1RCNmVsbUpHYlRrbGVvOXBjNHZHK29QTWtTR1VNdEcwOS92M1pucHRVREVKUjZEeFBPV1Q3d0pDOVF2WjQxdVZkRFF1aWtXZWwyK1FxaXkyTnBYeHF2VFhnZTFsZlBEYTFWcmwwejU3VnFRUVFrUmlXVjBXMUx2YjRxc3NMRDZqLzltSitndEtRV25NRHlkZGZ3NWpnaGJ4YmRWc0MyUTRCckZlY0VDTjBpTHhNbHJ6WEpuT0dlSE9zSjVIaC9pZG44NlkweW5FSG1mcVBrdjR5M01ORjdvWjg4M29kQlE1RjhSdjZlbGRvSHZTTTZ3N3VCNnVDVmg4YXJuV0k3bCs2dWorOEJucCtiek1NL1VJM2kyVWtKMVhsbGNRNXR4WlVRPT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48ZHM6WDUwOVN1YmplY3ROYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsc2VyaWFsTnVtYmVyPTIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMTogMDAwMDAwMDEyMTA2LGNuPVBvZG1pb3RfbGVjem5pY3p5XzEtdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctMzY4YmM1MGYtOWE2OS00Njg1LTg5YmMtOGUxNzBmY2Y1ZmI2Ij48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy0zNjhiYzUwZi05YTY5LTQ2ODUtODliYy04ZTE3MGZjZjVmYjYtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjM5OjQ5LjI2MyswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkVkSXRYNmdLQXowM2xQZ0dLOFNxTzNsaUc1NTdsL28yNjZ1Z2xtV1psWFU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+b3R5OXJqazlvK0lJU204LzNHaEYxd1ZrVDBlWUFyeWFCTk5FMUhTdUVHaz08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+MzE0MTcwMDc4ODYxNzkzNDMxNDwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5kNlZNbDFEWmZhRk9lUjQ1REJIZytGNFBnazk1SFVNSElIcXkxc0Z6MEhBPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu" id="501755e0-ebc3-43a3-87d1-547d823696f7">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane#patientId}') + "/_history/" + context.expand('${danePodpisu#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane#encounterId}') + "/_history/" + context.expand('${danePodpisu#encounterVersion}')
String conditionReference = zmUrl + "/fhir/Condition/" + context.expand('${daneRozpoznanie#conditionId}') + "/_history/" + context.expand('${danePodpisu#conditionVersion}')
String procedure1Reference = zmUrl + "/fhir/Procedure/" + context.expand('${daneProcedura1#procedureId1}') + "/_history/" + context.expand('${danePodpisu#procedure1Version}')
String procedure2Reference = zmUrl + "/fhir/Procedure/" + context.expand('${daneProcedura2#procedureId2}') + "/_history/" + context.expand('${danePodpisu#procedure2Version}')


List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);
refs.add(conditionReference);
refs.add(procedure1Reference);
refs.add(procedure2Reference);

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisu'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource" id="c703f3aa-6e9b-4afd-8de0-a5d5e4d5e800">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, daneProcedura1, daneProcedura2, daneRozpoznanie, danePodpisu</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-wszystko.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/5142225"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142227"/>
		<type value="Encounter"/>
	</target>
	<target>
		<reference value="Procedure/5142229"/>
		<type value="Procedure"/>
	</target>
	<target>
		<reference value="Procedure/5142231"/>
		<type value="Procedure"/>
	</target>
	<target>
		<reference value="Condition/5142233"/>
		<type value="Condition"/>
	</target>
	<recorded value="2022-09-02T11:39:45.243+02:00"/>
	<agent>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:39:45.243+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy0zNjhiYzUwZi05YTY5LTQ2ODUtODliYy04ZTE3MGZjZjVmYjYiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctMzY4YmM1MGYtOWE2OS00Njg1LTg5YmMtOGUxNzBmY2Y1ZmI2LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTE0MjIyNS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkY0UlNxU2M0c1lQWnBSZDFQc0pEaFJVaGNjTlhBeGxyLy9xU1llOW5EbTQ9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTM2OGJjNTBmLTlhNjktNDY4NS04OWJjLThlMTcwZmNmNWZiNi1yZWYxIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9FbmNvdW50ZXIvNTE0MjIyNy9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjYyR2VjM05NRVZudmlycW5tbGxFM2ZhR2k4K0F6RGNjUTltWTFwOXJQREk9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTM2OGJjNTBmLTlhNjktNDY4NS04OWJjLThlMTcwZmNmNWZiNi1yZWYyIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db25kaXRpb24vNTE0MjIzMy9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ5VWVJQ1FuWksvSCt0YXhCdGpYOWp2d25saEFKb05IWS9WcmNNSE5McnM9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTM2OGJjNTBmLTlhNjktNDY4NS04OWJjLThlMTcwZmNmNWZiNi1yZWYzIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Qcm9jZWR1cmUvNTE0MjIyOS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkZ5VmxYcFBRaUVwYTd2dFdZdEVvQlpwVnp5dVlHR1QvVFZwVzhWaHowd0U9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTM2OGJjNTBmLTlhNjktNDY4NS04OWJjLThlMTcwZmNmNWZiNi1yZWY0IiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Qcm9jZWR1cmUvNTE0MjIzMS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlg5QnlCazhwYVhJQkJIOHhpVGxyQWlnRGlKL1IwelhuSFh2WW1rSTBDTjg9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy0zNjhiYzUwZi05YTY5LTQ2ODUtODliYy04ZTE3MGZjZjVmYjYtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjZMYUFrOVV0Unp6U3VUd1lVYWo0VmYyVlFTVVBrNWhRSTJmL3JqSzJaZzQ9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLTM2OGJjNTBmLTlhNjktNDY4NS04OWJjLThlMTcwZmNmNWZiNi1zaWd2YWx1ZSI+NlUrV2p1dGJ6MFc0V3pVRzMvaG1JdmRtRWhPTlhtZWM0V2VCZTJxM0hLOUFwWDE0YmZxZVlFbGVpZVgzU0sxcnA3NnNUbW11bUt2cVkxQ2NmbXMza2RCZ1RXZjFFV1grU2oyU0pFdDI4L2VUVUJWK2NHcWZKd2g0c3RXM0EyZXlOa3dwNk5uWDhFVC9iV2dYM3lkNGlmSjllS1gyY1pzQUIyUW9SYkZMSGVmV1VkNGhkdm4xbGJvS21HRzFCN2s2R0FUNFlsMG1xYzJOUTc2Q0hPcEJmZENHRDRObnJLVkhuVFJXOWV2Tm91MjUyNlhFMGZVdGdnMUFwWmNJNUdwUTVqeEowNW9EOFdEZGM2VVRMZkF0cnM4SUljbUxBVDlyWVZ4dCtDZWJNTkVZWUFHNWdDVWE3TEUxV0VCQTBRc2NLNWZsSkR3VnppUDdoSGtFV2ZreTNBPT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZNVENDQXhtZ0F3SUJBZ0lJZnFoa0FVQ2RCRnN3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1UQTJNakV3TnpRMU16ZGFGdzB5TXpBMk1qRXdOelExTXpkYU1JR2tNVFF3TWdZRFZRUUREQ3RRYjJSdGFXOTBYMnhsWTNwdWFXTjZlVjh4TFhWM2FXVnllbmwwWld4dWFXVnVhV1VnWkdGdWVXTm9NVFV3TXdZRFZRUUZFeXd5TGpFMkxqZzBNQzR4TGpFeE16ZzRNeTR6TGpRME1qUXVNaTR6TGpFNklEQXdNREF3TURBeE1qRXdOakVZTUJZR0ExVUVDd3dQVURFZ1NXNTBaV2R5WVdONWFtNWxNUTR3REFZRFZRUUtEQVZEVTBsUFdqRUxNQWtHQTFVRUJoTUNVRXd3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRHVJL0E5OFBvNzd1cVZjZ3VZenZ1WmJqVXZDejJaR2pJZXVFSXRxeElRc28yT2dOSC94Qi9BWWV1M1BzVGVBdVFLU0VhNkpmNmd4LzVaL1IzQ2ZUbUd2SU8wRmJzTGtNcDlxV0Qrd1FTR2ZsQzZwNXBZM1QrTzFKYW96clZqR3F4YjFJZGJPdmhoZWFqdXFydUNvUjdhdjYvMWpzQzBmTUE2a1pUUW5EY01ORXA3Sk5yWDRRUmxvUlA2ZHg2ek9LQVhhZzJCNHYrMVR2Tjk5WGVBME1EaHV1bzN2eU14d0RvbWw4aGlzYWFtMmdnRm42MGVzYmY5V2hOckdTaE1JVFdQWGpKRDNwdzZKNjFZLzBlWTluM0tTM0tUS010b0JLMk9Fbmg0V1FQRGJoeHp1dmprdnJ2UVFwUUFxWGRWVGVycGtBT0VVMEhBay9CSXIxL1lVQzluQWdNQkFBR2pnYmd3Z2JVd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JSaWhvRUNCb0cxYlhPZmRzcjRkTFczaHRJNmhqQlZCZ05WSFI4RVRqQk1NRXFnU0tCR2hrUm9kSFJ3Y3pvdkwybHVkQzF3TVM1bGVtUnliM2RwWlM1bmIzWXVjR3d2WTJOd01TOWpjbXd2UTBOUU1VbHVkR1ZuY21GamVXcHVaVk4xWWtOQlYxTlRMbU55YkRBZEJnTlZIUTRFRmdRVXZycFFEUEREeEdsZm5vQXJRVlNyYlNuNHkra3dEZ1lEVlIwUEFRSC9CQVFEQWdlQU1BMEdDU3FHU0liM0RRRUJEUVVBQTRJQ0FRQys2R0xjcmxjL1M0azhzREtpWWcvbXlJNWE1cUNIeEdpY3FzaU8vQTl6MGl1S2l3N1JMNkNmS2RQT2RiZitub0R2ZWs1c09BOGZaRHBWWUhtbHdFOUtMSmswZGVsQ0UySGtiK1pKSHlzYVRYaXRWeDlhWGswYTd3djJ2Q3FMR2xKcXlabzV2ZWNwam84M0I5QkhseUpTRDdWTGw1WFVzRnEvNUluOGRMbm9RaHBKWFN6ZGJKWlNYcVdxQ2hmdE5TSU5nODVmUDBpeWYwWVJPcEZJRVNGTVRGRWNkWUdUNllFRzV0MHNnaUttZm5nYzQ5M0VSdFMyOXBTWUhyTWdGZllNcVFiRm9hUXZnK3VWV3JMczlyaUh6emZMaXR1cnppcUNtL2dROE1CcUpjK2NVcnlCLzRBSEZEUGxQblh2TW1SQ2FKMXV2OFJ3TnJqSWRhT2prSHJkREtxbmJJQ21MclhaMUlrcTQ5NGY4QXNCcjk0bkJydGo0bnlvU2lIQUx3WGJHMVBRQlFtU1RCNmVsbUpHYlRrbGVvOXBjNHZHK29QTWtTR1VNdEcwOS92M1pucHRVREVKUjZEeFBPV1Q3d0pDOVF2WjQxdVZkRFF1aWtXZWwyK1FxaXkyTnBYeHF2VFhnZTFsZlBEYTFWcmwwejU3VnFRUVFrUmlXVjBXMUx2YjRxc3NMRDZqLzltSitndEtRV25NRHlkZGZ3NWpnaGJ4YmRWc0MyUTRCckZlY0VDTjBpTHhNbHJ6WEpuT0dlSE9zSjVIaC9pZG44NlkweW5FSG1mcVBrdjR5M01ORjdvWjg4M29kQlE1RjhSdjZlbGRvSHZTTTZ3N3VCNnVDVmg4YXJuV0k3bCs2dWorOEJucCtiek1NL1VJM2kyVWtKMVhsbGNRNXR4WlVRPT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48ZHM6WDUwOVN1YmplY3ROYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsc2VyaWFsTnVtYmVyPTIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMTogMDAwMDAwMDEyMTA2LGNuPVBvZG1pb3RfbGVjem5pY3p5XzEtdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctMzY4YmM1MGYtOWE2OS00Njg1LTg5YmMtOGUxNzBmY2Y1ZmI2Ij48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy0zNjhiYzUwZi05YTY5LTQ2ODUtODliYy04ZTE3MGZjZjVmYjYtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjM5OjQ5LjI2MyswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkVkSXRYNmdLQXowM2xQZ0dLOFNxTzNsaUc1NTdsL28yNjZ1Z2xtV1psWFU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+b3R5OXJqazlvK0lJU204LzNHaEYxd1ZrVDBlWUFyeWFCTk5FMUhTdUVHaz08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+MzE0MTcwMDc4ODYxNzkzNDMxNDwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5kNlZNbDFEWmZhRk9lUjQ1REJIZytGNFBnazk1SFVNSElIcXkxc0Z6MEhBPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+"/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance" id="6af68a65-374d-4bc8-8d85-ed736cb66477">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="c308b714-cdad-4496-8fce-2267b2cd8d9d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych provenance" id="78abacc8-caa0-4dff-91d4-48600838e5d9">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>provenanceId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Delay" id="bb19de30-16a6-467f-a241-23ba7389b1a9">
        <con:settings/>
        <con:config>
          <delay>${#Project#delaySeconds}000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Provenance" id="00537dee-e595-4203-8c76-23de179d7557">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Anulowanie-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Provenance" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#provenanceId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Condition" id="5ec8cf90-e612-4576-a25a-71d95953a11e">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="Anulowanie-condition" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Condition" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${daneRozpoznanie#conditionId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Procedure 2" id="c32cec5d-a0a1-496e-8ab5-eac76014d1b2">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Anulowanie-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Procedure 2" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${daneProcedura2#procedureId2}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Procedure 1" id="17edaff2-8449-4c46-a78a-f968a7e50c80">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Anulowanie-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Procedure 1" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${daneProcedura1#procedureId1}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Encounter" id="4f85c30d-4b61-41ce-9a37-21a9630ab265">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Delete-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Encounter" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#encounterId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>encounterResource</con:name>
          <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
  <id value="253196"/>
  <meta>
      <versionId value="1"/>
      <lastUpdated value="2020-11-17T17:27:26.905+01:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
  </meta>
  <implicitRules value="13.0.8"/>
  <identifier>
      <system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
      <value value="89218b0e-216c-421b-b06c-27534b1f6bcf"/>
  </identifier>
  <status value="finished"/>
  <statusHistory>
      <status value="onleave"/>
      <period>
         <start value="2020-11-17T14:27:22.941+01:00"/>
         <end value="2020-11-17T17:27:22.941+01:00"/>
      </period>
  </statusHistory>
  <class>
      <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
      <code value="1"/>
      <display value="Pobyt w oddziale szpitalnym"/>
  </class>
  <subject>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
         <valueReference>
            <identifier>
               <system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
               <value value="12345678912345678912"/>
            </identifier>
         </valueReference>
      </extension>
      <reference value="Patient/253194"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="RZ550000"/>
      </identifier>
      <display value="ANNA KASINA"/>
  </subject>
  <episodeOfCare>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
         <value value="42496846-5527-4beb-a80c-15edbbedf0da"/>
      </identifier>
  </episodeOfCare>
  <participant>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
         <valueCoding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
            <code value="11"/>
         </valueCoding>
      </extension>
      <individual>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
            <value value="2698040"/>
         </identifier>
         <display value="Monika Lecznicza"/>
      </individual>
  </participant>
  <period>
      <start value="2020-11-17T11:27:22.941+01:00"/>
      <end value="2020-11-17T17:28:46.330+01:00"/>
  </period>
  <hospitalization>
      <admitSource>
         <coding>
            <system value="https://ezdrowie.gov.pl/fhir/CodeSystem/PLMedicalEventCodeSystemAdmitSource"/>
            <code value="3"/>
         </coding>
      </admitSource>
      <dischargeDisposition>
         <coding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.3.21"/>
            <code value="1"/>
         </coding>
      </dischargeDisposition>
  </hospitalization>
  <location>
      <location>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
            <value value="000000012106-001"/>
         </identifier>
      </location>
      <period>
         <start value="2020-11-17T11:27:22.941+01:00"/>
         <end value="2020-11-17T14:27:22.941+01:00"/>
      </period>
  </location>
  <location>
      <location>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
            <value value="000000012106-002"/>
         </identifier>
      </location>
      <period>
         <start value="2020-11-17T17:27:22.941+01:00"/>
      </period>
  </location>
  <serviceProvider>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
         <valueReference>
            <identifier>
               <system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
               <value value="12345678912345678912"/>
            </identifier>
         </valueReference>
      </extension>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
         <value value="000000012106"/>
      </identifier>
  </serviceProvider>
</Encounter>]]></con:value>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase id="e93da464-e7c9-41f4-b133-22c477341f5e" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Porada lekarska dla pacjenta bez numeru PESEL" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskanie tokenu dostpowego" id="676f8857-5ec1-44dd-af2f-138caf496ee9">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych i pobranie zmiennych" id="3d49f1d2-f17e-4aeb-ab03-5d6ad9ace87e">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

String identyfikatorZdarzenia = java.util.UUID.randomUUID().toString()
String korelacjaIdentyfikator = java.util.UUID.randomUUID().toString()
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString().replace("-", "").toUpperCase().substring(0, 22)
String paszportSeria = org.apache.commons.lang.RandomStringUtils.random(2, true, false)
String paszportNum = org.apache.commons.lang.RandomStringUtils.random(6, false, true)

def pracownikImieNazwisko = context.expand('${#Project#imieNazwiskoPracownika}')
def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')
def locationIdentyfikator = context.expand('${#Project#identyfikatorMiejscaSwiadczenia}')
def podmiotIdentyfikator = context.expand('${#Project#identyfikatorPodmiotu}')

def formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
def teraz = ZonedDateTime.now()
String data1 = teraz.minusHours(1).format(formatter)
String data2 = teraz.format(formatter)

def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("identyfikatorZdarzenia", identyfikatorZdarzenia)
dane.setPropertyValue("korelacjaIdentyfikator", korelacjaIdentyfikator)
dane.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
dane.setPropertyValue("identyfikatorPacjenta", paszportSeria.toUpperCase()+paszportNum)
dane.setPropertyValue("zdarzenieDataPoczatek", data1)
dane.setPropertyValue("zdarzenieDataKoniec", data2)
dane.setPropertyValue("podpisData", data2)
dane.setPropertyValue("proceduraDataPoczatek", data1)
dane.setPropertyValue("proceduraDataKoniec", data2)
dane.setPropertyValue("rozpoznanieData", data2)
dane.setPropertyValue("pracownikImieNazwisko", pracownikImieNazwisko)
dane.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)
dane.setPropertyValue("locationIdentyfikator", locationIdentyfikator)
dane.setPropertyValue("podmiotIdentyfikator", podmiotIdentyfikator)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="69d1a20c-7104-489d-a758-f07bc6c5abe8">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>ANNA</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>ANNA KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.4.330.56</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>LV812255</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>DAA046D72D564C478FF0AD</con:value>
            </con:property>
            <con:property>
              <con:name>ubezpieczenieOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.8.3</con:value>
            </con:property>
            <con:property>
              <con:name>ubezpiecznieIdentyfikator</con:name>
              <con:value>12345678912345678912</con:value>
            </con:property>
            <con:property>
              <con:name>platnikOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.8.3</con:value>
            </con:property>
            <con:property>
              <con:name>platnikIdentyfikator</con:name>
              <con:value>12345678912345678912</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>5142241</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142243</con:value>
            </con:property>
            <con:property>
              <con:name>procedureId</con:name>
              <con:value>5142245</con:value>
            </con:property>
            <con:property>
              <con:name>conditionId</con:name>
              <con:value>5142247</con:value>
            </con:property>
            <con:property>
              <con:name>provenanceId</con:name>
              <con:value>5142251</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>d3a8ce9a-04d2-4d87-acb1-480fb8bd47a5</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>d9081995-3d52-42a1-880a-f3769f43f3d2</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T10:40:00.889+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2022-09-02T11:40:00.889+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataPoczatek</con:name>
              <con:value>2022-09-02T10:40:00.889+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataKoniec</con:name>
              <con:value>2022-09-02T11:40:00.889+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>rozpoznanieData</con:name>
              <con:value>2022-09-02T11:40:00.889+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:40:00.889+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="patientResource" id="3d53b424-c001-4294-8f80-21d77af6ebb0">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>patient-paszport.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Patient xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPatient"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
      <value value="LV812255"/>
   </identifier>
   <name>
      <family value="KASINA"/>
      <given value="ANNA"/>
   </name>
   <telecom>
      <system value="phone"/>
      <value value="+32475556791"/>
   </telecom>
   <gender value="male"/>
   <birthDate value="1960-06-30"/>
</Patient>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Patient" id="a1a14a88-2c3b-403a-82a2-2574192e1c1a">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Patient/{id}" methodName="Zapis-patient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Patient" id="ae51083b-704b-45e7-88c7-385ef76c5721" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${patientResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Patient/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="90ea303b-56ec-4f6e-8ca9-b87beea0c859" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="identifier" value=""/>
              <con:entry key="plgiven" value=""/>
              <con:entry key="birthdate" value=""/>
              <con:entry key="gender" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="_id" value=""/>
              <con:entry key="encounter" value=""/>
              <con:entry key="plfamily" value=""/>
              <con:entry key="_sort" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plgiven</con:entry>
              <con:entry>plfamily</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>gender</con:entry>
              <con:entry>birthdate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych patient" id="7cded00e-2029-4d34-8e42-0ff20f8fdb1f">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterResource" id="557a5f88-f83c-4b69-9889-52e5023cfb49">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-porada.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<identifier>
		<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
		<value value="d3a8ce9a-04d2-4d87-acb1-480fb8bd47a5"/>
	</identifier>
	<status value="finished"/>
	<class>
		<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
		<code value="4"/>
		<display value="Porada"/>
	</class>
	<subject>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
					<value value="12345678912345678912"/>
				</identifier>
			</valueReference>
		</extension>
		<reference value="Patient/5142241"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
			<value value="LV812255"/>
		</identifier>
		<display value="ANNA KASINA"/>
	</subject>
	<episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="d9081995-3d52-42a1-880a-f3769f43f3d2"/>
		</identifier>
	</episodeOfCare>
	<basedOn>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.17.4.1"/>
			<value value="DAA046D72D564C478FF0AD"/>
			<period>
				<start value="2019-08-26T10:00:00+02:00"/>
			</period>
		</identifier>
	</basedOn>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
			<valueCoding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
				<code value="11"/>
			</valueCoding>
		</extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<period>
		<start value="2022-09-02T10:40:00.889+02:00"/>
		<end value="2022-09-02T11:40:00.889+02:00"/>
	</period>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
		<period>
			<start value="2022-09-02T10:40:00.889+02:00"/>
			<end value="2022-09-02T11:40:00.889+02:00"/>
		</period>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
					<value value="12345678912345678912"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter" id="7b77b2e5-3f05-4c7d-95e8-19fb4315865b">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter" id="ca159828-a602-4357-a4ba-632c00d8f164" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="18bf6ab8-2610-482a-adf9-6ec5f9fd89ca" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych encounter" id="54d349a1-641b-4aad-bffc-96a8488c09df">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>encounterVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="procedureResource" id="2ef2b9a2-fcd5-4ca2-a9f1-1fcb41d24d5d">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>procedure.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Procedure xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProcedure"/>
       <security>
           <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
           <code value="N"/>
       </security>
   </meta>
   <status value="completed"/>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6" />
         <code value="79.76"/>
         <display value="Zamknite nastawienie zwichnicia kolana"/>
      </coding>
   </code>
   <subject>
	  <reference value="Patient/5142241"/>
	  <type value="Patient"/>
	  <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="LV812255"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142243"/>
      <type value="Encounter"/>
   </encounter>
   <performedPeriod>
      <start value="2022-09-02T10:40:00.889+02:00"/>
      <end value="2022-09-02T11:40:00.889+02:00"/>
   </performedPeriod>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
   <location>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
		</identifier>
   </location>
</Procedure>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Procedure" id="653498d9-f1ab-4e77-ba6a-acea8947031c">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Zapis-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Procedure" id="fbb19b00-838c-4ef3-a04b-b95933e72a12" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${procedureResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Procedure/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b5455364-85e4-472b-9176-40088197ed11" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="24e682e5-7a78-416c-bbe1-366fbde4baa0" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';
exists(//ns1:Procedure/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c207887a-1ef3-48ec-bc0b-05caa143fe7b" name="Zwrcono numer wersji systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych procedure" id="acb691c4-d037-44a0-b409-2b535c3c4a6d">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>procedureId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>procedureVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="conditionResource" id="30f961b4-de5c-4bde-ab89-e228fa8bb3aa">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>condition.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Condition xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventDiagnosis"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <extension url ="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLLocation">
      <valueIdentifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
      </valueIdentifier>
   </extension>
   <category>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.78"/>
         <code value="main"/>
         <display value="Gwne"/>
      </coding>
   </category>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.6.3"/>
         <code value="J04.0"/>
         <display value="Acute laryngitis"/>
      </coding>
   </code>
   <bodySite>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.79"/>
         <code value="left"/>
         <display value="Lewa strona ciaa"/>
      </coding>
   </bodySite>
   <subject>
	  <reference value="Patient/5142241"/>
	  <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="LV812255"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142243"/>
      <type value="Encounter"/>
   </encounter>
   <recordedDate value="2022-09-02T11:40:00.889+02:00"/>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
</Condition>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Condition" id="ad50459b-5378-45f4-9b3d-f2d100755831">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="Zapis-condition" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Condition" id="5950c24f-0baf-497e-ac19-ab6769e5b9e2" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${conditionResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Condition</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7f8a96ea-5431-4e04-bc31-f31e8587599e" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c468a985-1324-4eb5-83f5-85df20928b5a" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';
exists(//ns1:Condition/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="4ba7731a-bb80-4557-8850-aaef6b9c23e3" name="Zwrcono numer wersji systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>encounter</con:entry>
              <con:entry>id</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych condition" id="624df9c6-05bf-48af-9a80-b81af117e4bc">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>conditionId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>conditionVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu" id="3884fbb0-33cb-4b63-a268-0c42187f40c2">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1lZmJhMzk5Mi1iYzRmLTQ2OGUtYmZjOS1jZGYzYTU2ZTQyNGUiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZWZiYTM5OTItYmM0Zi00NjhlLWJmYzktY2RmM2E1NmU0MjRlLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTE0MjI0MS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlpQMm1rR3hRLzB0R3FZMDFFeEFDUG5nRmdOTjBiaXNuSjdkVkE2alNxQ009PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWVmYmEzOTkyLWJjNGYtNDY4ZS1iZmM5LWNkZjNhNTZlNDI0ZS1yZWYxIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9FbmNvdW50ZXIvNTE0MjI0My9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkFYRG5aZ2xOeU9BVzBoUnVlM2VrTDcrK1NRdDJHVnEzcEp4VUtTMDlBaEk9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWVmYmEzOTkyLWJjNGYtNDY4ZS1iZmM5LWNkZjNhNTZlNDI0ZS1yZWYyIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db25kaXRpb24vNTE0MjI0Ny9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmNHVFBUQWpkUVZVNUZXemtlMFdjQmhKYmUyWFFNUkNVVEdtRzlOTExoakk9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWVmYmEzOTkyLWJjNGYtNDY4ZS1iZmM5LWNkZjNhNTZlNDI0ZS1yZWYzIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Qcm9jZWR1cmUvNTE0MjI0NS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPnlIS0tSRHlnYlNubTBNMnk4bUM1S1pleGp5WE9xMDU5c2h5b1kwQ1pmZW89PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy1lZmJhMzk5Mi1iYzRmLTQ2OGUtYmZjOS1jZGYzYTU2ZTQyNGUtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPk9VZFdYRkFRNU9hKy9rZllBWm4rNVgvL0g1UjZxZ2NSN3FJVG14QkQxMjg9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLWVmYmEzOTkyLWJjNGYtNDY4ZS1iZmM5LWNkZjNhNTZlNDI0ZS1zaWd2YWx1ZSI+TVdta2Q4OVAyNHpZdFV2YThaSDYyQStVaU9RbXpXV2dxNWhJOXVQTUVGUkhGaXRldVdsMmVCOWdTTmZqODZ6TW5qcTExejVvYWRhVjRzVk1pVTNnZnVTNXB5eENMQnluZWtpYUZ4cVJOQlZ4ZlIySGpNNDczOUw3MlkzdEJqNUVvNUl6MDByZmlVZWhudFlqaGR5K1JsUmlVRTdrSHMyeFo4d1FTbWFXckNvRzlRcUhaZ000TFk2c2tlL2VKcGl3YmQzbkdvdnB2dmFSVm9ET0p4bmFPa2c1emhRSFBLRTdNWTZQcXJIK3VuWTEvNEhDUFNYRVpHMWZPc2FHdGlXNXhqQmt2OUNJTFNPSHViSUZjMkVqMS9vMVVzRC9mUmxCZVNUWHR5UDB5N2lOTEw3WlZJNXZxVG5WUHN2dlR4ajhpM0ZWdDZMMlJvbmlGaDJGV1o4YVVnPT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZNVENDQXhtZ0F3SUJBZ0lJZnFoa0FVQ2RCRnN3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1UQTJNakV3TnpRMU16ZGFGdzB5TXpBMk1qRXdOelExTXpkYU1JR2tNVFF3TWdZRFZRUUREQ3RRYjJSdGFXOTBYMnhsWTNwdWFXTjZlVjh4TFhWM2FXVnllbmwwWld4dWFXVnVhV1VnWkdGdWVXTm9NVFV3TXdZRFZRUUZFeXd5TGpFMkxqZzBNQzR4TGpFeE16ZzRNeTR6TGpRME1qUXVNaTR6TGpFNklEQXdNREF3TURBeE1qRXdOakVZTUJZR0ExVUVDd3dQVURFZ1NXNTBaV2R5WVdONWFtNWxNUTR3REFZRFZRUUtEQVZEVTBsUFdqRUxNQWtHQTFVRUJoTUNVRXd3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRHVJL0E5OFBvNzd1cVZjZ3VZenZ1WmJqVXZDejJaR2pJZXVFSXRxeElRc28yT2dOSC94Qi9BWWV1M1BzVGVBdVFLU0VhNkpmNmd4LzVaL1IzQ2ZUbUd2SU8wRmJzTGtNcDlxV0Qrd1FTR2ZsQzZwNXBZM1QrTzFKYW96clZqR3F4YjFJZGJPdmhoZWFqdXFydUNvUjdhdjYvMWpzQzBmTUE2a1pUUW5EY01ORXA3Sk5yWDRRUmxvUlA2ZHg2ek9LQVhhZzJCNHYrMVR2Tjk5WGVBME1EaHV1bzN2eU14d0RvbWw4aGlzYWFtMmdnRm42MGVzYmY5V2hOckdTaE1JVFdQWGpKRDNwdzZKNjFZLzBlWTluM0tTM0tUS010b0JLMk9Fbmg0V1FQRGJoeHp1dmprdnJ2UVFwUUFxWGRWVGVycGtBT0VVMEhBay9CSXIxL1lVQzluQWdNQkFBR2pnYmd3Z2JVd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JSaWhvRUNCb0cxYlhPZmRzcjRkTFczaHRJNmhqQlZCZ05WSFI4RVRqQk1NRXFnU0tCR2hrUm9kSFJ3Y3pvdkwybHVkQzF3TVM1bGVtUnliM2RwWlM1bmIzWXVjR3d2WTJOd01TOWpjbXd2UTBOUU1VbHVkR1ZuY21GamVXcHVaVk4xWWtOQlYxTlRMbU55YkRBZEJnTlZIUTRFRmdRVXZycFFEUEREeEdsZm5vQXJRVlNyYlNuNHkra3dEZ1lEVlIwUEFRSC9CQVFEQWdlQU1BMEdDU3FHU0liM0RRRUJEUVVBQTRJQ0FRQys2R0xjcmxjL1M0azhzREtpWWcvbXlJNWE1cUNIeEdpY3FzaU8vQTl6MGl1S2l3N1JMNkNmS2RQT2RiZitub0R2ZWs1c09BOGZaRHBWWUhtbHdFOUtMSmswZGVsQ0UySGtiK1pKSHlzYVRYaXRWeDlhWGswYTd3djJ2Q3FMR2xKcXlabzV2ZWNwam84M0I5QkhseUpTRDdWTGw1WFVzRnEvNUluOGRMbm9RaHBKWFN6ZGJKWlNYcVdxQ2hmdE5TSU5nODVmUDBpeWYwWVJPcEZJRVNGTVRGRWNkWUdUNllFRzV0MHNnaUttZm5nYzQ5M0VSdFMyOXBTWUhyTWdGZllNcVFiRm9hUXZnK3VWV3JMczlyaUh6emZMaXR1cnppcUNtL2dROE1CcUpjK2NVcnlCLzRBSEZEUGxQblh2TW1SQ2FKMXV2OFJ3TnJqSWRhT2prSHJkREtxbmJJQ21MclhaMUlrcTQ5NGY4QXNCcjk0bkJydGo0bnlvU2lIQUx3WGJHMVBRQlFtU1RCNmVsbUpHYlRrbGVvOXBjNHZHK29QTWtTR1VNdEcwOS92M1pucHRVREVKUjZEeFBPV1Q3d0pDOVF2WjQxdVZkRFF1aWtXZWwyK1FxaXkyTnBYeHF2VFhnZTFsZlBEYTFWcmwwejU3VnFRUVFrUmlXVjBXMUx2YjRxc3NMRDZqLzltSitndEtRV25NRHlkZGZ3NWpnaGJ4YmRWc0MyUTRCckZlY0VDTjBpTHhNbHJ6WEpuT0dlSE9zSjVIaC9pZG44NlkweW5FSG1mcVBrdjR5M01ORjdvWjg4M29kQlE1RjhSdjZlbGRvSHZTTTZ3N3VCNnVDVmg4YXJuV0k3bCs2dWorOEJucCtiek1NL1VJM2kyVWtKMVhsbGNRNXR4WlVRPT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48ZHM6WDUwOVN1YmplY3ROYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsc2VyaWFsTnVtYmVyPTIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMTogMDAwMDAwMDEyMTA2LGNuPVBvZG1pb3RfbGVjem5pY3p5XzEtdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctZWZiYTM5OTItYmM0Zi00NjhlLWJmYzktY2RmM2E1NmU0MjRlIj48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy1lZmJhMzk5Mi1iYzRmLTQ2OGUtYmZjOS1jZGYzYTU2ZTQyNGUtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjQwOjAzLjA4OSswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkVkSXRYNmdLQXowM2xQZ0dLOFNxTzNsaUc1NTdsL28yNjZ1Z2xtV1psWFU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+b3R5OXJqazlvK0lJU204LzNHaEYxd1ZrVDBlWUFyeWFCTk5FMUhTdUVHaz08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+MzE0MTcwMDc4ODYxNzkzNDMxNDwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5kNlZNbDFEWmZhRk9lUjQ1REJIZytGNFBnazk1SFVNSElIcXkxc0Z6MEhBPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+</con:value>
            </con:property>
            <con:property>
              <con:name>procedureVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>conditionVersion</con:name>
              <con:value>1</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu" id="c6c2012a-2e83-4e89-b9e5-ec29bd113833">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane#patientId}') + "/_history/" + context.expand('${danePodpisu#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane#encounterId}') + "/_history/" + context.expand('${danePodpisu#encounterVersion}')
String conditionReference = zmUrl + "/fhir/Condition/" + context.expand('${dane#conditionId}') + "/_history/" + context.expand('${danePodpisu#conditionVersion}')
String procedureReference = zmUrl + "/fhir/Procedure/" + context.expand('${dane#procedureId}') + "/_history/" + context.expand('${danePodpisu#procedureVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);
refs.add(conditionReference);
refs.add(procedureReference);

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisu'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource" id="6c42d588-bbff-493d-922e-eefd832235d0">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, danePodpisu</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/5142241"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142243"/>
		<type value="Encounter"/>
	</target>
	<target>
		<reference value="Condition/5142247"/>
		<type value="Condition"/>
	</target>
	<target>
		<reference value="Procedure/5142245"/>
		<type value="Procedure"/>
	</target>
	<recorded value="2022-09-02T11:40:00.889+02:00"/>
	<agent>
		
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:40:00.889+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1lZmJhMzk5Mi1iYzRmLTQ2OGUtYmZjOS1jZGYzYTU2ZTQyNGUiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZWZiYTM5OTItYmM0Zi00NjhlLWJmYzktY2RmM2E1NmU0MjRlLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTE0MjI0MS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlpQMm1rR3hRLzB0R3FZMDFFeEFDUG5nRmdOTjBiaXNuSjdkVkE2alNxQ009PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWVmYmEzOTkyLWJjNGYtNDY4ZS1iZmM5LWNkZjNhNTZlNDI0ZS1yZWYxIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9FbmNvdW50ZXIvNTE0MjI0My9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkFYRG5aZ2xOeU9BVzBoUnVlM2VrTDcrK1NRdDJHVnEzcEp4VUtTMDlBaEk9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWVmYmEzOTkyLWJjNGYtNDY4ZS1iZmM5LWNkZjNhNTZlNDI0ZS1yZWYyIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db25kaXRpb24vNTE0MjI0Ny9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmNHVFBUQWpkUVZVNUZXemtlMFdjQmhKYmUyWFFNUkNVVEdtRzlOTExoakk9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWVmYmEzOTkyLWJjNGYtNDY4ZS1iZmM5LWNkZjNhNTZlNDI0ZS1yZWYzIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Qcm9jZWR1cmUvNTE0MjI0NS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPnlIS0tSRHlnYlNubTBNMnk4bUM1S1pleGp5WE9xMDU5c2h5b1kwQ1pmZW89PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy1lZmJhMzk5Mi1iYzRmLTQ2OGUtYmZjOS1jZGYzYTU2ZTQyNGUtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPk9VZFdYRkFRNU9hKy9rZllBWm4rNVgvL0g1UjZxZ2NSN3FJVG14QkQxMjg9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLWVmYmEzOTkyLWJjNGYtNDY4ZS1iZmM5LWNkZjNhNTZlNDI0ZS1zaWd2YWx1ZSI+TVdta2Q4OVAyNHpZdFV2YThaSDYyQStVaU9RbXpXV2dxNWhJOXVQTUVGUkhGaXRldVdsMmVCOWdTTmZqODZ6TW5qcTExejVvYWRhVjRzVk1pVTNnZnVTNXB5eENMQnluZWtpYUZ4cVJOQlZ4ZlIySGpNNDczOUw3MlkzdEJqNUVvNUl6MDByZmlVZWhudFlqaGR5K1JsUmlVRTdrSHMyeFo4d1FTbWFXckNvRzlRcUhaZ000TFk2c2tlL2VKcGl3YmQzbkdvdnB2dmFSVm9ET0p4bmFPa2c1emhRSFBLRTdNWTZQcXJIK3VuWTEvNEhDUFNYRVpHMWZPc2FHdGlXNXhqQmt2OUNJTFNPSHViSUZjMkVqMS9vMVVzRC9mUmxCZVNUWHR5UDB5N2lOTEw3WlZJNXZxVG5WUHN2dlR4ajhpM0ZWdDZMMlJvbmlGaDJGV1o4YVVnPT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZNVENDQXhtZ0F3SUJBZ0lJZnFoa0FVQ2RCRnN3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1UQTJNakV3TnpRMU16ZGFGdzB5TXpBMk1qRXdOelExTXpkYU1JR2tNVFF3TWdZRFZRUUREQ3RRYjJSdGFXOTBYMnhsWTNwdWFXTjZlVjh4TFhWM2FXVnllbmwwWld4dWFXVnVhV1VnWkdGdWVXTm9NVFV3TXdZRFZRUUZFeXd5TGpFMkxqZzBNQzR4TGpFeE16ZzRNeTR6TGpRME1qUXVNaTR6TGpFNklEQXdNREF3TURBeE1qRXdOakVZTUJZR0ExVUVDd3dQVURFZ1NXNTBaV2R5WVdONWFtNWxNUTR3REFZRFZRUUtEQVZEVTBsUFdqRUxNQWtHQTFVRUJoTUNVRXd3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRHVJL0E5OFBvNzd1cVZjZ3VZenZ1WmJqVXZDejJaR2pJZXVFSXRxeElRc28yT2dOSC94Qi9BWWV1M1BzVGVBdVFLU0VhNkpmNmd4LzVaL1IzQ2ZUbUd2SU8wRmJzTGtNcDlxV0Qrd1FTR2ZsQzZwNXBZM1QrTzFKYW96clZqR3F4YjFJZGJPdmhoZWFqdXFydUNvUjdhdjYvMWpzQzBmTUE2a1pUUW5EY01ORXA3Sk5yWDRRUmxvUlA2ZHg2ek9LQVhhZzJCNHYrMVR2Tjk5WGVBME1EaHV1bzN2eU14d0RvbWw4aGlzYWFtMmdnRm42MGVzYmY5V2hOckdTaE1JVFdQWGpKRDNwdzZKNjFZLzBlWTluM0tTM0tUS010b0JLMk9Fbmg0V1FQRGJoeHp1dmprdnJ2UVFwUUFxWGRWVGVycGtBT0VVMEhBay9CSXIxL1lVQzluQWdNQkFBR2pnYmd3Z2JVd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JSaWhvRUNCb0cxYlhPZmRzcjRkTFczaHRJNmhqQlZCZ05WSFI4RVRqQk1NRXFnU0tCR2hrUm9kSFJ3Y3pvdkwybHVkQzF3TVM1bGVtUnliM2RwWlM1bmIzWXVjR3d2WTJOd01TOWpjbXd2UTBOUU1VbHVkR1ZuY21GamVXcHVaVk4xWWtOQlYxTlRMbU55YkRBZEJnTlZIUTRFRmdRVXZycFFEUEREeEdsZm5vQXJRVlNyYlNuNHkra3dEZ1lEVlIwUEFRSC9CQVFEQWdlQU1BMEdDU3FHU0liM0RRRUJEUVVBQTRJQ0FRQys2R0xjcmxjL1M0azhzREtpWWcvbXlJNWE1cUNIeEdpY3FzaU8vQTl6MGl1S2l3N1JMNkNmS2RQT2RiZitub0R2ZWs1c09BOGZaRHBWWUhtbHdFOUtMSmswZGVsQ0UySGtiK1pKSHlzYVRYaXRWeDlhWGswYTd3djJ2Q3FMR2xKcXlabzV2ZWNwam84M0I5QkhseUpTRDdWTGw1WFVzRnEvNUluOGRMbm9RaHBKWFN6ZGJKWlNYcVdxQ2hmdE5TSU5nODVmUDBpeWYwWVJPcEZJRVNGTVRGRWNkWUdUNllFRzV0MHNnaUttZm5nYzQ5M0VSdFMyOXBTWUhyTWdGZllNcVFiRm9hUXZnK3VWV3JMczlyaUh6emZMaXR1cnppcUNtL2dROE1CcUpjK2NVcnlCLzRBSEZEUGxQblh2TW1SQ2FKMXV2OFJ3TnJqSWRhT2prSHJkREtxbmJJQ21MclhaMUlrcTQ5NGY4QXNCcjk0bkJydGo0bnlvU2lIQUx3WGJHMVBRQlFtU1RCNmVsbUpHYlRrbGVvOXBjNHZHK29QTWtTR1VNdEcwOS92M1pucHRVREVKUjZEeFBPV1Q3d0pDOVF2WjQxdVZkRFF1aWtXZWwyK1FxaXkyTnBYeHF2VFhnZTFsZlBEYTFWcmwwejU3VnFRUVFrUmlXVjBXMUx2YjRxc3NMRDZqLzltSitndEtRV25NRHlkZGZ3NWpnaGJ4YmRWc0MyUTRCckZlY0VDTjBpTHhNbHJ6WEpuT0dlSE9zSjVIaC9pZG44NlkweW5FSG1mcVBrdjR5M01ORjdvWjg4M29kQlE1RjhSdjZlbGRvSHZTTTZ3N3VCNnVDVmg4YXJuV0k3bCs2dWorOEJucCtiek1NL1VJM2kyVWtKMVhsbGNRNXR4WlVRPT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48ZHM6WDUwOVN1YmplY3ROYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsc2VyaWFsTnVtYmVyPTIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMTogMDAwMDAwMDEyMTA2LGNuPVBvZG1pb3RfbGVjem5pY3p5XzEtdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctZWZiYTM5OTItYmM0Zi00NjhlLWJmYzktY2RmM2E1NmU0MjRlIj48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy1lZmJhMzk5Mi1iYzRmLTQ2OGUtYmZjOS1jZGYzYTU2ZTQyNGUtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjQwOjAzLjA4OSswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkVkSXRYNmdLQXowM2xQZ0dLOFNxTzNsaUc1NTdsL28yNjZ1Z2xtV1psWFU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+b3R5OXJqazlvK0lJU204LzNHaEYxd1ZrVDBlWUFyeWFCTk5FMUhTdUVHaz08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+MzE0MTcwMDc4ODYxNzkzNDMxNDwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5kNlZNbDFEWmZhRk9lUjQ1REJIZytGNFBnazk1SFVNSElIcXkxc0Z6MEhBPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+"/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance" id="cf61182e-8116-4622-9371-38c2cd2c22af">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b48d3edc-e5a5-41ea-8489-1455d79d68fb" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych provenance" id="e841c727-4d98-423c-b1cf-2d30a538deb5">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>provenanceId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Delay" id="4682b935-62a9-441d-a865-fcaddb5118d5">
        <con:settings/>
        <con:config>
          <delay>${#Project#delaySeconds}000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Provenance" id="2d6467cb-b81e-4997-87f0-c5e96f00a4ff">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Anulowanie-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Provenance" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#provenanceId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Condition" id="630c7eab-e62b-44a5-a49a-d4453875aaee">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="Anulowanie-condition" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Condition" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#conditionId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Procedure" id="a3c79660-d4e6-4bf5-b7c0-8a091371bd41">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Anulowanie-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Procedure" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#procedureId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Encounter" id="c7d79644-138f-449c-a3ef-4a251b0550f8">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Delete-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Encounter" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#encounterId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:testCase id="f5c44797-7988-4d1e-a915-01e09b516952" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Rejestracja noworodka - cia mnoga, matka bez numeru PESEL (paszport)" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskanie tokenu dostpowego" id="e8c76390-23c0-470b-995a-8b3ecb58c0bf">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych" id="15c5fe9a-c55e-4dce-ad44-f84467524ce9">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

String paszportSeria = org.apache.commons.lang.RandomStringUtils.random(2, true, false)
String paszportNum = org.apache.commons.lang.RandomStringUtils.random(6, false, true)

def formatter = DateTimeFormatter.ofPattern("yyyyMMdd")
def teraz = ZonedDateTime.now()
String data1 = teraz.minusHours(6).format(formatter)

def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("identyfikatorMatkiPaszport", paszportSeria.toUpperCase()+paszportNum+"-"+data1+"-01")</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="78b455d7-be4e-46bf-8a15-c78d69871caf">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>identyfikatorMatkiPaszport</con:name>
              <con:value>BR477227-20220902-01</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorMatkaPosiadajacaPaszportOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.7.4.56</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="patientResource" id="0562a8a7-4e89-4707-a3d9-03443e887366">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>patient-noworodek-ciaza-mng-paszport.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Patient xmlns="http://hl7.org/fhir">
    <meta>
        <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPatient" />
        <security>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
            <code value="N"/>
        </security>
    </meta>
    <identifier>
        <system value="urn:oid:2.16.840.1.113883.3.4424.1.7.4.56" />
        <value value="BR477227-20220902-01" />
    </identifier>
    <name>
        <family value="Nowak"/>
        <given value="Joanna"/>
    </name>
    <telecom>
        <system value="phone"/>
        <value value="+48666666666"/>
    </telecom>
    <gender value="male"/>
    <birthDate value="2020-01-30"/>
    <multipleBirthInteger value="2" />
</Patient>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Patient" id="a9d214e4-7c04-4e1a-8714-14632690d0d0">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Patient/{id}" methodName="Zapis-patient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Patient" id="ae51083b-704b-45e7-88c7-385ef76c5721" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${patientResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Patient/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="90ea303b-56ec-4f6e-8ca9-b87beea0c859" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="identifier" value=""/>
              <con:entry key="plgiven" value=""/>
              <con:entry key="birthdate" value=""/>
              <con:entry key="gender" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="_id" value=""/>
              <con:entry key="encounter" value=""/>
              <con:entry key="plfamily" value=""/>
              <con:entry key="_sort" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plgiven</con:entry>
              <con:entry>plfamily</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>gender</con:entry>
              <con:entry>birthdate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:testCase id="c25a059a-63a1-425a-9f1c-c9a4161cfb83" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Rejestracja danych uprawnie do wiadcze - EKUZ - paszport" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskanie tokenu dostpowego" id="ddeb2ed6-fdf6-480e-bdaa-5694ffa4d045">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="0d21a8af-3726-4920-a425-c370d641f4a2">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>WU574465</con:value>
            </con:property>
            <con:property>
              <con:name>platnikOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.4.330.56</con:value>
            </con:property>
            <con:property>
              <con:name>platnikIdentyfikator</con:name>
              <con:value>WU574465</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>Anton</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>Charrette</con:value>
            </con:property>
            <con:property>
              <con:name>urodziny</con:name>
              <con:value>2002-08-23</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPerson</con:name>
              <con:value>11223344</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>5142257</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142259</con:value>
            </con:property>
            <con:property>
              <con:name>coverageId</con:name>
              <con:value>5142261</con:value>
            </con:property>
            <con:property>
              <con:name>provenanceId</con:name>
              <con:value>5142273</con:value>
            </con:property>
            <con:property>
              <con:name>ubezpieczenieIdentyfikator</con:name>
              <con:value>12345678912345678912</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>1ee05030-2c38-4e1c-b623-4e2c4d96b2f9</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>a089b952-22f8-4d26-b65e-538321b56b8a</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>38E7808F888E4DAC8811A0</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T10:40:14.527+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2022-09-02T11:40:14.527+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>coverageData</con:name>
              <con:value>2022-09-02T10:40:14.527+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>dokumentDataStart</con:name>
              <con:value>2022-09-02T10:40:14.527+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>dokumentDataKoniec</con:name>
              <con:value>2022-09-02T11:40:14.527+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:40:14.527+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych" id="1722fc72-8b27-4787-91d5-7e29b364f389">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

String zdarzenieIdentyfikator = java.util.UUID.randomUUID().toString()
String korelacjaIdentyfikator = java.util.UUID.randomUUID().toString()
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString().replace("-", "").toUpperCase().substring(0, 22)
String paszportSeria = org.apache.commons.lang.RandomStringUtils.random(2, true, false)
String paszportNum = org.apache.commons.lang.RandomStringUtils.random(6, false, true)

def pracownikImieNazwisko = context.expand('${#Project#imieNazwiskoPracownika}')
def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')
def locationIdentyfikator = context.expand('${#Project#identyfikatorMiejscaSwiadczenia}')
def podmiotIdentyfikator = context.expand('${#Project#identyfikatorPodmiotu}')

DateTimeFormatter format = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
String time1 = ZonedDateTime.now().minusHours(1).format(format)
String time2 = ZonedDateTime.now().format(format)

def dane = testRunner.testCase.getTestStepByName("dane")
dane.setPropertyValue("identyfikatorZdarzenia", zdarzenieIdentyfikator)
dane.setPropertyValue("korelacjaIdentyfikator", korelacjaIdentyfikator)
dane.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
dane.setPropertyValue("identyfikatorPacjenta", paszportSeria.toUpperCase()+paszportNum)
dane.setPropertyValue("platnikIdentyfikator", paszportSeria.toUpperCase()+paszportNum)
dane.setPropertyValue("zdarzenieDataPoczatek", time1)
dane.setPropertyValue("zdarzenieDataKoniec", time2)
dane.setPropertyValue("coverageData", time1)
dane.setPropertyValue("dokumentDataStart", time1)
dane.setPropertyValue("dokumentDataKoniec", time2)
dane.setPropertyValue("podpisData", time2)
dane.setPropertyValue("pracownikImieNazwisko", pracownikImieNazwisko)
dane.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)
dane.setPropertyValue("locationIdentyfikator", locationIdentyfikator)
dane.setPropertyValue("podmiotIdentyfikator", podmiotIdentyfikator)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="patientResource" id="a3a6e2c4-9986-493c-97f8-a24fbda8cddd">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>patient-paszport.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Patient xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPatient"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
      <value value="WU574465"/>
   </identifier>
   <name>
      <family value="Charrette"/>
      <given value="Anton"/>
   </name>
   <telecom>
      <system value="phone"/>
      <value value="+32475556791"/>
   </telecom>
   <gender value="male"/>
   <birthDate value="1960-06-30"/>
</Patient>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Patient" id="b982c475-4140-4e3d-a59e-49928bc402cc">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Patient/{id}" methodName="Zapis-patient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Patient" id="257de20c-ed41-4105-8944-573230866441" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${patientResource#resourceRequest}</con:request>
            <con:originalUri>https://t2sus.ezdrowie.gov.pl/fhir/Patient/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="fedffc12-3f34-4aa6-bfce-76ec57410e41" name="[A1] Valid HTTP Status Codes - 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="plgiven" value=""/>
              <con:entry key="birthdate" value=""/>
              <con:entry key="gender" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="_id" value=""/>
              <con:entry key="encounter" value=""/>
              <con:entry key="plfamily" value=""/>
              <con:entry key="_sort" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plgiven</con:entry>
              <con:entry>plfamily</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>gender</con:entry>
              <con:entry>birthdate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych patient" id="eaf57f83-228e-4824-81ea-76c7fb3b7caf">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterResource" id="96049961-3459-4ed6-8e5d-ea0eba130c5d">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-paszport.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
   <meta> 
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
	  <security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
	  </security>	  
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
	  <value value="1ee05030-2c38-4e1c-b623-4e2c4d96b2f9"/>
   </identifier>
   <status value="finished"/>
   <class>
      <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
	  <code value="16"/>
	  <display value="Hemodializa"/>
   </class>
   <subject>
	  <extension xmlns="http://hl7.org/fhir"
     url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
		<valueReference>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
				<value value="12345678912345678912"/>
			</identifier>
		</valueReference>
	   </extension>
	  <reference value="Patient/5142257"/>
	  <type value ="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
		 <value value="WU574465"/>
      </identifier>
	  <display value="Charrette Anton"/>
   </subject>
   <episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="a089b952-22f8-4d26-b65e-538321b56b8a"/>
		</identifier>
	</episodeOfCare>
	<basedOn>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.17.4.1"/>
			<value value="38E7808F888E4DAC8811A0"/>
			<period>
				<start value="2019-08-26T10:00:00+02:00"/>
			</period>
		</identifier>		
	</basedOn>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<period>
		<start value="2022-09-02T10:40:14.527+02:00"/>
		<end value="2022-09-02T11:40:14.527+02:00"/>
	</period>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
		url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
					<value value="WU574465"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter" id="9243eed0-9782-4f85-9237-6a599f92526c">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter" id="ca159828-a602-4357-a4ba-632c00d8f164" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="18bf6ab8-2610-482a-adf9-6ec5f9fd89ca" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych encounter" id="009ed007-4917-4774-b36c-a87bb51395ca">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id-zdarzenia</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>encounterVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="coverageResource" id="eee66eba-39ac-4751-82ad-a0d1d4b64ef7">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>coverage-ekuz.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Coverage xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementEKUZ"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>		 
	</meta>
	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementEncounterReference">
		<valueReference>
			<reference value="Encounter/5142259"/>
			<type value="Encounter"/>			
		</valueReference>
	</extension>	
	<status value="active"/>
	<type>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.93"/>
			<code value="UE"/>
			<display value="osoba uprawniona do wiadcze opieki zdrowotnej na podstawie przepisw o koordynacji"/>
		</coding>
	</type>
	<beneficiary>
		<reference value="Patient/5142257"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
			<value value="WU574465"/>
		</identifier>
	</beneficiary>
	<period>
		<start value="2019-08-26T10:00:00+02:00"/>
		<end value="2025-08-26T16:00:00+02:00"/>
	</period>	
	<payor>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
			<value value="WU574465"/>
		</identifier>
	</payor>
	<class>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentDate">
			<valueDateTime value="2022-09-02T10:40:14.527+02:00"/>
		</extension>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentIdentifier">
			<valueString value="12345678"/>
		</extension>	
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentValidityPeriod">
			<valuePeriod>
				<start value="2022-09-02T10:40:14.527+02:00"/>
				<end value="2022-09-02T11:40:14.527+02:00"/>			
			</valuePeriod>
		</extension>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentIssuingDepartment">
			<extension url="name">
				<valueString value="ABC"/>
			</extension>
			<extension url="identifier">
				<valueIdentifier>
					<value value="12345678"/>
				</valueIdentifier>
			</extension>
			<extension url="countryCode">
				<valueCoding>
					<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.64"/>
					<code value="BE"/>
					<display value="Belgia"/>					
				</valueCoding>
			</extension>
		</extension>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentTypePermit">
			<valueString value="rodzaj dokumentu"/>
		</extension>		
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentCoverageCode">
			<valueCoding>
				<code value="99.19"/>
			</valueCoding>
		</extension>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentPerson">
			<extension url="firstName">
				<valueString value="Anton"/>
			</extension>
			<extension url="lastName">
				<valueString value="Charrette"/>
			</extension>
			<extension url="birthDate">
				<valueDate value="2002-08-23"/>
			</extension>
			<extension url="Identifier">
				<valueString value="11223344"/>
			</extension>			
		</extension>		
		<type>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.92" />
				<code value="E"/>
			</coding>
		</type>
		<value value="01"/>		
	</class>
</Coverage>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Coverage" id="edd60e28-7c23-48a8-897e-cd8f27c94c59">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Coverage/{id}" methodName="Zapis-coverage" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Coverage" id="0746632f-7cfd-4e17-a31e-7377f439e634" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${coverageResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Coverage/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="dc629020-ca9d-4b82-bd1f-446fcbe14dc0" name="Valid HTTP Status Codes - 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="2ae2753a-3a1c-4d9a-8561-52840fef3c7c" name="coverageID">
              <con:configuration>
                <path>exists(/*:Coverage/*:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c1c49296-5abe-4bca-9c24-b3054e7b7519" name="profil PLEntitlementEKUZ">
              <con:configuration>
                <path>/*:Coverage/*:meta/*:profile/@value</path>
                <content>https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementEKUZ</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c1c49296-5abe-4bca-9c24-b3054e7b7519" name="PLEntitlementEncounterReference - encounterID">
              <con:configuration>
                <path>/*:Coverage/*:extension[@url='https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementEncounterReference']/*:valueReference/*:reference/@value</path>
                <content>Encounter/${dane#encounterID}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c1c49296-5abe-4bca-9c24-b3054e7b7519" name="beneficiary - patientID">
              <con:configuration>
                <path>/*:Coverage/*:beneficiary/*:reference/@value</path>
                <content>Patient/${dane#patientID}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych coverage" id="8ffc60c4-efa2-425e-8db6-9924b230ebab">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Coverage</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>coverageId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Coverage</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>coverageVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu" id="a250c44d-81c4-43c2-ad7b-a5539467e556">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>coverageVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1jNWYzNWYwMy1mYmQzLTQwZDYtYTI0ZS1lNTg0MDM3MTk3MTAiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYzVmMzVmMDMtZmJkMy00MGQ2LWEyNGUtZTU4NDAzNzE5NzEwLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTE0MjI1Ny9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjZpOGlVZ0dIUDNOZ2JCZDI5dDlrbUhQSmlURUwwMnZGbmd0YWl5eVU1V0k9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWM1ZjM1ZjAzLWZiZDMtNDBkNi1hMjRlLWU1ODQwMzcxOTcxMC1yZWYxIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9FbmNvdW50ZXIvNTE0MjI1OS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjJDY09QLy95MHpWRExjTzV5T1BIUGxiZkFMTGtJTjhETTZ3OEJRQmtiWWc9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWM1ZjM1ZjAzLWZiZDMtNDBkNi1hMjRlLWU1ODQwMzcxOTcxMC1yZWYyIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db3ZlcmFnZS81MTQyMjYxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+M294Y2JsdU9YQ3RWNkNLWEYxYzYrb3JhWWE2TzA4dTJiczY0TCswNlJWMD08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLWM1ZjM1ZjAzLWZiZDMtNDBkNi1hMjRlLWU1ODQwMzcxOTcxMC1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+K2FQc1BkMUZsVzhRbmpiSktmRDNLN29qMlNDOUpJQytrcjhHK3ZoMjBjaz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctYzVmMzVmMDMtZmJkMy00MGQ2LWEyNGUtZTU4NDAzNzE5NzEwLXNpZ3ZhbHVlIj5uc3dtbmMzNXU3cjEyVm5aMDZRbVNkQ1VzNjluSDdwUTBaaEdBK2pFSEcyUHB3T3RCSk5BMWF4NkFYTCtiNEZPYVExME5DWWo3U0lwc2pBaHc4UUZaT1BtaDJ4b3JWQ0FiLzl3NzJ3YWh4UnFPNUlRbTAvdWNtNkFETkllYUtMb3VCZEFwU1owNTdWTWFFcDgycWJLNEV5RmNzanBzeG9FWStkUVA1SnFmSkFNSDFldFNrWFZxYjdxQVhueWlGUUpzRHBCY2xyd2xmcDdWVUE5NVVTSDB1OEQrRWxYQk9pQzJVY2RUSjlpcUlONnMyOWFZZ1AzV05BaEdydVJVQXpPYXZhZmZ4MmovdnpzUEtkRHBLR1BQbGg3aTA2WUVOVzJTYnFuSkx3eXF6UVhCaVZuWnJwZG9kVGRKb0dsbEN1YjcyN1lsUUxXY3U5bmRSNHFHN1duUFE9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy1jNWYzNWYwMy1mYmQzLTQwZDYtYTI0ZS1lNTg0MDM3MTk3MTAiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLWM1ZjM1ZjAzLWZiZDMtNDBkNi1hMjRlLWU1ODQwMzcxOTcxMC1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDA6MTguMDUxKzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4=</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu" id="5262af3e-5d90-4c5c-a700-78bcbf0de0a7">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane#patientId}') + "/_history/" + context.expand('${danePodpisu#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane#encounterId}') + "/_history/" + context.expand('${danePodpisu#encounterVersion}')
String coverageReference = zmUrl + "/fhir/Coverage/" + context.expand('${dane#coverageId}') + "/_history/" + context.expand('${danePodpisu#coverageVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);
refs.add(coverageReference);
log.info(refs)

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');
log.info(accessToken)
log.info(certPath)
log.info(certPass)
String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
log.info(podpis)
testRunner.testCase.testSteps['danePodpisu'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource" id="2f76fa9c-a3e3-4b71-9643-d8bd49af40c1">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, danePodpisu</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-coverage.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/5142257"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142259"/>
		<type value="Encounter"/>
	</target>
	<target>
		<reference value="Coverage/5142261"/>
		<type value="Coverage"/>
	</target>
	<recorded value="2022-09-02T11:40:14.527+02:00"/>
	<agent>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:40:14.527+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1jNWYzNWYwMy1mYmQzLTQwZDYtYTI0ZS1lNTg0MDM3MTk3MTAiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYzVmMzVmMDMtZmJkMy00MGQ2LWEyNGUtZTU4NDAzNzE5NzEwLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTE0MjI1Ny9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjZpOGlVZ0dIUDNOZ2JCZDI5dDlrbUhQSmlURUwwMnZGbmd0YWl5eVU1V0k9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWM1ZjM1ZjAzLWZiZDMtNDBkNi1hMjRlLWU1ODQwMzcxOTcxMC1yZWYxIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9FbmNvdW50ZXIvNTE0MjI1OS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjJDY09QLy95MHpWRExjTzV5T1BIUGxiZkFMTGtJTjhETTZ3OEJRQmtiWWc9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWM1ZjM1ZjAzLWZiZDMtNDBkNi1hMjRlLWU1ODQwMzcxOTcxMC1yZWYyIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db3ZlcmFnZS81MTQyMjYxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+M294Y2JsdU9YQ3RWNkNLWEYxYzYrb3JhWWE2TzA4dTJiczY0TCswNlJWMD08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLWM1ZjM1ZjAzLWZiZDMtNDBkNi1hMjRlLWU1ODQwMzcxOTcxMC1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+K2FQc1BkMUZsVzhRbmpiSktmRDNLN29qMlNDOUpJQytrcjhHK3ZoMjBjaz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctYzVmMzVmMDMtZmJkMy00MGQ2LWEyNGUtZTU4NDAzNzE5NzEwLXNpZ3ZhbHVlIj5uc3dtbmMzNXU3cjEyVm5aMDZRbVNkQ1VzNjluSDdwUTBaaEdBK2pFSEcyUHB3T3RCSk5BMWF4NkFYTCtiNEZPYVExME5DWWo3U0lwc2pBaHc4UUZaT1BtaDJ4b3JWQ0FiLzl3NzJ3YWh4UnFPNUlRbTAvdWNtNkFETkllYUtMb3VCZEFwU1owNTdWTWFFcDgycWJLNEV5RmNzanBzeG9FWStkUVA1SnFmSkFNSDFldFNrWFZxYjdxQVhueWlGUUpzRHBCY2xyd2xmcDdWVUE5NVVTSDB1OEQrRWxYQk9pQzJVY2RUSjlpcUlONnMyOWFZZ1AzV05BaEdydVJVQXpPYXZhZmZ4MmovdnpzUEtkRHBLR1BQbGg3aTA2WUVOVzJTYnFuSkx3eXF6UVhCaVZuWnJwZG9kVGRKb0dsbEN1YjcyN1lsUUxXY3U5bmRSNHFHN1duUFE9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy1jNWYzNWYwMy1mYmQzLTQwZDYtYTI0ZS1lNTg0MDM3MTk3MTAiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLWM1ZjM1ZjAzLWZiZDMtNDBkNi1hMjRlLWU1ODQwMzcxOTcxMC1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDA6MTguMDUxKzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4="/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance" id="53b77f65-b509-4f6b-948c-4c24e4962062">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7955ada5-b8e7-437e-9ce2-7ace877d963d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f39d13c2-d3a9-4624-b02e-b99dd46ba95d" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';



exists(//ns1:Provenance/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych provenance" id="615f217c-795b-49dd-9e42-40e6996bd118">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>provenanceId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Delay" id="c7607d4f-1612-40cb-8323-15320319aa23">
        <con:settings/>
        <con:config>
          <delay>${#Project#delaySeconds}000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Provenance" id="ed0394e5-506a-4f9e-b3e6-6a5972c59d09">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Anulowanie-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Provenance" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#provenanceId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Coverage" id="4c6d76ba-c6b9-47ea-bc27-c7726582b5aa">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Coverage/{id}" methodName="Anulowanie-coverage" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Coverage" id="0746632f-7cfd-4e17-a31e-7377f439e634" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Coverage/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="dc629020-ca9d-4b82-bd1f-446fcbe14dc0" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#coverageId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Encounter" id="27e0aa52-1200-4f01-8978-28ead1705f2e">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Delete-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Encounter" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#encounterId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:setupScript/>
      <con:properties/>
    </con:testCase>
    <con:testCase id="0327cc13-8707-46f2-876d-77a43bf86c98" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Rejestracja rozliczenia wiadczenia z NFZ dla zlecenia" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskanie tokenu dostpowego" id="ef4a04fa-947b-41ee-bc34-49cf787473a4">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="4445c312-6cd5-4027-96db-cf71b809d50e">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>platnikOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.4.330.56</con:value>
            </con:property>
            <con:property>
              <con:name>platnikIdentyfikator</con:name>
              <con:value>NF648124</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.4.330.56</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>NF648124</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>ANNA</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>ANNA KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>5142279</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142281</con:value>
            </con:property>
            <con:property>
              <con:name>observationId</con:name>
              <con:value>9899</con:value>
            </con:property>
            <con:property>
              <con:name>procedureId</con:name>
              <con:value>5142291</con:value>
            </con:property>
            <con:property>
              <con:name>conditionId</con:name>
              <con:value>5142293</con:value>
            </con:property>
            <con:property>
              <con:name>coverageId</con:name>
              <con:value>5142295</con:value>
            </con:property>
            <con:property>
              <con:name>claimId</con:name>
              <con:value>5142301</con:value>
            </con:property>
            <con:property>
              <con:name>wartoscTrybu</con:name>
              <con:value>true</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>7b397319-7446-4ebe-b491-8f8e7d4e6859</con:value>
            </con:property>
            <con:property>
              <con:name>startOkresRozliczeniowy</con:name>
              <con:value>2022-09</con:value>
            </con:property>
            <con:property>
              <con:name>koniecOkresRozliczeniowy</con:name>
              <con:value>2022-09</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T10:40:35.938+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2022-09-02T11:40:35.938+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>dokumentDataStart</con:name>
              <con:value>2022-09-02T10:40:35.938+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>dokumentDataKoniec</con:name>
              <con:value>2022-09-02T11:40:35.938+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>rozpoznanieData</con:name>
              <con:value>2022-09-02T11:40:35.938+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataPoczatek</con:name>
              <con:value>2022-09-02T10:40:35.938+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataKoniec</con:name>
              <con:value>2022-09-02T11:40:35.938+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>coverageData</con:name>
              <con:value>2022-09-02T11:40:35.938+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="generowanie danych" id="67c600da-151c-4261-b3b7-39ac2bff378a">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

DateTimeFormatter format = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
String time1 = ZonedDateTime.now().minusHours(1).format(format)
String time2 = ZonedDateTime.now().format(format)
DateTimeFormatter format2 = DateTimeFormatter.ofPattern("yyyy-MM")
String time3 = ZonedDateTime.now().format(format2)

def pracownikImieNazwisko = context.expand('${#Project#imieNazwiskoPracownika}')
def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')
def locationIdentyfikator = context.expand('${#Project#identyfikatorMiejscaSwiadczenia}')
def podmiotIdentyfikator = context.expand('${#Project#identyfikatorPodmiotu}')

String paszportSeria = org.apache.commons.lang.RandomStringUtils.random(2, true, false)
String paszportNum = org.apache.commons.lang.RandomStringUtils.random(6, false, true)

def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("identyfikatorPacjenta", paszportSeria.toUpperCase() + paszportNum)
dane.setPropertyValue("platnikIdentyfikator", paszportSeria.toUpperCase() + paszportNum)
dane.setPropertyValue("zdarzenieDataPoczatek", time1)
dane.setPropertyValue("zdarzenieDataKoniec", time2)
dane.setPropertyValue("dokumentDataStart", time1)
dane.setPropertyValue("dokumentDataKoniec", time2)
dane.setPropertyValue("proceduraDataPoczatek", time1)
dane.setPropertyValue("proceduraDataKoniec", time2)
dane.setPropertyValue("rozpoznanieData", time2)
dane.setPropertyValue("coverageData", time2)
dane.setPropertyValue("startOkresRozliczeniowy", time3)
dane.setPropertyValue("koniecOkresRozliczeniowy", time3)
dane.setPropertyValue("identyfikatorZdarzenia", UUID.randomUUID().toString())
dane.setPropertyValue("pracownikImieNazwisko", pracownikImieNazwisko)
dane.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)
dane.setPropertyValue("locationIdentyfikator", locationIdentyfikator)
dane.setPropertyValue("podmiotIdentyfikator", podmiotIdentyfikator)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="patientResource" id="80d36c9e-cbe6-4569-aef5-fcd1daa68a99">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>patient-paszport.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Patient xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPatient"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
      <value value="NF648124"/>
   </identifier>
   <name>
      <family value="KASINA"/>
      <given value="ANNA"/>
   </name>
   <telecom>
      <system value="phone"/>
      <value value="+32475556791"/>
   </telecom>
   <gender value="male"/>
   <birthDate value="1960-06-30"/>
</Patient>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Patient" id="d9bbe9ea-bc37-43fb-a2e9-b00fbd764869">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Patient/{id}" methodName="Zapis-patient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Patient" id="ae51083b-704b-45e7-88c7-385ef76c5721" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${patientResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Patient/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="90ea303b-56ec-4f6e-8ca9-b87beea0c859" name="Valid HTTP Status Codes - 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="a733f7eb-2efb-458e-aef2-1ee3b5177c9f" name="XPath Match - ID">
              <con:configuration>
                <path>exists(//*:Patient/*:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="identifier" value=""/>
              <con:entry key="plgiven" value=""/>
              <con:entry key="birthdate" value=""/>
              <con:entry key="gender" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="_id" value=""/>
              <con:entry key="encounter" value=""/>
              <con:entry key="plfamily" value=""/>
              <con:entry key="_sort" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plgiven</con:entry>
              <con:entry>plfamily</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>gender</con:entry>
              <con:entry>birthdate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id patient" id="1a97b051-7960-4538-9e02-c86bb8aec313">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterResource" id="bc0934e9-f9fd-4d3b-9d45-500815c776ca">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-paszport-zlecenie.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
   <meta> 
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
	  <security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
	  </security>	  
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000001688.15.1"/>
	  <value value="7b397319-7446-4ebe-b491-8f8e7d4e6859"/>
   </identifier>
   <status value="finished"/>
   <class>
      <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
	  <code value="16"/>
	  <display value="Hemodializa"/>
   </class>
   <subject>
	  <extension xmlns="http://hl7.org/fhir"
     url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
		<valueReference>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
				<value value="94387159943871591234"/>
			</identifier>
		</valueReference>
	   </extension>
	  <reference value="Patient/5142279"/>
	  <type value ="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
		 <value value="NF648124"/>
      </identifier>
	  <display value="ANNA KASINA"/>
   </subject>
   <episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="C0B92756AE3C4D529A6AAC"/>
		</identifier>
	</episodeOfCare>
	<basedOn>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.17.18.1"/>
			<value value="C0B92756AE3C4D529A6AAC"/>
			<period>
				<start value="2019-08-26T10:00:00+02:00"/>
			</period>
		</identifier>		
	</basedOn>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<period>
		<start value="2022-09-02T10:40:35.938+02:00"/>
		<end value="2022-09-02T11:40:35.938+02:00"/>
	</period>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
		url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
					<value value="NF648124"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter" id="70172e1f-9f5e-4b6c-82cf-367a4643916b">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter" id="ca159828-a602-4357-a4ba-632c00d8f164" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="45dcab9f-b043-403b-8bcc-cc8b06dbb79c" name="Valid HTTP Status Codes - 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="a3581819-46ed-4b0d-a4ac-bc093f87ec76" name="XPath Match - ID">
              <con:configuration>
                <path>exists(//*:Encounter/*:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id encounter" id="f34234e9-941c-4909-8cfc-68fbca53a97a">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="procedureResource" id="6d83b0d6-f702-4356-8b28-1ede758f3667">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>procedure.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Procedure xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProcedure"/>
       <security>
           <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
           <code value="N"/>
       </security>
   </meta>
   <status value="completed"/>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6" />
         <code value="79.76"/>
         <display value="Zamknite nastawienie zwichnicia kolana"/>
      </coding>
   </code>
   <subject>
	  <reference value="Patient/5142279"/>
	  <type value="Patient"/>
	  <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="NF648124"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142281"/>
      <type value="Encounter"/>
   </encounter>
   <performedPeriod>
      <start value="2022-09-02T10:40:35.938+02:00"/>
      <end value="2022-09-02T11:40:35.938+02:00"/>
   </performedPeriod>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
   <location>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
		</identifier>
   </location>
</Procedure>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Procedure" id="6637c309-bc3d-470a-8ba0-fe6067983039">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Zapis-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Procedure" id="fbb19b00-838c-4ef3-a04b-b95933e72a12" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${procedureResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Procedure/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b5455364-85e4-472b-9176-40088197ed11" name="Valid HTTP Status Codes - 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="24e682e5-7a78-416c-bbe1-366fbde4baa0" name="XPath Match - ID">
              <con:configuration>
                <path>exists(//*:Procedure/*:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id procedure" id="c7f71b93-5032-46b2-b154-6303e4de5ec3">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id-procedury</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>procedureId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="conditionResource" id="2f4a45d7-78bd-40ef-8bfb-dd5fe2e0cc01">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>condition.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Condition xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventDiagnosis"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <extension url ="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLLocation">
      <valueIdentifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
      </valueIdentifier>
   </extension>
   <category>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.78"/>
         <code value="main"/>
         <display value="Gwne"/>
      </coding>
   </category>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.6.3"/>
         <code value="J04.0"/>
         <display value="Acute laryngitis"/>
      </coding>
   </code>
   <bodySite>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.79"/>
         <code value="left"/>
         <display value="Lewa strona ciaa"/>
      </coding>
   </bodySite>
   <subject>
	  <reference value="Patient/5142279"/>
	  <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="NF648124"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142281"/>
      <type value="Encounter"/>
   </encounter>
   <recordedDate value="2022-09-02T11:40:35.938+02:00"/>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
</Condition>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Condition" id="2468757f-f569-490d-bd32-6c5405e4901f">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="Zapis-condition" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Condition" id="5950c24f-0baf-497e-ac19-ab6769e5b9e2" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${conditionResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Condition</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7f8a96ea-5431-4e04-bc31-f31e8587599e" name="Valid HTTP Status Codes - 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c468a985-1324-4eb5-83f5-85df20928b5a" name="XPath Match - ID">
              <con:configuration>
                <path>exists(//*:Condition/*:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>encounter</con:entry>
              <con:entry>id</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id condition" id="20ab1528-a1ff-474c-a7a4-d5bcccaa2d13">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id-condition</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>conditionId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="coverageResource" id="39a61d52-c00d-4bbd-bddd-02744cfe1cd7">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>coverage-ekuz.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Coverage xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementEKUZ"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>		 
	</meta>
	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementEncounterReference">
		<valueReference>
			<reference value="Encounter/5142281"/>
			<type value="Encounter"/>			
		</valueReference>
	</extension>	
	<status value="active"/>
	<type>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.93"/>
			<code value="UE"/>
			<display value="osoba uprawniona do wiadcze opieki zdrowotnej na podstawie przepisw o koordynacji"/>
		</coding>
	</type>
	<beneficiary>
		<reference value="Patient/5142279"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
			<value value="NF648124"/>
		</identifier>
	</beneficiary>
	<period>
		<start value="2019-08-26T10:00:00+02:00"/>
		<end value="2025-08-26T16:00:00+02:00"/>
	</period>	
	<payor>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
			<value value="NF648124"/>
		</identifier>
	</payor>
	<class>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentDate">
			<valueDateTime value="2022-09-02T11:40:35.938+02:00"/>
		</extension>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentIdentifier">
			<valueString value="12345678"/>
		</extension>	
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentValidityPeriod">
			<valuePeriod>
				<start value="2022-09-02T10:40:35.938+02:00"/>
				<end value="2022-09-02T11:40:35.938+02:00"/>			
			</valuePeriod>
		</extension>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentIssuingDepartment">
			<extension url="name">
				<valueString value="ABC"/>
			</extension>
			<extension url="identifier">
				<valueIdentifier>
					<value value="12345678"/>
				</valueIdentifier>
			</extension>
			<extension url="countryCode">
				<valueCoding>
					<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.64"/>
					<code value="BE"/>
					<display value="Belgia"/>					
				</valueCoding>
			</extension>
		</extension>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentTypePermit">
			<valueString value="rodzaj dokumentu"/>
		</extension>		
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentCoverageCode">
			<valueCoding>
				<code value="99.19"/>
			</valueCoding>
		</extension>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentPerson">
			<extension url="firstName">
				<valueString value="ANNA"/>
			</extension>
			<extension url="lastName">
				<valueString value="KASINA"/>
			</extension>
			<extension url="birthDate">
				<valueDate value="2002-08-23"/>
			</extension>
			<extension url="Identifier">
				<valueString value="11223344"/>
			</extension>			
		</extension>		
		<type>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.92" />
				<code value="E"/>
			</coding>
		</type>
		<value value="01"/>		
	</class>
</Coverage>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Coverage" id="16fa155b-16cf-4693-bf1f-8e4d999985aa">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Coverage/{id}" methodName="Zapis-coverage" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Coverage" id="0746632f-7cfd-4e17-a31e-7377f439e634" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${coverageResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Coverage/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="dc629020-ca9d-4b82-bd1f-446fcbe14dc0" name="Valid HTTP Status Codes - 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="0df5a79a-1b33-4cbc-9018-75ff31210dab" name="XPath Match - ID">
              <con:configuration>
                <path>exists(//*:Coverage/*:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id coverage" id="6f393c27-5225-4fb1-9240-33d61f48923d">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>coverageID</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Coverage</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>coverageId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="claimResource" id="4f7f3b72-5ad9-4a98-a3db-58e36a9f5abf">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>claim-pozycja-rozliczeniowa-zlecenie.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Claim xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventNationalHealthFundClaim"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLServiceRequest">
		<extension url="identifier">
			<valueIdentifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.17.18.1"/>
				<value value="C0B92756AE3C4D529A6AAC"/>
			</valueIdentifier>
		</extension>
		<extension url="reqester">
			<valueIdentifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.1"/>
				<value value="92345678"/>
			</valueIdentifier>
		</extension>
		<extension url="requesterCode">
			<valueString value="2734581"/>
		</extension>
		<extension url="businessArrangement">
			<valueString value="08-06-02337-21-04/07"/>
		</extension>
	</extension>
		<status value="active"/>
	<type>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.95"/>
			<code value="2"/>
		</coding>
	</type>
	<use value="claim"/>
	<patient>
		<reference value="Patient/5142279"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
			<value value="NF648124"/>
		</identifier>
	</patient>
	<billablePeriod>
		<start value="2022-09"/>
		<end value="2022-09"/>
	</billablePeriod>
	<created value="2020-03-23"/>
	<provider>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</provider>
	<priority>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.65"/>
			<code value="normalny"/>
		</coding>
	</priority>
	<diagnosis>
		<sequence value="1"/>
		<diagnosisReference>
			<reference value = "Condition/5142293"/>
			<type value = "Condition"/>		
		</diagnosisReference>		
	</diagnosis>
	<procedure>
		<sequence value="1"/>
		<procedureReference>
			<reference value = "Procedure/5142291"/>
			<type value = "Procedure"/>		
		</procedureReference>	
	</procedure>
	<insurance>
		<sequence value="1"/>
		<focal value="true"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
			<value value="NF648124"/>
		</identifier>
		<coverage>
			<reference value="Coverage/5142295"/>
			<type value="Coverage"/>
		</coverage>
		<businessArrangement value="07-06-02336-20-03/06"/>
	</insurance>
	<item>
		<extension xmlns="http://hl7.org/fhir" url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLNationalHealthFundPoints">
			<valueDecimal value = "1.0000"/>
		</extension>
		<extension xmlns="http://hl7.org/fhir" url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLNationalHealthFundSpecialSettlement">
			<valueCode value="54A"/>
		</extension>
		<extension xmlns="http://hl7.org/fhir" url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLNationalHealthFundBillingItemRealQuantity">
			<valueDecimal value="1.5400"/>
		</extension>
		<extension xmlns="http://hl7.org/fhir" url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEmergencyTreatment">
			<valueBoolean value="true"/>
		</extension>
		<sequence value="1"/>
		<diagnosisSequence value="1" />
		<procedureSequence value="1" />		
		<category>
			<coding>
				<code value="01.0010.092.01"/>
			</coding>
		</category>
		<productOrService>
			<coding>
				<code value="5.01.00.0000075"/>
			</coding>
		</productOrService>
		<modifier>
			<coding>
				<code value="4"/>
			</coding>
		</modifier>
		<servicedPeriod>
			<start value="2020-03-12T14:10:01.077+01:00"/>
			<end value="2020-03-12T14:15:31.078+01:00"/>
		</servicedPeriod>
		<quantity>
			<value value="1.0000"/>
		</quantity>
		<unitPrice>
			<value value="45.53"/>
		</unitPrice>
		<factor value="1.0000"/>
		<encounter>
			<reference value="Encounter/5142281"/>
			<type value="Encounter"/>
		</encounter>
	</item>
</Claim>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Claim" id="c889b0b1-7d5d-489c-9d45-bd527e23062c">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Claim/{id}" methodName="Zapis" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Claim" id="0746632f-7cfd-4e17-a31e-7377f439e634" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${claimResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Coverage/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="dc629020-ca9d-4b82-bd1f-446fcbe14dc0" name="Valid HTTP Status Codes - 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="4304a472-01c8-401d-a83a-e6cd4b2b98d4" name="XPath Match - ID">
              <con:configuration>
                <path>exists(//*:Claim/*:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id claim" id="dc9f8eae-3d0d-431e-b902-44f2e1c082a8">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>coverageID</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Coverage</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>coverageId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
            <con:name>claimID</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Claim</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>claimId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:targetPath xsi:nil="true"/>
            <con:type>XPATH</con:type>
            <con:targetTransferType>XPATH</con:targetTransferType>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Delay" id="bca9f002-d3b3-4ce8-b2ca-2e0a91f1b65e">
        <con:settings/>
        <con:config>
          <delay>${#Project#delaySeconds}000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Claim" id="bdbfe171-8b7a-4155-a246-e76f6ff022a6">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Claim/{id}" methodName="Anulowanie" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Claim" id="0746632f-7cfd-4e17-a31e-7377f439e634" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Coverage/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="dc629020-ca9d-4b82-bd1f-446fcbe14dc0" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#claimId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Coverage" id="22eb1fa0-9e67-4eaa-8b7b-c69aeef2ff65">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Coverage/{id}" methodName="Anulowanie-coverage" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Coverage" id="0746632f-7cfd-4e17-a31e-7377f439e634" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Coverage/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="dc629020-ca9d-4b82-bd1f-446fcbe14dc0" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#coverageId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Condition" id="f195b486-1d88-4dec-af66-29bc3585eb0b">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="Anulowanie-condition" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Condition" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#conditionId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Procedure" id="08e48738-120e-4248-b086-a5b209802c3f">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Anulowanie-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Procedure" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#procedureId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Encounter" id="f7da1aaf-9d4c-4635-b363-e1a8d13ac0ac">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Delete-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Encounter" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#encounterId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:testCase id="d3451eb0-5572-42c9-8145-71bf950f5e0b" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Rejestracja danych uprawnie do wiadcze - OTHER - paszport" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskanie tokenu dostpowego" id="d24810ef-a776-4e90-8bbc-878b82e8fcc8">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="02782572-ca8b-46be-8330-e76ae0f5af4c">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>platnikOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.4.330.56</con:value>
            </con:property>
            <con:property>
              <con:name>platnikIdentyfikator</con:name>
              <con:value>TS864480</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.4.330.56</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>ANNA</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>ANNA KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>TS864480</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>5142305</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142309</con:value>
            </con:property>
            <con:property>
              <con:name>coverageId</con:name>
              <con:value>5142311</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>49bbd912-e775-4032-a406-901ca4c2aabb</con:value>
            </con:property>
            <con:property>
              <con:name>startOkresRozliczeniowy</con:name>
              <con:value>2022-09</con:value>
            </con:property>
            <con:property>
              <con:name>koniecOkresRozliczeniowy</con:name>
              <con:value>2022-09</con:value>
            </con:property>
            <con:property>
              <con:name>coverageData</con:name>
              <con:value>2022-09-02T11:40:53.837+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T10:40:53.837+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2022-09-02T11:40:53.837+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>dokumentDataStart</con:name>
              <con:value>2022-09-02T10:40:53.837+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>dokumentDataKoniec</con:name>
              <con:value>2022-09-02T11:40:53.837+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataPoczatek</con:name>
              <con:value>2021-03-25T10:36:46.632+01:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataKoniec</con:name>
              <con:value>2021-03-25T11:36:46.633+01:00</con:value>
            </con:property>
            <con:property>
              <con:name>rozpoznanieData</con:name>
              <con:value>2022-09-02T11:40:53.837+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="generowanie danych" id="de9dba71-936c-4e15-98c7-a5139f8ff96f">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

DateTimeFormatter format = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
String time1 = ZonedDateTime.now().minusHours(1).format(format)
String time2 = ZonedDateTime.now().format(format)
DateTimeFormatter format2 = DateTimeFormatter.ofPattern("yyyy-MM")
String time3 = ZonedDateTime.now().format(format2)

def pracownikImieNazwisko = context.expand('${#Project#imieNazwiskoPracownika}')
def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')
def locationIdentyfikator = context.expand('${#Project#identyfikatorMiejscaSwiadczenia}')
def podmiotIdentyfikator = context.expand('${#Project#identyfikatorPodmiotu}')

String paszportSeria = org.apache.commons.lang.RandomStringUtils.random(2, true, false)
String paszportNum = org.apache.commons.lang.RandomStringUtils.random(6, false, true)

def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("identyfikatorPacjenta", paszportSeria.toUpperCase() + paszportNum)
dane.setPropertyValue("platnikIdentyfikator", paszportSeria.toUpperCase() + paszportNum)
dane.setPropertyValue("zdarzenieDataPoczatek", time1)
dane.setPropertyValue("zdarzenieDataKoniec", time2)
dane.setPropertyValue("dokumentDataStart", time1)
dane.setPropertyValue("dokumentDataKoniec", time2)
dane.setPropertyValue("rozpoznanieData", time2)
dane.setPropertyValue("coverageData", time2)
dane.setPropertyValue("startOkresRozliczeniowy", time3)
dane.setPropertyValue("koniecOkresRozliczeniowy", time3)
dane.setPropertyValue("identyfikatorZdarzenia", UUID.randomUUID().toString())
dane.setPropertyValue("pracownikImieNazwisko", pracownikImieNazwisko)
dane.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)
dane.setPropertyValue("locationIdentyfikator", locationIdentyfikator)
dane.setPropertyValue("podmiotIdentyfikator", podmiotIdentyfikator)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="patientResource" id="2b0aa9b4-3721-4a25-8588-d3948142bab2">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>patient-paszport.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Patient xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPatient"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
      <value value="TS864480"/>
   </identifier>
   <name>
      <family value="KASINA"/>
      <given value="ANNA"/>
   </name>
   <telecom>
      <system value="phone"/>
      <value value="+32475556791"/>
   </telecom>
   <gender value="male"/>
   <birthDate value="1960-06-30"/>
</Patient>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Patient" id="3251c7c2-bd7c-4646-814f-5e7f6f8ac167">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Patient/{id}" methodName="Zapis-patient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Patient" id="ae51083b-704b-45e7-88c7-385ef76c5721" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${patientResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Patient/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="90ea303b-56ec-4f6e-8ca9-b87beea0c859" name="Valid HTTP Status Codes - 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="a733f7eb-2efb-458e-aef2-1ee3b5177c9f" name="XPath Match - ID">
              <con:configuration>
                <path>exists(//*:Patient/*:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="identifier" value=""/>
              <con:entry key="plgiven" value=""/>
              <con:entry key="birthdate" value=""/>
              <con:entry key="gender" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="_id" value=""/>
              <con:entry key="encounter" value=""/>
              <con:entry key="plfamily" value=""/>
              <con:entry key="_sort" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plgiven</con:entry>
              <con:entry>plfamily</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>gender</con:entry>
              <con:entry>birthdate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id patient" id="84bfda78-1fc1-4f7e-86ca-d07842bf06d9">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterResource" id="f24d3167-d08e-4950-9c9c-87af7f21e7ab">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-paszport-zlecenie.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
   <meta> 
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
	  <security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
	  </security>	  
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000001688.15.1"/>
	  <value value="49bbd912-e775-4032-a406-901ca4c2aabb"/>
   </identifier>
   <status value="finished"/>
   <class>
      <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
	  <code value="16"/>
	  <display value="Hemodializa"/>
   </class>
   <subject>
	  <extension xmlns="http://hl7.org/fhir"
     url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
		<valueReference>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
				<value value="94387159943871591234"/>
			</identifier>
		</valueReference>
	   </extension>
	  <reference value="Patient/5142305"/>
	  <type value ="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
		 <value value="TS864480"/>
      </identifier>
	  <display value="ANNA KASINA"/>
   </subject>
   <episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="C0B92756AE3C4D529A6AAC"/>
		</identifier>
	</episodeOfCare>
	<basedOn>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.17.18.1"/>
			<value value="C0B92756AE3C4D529A6AAC"/>
			<period>
				<start value="2019-08-26T10:00:00+02:00"/>
			</period>
		</identifier>		
	</basedOn>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<period>
		<start value="2022-09-02T10:40:53.837+02:00"/>
		<end value="2022-09-02T11:40:53.837+02:00"/>
	</period>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
		url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
					<value value="TS864480"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter" id="20e89b08-f4cc-47de-bcad-114eca978286">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter" id="ca159828-a602-4357-a4ba-632c00d8f164" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="45dcab9f-b043-403b-8bcc-cc8b06dbb79c" name="Valid HTTP Status Codes - 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="a3581819-46ed-4b0d-a4ac-bc093f87ec76" name="XPath Match - ID">
              <con:configuration>
                <path>exists(//*:Encounter/*:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id encounter" id="f8e5e225-67a9-4470-8d93-ad828bd1f54f">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="coverageResource" id="5d403421-ae54-4f23-8ada-d97416ecaeb8">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>coverage-other.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<Coverage xmlns="http://hl7.org/fhir">
  <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementOTHER"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
  </meta>
  <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementEncounterReference">
      <valueReference>
         <reference value="Encounter/5142309"/>
         <type value="Encounter"/>
      </valueReference>
  </extension>
  <status value="active"/>
  <type>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.93"/>
         <code value="U"/>
         <display value="Ubezpieczony"/>
      </coding>
  </type>
  <beneficiary>
      <reference value="Patient/5142305"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="TS864480"/>
      </identifier>
  </beneficiary>
  <period>
      <start value="2019-08-26T10:00:00+02:00"/>
      <end value="2025-08-26T16:00:00+02:00"/>
  </period>
  <payor>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="TS864480"/>
      </identifier>
  </payor>
  <class>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentDate">
         <valueDateTime value="2022-09-02T11:40:53.837+02:00"/>
      </extension>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentIdentifier">
         <valueString value="12345678"/>
      </extension>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentValidityPeriod">
         <valuePeriod>
            <start value="2019-08-26T10:00:00+02:00"/>
            <end value="2021-12-04T10:00:00+02:00"/>
         </valuePeriod>
      </extension>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentIssuingDepartment">
         <extension url="name">
            <valueString value="12345678"/>
         </extension>
         <extension url="identifier">
            <valueIdentifier>
               <system value="urn:oid:2.16.840.1.113883.3.4424.2.1"/>
               <value value="12345678"/>
            </valueIdentifier>
         </extension>
      </extension>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentTypePermit">
         <valueString value="opis"/>
      </extension>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentIdetifierFarmer">
         <valueIdentifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
            <value value="123456789012"/>
         </valueIdentifier>
      </extension>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentCommuneTerritorialDivisionCode">
         <valueCode value="3201011"/>
      </extension>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentPublishDepartment">
         <valueString value="department"/>
      </extension>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentDecisionDate">
         <valueDateTime value="2019-08-26T10:00:00+02:00"/>
      </extension>
      <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentIdentifierNPWZ">
         <valueIdentifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
            <value value="2698040"/>
         </valueIdentifier>
      </extension>
      <type>
         <coding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.92"/>
            <code value="K"/>
         </coding>
      </type>
      <value value="01"/>
  </class>
</Coverage>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Usunicie node" id="92848447-7159-4c56-b021-694aaac75515">
        <con:settings/>
        <con:config>
          <script>import groovy.xml.XmlUtil;

def xml = testRunner.testCase.testSteps['coverageResource']
def coverage = xml.getPropertyValue( "resourceRequest")

def coverageXML = new XmlParser().parseText(coverage)

//usunicie wzla verificationStatus
coverageXML.class.extension[2].valuePeriod.start.delete
coverage = XmlUtil.serialize(coverageXML)
xml.setPropertyValue( "resourceRequest",  coverage)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Coverage" id="f57b79e5-cf6a-49d3-88ce-313c832ae879">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Coverage/{id}" methodName="Zapis-coverage" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Coverage" id="0746632f-7cfd-4e17-a31e-7377f439e634" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${coverageResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Coverage/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="dc629020-ca9d-4b82-bd1f-446fcbe14dc0" name="Valid HTTP Status Codes - 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="0df5a79a-1b33-4cbc-9018-75ff31210dab" name="XPath Match - ID">
              <con:configuration>
                <path>exists(//*:Coverage/*:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id coverage" id="53eebaad-d2cf-4a71-8263-421d91dec852">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>coverageID</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Coverage</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>coverageId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Delay" id="ac17437b-130f-47bd-8ef3-728afae777c1">
        <con:settings/>
        <con:config>
          <delay>${#Project#delaySeconds}000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Coverage" id="239522bc-9c38-42ce-86af-c4bec7b9f7f1">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Coverage/{id}" methodName="Anulowanie-coverage" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Coverage" id="0746632f-7cfd-4e17-a31e-7377f439e634" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Coverage/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="dc629020-ca9d-4b82-bd1f-446fcbe14dc0" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#coverageId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Encounter" id="64323614-fc0c-478e-865f-c4ec0ed19dc9">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Delete-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Encounter" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#encounterId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:testCase id="9d21cbbf-45bc-4ac3-8636-dba6b295939c" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Rejestracja danych uprawnie do wiadcze - OS [OSE] - paszport" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskanie tokenu dostpowego" id="0caedae9-e5fd-417e-83f4-17cf932a0b7e">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="65709e9e-6fa0-4766-ab38-5fa69323db1a">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>platnikOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.4.330.56</con:value>
            </con:property>
            <con:property>
              <con:name>platnikIdentyfikator</con:name>
              <con:value>RE611844</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>RE611844</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>ANNA</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>ANNA KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>urodziny</con:name>
              <con:value>2002-08-23</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPerson</con:name>
              <con:value>11223344</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>5142317</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142321</con:value>
            </con:property>
            <con:property>
              <con:name>coverageId</con:name>
              <con:value>5142325</con:value>
            </con:property>
            <con:property>
              <con:name>provenanceId</con:name>
              <con:value>5142331</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>D90DBF2965D84BF399D03E</con:value>
            </con:property>
            <con:property>
              <con:name>ubezpieczenieIdentyfikator</con:name>
              <con:value>12345678912345678912</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2022-09-02T11:40:58.149+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>5b702733-756a-4298-b151-fce4c437248b</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>b1259ada-639d-42a3-a719-b74cbd138aa9</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T10:40:58.149+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>coverageData</con:name>
              <con:value>2022-09-02T10:40:58.149+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>dokumentDataStart</con:name>
              <con:value>2022-09-02T10:40:58.149+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>dokumentDataKoniec</con:name>
              <con:value>2022-09-02T11:40:58.149+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:40:58.149+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych" id="e79fcd51-caa8-419c-9f21-f63e33769f69">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

String zdarzenieIdentyfikator = java.util.UUID.randomUUID().toString()
String korelacjaIdentyfikator = java.util.UUID.randomUUID().toString()
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString().replace("-", "").toUpperCase().substring(0, 22)
String paszportSeria = org.apache.commons.lang.RandomStringUtils.random(2, true, false)
String paszportNum = org.apache.commons.lang.RandomStringUtils.random(6, false, true)

def pracownikImieNazwisko = context.expand('${#Project#imieNazwiskoPracownika}')
def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')
def locationIdentyfikator = context.expand('${#Project#identyfikatorMiejscaSwiadczenia}')
def podmiotIdentyfikator = context.expand('${#Project#identyfikatorPodmiotu}')

DateTimeFormatter format = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
String time1 = ZonedDateTime.now().minusHours(1).format(format)
String time2 = ZonedDateTime.now().format(format)

def dane = testRunner.testCase.getTestStepByName("dane")
dane.setPropertyValue("identyfikatorZdarzenia", zdarzenieIdentyfikator)
dane.setPropertyValue("korelacjaIdentyfikator", korelacjaIdentyfikator)
dane.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
dane.setPropertyValue("identyfikatorPacjenta", paszportSeria.toUpperCase()+paszportNum)
dane.setPropertyValue("platnikIdentyfikator", paszportSeria.toUpperCase()+paszportNum)
dane.setPropertyValue("zdarzenieDataPoczatek", time1)
dane.setPropertyValue("zdarzenieDataKoniec", time2)
dane.setPropertyValue("coverageData", time1)
dane.setPropertyValue("dokumentDataStart", time1)
dane.setPropertyValue("dokumentDataKoniec", time2)
dane.setPropertyValue("podpisData", time2)
dane.setPropertyValue("pracownikImieNazwisko", pracownikImieNazwisko)
dane.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)
dane.setPropertyValue("locationIdentyfikator", locationIdentyfikator)
dane.setPropertyValue("podmiotIdentyfikator", podmiotIdentyfikator)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="patientResource" id="cec0f267-d003-4ab7-95ac-66b332492002">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>patient-paszport.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Patient xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPatient"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
      <value value="RE611844"/>
   </identifier>
   <name>
      <family value="KASINA"/>
      <given value="ANNA"/>
   </name>
   <telecom>
      <system value="phone"/>
      <value value="+32475556791"/>
   </telecom>
   <gender value="male"/>
   <birthDate value="1960-06-30"/>
</Patient>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Patient" id="b09f07d7-0b5b-4871-bc37-78b50ffe8604">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Patient/{id}" methodName="Zapis-patient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Patient" id="257de20c-ed41-4105-8944-573230866441" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${patientResource#resourceRequest}</con:request>
            <con:originalUri>https://t2sus.ezdrowie.gov.pl/fhir/Patient/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="fedffc12-3f34-4aa6-bfce-76ec57410e41" name="[A1] Valid HTTP Status Codes - 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="plgiven" value=""/>
              <con:entry key="birthdate" value=""/>
              <con:entry key="gender" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="_id" value=""/>
              <con:entry key="encounter" value=""/>
              <con:entry key="plfamily" value=""/>
              <con:entry key="_sort" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plgiven</con:entry>
              <con:entry>plfamily</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>gender</con:entry>
              <con:entry>birthdate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych patient" id="d673c110-4c35-4dfa-9ae7-ef3e66f10403">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterResource" id="b331d165-c1aa-4814-94ab-6183125b1118">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-paszport.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
   <meta> 
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
	  <security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
	  </security>	  
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
	  <value value="5b702733-756a-4298-b151-fce4c437248b"/>
   </identifier>
   <status value="finished"/>
   <class>
      <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
	  <code value="16"/>
	  <display value="Hemodializa"/>
   </class>
   <subject>
	  <extension xmlns="http://hl7.org/fhir"
     url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
		<valueReference>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
				<value value="12345678912345678912"/>
			</identifier>
		</valueReference>
	   </extension>
	  <reference value="Patient/5142317"/>
	  <type value ="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
		 <value value="RE611844"/>
      </identifier>
	  <display value="ANNA KASINA"/>
   </subject>
   <episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="b1259ada-639d-42a3-a719-b74cbd138aa9"/>
		</identifier>
	</episodeOfCare>
	<basedOn>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.17.4.1"/>
			<value value="D90DBF2965D84BF399D03E"/>
			<period>
				<start value="2019-08-26T10:00:00+02:00"/>
			</period>
		</identifier>		
	</basedOn>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<period>
		<start value="2022-09-02T10:40:58.149+02:00"/>
		<end value="2022-09-02T11:40:58.149+02:00"/>
	</period>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
		url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
					<value value="RE611844"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter" id="3d12d6de-53db-473b-a414-f3f1e06fd5d2">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter" id="ca159828-a602-4357-a4ba-632c00d8f164" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="18bf6ab8-2610-482a-adf9-6ec5f9fd89ca" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych encounter" id="f649dded-bf22-4360-abf6-40f46739a8c3">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id-zdarzenia</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>encounterVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="coverageResource" id="5abbf0ea-aac6-452f-88ad-bca3e13b4760">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>coverage-os-extensions.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Coverage xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementOS"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementEncounterReference">
		<valueReference>
			<reference value="Encounter/5142321"/>
			<type value="Encounter"/>			
		</valueReference>
	</extension>	
	<status value="active"/>
	<type>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.93"/>
			<code value="U"/>
			<display value="Ubezpieczony"/>
		</coding>
	</type>
	<beneficiary>
		<reference value="Patient/5142317"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
			<value value="RE611844"/>
		</identifier>
	</beneficiary>
	<period>
		<start value="2019-08-26T10:00:00+02:00"/>
		<end value="2025-08-26T16:00:00+02:00"/>
	</period>	
	<payor>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
			<value value="RE611844"/>
		</identifier>
	</payor>
	<class>		
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentStatementCode">
			<valueCoding>
				<system value="https://ezdrowie.gov.pl/fhir/CodeSystem/PLEntitlementDocumentStatementCodeTypeCodeSystem"/>
				<code value="OUP"/>
				<display value="Wskazanie podstawy prawa do wiadcze na podstawie objcia ubezpieczeniem zdrowotnym  owiadczenie zoone przez wiadczeniobiorc"/>			
			</valueCoding>
		</extension>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentDate">
			<valueDateTime value="2022-09-02T10:40:58.149+02:00"/>
		</extension>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentIdentifier">
			<valueString value="12345678"/>
		</extension>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentValidityPeriod">
			<valuePeriod>
				<start value="2019-08-26T10:00:00+02:00"/>
				<end value="2021-12-04T10:00:00+02:00"/>
			</valuePeriod>
		</extension>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentConfirmMethodCode">
			<valueCoding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.119"/>
				<code value="2"/>
				<display value="okazanie przez pacjenta dokumentu potwierdzajcego tosamo - wycznie przy udzielaniu wiadczenia opieki zdrowotnej w formie wideoporady"/>			
			</valueCoding>
		</extension>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentSubmitMethodCode">
			<valueCoding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.120"/>
				<code value="2"/>
				<display value="elektronicznie (na odpowiednim urzdzeniu rejestrujcym podpis jako grafik lub w formie wiadomoci e-mail)"/>			
			</valueCoding>
		</extension>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentPersonOS">
			<extension url="Identifier">
				<valueIdentifier>
					<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
					<value value="RE611844"/>
				</valueIdentifier>
			</extension>
			<extension url="Name">
				<valueHumanName>
					<family value="KASINA"/>
					<given value="ANNA"/>
				</valueHumanName>
			</extension>
			<extension url="Address">
				<valueAddress>
					<line value="Netelaan 179"/>
					<city value="Brugge"/>
					<district value="West-Vlaanderen"/>
					<state value="Vlaams Gewest"/>
					<postalCode value="3452H"/>
					<country value="Belgia"/>
				</valueAddress>
			</extension>
		</extension>
		<type>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.92"/>
				<code value="OSE"/>
			</coding>
		</type>
		<value value="01"/>
	</class>
</Coverage>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Coverage" id="5899b587-21ff-4b95-9b41-4a01130e5e7a">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Coverage/{id}" methodName="Zapis-coverage" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Coverage" id="0746632f-7cfd-4e17-a31e-7377f439e634" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${coverageResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Coverage/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="dc629020-ca9d-4b82-bd1f-446fcbe14dc0" name="Valid HTTP Status Codes - 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="2ae2753a-3a1c-4d9a-8561-52840fef3c7c" name="coverageID">
              <con:configuration>
                <path>exists(/*:Coverage/*:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c1c49296-5abe-4bca-9c24-b3054e7b7519" name="profil PLEntitlementEKUZ">
              <con:configuration>
                <path>/*:Coverage/*:meta/*:profile/@value</path>
                <content>https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementOS</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c1c49296-5abe-4bca-9c24-b3054e7b7519" name="PLEntitlementEncounterReference - encounterID">
              <con:configuration>
                <path>/*:Coverage/*:extension[@url='https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementEncounterReference']/*:valueReference/*:reference/@value</path>
                <content>Encounter/${dane#encounterID}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c1c49296-5abe-4bca-9c24-b3054e7b7519" name="beneficiary - patientID">
              <con:configuration>
                <path>/*:Coverage/*:beneficiary/*:reference/@value</path>
                <content>Patient/${dane#patientID}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych coverage" id="cc51c085-0437-4add-a456-1e66fd08c1d8">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Coverage</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>coverageId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Coverage</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>coverageVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu" id="f092a8dd-2f24-4dcb-91f1-23510703b5e5">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>coverageVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy02YzFiM2U1MC02ZmVlLTRkZmUtODQ1NS04OTI2YzVmOTYyYjQiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNmMxYjNlNTAtNmZlZS00ZGZlLTg0NTUtODkyNmM1Zjk2MmI0LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTE0MjMxNy9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkJEaTJmZXZnZDZseWQxYnNPRzl5ODNVSEw3Y0h3MjA3RjVjS1VIYm1USHc9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTZjMWIzZTUwLTZmZWUtNGRmZS04NDU1LTg5MjZjNWY5NjJiNC1yZWYxIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9FbmNvdW50ZXIvNTE0MjMyMS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPm9hN2pJM1ZNdjczV0EzYjJvei83Nm5sdUFHT0dScFFxNlYrbnNIL3BhcWM9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTZjMWIzZTUwLTZmZWUtNGRmZS04NDU1LTg5MjZjNWY5NjJiNC1yZWYyIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db3ZlcmFnZS81MTQyMzI1L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+eGlFN2hqRFYrN2kxRmE5NlY0SnRPRm5KU1RiS3FJQ1RvQ2pPelMxR3U4Zz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLTZjMWIzZTUwLTZmZWUtNGRmZS04NDU1LTg5MjZjNWY5NjJiNC1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+dlUrUzVVUVd5SHNJRnJud1M1RzRxRGkrckFkOEcyTnRZbDBXayt5dHlHZz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctNmMxYjNlNTAtNmZlZS00ZGZlLTg0NTUtODkyNmM1Zjk2MmI0LXNpZ3ZhbHVlIj5yeDJhRURKSzUvaDdpMWxNODdCcG5uS1gvTlhsNEdjY1F6NUpXd0hKS0ZlTGNINTcxTnlNdlZ1TldxQThSN2RSSHQyZzBnTnJpTUR4MS8rbFJ6NU91dTZDMTFnNkVZOVBTOE5nZUtaNWZkZGx3dE9rR3RGdGVCZDJOQmw0YjdBZzJaWml3UStZTmlKS3RpbXhKeEsvSHRsZ2t2cUNkNTdsNURyQ2hiM09RR2hacHRrNThzWHZmajIrMEtaY0F4dkxsdzJ4bElBV2FHVysyR09odHoxZHExZGtoOFVuek1UWjl6VC9ubUhpV1VaekpMYWRNMEdsNC9qcFJhcXIxdEpvdy9hTG1CdTRiZjFjZGJoZmxGTjB1OGdIZytoWStBMGthNWRIdkYyc1J2L0czMVVsYWEyVlRycGx1NFM3N2NySXVHU1dXeFRZNXFpaDZNYWNhQStzR1E9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy02YzFiM2U1MC02ZmVlLTRkZmUtODQ1NS04OTI2YzVmOTYyYjQiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLTZjMWIzZTUwLTZmZWUtNGRmZS04NDU1LTg5MjZjNWY5NjJiNC1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDA6NTkuNzY4KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4=</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu" id="7ebba2fb-0c92-4d33-8e4f-6457fd0d5533">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane#patientId}') + "/_history/" + context.expand('${danePodpisu#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane#encounterId}') + "/_history/" + context.expand('${danePodpisu#encounterVersion}')
String coverageReference = zmUrl + "/fhir/Coverage/" + context.expand('${dane#coverageId}') + "/_history/" + context.expand('${danePodpisu#coverageVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);
refs.add(coverageReference);
log.info(refs)

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');
log.info(accessToken)
log.info(certPath)
log.info(certPass)
String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
log.info(podpis)
testRunner.testCase.testSteps['danePodpisu'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource" id="04c35b0b-513d-4323-aac2-d77efd918262">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, danePodpisu</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-coverage.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/5142317"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142321"/>
		<type value="Encounter"/>
	</target>
	<target>
		<reference value="Coverage/5142325"/>
		<type value="Coverage"/>
	</target>
	<recorded value="2022-09-02T11:40:58.149+02:00"/>
	<agent>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:40:58.149+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy02YzFiM2U1MC02ZmVlLTRkZmUtODQ1NS04OTI2YzVmOTYyYjQiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNmMxYjNlNTAtNmZlZS00ZGZlLTg0NTUtODkyNmM1Zjk2MmI0LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTE0MjMxNy9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkJEaTJmZXZnZDZseWQxYnNPRzl5ODNVSEw3Y0h3MjA3RjVjS1VIYm1USHc9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTZjMWIzZTUwLTZmZWUtNGRmZS04NDU1LTg5MjZjNWY5NjJiNC1yZWYxIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9FbmNvdW50ZXIvNTE0MjMyMS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPm9hN2pJM1ZNdjczV0EzYjJvei83Nm5sdUFHT0dScFFxNlYrbnNIL3BhcWM9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTZjMWIzZTUwLTZmZWUtNGRmZS04NDU1LTg5MjZjNWY5NjJiNC1yZWYyIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db3ZlcmFnZS81MTQyMzI1L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+eGlFN2hqRFYrN2kxRmE5NlY0SnRPRm5KU1RiS3FJQ1RvQ2pPelMxR3U4Zz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLTZjMWIzZTUwLTZmZWUtNGRmZS04NDU1LTg5MjZjNWY5NjJiNC1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+dlUrUzVVUVd5SHNJRnJud1M1RzRxRGkrckFkOEcyTnRZbDBXayt5dHlHZz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctNmMxYjNlNTAtNmZlZS00ZGZlLTg0NTUtODkyNmM1Zjk2MmI0LXNpZ3ZhbHVlIj5yeDJhRURKSzUvaDdpMWxNODdCcG5uS1gvTlhsNEdjY1F6NUpXd0hKS0ZlTGNINTcxTnlNdlZ1TldxQThSN2RSSHQyZzBnTnJpTUR4MS8rbFJ6NU91dTZDMTFnNkVZOVBTOE5nZUtaNWZkZGx3dE9rR3RGdGVCZDJOQmw0YjdBZzJaWml3UStZTmlKS3RpbXhKeEsvSHRsZ2t2cUNkNTdsNURyQ2hiM09RR2hacHRrNThzWHZmajIrMEtaY0F4dkxsdzJ4bElBV2FHVysyR09odHoxZHExZGtoOFVuek1UWjl6VC9ubUhpV1VaekpMYWRNMEdsNC9qcFJhcXIxdEpvdy9hTG1CdTRiZjFjZGJoZmxGTjB1OGdIZytoWStBMGthNWRIdkYyc1J2L0czMVVsYWEyVlRycGx1NFM3N2NySXVHU1dXeFRZNXFpaDZNYWNhQStzR1E9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy02YzFiM2U1MC02ZmVlLTRkZmUtODQ1NS04OTI2YzVmOTYyYjQiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLTZjMWIzZTUwLTZmZWUtNGRmZS04NDU1LTg5MjZjNWY5NjJiNC1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDA6NTkuNzY4KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4="/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance" id="fe6331e1-4d9a-49f8-8725-efd8ccca35ba">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7955ada5-b8e7-437e-9ce2-7ace877d963d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f39d13c2-d3a9-4624-b02e-b99dd46ba95d" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';



exists(//ns1:Provenance/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych provenance" id="fea4b592-09b3-4bf0-a774-7262c18ae4de">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>provenanceId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Delay" id="6a9ea826-29d7-436d-838f-e869cbe1d7fd">
        <con:settings/>
        <con:config>
          <delay>${#Project#delaySeconds}000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Provenance" id="2d8609a5-95d6-4cce-b3cf-78506d5e986c">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Anulowanie-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Provenance" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#provenanceId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Coverage" id="a72cc566-8f3d-4139-8c8e-4b1c06effec1">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Coverage/{id}" methodName="Anulowanie-coverage" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Coverage" id="0746632f-7cfd-4e17-a31e-7377f439e634" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Coverage/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="dc629020-ca9d-4b82-bd1f-446fcbe14dc0" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#coverageId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Encounter" id="09efb5de-914d-45a0-8649-6eb29871e34e">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Delete-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Encounter" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#encounterId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:setupScript/>
      <con:properties/>
    </con:testCase>
    <con:properties/>
  </con:testSuite>
  <con:testSuite id="35d2de2b-eac4-41f0-af02-0a09c245852f" name="Wyszukanie Zdarzenia Medycznego i Elektronicznej Dokumentacji Medycznej">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase id="a3963015-d433-4481-86c9-a135ebec9608" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Wyszukanie, filtrowanie i sortowanie Zdarze Medycznych" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskaj token dostpowy" id="126dbf21-d5c3-4156-ae49-37f5db15b8c9">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane1" id="60b563d1-acbd-4c1a-8061-4e694d48564e">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>40010175826</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>Sylwia</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>Seniorka</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>Sylwia Seniorka</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>1940-01-01</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>537</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142341</con:value>
            </con:property>
            <con:property>
              <con:name>provenanceId</con:name>
              <con:value>5142345</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>8D5FF65C5D524D34854B91</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>c7fe2dbb-e9a8-4986-8f0e-b57f2ba5bc9e</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>19502266-d417-4e2e-93c9-af1704b65a92</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T11:40:17.657+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2022-09-02T11:41:17.657+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:41:17.657+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane2" id="6e4f5cd6-c8af-4418-a67e-a3b607853de0">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>11ec04c1-4993-4dcd-83a0-d70d7e400e9d</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>b4abe6ed-4028-4911-a1ac-b0393d741e3d</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T11:40:17.657+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2022-09-02T11:41:17.657+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>8D5FF65C5D524D34854B91</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142347</con:value>
            </con:property>
            <con:property>
              <con:name>provenanceId</con:name>
              <con:value>5142357</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:41:17.657+02:00</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane3" id="d0106bc2-2b5d-4d19-ac9e-7bc744e00840">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>1a679a9b-884e-4086-899a-29a2e2931ae6</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>b071dd7e-767b-42ad-8ab1-410ab6929396</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T11:40:17.657+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2022-09-02T11:41:17.657+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>8D5FF65C5D524D34854B91</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142361</con:value>
            </con:property>
            <con:property>
              <con:name>provenanceId</con:name>
              <con:value>5142365</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:41:17.657+02:00</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych" id="3d12c804-65c5-492f-81ac-5f4d2d6efafa">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

def pracownikImieNazwisko = context.expand('${#Project#imieNazwiskoPracownika}')
def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')
def locationIdentyfikator = context.expand('${#Project#identyfikatorMiejscaSwiadczenia}')
def podmiotIdentyfikator = context.expand('${#Project#identyfikatorPodmiotu}')

String identyfikatorZdarzenia
String korelacjaIdentyfikator
String identyfikatorZdarzenia2
String korelacjaIdentyfikator2
String identyfikatorZdarzenia3
String korelacjaIdentyfikator3
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString().replace("-", "").toUpperCase().substring(0, 22)

def formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
def teraz = ZonedDateTime.now()


	identyfikatorZdarzenia  = java.util.UUID.randomUUID().toString()
	korelacjaIdentyfikator = java.util.UUID.randomUUID().toString()
	identyfikatorZdarzenia2  = java.util.UUID.randomUUID().toString()
	korelacjaIdentyfikator2 = java.util.UUID.randomUUID().toString()
	identyfikatorZdarzenia3  = java.util.UUID.randomUUID().toString()
	korelacjaIdentyfikator3 = java.util.UUID.randomUUID().toString()

	
	String data1 = teraz.minusMinutes(1).format(formatter)
	String data2 = teraz.format(formatter)
	
	def dane1 = testRunner.testCase.testSteps['dane1']
	dane1.setPropertyValue("identyfikatorZdarzenia", identyfikatorZdarzenia)
	dane1.setPropertyValue("korelacjaIdentyfikator", korelacjaIdentyfikator)
	dane1.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
	dane1.setPropertyValue("zdarzenieDataPoczatek", data1)
	dane1.setPropertyValue("zdarzenieDataKoniec", data2)
	dane1.setPropertyValue("podpisData", data2)
	dane1.setPropertyValue("pracownikImieNazwisko", pracownikImieNazwisko)
	dane1.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)
	dane1.setPropertyValue("locationIdentyfikator", locationIdentyfikator)
	dane1.setPropertyValue("podmiotIdentyfikator", podmiotIdentyfikator)

	def dane2 = testRunner.testCase.testSteps['dane2']
	dane2.setPropertyValue("identyfikatorZdarzenia", identyfikatorZdarzenia2)
	dane2.setPropertyValue("korelacjaIdentyfikator", korelacjaIdentyfikator2)
	dane2.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
	dane2.setPropertyValue("zdarzenieDataPoczatek", data1)
	dane2.setPropertyValue("zdarzenieDataKoniec", data2)
	dane2.setPropertyValue("podpisData", data2)

	def dane3 = testRunner.testCase.testSteps['dane3']
	dane3.setPropertyValue("identyfikatorZdarzenia", identyfikatorZdarzenia3)
	dane3.setPropertyValue("korelacjaIdentyfikator", korelacjaIdentyfikator3)
	dane3.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
	dane3.setPropertyValue("zdarzenieDataPoczatek", data1)
	dane3.setPropertyValue("zdarzenieDataKoniec", data2)
	dane3.setPropertyValue("podpisData", data2)
	

String parametrDataPoczatek = teraz.minusMinutes(1).format(formatter)
String parametrDataKoniec = teraz.format(formatter)
testRunner.testCase.setPropertyValue("parametrDataPoczatek", "gt"+parametrDataPoczatek)
testRunner.testCase.setPropertyValue("parametrDataKoniec", "le"+parametrDataKoniec)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Patient ID" id="ae9152b6-1cfd-402f-ba44-d958cb46e593">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>48d1bd54-39e7-4f92-a587-b4df08704d3a</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>${dane1#identyfikatorPacjentaOID}</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>${dane1#identyfikatorPacjenta}</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>${dane1#nazwisko}</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>${dane1#imie}</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>${dane1#dataUrodzenia}</con:value>
            </con:property>
            <con:property>
              <con:name>-----------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>537</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>2739</con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>patientId</con:entry>
            <con:entry>patientVersion</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_FAIL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id patient" id="2c77247f-58b4-49bc-ba3e-925bee7148df">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>patientId</con:sourceType>
            <con:sourceStep>Patient ID</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane1</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>zapisPodpisData</con:name>
            <con:sourceType>podpisData</con:sourceType>
            <con:sourceStep>dane1</con:sourceStep>
            <con:targetType>podpisData</con:targetType>
            <con:targetStep>#TestSuite#</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterResource1" id="37a828e6-2db1-47b4-834a-927d9c31d9ec">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane1</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-bilans.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<identifier>
		<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
		<value value="19502266-d417-4e2e-93c9-af1704b65a92"/>
	</identifier>
	<status value="finished"/>
	<class>
		<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
		<code value="17"/>
		<display value="Bilans zdrowia"/>
	</class>
	<subject>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<reference value="Patient/537"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="40010175826"/>
		</identifier>
		<display value="Sylwia Seniorka"/>
	</subject>
	<episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="c7fe2dbb-e9a8-4986-8f0e-b57f2ba5bc9e"/>
		</identifier>
	</episodeOfCare>
	<basedOn>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.17.4.1"/>
			<value value="8D5FF65C5D524D34854B91"/>
			<period>
				<start value="2019-08-26T10:00:00+02:00"/>
			</period>
		</identifier>
	</basedOn>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
			<valueCoding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
				<code value="11"/>
			</valueCoding>
		</extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<period>
		<start value="2022-09-02T11:40:17.657+02:00"/>
		<end value="2022-09-02T11:41:17.657+02:00"/>
	</period>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
		<period>
			<start value="2022-09-02T11:40:17.657+02:00"/>
			<end value="2022-09-02T11:41:17.657+02:00"/>
		</period>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter 1" id="ccd08b53-efe2-4008-b9c5-ab74067eabda">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter 1" id="ca159828-a602-4357-a4ba-632c00d8f164" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterResource1#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="ee44ef96-5c48-40e2-8847-78466305a071" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych encounter1" id="e28d5759-d86f-4029-8d50-c0a9c1445e15">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter 1</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane1</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter 1</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>encounterVersion</con:targetType>
            <con:targetStep>danePodpisu1</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu1" id="8bf045aa-2e0d-4234-b649-7669a83c69fa">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1lYzY4OWU5Yi0yNzI2LTRhYmYtYThkZi0wZDNhNzg3MGU4MjIiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZWM2ODllOWItMjcyNi00YWJmLWE4ZGYtMGQzYTc4NzBlODIyLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTM3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+d1JWZkR5SGx3Y2REc20xa0tnZ3UyUVh1MlVXUS9CMmo4ZWJEeC9SU1NRWT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZWM2ODllOWItMjcyNi00YWJmLWE4ZGYtMGQzYTc4NzBlODIyLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMzQxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+TmpjbTVGRisreHJMclRYWUYxSGwzOFpxTXY5L1BYTHMxTzRSeFRlSHhDYz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLWVjNjg5ZTliLTI3MjYtNGFiZi1hOGRmLTBkM2E3ODcwZTgyMi1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+aHNEdzJ5ZzFuOHRNWFpNdFVBTlhCQ1VNNGl4SEJPMGxUWjFraVNYQzY4TT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctZWM2ODllOWItMjcyNi00YWJmLWE4ZGYtMGQzYTc4NzBlODIyLXNpZ3ZhbHVlIj4yUFNnYUJySCtlVEovZ3BXVU95YVBoTUJHeWp1S3ZadEFVbEMzVHNEckdxK1BDM3ppVEM5SmFFYWpXQnpOR29BWGNGKzFyVURWYjdZZmpSOStUaFFXK0ZsbUl1Q0dheG1oeHh0cUtHcXliWVZxM3RnS2JGVklqbS9XM1hzRHM0T2JGcEk3V2NSSGFmV0N2ZWgrTXVvaXhZc2w1SGhicWVUMDJ3VUNLNm9aWVVoTTI0N2p1SC9TU2UwNlNwMVZWaktSM25KUkFldExWZGZFSmpsaFBQM2hnc2w2ajNXUDFwblNHQ0NNbHpCdXBJb0UwcTVnaGVFb2MzNHE5cTdZSVA3cmdWcElBRGF5K3oya3pKOVM5M2VJV2dpc2lSL0ZoMjVwME9MU0RsZ3RvMzJKNkw1MDA3SHo5b2NNUHNGUWhsOWU2aG03TGEyYzhvMG9uZ2p4czhZUEE9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy1lYzY4OWU5Yi0yNzI2LTRhYmYtYThkZi0wZDNhNzg3MGU4MjIiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLWVjNjg5ZTliLTI3MjYtNGFiZi1hOGRmLTBkM2E3ODcwZTgyMi1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDE6MjYuNzE3KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4=</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu1" id="93c295a7-6062-4f98-bd5a-94d98e535efb">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane1#patientId}') + "/_history/" + context.expand('${danePodpisu1#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane1#encounterId}') + "/_history/" + context.expand('${danePodpisu1#encounterVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisu1'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource1" id="045e7d35-1cd3-4038-be2c-b3e5aa319a3b">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane1, danePodpisu1</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-encounter.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/537"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142341"/>
		<type value="Encounter"/>
	</target>
	<recorded value="2022-09-02T11:41:17.657+02:00"/>
	<agent>

		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:41:17.657+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1lYzY4OWU5Yi0yNzI2LTRhYmYtYThkZi0wZDNhNzg3MGU4MjIiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZWM2ODllOWItMjcyNi00YWJmLWE4ZGYtMGQzYTc4NzBlODIyLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTM3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+d1JWZkR5SGx3Y2REc20xa0tnZ3UyUVh1MlVXUS9CMmo4ZWJEeC9SU1NRWT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZWM2ODllOWItMjcyNi00YWJmLWE4ZGYtMGQzYTc4NzBlODIyLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMzQxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+TmpjbTVGRisreHJMclRYWUYxSGwzOFpxTXY5L1BYTHMxTzRSeFRlSHhDYz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLWVjNjg5ZTliLTI3MjYtNGFiZi1hOGRmLTBkM2E3ODcwZTgyMi1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+aHNEdzJ5ZzFuOHRNWFpNdFVBTlhCQ1VNNGl4SEJPMGxUWjFraVNYQzY4TT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctZWM2ODllOWItMjcyNi00YWJmLWE4ZGYtMGQzYTc4NzBlODIyLXNpZ3ZhbHVlIj4yUFNnYUJySCtlVEovZ3BXVU95YVBoTUJHeWp1S3ZadEFVbEMzVHNEckdxK1BDM3ppVEM5SmFFYWpXQnpOR29BWGNGKzFyVURWYjdZZmpSOStUaFFXK0ZsbUl1Q0dheG1oeHh0cUtHcXliWVZxM3RnS2JGVklqbS9XM1hzRHM0T2JGcEk3V2NSSGFmV0N2ZWgrTXVvaXhZc2w1SGhicWVUMDJ3VUNLNm9aWVVoTTI0N2p1SC9TU2UwNlNwMVZWaktSM25KUkFldExWZGZFSmpsaFBQM2hnc2w2ajNXUDFwblNHQ0NNbHpCdXBJb0UwcTVnaGVFb2MzNHE5cTdZSVA3cmdWcElBRGF5K3oya3pKOVM5M2VJV2dpc2lSL0ZoMjVwME9MU0RsZ3RvMzJKNkw1MDA3SHo5b2NNUHNGUWhsOWU2aG03TGEyYzhvMG9uZ2p4czhZUEE9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy1lYzY4OWU5Yi0yNzI2LTRhYmYtYThkZi0wZDNhNzg3MGU4MjIiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLWVjNjg5ZTliLTI3MjYtNGFiZi1hOGRmLTBkM2E3ODcwZTgyMi1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDE6MjYuNzE3KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4="/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance1" id="f94af24c-f109-4a81-afc9-8bfe15812a16">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance1" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource1#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7955ada5-b8e7-437e-9ce2-7ace877d963d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f39d13c2-d3a9-4624-b02e-b99dd46ba95d" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';



exists(//ns1:Provenance/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id provenance1" id="c4d771f7-37ce-49f2-ac34-45b33e656187">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance1</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>provenanceId</con:targetType>
            <con:targetStep>dane1</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterResource2" id="6fa4a868-9ea5-447e-a262-beb15f1429b3">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane1, dane2</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-bilans.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<identifier>
		<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
		<value value="11ec04c1-4993-4dcd-83a0-d70d7e400e9d"/>
	</identifier>
	<status value="finished"/>
	<class>
		<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
		<code value="17"/>
		<display value="Bilans zdrowia"/>
	</class>
	<subject>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<reference value="Patient/537"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="40010175826"/>
		</identifier>
		<display value="Sylwia Seniorka"/>
	</subject>
	<episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="b4abe6ed-4028-4911-a1ac-b0393d741e3d"/>
		</identifier>
	</episodeOfCare>
	<basedOn>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.17.4.1"/>
			<value value="8D5FF65C5D524D34854B91"/>
			<period>
				<start value="2019-08-26T10:00:00+02:00"/>
			</period>
		</identifier>
	</basedOn>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
			<valueCoding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
				<code value="11"/>
			</valueCoding>
		</extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<period>
		<start value="2022-09-02T11:40:17.657+02:00"/>
		<end value="2022-09-02T11:41:17.657+02:00"/>
	</period>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
		<period>
			<start value="2022-09-02T11:40:17.657+02:00"/>
			<end value="2022-09-02T11:41:17.657+02:00"/>
		</period>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter 2" id="14a10aab-69a2-4996-b1d1-1a7b061e098f">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter 2" id="ca159828-a602-4357-a4ba-632c00d8f164" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterResource2#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="ee44ef96-5c48-40e2-8847-78466305a071" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych encounter2" id="af16e589-eab5-4f5e-8644-180696e5c56f">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter 2</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane2</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter 2</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>encounterVersion</con:targetType>
            <con:targetStep>danePodpisu2</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu2" id="cfe75b45-1505-47a1-b02b-3e901b0b83f0">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy03NTljOGZkNS1hMTY4LTQ0NWYtODM5YS1jODNlMDg2NjdlNzciPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNzU5YzhmZDUtYTE2OC00NDVmLTgzOWEtYzgzZTA4NjY3ZTc3LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTM3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+d1JWZkR5SGx3Y2REc20xa0tnZ3UyUVh1MlVXUS9CMmo4ZWJEeC9SU1NRWT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNzU5YzhmZDUtYTE2OC00NDVmLTgzOWEtYzgzZTA4NjY3ZTc3LXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMzQ3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+b3RBenVVOUYxK0FUWHdWa2l3NFplaHVDcSs2cU5CK0RyNXVjK1RESC8rST08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLTc1OWM4ZmQ1LWExNjgtNDQ1Zi04MzlhLWM4M2UwODY2N2U3Ny1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+Mml3WkdzSFpPSEMwdllxQURweUlRK3lTVjlZd0ZpL2NiNmw1TEZVNTR1Zz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctNzU5YzhmZDUtYTE2OC00NDVmLTgzOWEtYzgzZTA4NjY3ZTc3LXNpZ3ZhbHVlIj5Rb2ViY2tLbDA3VXVwc3pOSVB3S3lZdDM3VVJTQkZkT3ozRmRxMjUxL2JkMlV5T2NVL3lzZWNCaXZQckFma1kxVlJzTVRCVHRXZC95dFRYbHhURDBIeitVd1pyYndONWRTVW1GSTB2UTRvR0xidmk4ZEdMVHBUODZ1clE5SmZxbnpnVmxwYkNsUFdaUHZuUll3d1dvSjRzd3JaMkdXd1NqYlhNVStkd2xlOXl3dUZjaHZ2QlJZR2pzVTI5ZFdSbDFJRGpvMi94ckFmRkxYckxKb3VlZkNCaDdURDBSbjBMTEk1U0FOYU05MVBHL0tVWllrQ0pBaDhXQzFuMzlzc1lxZ0ZBZ2lweXlualVVcWZyeFpDRjNYSUZXazlBRlN2RTRzR2ZjV0xMaDBmL0ZzWSttdU5PamlQQVVMMVJ4L2kvZmY3N0VOMURFVHBBcnZ4aS9LTFArTXc9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy03NTljOGZkNS1hMTY4LTQ0NWYtODM5YS1jODNlMDg2NjdlNzciPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLTc1OWM4ZmQ1LWExNjgtNDQ1Zi04MzlhLWM4M2UwODY2N2U3Ny1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDE6MzAuMDg5KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4=</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu2" id="a7866176-535c-4faf-aba5-c9209c32a758">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane1#patientId}') + "/_history/" + context.expand('${danePodpisu1#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane2#encounterId}') + "/_history/" + context.expand('${danePodpisu2#encounterVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisu2'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource2" id="28665e03-3f41-4386-952d-11d2e72d66e7">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane1, dane2, danePodpisu2</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-encounter.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/537"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142347"/>
		<type value="Encounter"/>
	</target>
	<recorded value="2022-09-02T11:41:17.657+02:00"/>
	<agent>

		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:41:17.657+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy03NTljOGZkNS1hMTY4LTQ0NWYtODM5YS1jODNlMDg2NjdlNzciPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNzU5YzhmZDUtYTE2OC00NDVmLTgzOWEtYzgzZTA4NjY3ZTc3LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTM3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+d1JWZkR5SGx3Y2REc20xa0tnZ3UyUVh1MlVXUS9CMmo4ZWJEeC9SU1NRWT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNzU5YzhmZDUtYTE2OC00NDVmLTgzOWEtYzgzZTA4NjY3ZTc3LXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMzQ3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+b3RBenVVOUYxK0FUWHdWa2l3NFplaHVDcSs2cU5CK0RyNXVjK1RESC8rST08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLTc1OWM4ZmQ1LWExNjgtNDQ1Zi04MzlhLWM4M2UwODY2N2U3Ny1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+Mml3WkdzSFpPSEMwdllxQURweUlRK3lTVjlZd0ZpL2NiNmw1TEZVNTR1Zz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctNzU5YzhmZDUtYTE2OC00NDVmLTgzOWEtYzgzZTA4NjY3ZTc3LXNpZ3ZhbHVlIj5Rb2ViY2tLbDA3VXVwc3pOSVB3S3lZdDM3VVJTQkZkT3ozRmRxMjUxL2JkMlV5T2NVL3lzZWNCaXZQckFma1kxVlJzTVRCVHRXZC95dFRYbHhURDBIeitVd1pyYndONWRTVW1GSTB2UTRvR0xidmk4ZEdMVHBUODZ1clE5SmZxbnpnVmxwYkNsUFdaUHZuUll3d1dvSjRzd3JaMkdXd1NqYlhNVStkd2xlOXl3dUZjaHZ2QlJZR2pzVTI5ZFdSbDFJRGpvMi94ckFmRkxYckxKb3VlZkNCaDdURDBSbjBMTEk1U0FOYU05MVBHL0tVWllrQ0pBaDhXQzFuMzlzc1lxZ0ZBZ2lweXlualVVcWZyeFpDRjNYSUZXazlBRlN2RTRzR2ZjV0xMaDBmL0ZzWSttdU5PamlQQVVMMVJ4L2kvZmY3N0VOMURFVHBBcnZ4aS9LTFArTXc9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy03NTljOGZkNS1hMTY4LTQ0NWYtODM5YS1jODNlMDg2NjdlNzciPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLTc1OWM4ZmQ1LWExNjgtNDQ1Zi04MzlhLWM4M2UwODY2N2U3Ny1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDE6MzAuMDg5KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4="/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance2" id="01bbd9ca-0902-4241-8d48-25b0fc78d6ec">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance2" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource2#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7955ada5-b8e7-437e-9ce2-7ace877d963d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f39d13c2-d3a9-4624-b02e-b99dd46ba95d" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';



exists(//ns1:Provenance/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id provenance2" id="0085542a-baa8-4963-b6be-02c59c094909">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance2</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>provenanceId</con:targetType>
            <con:targetStep>dane2</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterResource3" id="ce8f20fa-312d-473d-a213-0363cdfe9b21">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane1, dane3</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-bilans.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<identifier>
		<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
		<value value="1a679a9b-884e-4086-899a-29a2e2931ae6"/>
	</identifier>
	<status value="finished"/>
	<class>
		<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
		<code value="17"/>
		<display value="Bilans zdrowia"/>
	</class>
	<subject>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<reference value="Patient/537"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="40010175826"/>
		</identifier>
		<display value="Sylwia Seniorka"/>
	</subject>
	<episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="b071dd7e-767b-42ad-8ab1-410ab6929396"/>
		</identifier>
	</episodeOfCare>
	<basedOn>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.17.4.1"/>
			<value value="8D5FF65C5D524D34854B91"/>
			<period>
				<start value="2019-08-26T10:00:00+02:00"/>
			</period>
		</identifier>
	</basedOn>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
			<valueCoding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
				<code value="11"/>
			</valueCoding>
		</extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<period>
		<start value="2022-09-02T11:40:17.657+02:00"/>
		<end value="2022-09-02T11:41:17.657+02:00"/>
	</period>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
		<period>
			<start value="2022-09-02T11:40:17.657+02:00"/>
			<end value="2022-09-02T11:41:17.657+02:00"/>
		</period>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter 3" id="ac85ba9c-c40d-439d-8c29-7386bd93c7e0">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter 3" id="ca159828-a602-4357-a4ba-632c00d8f164" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterResource3#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="ee44ef96-5c48-40e2-8847-78466305a071" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych encounter3" id="c624551a-5ad6-4e72-882c-5beddf5b6db3">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter 3</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane3</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter 3</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>encounterVersion</con:targetType>
            <con:targetStep>danePodpisu2</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu3" id="1263f6cd-8218-48dd-9940-1c894d22529d">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy0yMjdhNDdiMC02MjQxLTQ5NTUtOGJjZS1kOGE5ZjgzMzY3YzAiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctMjI3YTQ3YjAtNjI0MS00OTU1LThiY2UtZDhhOWY4MzM2N2MwLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTM3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+d1JWZkR5SGx3Y2REc20xa0tnZ3UyUVh1MlVXUS9CMmo4ZWJEeC9SU1NRWT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctMjI3YTQ3YjAtNjI0MS00OTU1LThiY2UtZDhhOWY4MzM2N2MwLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMzYxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RmhLdk4rbDd5NjYzTFNZaFl2b0hoYXBXaDlleHZleEE1TW1vVU92T2V6az08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLTIyN2E0N2IwLTYyNDEtNDk1NS04YmNlLWQ4YTlmODMzNjdjMC1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+L2JMZC8xNjdPejdVL0JtOEJ4eWl4SGRDdGdhWkpNdXdPSVpBaUg2K3NnUT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctMjI3YTQ3YjAtNjI0MS00OTU1LThiY2UtZDhhOWY4MzM2N2MwLXNpZ3ZhbHVlIj5NYTJIQ3Q5VmdQV3lJZ0ovdzh3UUpqMEUyb1NnMk1RZWFJdWltaVhRdk94c1hSWXh5WWZHRVlXMUxpd0U2eUtneEhoY0krdExOS3Q3RU1HZ2wyR1d2TnRpbUtIV0R2Y3dwNUhOeFNqcTc0czI1MllGS2dzMFRsRUY0UWY0SUhPQ1J5RFJVT09rVFRSejZUMGdEa1h1NEswZUNBUVdSMG9qRmZYdmFxditoemN1MjA0NHNFK3JNU0ZZdkc0N3RSQ0VnNUJjaVE0UnY4eFFIblFsSGhHQkNHVDF2ZVZDaUQ2Nk1PTVNJRWp6cThiQi9uVTZtQ1dxMlJSdXNuais2bEZFaE5HSzhCRHVZcHdQeW1QWTk2c0NlME5PS0k3SjRyRE1VREg1Y3ozQkZiVEh4cVVUMU1MeWc0Q3VhcVhYcUZwN0ZCTHFPTTQxeDF3a0hjc29SczNOa2c9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy0yMjdhNDdiMC02MjQxLTQ5NTUtOGJjZS1kOGE5ZjgzMzY3YzAiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLTIyN2E0N2IwLTYyNDEtNDk1NS04YmNlLWQ4YTlmODMzNjdjMC1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDE6MzMuODQxKzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4=</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu3" id="c3c839eb-eac6-4f7b-95a1-7e75a2ade6a5">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane1#patientId}') + "/_history/" + context.expand('${danePodpisu1#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane3#encounterId}') + "/_history/" + context.expand('${danePodpisu3#encounterVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisu3'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource3" id="3bc65904-5468-4bb7-b44b-44a82e24af63">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane1, dane3, danePodpisu3</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-encounter.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/537"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142361"/>
		<type value="Encounter"/>
	</target>
	<recorded value="2022-09-02T11:41:17.657+02:00"/>
	<agent>

		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:41:17.657+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy0yMjdhNDdiMC02MjQxLTQ5NTUtOGJjZS1kOGE5ZjgzMzY3YzAiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctMjI3YTQ3YjAtNjI0MS00OTU1LThiY2UtZDhhOWY4MzM2N2MwLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTM3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+d1JWZkR5SGx3Y2REc20xa0tnZ3UyUVh1MlVXUS9CMmo4ZWJEeC9SU1NRWT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctMjI3YTQ3YjAtNjI0MS00OTU1LThiY2UtZDhhOWY4MzM2N2MwLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMzYxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RmhLdk4rbDd5NjYzTFNZaFl2b0hoYXBXaDlleHZleEE1TW1vVU92T2V6az08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLTIyN2E0N2IwLTYyNDEtNDk1NS04YmNlLWQ4YTlmODMzNjdjMC1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+L2JMZC8xNjdPejdVL0JtOEJ4eWl4SGRDdGdhWkpNdXdPSVpBaUg2K3NnUT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctMjI3YTQ3YjAtNjI0MS00OTU1LThiY2UtZDhhOWY4MzM2N2MwLXNpZ3ZhbHVlIj5NYTJIQ3Q5VmdQV3lJZ0ovdzh3UUpqMEUyb1NnMk1RZWFJdWltaVhRdk94c1hSWXh5WWZHRVlXMUxpd0U2eUtneEhoY0krdExOS3Q3RU1HZ2wyR1d2TnRpbUtIV0R2Y3dwNUhOeFNqcTc0czI1MllGS2dzMFRsRUY0UWY0SUhPQ1J5RFJVT09rVFRSejZUMGdEa1h1NEswZUNBUVdSMG9qRmZYdmFxditoemN1MjA0NHNFK3JNU0ZZdkc0N3RSQ0VnNUJjaVE0UnY4eFFIblFsSGhHQkNHVDF2ZVZDaUQ2Nk1PTVNJRWp6cThiQi9uVTZtQ1dxMlJSdXNuais2bEZFaE5HSzhCRHVZcHdQeW1QWTk2c0NlME5PS0k3SjRyRE1VREg1Y3ozQkZiVEh4cVVUMU1MeWc0Q3VhcVhYcUZwN0ZCTHFPTTQxeDF3a0hjc29SczNOa2c9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy0yMjdhNDdiMC02MjQxLTQ5NTUtOGJjZS1kOGE5ZjgzMzY3YzAiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLTIyN2E0N2IwLTYyNDEtNDk1NS04YmNlLWQ4YTlmODMzNjdjMC1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDE6MzMuODQxKzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4="/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance3" id="6cc5de34-1521-4c1e-8223-f0f0234c37c0">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance3" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource3#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7955ada5-b8e7-437e-9ce2-7ace877d963d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f39d13c2-d3a9-4624-b02e-b99dd46ba95d" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';



exists(//ns1:Provenance/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id provenance3" id="2d611bab-0233-4794-bb9c-5052eac8e521">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance3</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>provenanceId</con:targetType>
            <con:targetStep>dane3</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Delay" id="9721bce8-dd15-4bfc-b47a-09df0e81516c">
        <con:settings/>
        <con:config>
          <delay>${#Project#delaySeconds}000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="GET Encounter" id="050ae4cb-5f79-4c9f-a567-840b70b3a28a">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" id="c5b37bf5-979e-4276-ac55-06b44789eda0" name="GET Encounter" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/xml"/>
  &lt;con:entry key="Cache-control" value="no-cache"/>
&lt;/xml-fragment></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}/fhir/Encounter</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" id="4e9c5c21-02dc-487e-a024-796ba83be4fb" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter required="false" disableUrlEncoding="false">
              <con:name>plsubject</con:name>
              <con:value>${dane1#identyfikatorPacjentaOID}|${dane1#identyfikatorPacjenta}</con:value>
              <con:style>QUERY</con:style>
              <con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
              <con:default/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>date</con:name>
              <con:value>${#TestCase#parametrDataPoczatek}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>date</con:name>
              <con:value>${#TestCase#parametrDataKoniec}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>_sort</con:name>
              <con:value>-date</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>_getpagesoffset</con:name>
              <con:value>1</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>_count</con:name>
              <con:value>1</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="DELETE Provenance 1" id="9dbe7727-707b-48cd-ad14-d36fc9b90729">
        <con:settings/>
        <con:config method="DELETE" xsi:type="con:HttpRequest" id="c21b6c64-3a39-40de-a422-63f318515357" name="DELETE Provenance 1" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}/fhir/Provenance/${dane1#provenanceId}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" id="981828bc-5016-4f26-aa6f-06353dbf39e5" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="DELETE Encounter 1" id="1b0220b2-59dd-4125-a3e7-5beb71c2c18b">
        <con:settings/>
        <con:config method="DELETE" xsi:type="con:HttpRequest" id="c21b6c64-3a39-40de-a422-63f318515357" name="DELETE Encounter 1" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}/fhir/Encounter/${dane1#encounterId}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" id="981828bc-5016-4f26-aa6f-06353dbf39e5" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="DELETE Provenance 2" id="e9a98f2b-6ec1-4e25-8c83-27178f03c264">
        <con:settings/>
        <con:config method="DELETE" xsi:type="con:HttpRequest" id="c21b6c64-3a39-40de-a422-63f318515357" name="DELETE Provenance 2" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}/fhir/Provenance/${dane2#provenanceId}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" id="981828bc-5016-4f26-aa6f-06353dbf39e5" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="DELETE Encounter 2" id="42ea5424-370c-4e92-93a9-7242a433a4b3">
        <con:settings/>
        <con:config method="DELETE" xsi:type="con:HttpRequest" id="c21b6c64-3a39-40de-a422-63f318515357" name="DELETE Encounter 2" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}/fhir/Encounter/${dane2#encounterId}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" id="981828bc-5016-4f26-aa6f-06353dbf39e5" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="DELETE Provenance 3" id="437f3a51-2941-4c39-8e5d-01f954758540">
        <con:settings/>
        <con:config method="DELETE" xsi:type="con:HttpRequest" id="c21b6c64-3a39-40de-a422-63f318515357" name="DELETE Provenance 3" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}/fhir/Provenance/${dane3#provenanceId}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" id="981828bc-5016-4f26-aa6f-06353dbf39e5" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="DELETE Encounter 3" id="fa4888a4-3935-4785-a360-83b6b84121f6">
        <con:settings/>
        <con:config method="DELETE" xsi:type="con:HttpRequest" id="c21b6c64-3a39-40de-a422-63f318515357" name="DELETE Encounter 3" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}/fhir/Encounter/${dane3#encounterId}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" id="981828bc-5016-4f26-aa6f-06353dbf39e5" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>parametrDataPoczatek</con:name>
          <con:value>gt2022-09-02T11:40:17.657+02:00</con:value>
        </con:property>
        <con:property>
          <con:name>parametrDataKoniec</con:name>
          <con:value>le2022-09-02T11:41:17.657+02:00</con:value>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase id="1b58c65c-0e6c-42fa-83be-80c67ba4037a" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Wyszukanie Zdarzenia Medycznego wraz z danymi Elektronicznej Dokumentacji Medycznej" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskaj token dostpowy" id="6a0112f8-5f39-4fe8-83a3-83599250ef78">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Pozyskanie tokenu JWT" id="597fa895-775e-4e01-a7da-2b39c620ebd9">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych ZM" id="f57bd005-ee81-4adc-97d3-ed441492f2c5">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

def pracownikImieNazwisko = context.expand('${#Project#imieNazwiskoPracownika}')
def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')
def locationIdentyfikator = context.expand('${#Project#identyfikatorMiejscaSwiadczenia}')
def podmiotIdentyfikator = context.expand('${#Project#identyfikatorPodmiotu}')

def formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
def teraz = ZonedDateTime.now()
String data1 = teraz.minusHours(1).format(formatter)
String data2 = teraz.format(formatter) 

def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("zdarzenieDataPoczatek", data1)
dane.setPropertyValue("zdarzenieDataKoniec", data2)
dane.setPropertyValue("podpisData", data2)
dane.setPropertyValue("pracownikImieNazwisko", pracownikImieNazwisko)
dane.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)
dane.setPropertyValue("locationIdentyfikator", locationIdentyfikator)
dane.setPropertyValue("podmiotIdentyfikator", podmiotIdentyfikator)
String identyfikatorZdarzenia = UUID.randomUUID().toString()
dane.setPropertyValue("identyfikatorZdarzenia", identyfikatorZdarzenia)
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString().replace("-", "").toUpperCase().substring(0, 22)
dane.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)

def dane_edm = testRunner.testCase.testSteps['dane_edm']
dane_edm.setPropertyValue("MedicalEventID", identyfikatorZdarzenia)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="cf3c8f59-814f-46eb-ad84-2e542f1dd6ba">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>12300509785</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>ANNA</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>ANNA KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>1940-01-01</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>3193e104-ae0c-48b9-be3e-d082ad095338</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzeniaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>864</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142397</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>70EAE52B8B844BD3985D09</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T10:42:47.953+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2022-09-02T11:42:47.953+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:42:47.953+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane_edm" id="4746727f-91f2-4811-87ab-d7b42f27ecd1">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>MedicalEventID</con:name>
              <con:value>3193e104-ae0c-48b9-be3e-d082ad095338</con:value>
            </con:property>
            <con:property>
              <con:name>MedicalEventOID</con:name>
              <con:value>2.16.840.1.113883.3.4424.2.7.000000012106.15.1</con:value>
            </con:property>
            <con:property>
              <con:name>authorInstitution1</con:name>
              <con:value>CSIOZ^^^^^&amp;amp;2.16.840.1.113883.3.4424.2.3.1&amp;amp;ISO^^^^000000012106</con:value>
            </con:property>
            <con:property>
              <con:name>PatientID</con:name>
              <con:value>12300509785^^^&amp;amp;2.16.840.1.113883.3.4424.1.1.616&amp;amp;ISO</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>12300509785</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Patient ID" id="fcaed7ea-b12b-44fc-b518-d328f3886483">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>48d1bd54-39e7-4f92-a587-b4df08704d3a</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>${dane#identyfikatorPacjentaOID}</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>${dane#identyfikatorPacjenta}</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>${dane#nazwisko}</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>${dane#imie}</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>${dane#dataUrodzenia}</con:value>
            </con:property>
            <con:property>
              <con:name>-----------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>864</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1291</con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>patientId</con:entry>
            <con:entry>patientVersion</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id patient" id="8cc2dff5-1102-4820-82a5-bd8e0e7b41a1">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>patientId</con:sourceType>
            <con:sourceStep>Patient ID</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>patientVersion</con:sourceType>
            <con:sourceStep>Patient ID</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterResource" id="93ca692b-0892-417a-a2c6-55be63f43f5e">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-bilans.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<identifier>
		<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
		<value value="3193e104-ae0c-48b9-be3e-d082ad095338"/>
	</identifier>
	<status value="finished"/>
	<class>
		<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
		<code value="17"/>
		<display value="Bilans zdrowia"/>
	</class>
	<subject>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<reference value="Patient/864"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="12300509785"/>
		</identifier>
		<display value="ANNA KASINA"/>
	</subject>
	<episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="11111111-1111-1111-1111-111111111111"/>
		</identifier>
	</episodeOfCare>
	<basedOn>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.17.4.1"/>
			<value value="70EAE52B8B844BD3985D09"/>
			<period>
				<start value="2019-08-26T10:00:00+02:00"/>
			</period>
		</identifier>
	</basedOn>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
			<valueCoding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
				<code value="11"/>
			</valueCoding>
		</extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<period>
		<start value="2022-09-02T10:42:47.953+02:00"/>
		<end value="2022-09-02T11:42:47.953+02:00"/>
	</period>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
		<period>
			<start value="2022-09-02T10:42:47.953+02:00"/>
			<end value="2022-09-02T11:42:47.953+02:00"/>
		</period>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter" id="681a2c6b-34ee-4d43-9bb4-6283a7f744ee">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter" id="ca159828-a602-4357-a4ba-632c00d8f164" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="60090522-9e06-4369-93e2-aab05898451b" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych encounter" id="afcbeb0b-9118-4c0c-945c-0535ab0f3dfd">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>encounterVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu" id="a446d4b3-97b4-460c-9056-eaa264bf9dbf">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1291</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy04NTljYzM0NC04Nzk2LTQwYmQtOTI4OS04MGU5OTRhYTUwZmIiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctODU5Y2MzNDQtODc5Ni00MGJkLTkyODktODBlOTk0YWE1MGZiLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvODY0L19oaXN0b3J5LzEyOTEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+VzdQaVg0cUo0YXlwSkFaSFJqUGk4WFRlanJJV25PL0tuL0VYWUhTNHFZVT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctODU5Y2MzNDQtODc5Ni00MGJkLTkyODktODBlOTk0YWE1MGZiLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMzk3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+MTJscytxb0VaYWZQR0FqK0hWK1JNZWdxMDhsRVJrNDJjOVNvNnlZZWVkQT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLTg1OWNjMzQ0LTg3OTYtNDBiZC05Mjg5LTgwZTk5NGFhNTBmYi1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+TklXck5wNmNmTWR4b1h3R2JsczNsZnN1N1lLVzBtRUF1Uk1hS2hiZUpqOD08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctODU5Y2MzNDQtODc5Ni00MGJkLTkyODktODBlOTk0YWE1MGZiLXNpZ3ZhbHVlIj5uMVJ3bmIzTlFpVTE2L2o3VkJJbklqU1RMR0RRRCtiYTFqeTVxK0pleHBJK2EwRFJybGlaeUE2TlV4ZXlINFg3L0FGWkVtUXFvV2J4TjJaN0ZBQzdPR1RGcTBkRk5mblc5ZXViNVBUYndKbnd1TEpwc3hNNFYwNkw5bHRORk5sSTJ4THlveDdCa2ZZeHpITU5WajhUTGtFeWt3RDRmNFhxQ3NUc3BUOUphVU5LNTg1d1hmeHhJUzFCeGV5cm5LYjN6bTBjUW4xWFF1WHRyQ2VCLzNCS21mUmVQcHJYeUdIT1gyQmJ4YlcvNkVqUUJQeC9lRnh2UDUvSkQ5bXdURmlOcEdJSk9LdEhMNWtXRFF4b0VaTHRMK1hHL05rZDl5THhUaFdxNm1weExnbHVvZHZYeTlJMzUvQlZOV2Q3M2tqbGttSERrNjRCeVQ5YTFoblFWZko3TVE9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy04NTljYzM0NC04Nzk2LTQwYmQtOTI4OS04MGU5OTRhYTUwZmIiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLTg1OWNjMzQ0LTg3OTYtNDBiZC05Mjg5LTgwZTk5NGFhNTBmYi1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDI6NDkuMDM4KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4=</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu" id="dcbaa878-2612-41b8-bedb-94aa44f0e5d3">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane#patientId}') + "/_history/" + context.expand('${danePodpisu#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane#encounterId}') + "/_history/" + context.expand('${danePodpisu#encounterVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisu'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource" id="1e899ce7-4aa3-4af9-b18b-a036027f0993">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, danePodpisu</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-encounter.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/864"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142397"/>
		<type value="Encounter"/>
	</target>
	<recorded value="2022-09-02T11:42:47.953+02:00"/>
	<agent>

		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:42:47.953+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy04NTljYzM0NC04Nzk2LTQwYmQtOTI4OS04MGU5OTRhYTUwZmIiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctODU5Y2MzNDQtODc5Ni00MGJkLTkyODktODBlOTk0YWE1MGZiLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvODY0L19oaXN0b3J5LzEyOTEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+VzdQaVg0cUo0YXlwSkFaSFJqUGk4WFRlanJJV25PL0tuL0VYWUhTNHFZVT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctODU5Y2MzNDQtODc5Ni00MGJkLTkyODktODBlOTk0YWE1MGZiLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyMzk3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+MTJscytxb0VaYWZQR0FqK0hWK1JNZWdxMDhsRVJrNDJjOVNvNnlZZWVkQT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLTg1OWNjMzQ0LTg3OTYtNDBiZC05Mjg5LTgwZTk5NGFhNTBmYi1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+TklXck5wNmNmTWR4b1h3R2JsczNsZnN1N1lLVzBtRUF1Uk1hS2hiZUpqOD08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctODU5Y2MzNDQtODc5Ni00MGJkLTkyODktODBlOTk0YWE1MGZiLXNpZ3ZhbHVlIj5uMVJ3bmIzTlFpVTE2L2o3VkJJbklqU1RMR0RRRCtiYTFqeTVxK0pleHBJK2EwRFJybGlaeUE2TlV4ZXlINFg3L0FGWkVtUXFvV2J4TjJaN0ZBQzdPR1RGcTBkRk5mblc5ZXViNVBUYndKbnd1TEpwc3hNNFYwNkw5bHRORk5sSTJ4THlveDdCa2ZZeHpITU5WajhUTGtFeWt3RDRmNFhxQ3NUc3BUOUphVU5LNTg1d1hmeHhJUzFCeGV5cm5LYjN6bTBjUW4xWFF1WHRyQ2VCLzNCS21mUmVQcHJYeUdIT1gyQmJ4YlcvNkVqUUJQeC9lRnh2UDUvSkQ5bXdURmlOcEdJSk9LdEhMNWtXRFF4b0VaTHRMK1hHL05rZDl5THhUaFdxNm1weExnbHVvZHZYeTlJMzUvQlZOV2Q3M2tqbGttSERrNjRCeVQ5YTFoblFWZko3TVE9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy04NTljYzM0NC04Nzk2LTQwYmQtOTI4OS04MGU5OTRhYTUwZmIiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLTg1OWNjMzQ0LTg3OTYtNDBiZC05Mjg5LTgwZTk5NGFhNTBmYi1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDI6NDkuMDM4KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4="/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance" id="55fc98de-de70-45b3-8640-300449e188ad">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7955ada5-b8e7-437e-9ce2-7ace877d963d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f39d13c2-d3a9-4624-b02e-b99dd46ba95d" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';



exists(//ns1:Provenance/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Pozyskanie tokenu SAML" id="e6d6ff73-2728-403b-9bee-1c5d049ec813">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>c12669be-18b5-4cae-a904-834be9b4b4d0</con:targetTestCase>
          <con:properties/>
          <con:returnProperties>
            <con:entry>organizationLocalId</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Generowanie danych EDM" id="91fe2168-6431-418c-9451-4b219617552b">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>f5f51b2f-8ae6-4496-8d06-4be33f1a3c16</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>SubmitObjectsRequestID</con:name>
              <con:value>urn:uuid:20f29050-9771-4e6d-8302-8aaf0b1af709</con:value>
            </con:property>
            <con:property>
              <con:name>SubmissionSetLID</con:name>
              <con:value>urn:uuid:230c7a39-1cb0-437d-b645-b3045034efee</con:value>
            </con:property>
            <con:property>
              <con:name>XDSSubmissionSet.uniqueId</con:name>
              <con:value>1.2.42.1662111781032.255801</con:value>
            </con:property>
            <con:property>
              <con:name>PatientID</con:name>
              <con:value>P31726238^^^&amp;amp;1.3.6.1.4.1.21367.13.20.1000&amp;amp;ISO</con:value>
            </con:property>
            <con:property>
              <con:name>CreationTime</con:name>
              <con:value>20220902114301</con:value>
            </con:property>
            <con:property>
              <con:name>XDSDocumentEntry.uniqueId1</con:name>
              <con:value>2.16.840.1.113883.3.4424.2.7.11^3281875.3999382</con:value>
            </con:property>
            <con:property>
              <con:name>XDSDocumentEntry.uniqueId2</con:name>
              <con:value>2.16.840.1.113883.3.4424.2.7.11^343069.9177306</con:value>
            </con:property>
            <con:property>
              <con:name>DocumentEntryEntryUUID1</con:name>
              <con:value>urn:uuid:984ef0f8-382f-435a-b913-20395510b6b6</con:value>
            </con:property>
            <con:property>
              <con:name>DocumentEntryEntryUUID2</con:name>
              <con:value>urn:uuid:25603ed7-2b8e-455d-a3ed-3a82d094de72</con:value>
            </con:property>
            <con:property>
              <con:name>DocumentEntryLID1</con:name>
              <con:value>urn:uuid:7459b817-6043-4d88-aef2-69c5e32784af</con:value>
            </con:property>
            <con:property>
              <con:name>DocumentEntryLID2</con:name>
              <con:value>urn:uuid:57b7b952-1f2c-4d62-b9b5-9900f7a74f05</con:value>
            </con:property>
            <con:property>
              <con:name>XDSFolder1.uniqueId</con:name>
              <con:value>1.3.6.1.4.1.1662111781032.126056</con:value>
            </con:property>
            <con:property>
              <con:name>XDSFolder2.uniqueId</con:name>
              <con:value>1.3.6.1.4.1.1662111781032.197812</con:value>
            </con:property>
            <con:property>
              <con:name>FolderUUID1</con:name>
              <con:value>urn:uuid:fab49fd6-2c05-4ff9-9465-9566e9040092</con:value>
            </con:property>
            <con:property>
              <con:name>FolderUUID2</con:name>
              <con:value>urn:uuid:8243b9e7-b5ab-4640-b2db-393e28373e7f</con:value>
            </con:property>
            <con:property>
              <con:name>FolderLID1</con:name>
              <con:value>urn:uuid:236e52c2-8d75-4ed3-9cff-516456350ac6</con:value>
            </con:property>
            <con:property>
              <con:name>FolderLID2</con:name>
              <con:value>urn:uuid:2b2c0c19-260a-4122-b3b4-7e87542b024a</con:value>
            </con:property>
            <con:property>
              <con:name>XDSAssociationID1_SSHM</con:name>
              <con:value>urn:uuid:d3b61c30-2438-4663-a7f5-7a0a037ad7d2</con:value>
            </con:property>
            <con:property>
              <con:name>XDSAssociationID2_SSHM</con:name>
              <con:value>urn:uuid:1615088a-a1e6-4b1f-8e2f-461f84ee2a68</con:value>
            </con:property>
            <con:property>
              <con:name>XDSAssociationID1_FDDE</con:name>
              <con:value>urn:uuid:af4d1361-5555-4ab0-9862-c12ad2e3087f</con:value>
            </con:property>
            <con:property>
              <con:name>XDSAssociationID2_FDDE</con:name>
              <con:value>urn:uuid:c80c98dd-0f77-46cf-b999-f97d59a45d39</con:value>
            </con:property>
            <con:property>
              <con:name>XDSAssociationID1_SSDE</con:name>
              <con:value>urn:uuid:187e3bb0-dea9-489e-8190-994953ba5b54</con:value>
            </con:property>
            <con:property>
              <con:name>XDSAssociationID2_SSDE</con:name>
              <con:value>urn:uuid:2dbe96e0-d002-4c7b-ae6f-329a4da33762</con:value>
            </con:property>
            <con:property>
              <con:name>XDSAssociationID1_SSFD</con:name>
              <con:value>urn:uuid:c9ceed79-7240-4285-9be3-5df3dd817ecb</con:value>
            </con:property>
            <con:property>
              <con:name>XDSAssociationID2_SSFD</con:name>
              <con:value>urn:uuid:48f5c504-c068-405d-952d-f585d97d3b4b</con:value>
            </con:property>
            <con:property>
              <con:name>XDSAssociationID1_Status</con:name>
              <con:value>urn:uuid:bde4975c-9244-4a78-9667-a3d9b826b818</con:value>
            </con:property>
            <con:property>
              <con:name>XDSAssociationID1_SSDE_upd</con:name>
              <con:value>urn:uuid:8a576481-3d00-4b13-bad0-166e9665f4f5</con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>SubmitObjectsRequestID</con:entry>
            <con:entry>SubmissionSetLID</con:entry>
            <con:entry>XDSSubmissionSet.uniqueId</con:entry>
            <con:entry>PatientID</con:entry>
            <con:entry>CreationTime</con:entry>
            <con:entry>XDSDocumentEntry.uniqueId1</con:entry>
            <con:entry>XDSDocumentEntry.uniqueId2</con:entry>
            <con:entry>DocumentEntryEntryUUID1</con:entry>
            <con:entry>DocumentEntryEntryUUID2</con:entry>
            <con:entry>DocumentEntryLID1</con:entry>
            <con:entry>DocumentEntryLID2</con:entry>
            <con:entry>XDSFolder1.uniqueId</con:entry>
            <con:entry>XDSFolder2.uniqueId</con:entry>
            <con:entry>FolderUUID1</con:entry>
            <con:entry>FolderUUID2</con:entry>
            <con:entry>FolderLID1</con:entry>
            <con:entry>FolderLID2</con:entry>
            <con:entry>XDSAssociationID1_SSHM</con:entry>
            <con:entry>XDSAssociationID2_SSHM</con:entry>
            <con:entry>XDSAssociationID1_FDDE</con:entry>
            <con:entry>XDSAssociationID2_FDDE</con:entry>
            <con:entry>XDSAssociationID1_SSDE</con:entry>
            <con:entry>XDSAssociationID2_SSDE</con:entry>
            <con:entry>XDSAssociationID1_SSFD</con:entry>
            <con:entry>XDSAssociationID2_SSFD</con:entry>
            <con:entry>XDSAssociationID1_Status</con:entry>
            <con:entry>XDSAssociationID1_SSDE_upd</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Parametryzowanie obiektw EDM" id="78aecc24-447a-4060-aca6-f9edf58d289f">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>d70cbf1a-9922-4e09-896b-8b0143a12e12</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>input_params</con:name>
              <con:value>Generowanie danych EDM, dane_edm</con:value>
            </con:property>
            <con:property>
              <con:name>input_XDSDocumentEntryXML</con:name>
              <con:value>XDSDocumentEntry1.xml</con:value>
            </con:property>
            <con:property>
              <con:name>input_XDSSubmissionSetXML</con:name>
              <con:value>XDSSubmissionSet1.xml</con:value>
            </con:property>
            <con:property>
              <con:name>input_XDSFolderXML</con:name>
              <con:value>XDSFolder1.xml</con:value>
            </con:property>
            <con:property>
              <con:name>input_XDSAssociationXML</con:name>
              <con:value>XDSAssoc1_full.xml</con:value>
            </con:property>
            <con:property>
              <con:name>----------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>XDSDocumentEntryRequest</con:name>
              <con:value><![CDATA[<!-- Gwny element indeksu dokumentu medycznego -->
				<rim:ExtrinsicObject xmlns:rim="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0"
									 id="urn:uuid:984ef0f8-382f-435a-b913-20395510b6b6" 
									 lid="urn:uuid:7459b817-6043-4d88-aef2-69c5e32784af"
									 objectType="urn:uuid:7edca82f-054d-47f2-a032-9b2a5b5186c1" 
									 mimeType="text/plain"
									 status="urn:oasis:names:tc:ebxml-regrep:StatusType:Approved">
					<!-- Data wystawienia dokumentu -->
					<rim:Slot name="creationTime">
						<rim:ValueList>
							<rim:Value>20220902114301</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Kustosz dokumentacji -->
					<rim:Slot name="repositoryUniqueId">
						<rim:ValueList>
							<rim:Value>2.16.840.1.113883.3.4424.7.24.1</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Status dostpnoci dokumentu -->
					<rim:Slot name="documentAvailability">
					  <rim:ValueList>
						<rim:Value>urn:ihe:iti:2010:DocumentAvailability:Online</rim:Value>
					  </rim:ValueList>
					</rim:Slot>
					<!-- Kod jzyka dokumentu -->
					<rim:Slot name="languageCode">
						<rim:ValueList>
							<rim:Value>pl-PL</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Rozmiar dokumentu -->
					<rim:Slot name="size">
						<rim:ValueList>
							<rim:Value>4</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Skrt dokumentu -->
					<rim:Slot name="hash">
						<rim:ValueList>
							<rim:Value>da39a3ee5e6b4b0d3255bfef95601890afd80709</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- rozszerzenie PL - Kategoria brakowania dokumentu - KKM -->
					<rim:Slot name="urn:extpl:SlotName:StorageCategory">
						<rim:ValueList>
							<rim:Value>2020</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- rozszerzenie PL - Identyfikator zdarzenia medycznego - KKM -->
					<rim:Slot name="urn:extpl:SlotName:MedicalEventId">
						<rim:ValueList>
							<rim:Value>3193e104-ae0c-48b9-be3e-d082ad095338^^^&amp;2.16.840.1.113883.3.4424.2.7.000000012106.15.1&amp;ISO^urn:ihe:iti:xds:2015:encounterId</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Nazwa pliku dokumentu medycznego -->
					<rim:Slot name="URI">
						<rim:ValueList>
							<rim:Value>Badanie.xml</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Czas rozpoczcia procedury -->
					<rim:Slot name="serviceStartTime">
						<rim:ValueList>
							<rim:Value>201901130930</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Czas zakoczenia procedury -->
					<rim:Slot name="serviceStopTime">
						<rim:ValueList>
							<rim:Value>201901131000</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Identyfikator pacjenta w systemie usugodawcy -->
					<rim:Slot name="sourcePatientId">
						<rim:ValueList>
							<rim:Value>P123456789^^^&amp;2.16.840.1.113883.3.4424.2.7.1.17.1&amp;ISO</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Dane osobowe pacjenta -->
					<rim:Slot name="sourcePatientInfo">
						<rim:ValueList>
							<rim:Value>PID-5|Malinowski^Andrzej^^^^^^</rim:Value>
							<rim:Value>PID-7|19560527</rim:Value>
							<rim:Value>PID-8|M</rim:Value>
							<rim:Value>PID-11|Warszawa</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Wystawca dokumentu -->
					<rim:Slot name="legalAuthenticator"> 
						<rim:ValueList> 
							<rim:Value>2698040^Monika^Lecznicza^^^Lek. med.^^^&amp;2.16.840.1.113883.3.4424.1.6.2&amp;ISO</rim:Value>
						</rim:ValueList> 
					</rim:Slot>
					<rim:Name>
						<rim:LocalizedString value="Physical"/>
					</rim:Name>
					<rim:Description/>
					<rim:VersionInfo versionName="1"/>					
					<!-- Autor dokumentu - KKM -->
					<rim:Classification classifiedObject="urn:uuid:984ef0f8-382f-435a-b913-20395510b6b6" 
										nodeRepresentation="" 
										classificationScheme="urn:uuid:93606bcf-9494-43ec-9b4e-a7748d1a838d" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_1">
						<!-- Dane osobowe autora -->
						<rim:Slot name="authorPerson">
							<rim:ValueList>
								<rim:Value>2698040^Lecznicza^Monika^^^Lek. med.^^^&amp;2.16.840.1.113883.3.4424.1.6.2&amp;ISO</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<!-- Instytucja, ktr autor reprezentuje -->
						<rim:Slot name="authorInstitution">
							<rim:ValueList>
								<rim:Value>CSIOZ^^^^^&amp;2.16.840.1.113883.3.4424.2.3.1&amp;ISO^^^^000000012106</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<!-- Role autora -->
						<rim:Slot name="authorRole">
							<rim:ValueList>
								<rim:Value>Administrator</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<!-- Specjalizacje autora -->
						<rim:Slot name="authorSpecialty">
							<rim:ValueList>
								<rim:Value>Chirurgia</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<!-- Dane kontaktowe autora -->
						<rim:Slot name="authorTelecommunication">
							<rim:ValueList>
								<rim:Value>^EMR^PH^^^^^^^^^693112233</rim:Value>
							</rim:ValueList>
						</rim:Slot>						
					</rim:Classification>
					<!-- Typ dokumentu wg sownika P1 -->
					<rim:Classification classifiedObject="urn:uuid:984ef0f8-382f-435a-b913-20395510b6b6" 
										nodeRepresentation="06.10" 
										classificationScheme="urn:uuid:41a5887f-8865-4c09-adf7-e362475b143a" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_2">
						<!-- Nazwa sownika -->
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>Dokument laboratoryjny</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString value="Karta informacyjna leczenia szpitalnego"/>
						</rim:Name>
					</rim:Classification>
					<!-- Procedury, w wyniku wykonania ktrych powsta dokument -->
					<rim:Classification classifiedObject="urn:uuid:984ef0f8-382f-435a-b913-20395510b6b6" 
										nodeRepresentation="00.03"
										classificationScheme="urn:uuid:2c6b8cb7-8b2a-4051-b291-b1ae6a575ef4" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_3">
						<!-- Nazwa sownika -->
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>ICD-9 PL</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString value="DENY ACCESS TO ALL POLICY"/>
						</rim:Name>
					</rim:Classification>
					<!-- Poziom poufnoci -->
					<rim:Classification classifiedObject="urn:uuid:984ef0f8-382f-435a-b913-20395510b6b6" 
										nodeRepresentation="N" 
										classificationScheme="urn:uuid:f4f85eac-e6cb-4883-b524-f2705394840f" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_4">
						<!-- Nazwa sownika -->
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>2.16.840.1.113883.5.25</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString value="normal"/>
						</rim:Name>
					</rim:Classification>
					<!-- Format dokumentu -->
					<rim:Classification classifiedObject="urn:uuid:984ef0f8-382f-435a-b913-20395510b6b6" 
										nodeRepresentation="urn:extPL:pl-cda" 
										classificationScheme="urn:uuid:a09d5840-386c-46f2-b5ad-9c3699a4309d" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_5">
						<!-- Nazwa sownika -->
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>Kody formatw P1</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString value="PIK HL7 CDA"/>
						</rim:Name>
					</rim:Classification>
					<!-- Specjalno komrki organizacyjnej -->
					<rim:Classification classifiedObject="urn:uuid:984ef0f8-382f-435a-b913-20395510b6b6" 
										nodeRepresentation="1008" 
										classificationScheme="urn:uuid:f33fb8ac-18af-42cc-ae0e-ed0b0bdb91e1" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_6">
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>Specjalno komrki organizacyjnej</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString value="Szpital uzdrowiskowy dla dzieci"/>
						</rim:Name>
					</rim:Classification>
					<!-- Dziedzina medyczna usugodawcy -->
					<rim:Classification classifiedObject="urn:uuid:984ef0f8-382f-435a-b913-20395510b6b6" 
										nodeRepresentation="05" 
										classificationScheme="urn:uuid:cccf5598-8b07-4b77-a05e-ae952c785ead" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_7">
						<!-- Nazwa sownika -->
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>Dziedzina medyczna</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString value="Chirurgia oglna"/>
						</rim:Name>
					</rim:Classification>
					<!-- Typ dokumentu wg sownika LOINC -->
					<rim:Classification classifiedObject="urn:uuid:984ef0f8-382f-435a-b913-20395510b6b6" 
										nodeRepresentation="10006-5" 
										classificationScheme="urn:uuid:f0306f51-975f-434e-a61c-c59651d33983" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_8">
						<!-- Nazwa sownika -->
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>LOINC</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString charset="UTF-8" value="Conference Evaluation Note" xml:lang="pl-PL"/>
						</rim:Name>
					</rim:Classification>
					<!-- Dane usugobiorcy - identyfikator -->
					<rim:ExternalIdentifier value="12300509785^^^&amp;2.16.840.1.113883.3.4424.1.1.616&amp;ISO" 
											identificationScheme="urn:uuid:58a6f841-87b3-4a3e-92fd-a8ffeff98427" 
											objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier" 
											id="id_9" 
											registryObject="urn:uuid:984ef0f8-382f-435a-b913-20395510b6b6">
						<rim:Name>
							<rim:LocalizedString value="XDSDocumentEntry.patientId"/>
						</rim:Name>
					</rim:ExternalIdentifier>
					<!-- Identyfikator zaindeksowanego dokumentu -->
					<rim:ExternalIdentifier value="2.16.840.1.113883.3.4424.2.7.11^3281875.3999382" 
											identificationScheme="urn:uuid:2e82c1f6-a085-4c72-9da3-8640a32e42ab" 
											objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier" 
											id="id_10" 
											registryObject="urn:uuid:984ef0f8-382f-435a-b913-20395510b6b6">
						<rim:Name>
							<rim:LocalizedString value="XDSDocumentEntry.uniqueId"/>
						</rim:Name>
					</rim:ExternalIdentifier>
				</rim:ExtrinsicObject>]]></con:value>
            </con:property>
            <con:property>
              <con:name>XDSSubmissionSetRequest</con:name>
              <con:value><![CDATA[<!-- Gwny element informacji o wysyce -->
				<rim:RegistryPackage id="urn:uuid:20f29050-9771-4e6d-8302-8aaf0b1af709"
									 lid="urn:uuid:230c7a39-1cb0-437d-b645-b3045034efee"
									 objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:RegistryPackage"
									 status="urn:oasis:names:tc:ebxml-regrep:StatusType:Approved">
					<!-- Data wysania dokumentu -->
					<rim:Slot name="submissionTime">
						<rim:ValueList>
							<rim:Value>20220902114301</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<rim:Name>
						<rim:LocalizedString value="Physical"/>
					</rim:Name>
					<rim:Description>
						<rim:LocalizedString value="Annual physical"/>
					</rim:Description>
					<rim:VersionInfo versionName="1"/>					
					<!-- Pracownik medyczny lub system wykonujcy wysyk -->
					<rim:Classification classifiedObject="urn:uuid:20f29050-9771-4e6d-8302-8aaf0b1af709" 
										nodeRepresentation="" 
										classificationScheme="urn:uuid:a7058bb9-b4e4-4307-ba5b-e3f0ab85e12d" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_11">
						<!-- Dane osobowe autora -->
						<rim:Slot name="authorPerson">
							<rim:ValueList>
								<rim:Value>2698040^Lecznicza^Monika^^^Lek. med.^^^&amp;2.16.840.1.113883.3.4424.1.6.2&amp;ISO</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<!-- Identyfikator  miejsca udzielania wiadcze -->
						<rim:Slot name="authorInstitution">
							<rim:ValueList>
								<rim:Value>CSIOZ^^^^^&amp;2.16.840.1.113883.3.4424.2.3.1&amp;ISO^^^^000000012106</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<!-- Role autora -->
						<rim:Slot name="authorRole">
							<rim:ValueList>
								<rim:Value>Chirurg</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<!-- Specjalizacja autora -->
						<rim:Slot name="authorSpecialty">
							<rim:ValueList>
								<rim:Value>Chirurgia onkologiczna</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<!-- Dane kontaktowe autora -->
						<rim:Slot name="authorTelecommunication">
							<rim:ValueList>
								<rim:Value>^EMR^PH^^^^^^^^^693112233</rim:Value>
							</rim:ValueList>
						</rim:Slot>							
					</rim:Classification>
					<!--Charakter wysylki-->
					<rim:Classification classifiedObject="urn:uuid:20f29050-9771-4e6d-8302-8aaf0b1af709" nodeRepresentation="REGISTER" classificationScheme="urn:uuid:aa543740-bdda-424e-8c96-df4873be8500" objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" id="id_14">
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>Typ wysyki</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString value="Rejestracja indeksu EDM"/>
						</rim:Name>
					</rim:Classification>
					<!-- Identyfikator wysyki nadawany przez usugodawc -->
					<rim:ExternalIdentifier value="1.2.42.1662111781032.255801" 
											identificationScheme="urn:uuid:96fdda7c-d067-4183-912e-bf5ee74998a8" 
											objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier" 
											id="id_13" 
											registryObject="urn:uuid:20f29050-9771-4e6d-8302-8aaf0b1af709">
						<rim:Name>
							<rim:LocalizedString value="XDSSubmissionSet.uniqueId"/>
						</rim:Name>
					</rim:ExternalIdentifier>
					<!-- Identyfikator rda wysyki -->
					<rim:ExternalIdentifier value="1.3.6.1.4.1.21367.4" 
											identificationScheme="urn:uuid:554ac39e-e3fe-47fe-b233-965d2a147832" 
											objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier" 
											id="id_14" 
											registryObject="urn:uuid:20f29050-9771-4e6d-8302-8aaf0b1af709">
						<rim:Name>
							<rim:LocalizedString value="XDSSubmissionSet.sourceId"/>
						</rim:Name>
					</rim:ExternalIdentifier>
					<!-- Gwny identyfikator pacjenta -->
					<rim:ExternalIdentifier value="12300509785^^^&amp;2.16.840.1.113883.3.4424.1.1.616&amp;ISO" 
											identificationScheme="urn:uuid:6b5aea1a-874d-4603-a4bc-96a0a7b38446" 
											objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier" 
											id="id_15" 
											registryObject="urn:uuid:20f29050-9771-4e6d-8302-8aaf0b1af709">
						<rim:Name>
							<rim:LocalizedString value="XDSSubmissionSet.patientId"/>
						</rim:Name>
					</rim:ExternalIdentifier>
				</rim:RegistryPackage>
				<!-- Typ XDSSubmissionSet biecego elementu RegistryPackage -->
				<rim:Classification classifiedObject="urn:uuid:20f29050-9771-4e6d-8302-8aaf0b1af709" 
									classificationNode="urn:uuid:a54d6aa5-d40d-43f9-88c5-b4633d873bdd" 
									id="ID_1135240834_1" 
									objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification"/>]]></con:value>
            </con:property>
            <con:property>
              <con:name>XDSFolderRequest</con:name>
              <con:value><![CDATA[<!-- Gwny element folderu -->
				<rim:RegistryPackage id="urn:uuid:fab49fd6-2c05-4ff9-9465-9566e9040092"
									lid="urn:uuid:236e52c2-8d75-4ed3-9cff-516456350ac6"
									objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:RegistryPackage"
									status="urn:oasis:names:tc:ebxml-regrep:StatusType:Approved">
					<rim:VersionInfo versionName="1"/>
					<!-- Czas ostatniej aktualizacji -->
					<rim:Slot name="lastUpdateTime">
						<rim:ValueList>
							<rim:Value>20190718115318</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Nazwa folderu -->
					<rim:Name>
						<rim:LocalizedString value="XDS Folder 1"/>
					</rim:Name>
					<!-- Typ folderu -->
					<rim:Classification classificationScheme="urn:uuid:1ba97051-7806-41a8-a48b-8fce7af683c5"
										classifiedObject="urn:uuid:fab49fd6-2c05-4ff9-9465-9566e9040092"
										id="urn:uuid:ada110e6-a3fb-4397-9469-c53a12dda85c"
										nodeRepresentation="Leczenie alergii"
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification">
						<!-- Nazwa sownika -->
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>ICD-10</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString value="Leczenie alergii"/>
						</rim:Name>
					</rim:Classification>
					<!-- Identyfikator folderu nadawany przez usugodawc -->
					<rim:ExternalIdentifier id="urn:uuid:dbbe520f-081a-4509-8960-3e430aa9b73e"
											identificationScheme="urn:uuid:75df8f67-9973-4fbe-a900-df66cefecc5a"
											objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier"
											registryObject="urn:uuid:fab49fd6-2c05-4ff9-9465-9566e9040092"
											value="1.3.6.1.4.1.1662111781032.126056">
						<rim:Name>
							<rim:LocalizedString value="XDSFolder.uniqueId"/>
						</rim:Name>
					</rim:ExternalIdentifier>
					<!-- Gwny identyfikator pacjenta-->
					<rim:ExternalIdentifier id="e1e9084d-1160-42fe-82c8-a112ef9e8bc5"
											identificationScheme="urn:uuid:f64ffdf0-4b97-4e06-b79f-a52b38ec2f8a"
											objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier"
											registryObject="urn:uuid:fab49fd6-2c05-4ff9-9465-9566e9040092"
											value="12300509785^^^&amp;2.16.840.1.113883.3.4424.1.1.616&amp;ISO">
						<rim:Name>
							<rim:LocalizedString value="XDSFolder.patientId"/>
						</rim:Name>
					</rim:ExternalIdentifier>
				</rim:RegistryPackage>
				<!-- Typ XDSFolder biecego elementu RegistryPackage-->
				<rim:Classification classificationNode="urn:uuid:d9d542f3-6cc4-48b6-8870-ea235fbc94c2"
                                    classifiedObject="urn:uuid:fab49fd6-2c05-4ff9-9465-9566e9040092"
                                    id="urn:uuid:de668360-8e70-4eb7-8283-ea950c305a4a"
                                    objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification"/>]]></con:value>
            </con:property>
            <con:property>
              <con:name>XDSAssociationRequest</con:name>
              <con:value><![CDATA[<!-- Asocjacje SubmissionSet -> DocumentEntry -->
				<rim:Association associationType="urn:oasis:names:tc:ebxml-regrep:AssociationType:HasMember"
								 id="urn:uuid:187e3bb0-dea9-489e-8190-994953ba5b54"
								 sourceObject="urn:uuid:20f29050-9771-4e6d-8302-8aaf0b1af709"
								 targetObject="urn:uuid:984ef0f8-382f-435a-b913-20395510b6b6">
					<rim:Slot name="SubmissionSetStatus">
						<rim:ValueList>
							<rim:Value>Original</rim:Value>
						</rim:ValueList>
					</rim:Slot>
				</rim:Association>
				<!-- Asocjacje SubmissionSet -> DocumentEntry -->
				<rim:Association associationType="urn:oasis:names:tc:ebxml-regrep:AssociationType:HasMember"
								 id="urn:uuid:c9ceed79-7240-4285-9be3-5df3dd817ecb"
								 sourceObject="urn:uuid:20f29050-9771-4e6d-8302-8aaf0b1af709"
								 targetObject="urn:uuid:fab49fd6-2c05-4ff9-9465-9566e9040092"/>
				<!-- Asocjacje Folder -> DocumentEntry -->
				<rim:Association associationType="urn:oasis:names:tc:ebxml-regrep:AssociationType:HasMember"
								 id="urn:uuid:af4d1361-5555-4ab0-9862-c12ad2e3087f"
								 sourceObject="urn:uuid:fab49fd6-2c05-4ff9-9465-9566e9040092"
								 targetObject="urn:uuid:984ef0f8-382f-435a-b913-20395510b6b6"/>
				<!-- Asocjacje SubmissionSet -> [Asocjacja Folder -> DocumentEntry] -->
				<rim:Association associationType="urn:oasis:names:tc:ebxml-regrep:AssociationType:HasMember"
								 id="urn:uuid:d3b61c30-2438-4663-a7f5-7a0a037ad7d2"
								 sourceObject="urn:uuid:20f29050-9771-4e6d-8302-8aaf0b1af709"
								 targetObject="urn:uuid:af4d1361-5555-4ab0-9862-c12ad2e3087f"/>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>XDSDocumentEntryRequest</con:entry>
            <con:entry>XDSSubmissionSetRequest</con:entry>
            <con:entry>XDSFolderRequest</con:entry>
            <con:entry>XDSAssociationRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="request" name="Zapis indeksu EDM" id="775bdc5e-2aa5-4f44-b3bf-633f8ea0ec65">
        <con:settings/>
        <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:interface>ObslugaEdmIti42WSSoap12Binding</con:interface>
          <con:operation>DocumentRegistry_RegisterDocumentSet-b</con:operation>
          <con:request name="Zapis indeksu EDM" id="d891a843-8001-4a31-b2a4-fbc71264ac2e" outgoingWss="ITI42" useWsAddressing="true">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaEDM.service.address}</con:endpoint>
            <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://www.w3.org/2003/05/soap-envelope">
	<soapenv:Body>
		<lcm:SubmitObjectsRequest xmlns:lcm="urn:oasis:names:tc:ebxml-regrep:xsd:lcm:3.0">
			<rim:RegistryObjectList xmlns:rim="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0">
				${Parametryzowanie obiektw EDM#XDSDocumentEntryRequest}
				${Parametryzowanie obiektw EDM#XDSSubmissionSetRequest}
				${Parametryzowanie obiektw EDM#XDSFolderRequest}				
				${Parametryzowanie obiektw EDM#XDSAssociationRequest}
			</rim:RegistryObjectList>
		</lcm:SubmitObjectsRequest>
	</soapenv:Body>
</soapenv:Envelope>]]></con:request>
            <con:assertion type="SOAP Response" id="cc7b14c7-a4d7-4992-a068-c6ad91c4f284"/>
            <con:assertion type="Simple Contains" id="568765e4-38df-4289-bdee-0ce995debc85" name="Contains">
              <con:configuration>
                <token>ResponseStatusType:Success</token>
                <ignoreCase>false</ignoreCase>
                <useRegEx>false</useRegEx>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>Basic</con:selectedAuthProfile>
              <con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
              <con:authType>Global HTTP Settings</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:wsaConfig mustUnderstand="NONE" version="200508" addDefaultAction="true" addDefaultTo="true" generateMessageId="true"/>
            <con:wsrmConfig version="1.2"/>
          </con:request>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET DocumentReference" id="ac923fa9-c214-4f62-aba6-b37d73068283">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/DocumentReference" methodName="Odczyt-documentReference" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET DocumentReference" id="8d631075-d68d-4e46-b3fb-47ff1c21dd70" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Cache-control" value="no-cache"/>
&lt;/xml-fragment></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.35.10/fhir/DocumentReference</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="de5438ef-edd6-4844-9309-23ad68ddc448" name="Valid HTTP Status Codes - 200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="8661ed21-9cc7-4a0a-b6b3-40d155876559" name="XPath Match - zwrcony zosta zasb">
              <con:configuration>
                <path>/*:Bundle/*:total</path>
                <content>&lt;total value="1" xmlns="http://hl7.org/fhir"/></content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="plencounter" value="${dane_edm#MedicalEventOID}|${dane_edm#MedicalEventID}"/>
              <con:entry key="plsubject" value="${dane_edm#identyfikatorPacjentaOID}|${dane_edm#identyfikatorPacjenta}"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>plencounter</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>encounterID</con:name>
          <con:value>50546</con:value>
        </con:property>
        <con:property>
          <con:name>zdarzenieIdentyfikator</con:name>
          <con:value>897879df-e5c8-4262-b6ea-94699d99e37f</con:value>
        </con:property>
        <con:property>
          <con:name>zdarzenieOID</con:name>
          <con:value>2.16.840.1.113883.3.4424.2.7.1.15.1</con:value>
        </con:property>
        <con:property>
          <con:name>korelacjaIdentyfikator</con:name>
          <con:value>f25a22da-bb73-495e-9b14-66d855ca2f22</con:value>
        </con:property>
        <con:property>
          <con:name>slownikPoziomPoufnosciUrl</con:name>
          <con:value>https://ezdrowie.gov.pl/fhir/CodeSystem/PLCodeSystemSecurityLabels</con:value>
        </con:property>
        <con:property>
          <con:name>poziomPoufnosciKod</con:name>
          <con:value>N</con:value>
        </con:property>
        <con:property>
          <con:name>status</con:name>
          <con:value>finished</con:value>
        </con:property>
        <con:property>
          <con:name>zdarzenieKOD</con:name>
          <con:value>2</con:value>
        </con:property>
        <con:property>
          <con:name>pesel</con:name>
          <con:value>66120641419</con:value>
        </con:property>
        <con:property>
          <con:name>peselOID</con:name>
          <con:value>2.16.840.1.113883.3.4424.1.1.616</con:value>
        </con:property>
        <con:property>
          <con:name>pracownikIdentyfikator</con:name>
          <con:value>12345678</con:value>
        </con:property>
        <con:property>
          <con:name>pracownikOID</con:name>
          <con:value>2.16.840.1.113883.3.4424.1.6.2</con:value>
        </con:property>
        <con:property>
          <con:name>podmiotIdentyfikator</con:name>
          <con:value>000000001688</con:value>
        </con:property>
        <con:property>
          <con:name>podmiotOID</con:name>
          <con:value>2.16.840.1.113883.3.4424.2.3.3</con:value>
        </con:property>
        <con:property>
          <con:name>dataPoczatek</con:name>
          <con:value>2020-03-10T14:35:45+01:00</con:value>
        </con:property>
        <con:property>
          <con:name>dataKoniec</con:name>
          <con:value>2020-03-10T15:35:45+01:00</con:value>
        </con:property>
        <con:property>
          <con:name>zdarzenieNazwa</con:name>
          <con:value>Leczenie jednego dnia</con:value>
        </con:property>
        <con:property>
          <con:name>korelacjaOID</con:name>
          <con:value>2.16.840.1.113883.3.4424.2.7.1.15.5</con:value>
        </con:property>
        <con:property>
          <con:name>przyjecieKod</con:name>
          <con:value>3</con:value>
        </con:property>
        <con:property>
          <con:name>dataCzasProvenance</con:name>
          <con:value>2019-08-01T15:01:06.347+02:00</con:value>
        </con:property>
        <con:property>
          <con:name>rolaKod</con:name>
          <con:value>LEK</con:value>
        </con:property>
        <con:property>
          <con:name>rolaNazwa</con:name>
          <con:value>Lekarz</con:value>
        </con:property>
        <con:property>
          <con:name>dataCzasPodpis</con:name>
          <con:value>2019-08-01T14:58:58.626+02:00</con:value>
        </con:property>
        <con:property>
          <con:name>binPodpis</con:name>
          <con:value>UHJ6eWvFgmFkb3d5IHBvZHBpcyBaZGFyemVuaWEgTWVkeWN6bmVnby4=</con:value>
        </con:property>
        <con:property>
          <con:name>kodZawoduMedycznego</con:name>
          <con:value>LEK</con:value>
        </con:property>
        <con:property>
          <con:name>nazwaZawoduMedycznegoWyswietlanaWGui</con:name>
          <con:value>Lekarz</con:value>
        </con:property>
        <con:property>
          <con:name>pacjentPlatnikOID</con:name>
          <con:value>2.16.840.1.113883.3.4424.3.1</con:value>
        </con:property>
        <con:property>
          <con:name>pacjentPlatnikIdentyfikator</con:name>
          <con:value>07</con:value>
        </con:property>
        <con:property>
          <con:name>podmiotPlatnikOID</con:name>
          <con:value>2.16.840.1.113883.3.4424.3.1</con:value>
        </con:property>
        <con:property>
          <con:name>podmiotPlatnikIdentyfikator</con:name>
          <con:value>07</con:value>
        </con:property>
        <con:property>
          <con:name>slownikZawodowMedycznych</con:name>
          <con:value>https://ezdrowie.gov.pl/fhir/CodeSystem/PLCodeSystemMedicalProffesion</con:value>
        </con:property>
        <con:property>
          <con:name>skierowanieIdentyfikator</con:name>
          <con:value>d2bd3e4d-3e11-4391-8829-47e948b8328c</con:value>
        </con:property>
        <con:property>
          <con:name>skierowanieOID</con:name>
          <con:value>2.16.840.1.113883.3.4424.2.7.1.4.1</con:value>
        </con:property>
        <con:property>
          <con:name>MedicalEventID</con:name>
          <con:value>A63014DBACA02A44E7A82B5A14084692F80B</con:value>
        </con:property>
        <con:property>
          <con:name>MedicalEventOID</con:name>
          <con:value>urn:oid:2.16.840.1.113883.3.4424.2.7.1.15.1</con:value>
        </con:property>
        <con:property>
          <con:name>SubmitObjectsRequestID</con:name>
          <con:value>urn:uuid:3d1806cd-c027-4ef6-ba29-181a68094ce2</con:value>
        </con:property>
        <con:property>
          <con:name>XDSSubmissionSet.uniqueId</con:name>
          <con:value>1.2.42.1580300908643.986065</con:value>
        </con:property>
        <con:property>
          <con:name>XDSDocumentEntry.uniqueId1</con:name>
          <con:value>2.16.840.1.113883.3.4424.2.7.777^1274234.6863718</con:value>
        </con:property>
        <con:property>
          <con:name>XDSDocumentEntry.uniqueId2</con:name>
          <con:value>2.16.840.1.113883.3.4424.2.7.777^495699.1613714</con:value>
        </con:property>
        <con:property>
          <con:name>PatientID</con:name>
          <con:value>P66120641419^^^&amp;amp;1.3.6.1.4.1.21367.13.20.1000&amp;amp;ISO</con:value>
        </con:property>
        <con:property>
          <con:name>DocumentEntryEntryUUID1</con:name>
          <con:value>urn:uuid:31178f95-c464-4127-9d94-5fbfdb9838a6</con:value>
        </con:property>
        <con:property>
          <con:name>DocumentEntryEntryUUID2</con:name>
          <con:value>urn:uuid:2c533709-fed8-45c5-843a-adb97e4a3710</con:value>
        </con:property>
        <con:property>
          <con:name>CreationTime</con:name>
          <con:value>20200310153554</con:value>
        </con:property>
        <con:property>
          <con:name>XDSFolder1.uniqueId</con:name>
          <con:value>1.3.6.1.4.1.1583850954386.15775</con:value>
        </con:property>
        <con:property>
          <con:name>XDSFolder2.uniqueId</con:name>
          <con:value>1.3.6.1.4.1.1583850954386.854218</con:value>
        </con:property>
        <con:property>
          <con:name>FolderUUID1</con:name>
          <con:value>urn:uuid:e8328f5e-2d07-4136-9c63-592f102eff92</con:value>
        </con:property>
        <con:property>
          <con:name>FolderUUID2</con:name>
          <con:value>urn:uuid:fb214561-e226-44d1-8245-843e72337333</con:value>
        </con:property>
        <con:property>
          <con:name>XDSAssociationID1_SSHM</con:name>
          <con:value>urn:uuid:606efc4c-8abe-43f1-b4a7-525a10412f5b</con:value>
        </con:property>
        <con:property>
          <con:name>XDSAssociationID2_SSHM</con:name>
          <con:value>urn:uuid:45bccec3-0b35-4b75-935e-51a550dd11e6</con:value>
        </con:property>
        <con:property>
          <con:name>XDSAssociationID1_FDDE</con:name>
          <con:value>urn:uuid:3d3977b7-1144-4878-b771-2a65876b116f</con:value>
        </con:property>
        <con:property>
          <con:name>XDSAssociationID2_FDDE</con:name>
          <con:value>urn:uuid:c8581905-e9cb-4f5e-819d-de297d849bfe</con:value>
        </con:property>
        <con:property>
          <con:name>XDSAssociationID1_SSDE</con:name>
          <con:value>urn:uuid:001b2fb5-5f73-493a-9390-68f0d42876a5</con:value>
        </con:property>
        <con:property>
          <con:name>XDSAssociationID2_SSDE</con:name>
          <con:value>urn:uuid:173ab953-5d4b-493a-be27-a5b8888f9159</con:value>
        </con:property>
        <con:property>
          <con:name>XDSAssociationID1_SSFD</con:name>
          <con:value>urn:uuid:118c8a72-68a8-48ae-92bb-b65716d6b76a</con:value>
        </con:property>
        <con:property>
          <con:name>XDSAssociationID2_SSFD</con:name>
          <con:value>urn:uuid:21671f0b-9efd-4b47-bbf9-ff1d43370b4f</con:value>
        </con:property>
        <con:property>
          <con:name>XDSDocumentEntry_uniqueId1</con:name>
          <con:value>2.16.840.1.113883.3.4424.2.7.777^5991155.5537602</con:value>
        </con:property>
        <con:property>
          <con:name>XDSDocumentEntry_uniqueId2</con:name>
          <con:value>2.16.840.1.113883.3.4424.2.7.777^2072957.8785194</con:value>
        </con:property>
        <con:property>
          <con:name>idUytkownika</con:name>
          <con:value>2.16.840.1.113883.3.4424.1.6.2#3241138</con:value>
        </con:property>
        <con:property>
          <con:name>idPodmiotu</con:name>
          <con:value>2.16.840.1.113883.3.4424.2.3.1#1222225</con:value>
        </con:property>
        <con:property>
          <con:name>idPacjenta</con:name>
          <con:value>2.16.840.1.113883.3.4424.1.6.4#94071712351</con:value>
        </con:property>
        <con:property>
          <con:name>rolaBiznesowa</con:name>
          <con:value>medical doctor</con:value>
        </con:property>
        <con:property>
          <con:name>rodzajOperacji</con:name>
          <con:value>READ</con:value>
        </con:property>
        <con:property>
          <con:name>powodWykorzystania</con:name>
          <con:value>RECORDMGT</con:value>
        </con:property>
        <con:property>
          <con:name>idDomeny</con:name>
          <con:value>urn:ihe:iti:xca:2010:homeCommunityId</con:value>
        </con:property>
        <con:property>
          <con:name>wartoscDomeny</con:name>
          <con:value>2.16.840.1.113883.3.4424.15</con:value>
        </con:property>
        <con:property>
          <con:name>uprawnienieZapis</con:name>
          <con:value>Write</con:value>
        </con:property>
        <con:property>
          <con:name>uprawnienieOdczyt</con:name>
          <con:value>Read</con:value>
        </con:property>
        <con:property>
          <con:name>SubmissionSetLID</con:name>
          <con:value>urn:uuid:8b626973-141d-4d4a-ae9a-daac5bf7fa06</con:value>
        </con:property>
        <con:property>
          <con:name>DocumentEntryLID1</con:name>
          <con:value>urn:uuid:ec06a125-0576-4dc2-8fc1-7e359a9f775f</con:value>
        </con:property>
        <con:property>
          <con:name>DocumentEntryLID2</con:name>
          <con:value>urn:uuid:2d492bf1-acaa-40fd-9f43-3a4cd8d19a2a</con:value>
        </con:property>
        <con:property>
          <con:name>FolderLID1</con:name>
          <con:value>urn:uuid:5d1d8c77-ac12-4c13-a614-36735005bf00</con:value>
        </con:property>
        <con:property>
          <con:name>FolderLID2</con:name>
          <con:value>urn:uuid:dfc00775-73a5-4e2e-9029-931b3ee98084</con:value>
        </con:property>
        <con:property>
          <con:name>XDSAssociationID1_Status</con:name>
          <con:value>urn:uuid:a981c7db-3902-4256-b63f-46fb36d30736</con:value>
        </con:property>
        <con:property>
          <con:name>XDSAssociationID1_SSDE_upd</con:name>
          <con:value>urn:uuid:4eec9e8b-eb8a-43cf-a8cd-2ae8ae13063a</con:value>
        </con:property>
        <con:property>
          <con:name>organizationLocalId</con:name>
          <con:value>2.16.840.1.113883.3.4424.2.7.777</con:value>
        </con:property>
        <con:property>
          <con:name>XDSSubmissionSet_uniqueId</con:name>
          <con:value>1.2.42.1583850954385.291180</con:value>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase id="4a6c5eb9-6ce9-47bc-952b-5bc80e92f009" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Wyszukanie Zdarzenia Medycznego oraz danych Usugodawcy - Praktyka Lekarska" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskaj token dostpowy" id="a7a6a0ae-31e3-41e7-991c-a0b0c20ad63b">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie identyfikatorow" id="a56068d6-56ca-4186-81eb-51778c303370">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

def pracownikImieNazwisko = context.expand('${#Project#imieNazwiskoPracownika}')
def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')
def locationIdentyfikator = context.expand('${#Project#identyfikatorMiejscaSwiadczenia}')
def podmiotIdentyfikator = context.expand('${#Project#identyfikatorPodmiotu}')

String zdarzenieIdentyfikator = java.util.UUID.randomUUID().toString()
String korelacjaIdentyfikator = java.util.UUID.randomUUID().toString()
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString().replace("-", "").toUpperCase().substring(0, 22)

DateTimeFormatter format = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
String time1 = ZonedDateTime.now().minusHours(1).format(format)
String time2 = ZonedDateTime.now().format(format)

def dane = testRunner.testCase.getTestStepByName("dane")
dane.setPropertyValue("identyfikatorZdarzenia", zdarzenieIdentyfikator)
dane.setPropertyValue("korelacjaIdentyfikator", korelacjaIdentyfikator)
dane.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
dane.setPropertyValue("zdarzenieDataPoczatek", time1)
dane.setPropertyValue("zdarzenieDataKoniec", time2)
dane.setPropertyValue("podpisData", time2)
dane.setPropertyValue("proceduraDataPoczatek", time1)
dane.setPropertyValue("proceduraDataKoniec", time2)
dane.setPropertyValue("rozpoznanieData", time1)
dane.setPropertyValue("pracownikImieNazwisko", pracownikImieNazwisko)
dane.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)
dane.setPropertyValue("locationIdentyfikator", locationIdentyfikator)
dane.setPropertyValue("podmiotIdentyfikator", podmiotIdentyfikator)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="01328641-73e4-41b0-b418-ae8813e646da">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>00210125944</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>Anna</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>Penoletnia</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>Anna Penoletnia</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>2000-01-01</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzeniaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.2.7.000000926657.15.1</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>7bc4e6f1-c4f5-4bc0-98a8-05d20b2a9580</con:value>
            </con:property>
            <con:property>
              <con:name>praktykaLekarskaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.2.3.1</con:value>
            </con:property>
            <con:property>
              <con:name>praktykaLekarskaIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.2.3.1</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>846</con:value>
            </con:property>
            <con:property>
              <con:name>procedureId</con:name>
              <con:value>5142419</con:value>
            </con:property>
            <con:property>
              <con:name>conditionId</con:name>
              <con:value>5142421</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142417</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>f21e897a-f07e-4b7e-916d-e658837f8bbc</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>6B33794A0EC440BAB34ABC</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T10:43:13.973+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2022-09-02T11:43:13.973+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>rozpoznanieData</con:name>
              <con:value>2022-09-02T10:43:13.973+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>data</con:name>
              <con:value>2020-06-02T17:56:18.365+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataPoczatek</con:name>
              <con:value>2022-09-02T10:43:13.973+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataKoniec</con:name>
              <con:value>2022-09-02T11:43:13.973+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:43:13.973+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Patient" id="5b84ccea-6f0c-4528-8c2c-af3e29d5fc1f">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>48d1bd54-39e7-4f92-a587-b4df08704d3a</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>${dane#identyfikatorPacjentaOID}</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>${dane#identyfikatorPacjenta}</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>${dane#nazwisko}</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>${dane#imie}</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>${dane#dataUrodzenia}</con:value>
            </con:property>
            <con:property>
              <con:name>-----------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>846</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>2159</con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>patientId</con:entry>
            <con:entry>patientVersion</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis patientId" id="42a7f3f8-2f2a-4f5a-9fad-8df81c45245d">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>patientId</con:sourceType>
            <con:sourceStep>Patient</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:targetPath/>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false">
            <con:name>version</con:name>
            <con:sourceType>patientVersion</con:sourceType>
            <con:sourceStep>Patient</con:sourceStep>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterXML" id="3f6b0449-a0c5-4c7c-beda-50c538767ad9">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-porada.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<identifier>
		<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000926657.15.1"/>
		<value value="7bc4e6f1-c4f5-4bc0-98a8-05d20b2a9580"/>
	</identifier>
	<status value="finished"/>
	<class>
		<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
		<code value="4"/>
		<display value="Porada"/>
	</class>
	<subject>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<reference value="Patient/846"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="00210125944"/>
		</identifier>
		<display value="Anna Penoletnia"/>
	</subject>
	<episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="f21e897a-f07e-4b7e-916d-e658837f8bbc"/>
		</identifier>
	</episodeOfCare>
	<basedOn>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.17.4.1"/>
			<value value="6B33794A0EC440BAB34ABC"/>
			<period>
				<start value="2019-08-26T10:00:00+02:00"/>
			</period>
		</identifier>
	</basedOn>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
			<valueCoding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
				<code value="11"/>
			</valueCoding>
		</extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<period>
		<start value="2022-09-02T10:43:13.973+02:00"/>
		<end value="2022-09-02T11:43:13.973+02:00"/>
	</period>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
		<period>
			<start value="2022-09-02T10:43:13.973+02:00"/>
			<end value="2022-09-02T11:43:13.973+02:00"/>
		</period>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter" id="aa97700d-7743-4d3d-be34-d49e72bd7a14">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter" id="a472c002-b7b0-436d-9e67-eefd3e5827ff" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterXML#resourceRequest}</con:request>
            <con:originalUri>http://10.0.38.215/fhir/Encounter</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="64425392-8f2e-4aab-a765-b4f0731e05b1" name="[A1] Weryfikacja kodu http">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XQuery Match" id="cc2cbb33-9b8d-45a4-8a3e-e9144c9e5c18" name="[A2] Weryfikacja identyfikatora zapisanego zasobu">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';


exists(//*:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="_id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id encounter" id="82c42c14-2582-465f-87b1-df79f613cbcc">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>identyfikator</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:Encounter/*:identifier/*:value/@value</con:sourcePath>
            <con:targetType>identyfikatorZdarzenia</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>encounterVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
            <con:name>identyfikatorDoTestSuite</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:Encounter/*:identifier/*:value/@value</con:sourcePath>
            <con:targetType>identyfikatorZM</con:targetType>
            <con:targetStep>#TestSuite#</con:targetStep>
            <con:targetPath xsi:nil="true"/>
            <con:type>XPATH</con:type>
            <con:targetTransferType>XPATH</con:targetTransferType>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="procedureResource" id="ab6a7fa3-ed63-4221-b321-0a535e5b1b94">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>procedure.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Procedure xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProcedure"/>
       <security>
           <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
           <code value="N"/>
       </security>
   </meta>
   <status value="completed"/>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6" />
         <code value="79.76"/>
         <display value="Zamknite nastawienie zwichnicia kolana"/>
      </coding>
   </code>
   <subject>
	  <reference value="Patient/846"/>
	  <type value="Patient"/>
	  <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
         <value value="00210125944"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142417"/>
      <type value="Encounter"/>
   </encounter>
   <performedPeriod>
      <start value="2022-09-02T10:43:13.973+02:00"/>
      <end value="2022-09-02T11:43:13.973+02:00"/>
   </performedPeriod>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
   <location>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
		</identifier>
   </location>
</Procedure>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Procedure" id="63988d98-c03e-49a9-8534-e30a6c5b5655">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Zapis-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Procedure" id="fbb19b00-838c-4ef3-a04b-b95933e72a12" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${procedureResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Procedure/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b5455364-85e4-472b-9176-40088197ed11" name="201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="24e682e5-7a78-416c-bbe1-366fbde4baa0" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';
exists(//ns1:Procedure/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych procedure" id="3a38c3c2-4eff-41e4-a5d3-deba3d342209">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>procedureId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>procedureVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="conditionResource" id="788975f7-e4e9-4586-85e0-bec9bfad5c51">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>condition.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Condition xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventDiagnosis"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <extension url ="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLLocation">
      <valueIdentifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
      </valueIdentifier>
   </extension>
   <category>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.78"/>
         <code value="main"/>
         <display value="Gwne"/>
      </coding>
   </category>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.6.3"/>
         <code value="J04.0"/>
         <display value="Acute laryngitis"/>
      </coding>
   </code>
   <bodySite>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.79"/>
         <code value="left"/>
         <display value="Lewa strona ciaa"/>
      </coding>
   </bodySite>
   <subject>
	  <reference value="Patient/846"/>
	  <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
         <value value="00210125944"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142417"/>
      <type value="Encounter"/>
   </encounter>
   <recordedDate value="2022-09-02T10:43:13.973+02:00"/>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
</Condition>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Condition" id="0e2def3d-a33e-4f18-9a8d-1c0aafbfed3a">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="Zapis-condition" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Condition" id="5950c24f-0baf-497e-ac19-ab6769e5b9e2" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${conditionResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Condition</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7f8a96ea-5431-4e04-bc31-f31e8587599e" name="201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c468a985-1324-4eb5-83f5-85df20928b5a" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';
exists(//ns1:Condition/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>encounter</con:entry>
              <con:entry>id</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych condition" id="9c8b076e-ae8c-432c-9466-4c64dec00766">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>conditionId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>conditionVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu" id="d25bcd26-fd5a-4ef6-bdf6-74f1498adbba">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>2159</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>conditionVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>procedureVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy0yMjQxYjNiMy1kOGYxLTQ0MGMtYjdmNC0wZjRiNjBmMTg0YTMiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctMjI0MWIzYjMtZDhmMS00NDBjLWI3ZjQtMGY0YjYwZjE4NGEzLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvODQ2L19oaXN0b3J5LzIxNTkiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+TE1QaEZVSmowTXlualVRbHZjNXRGejh4OEN4YUpBS0R3RERvT21BVnIxUT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctMjI0MWIzYjMtZDhmMS00NDBjLWI3ZjQtMGY0YjYwZjE4NGEzLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyNDE3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+akNwTzFkS0tXeFdaN20zOCtBZW0yb3MrU1ZOa29NMlVkd0dkUWFtelZLOD08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctMjI0MWIzYjMtZDhmMS00NDBjLWI3ZjQtMGY0YjYwZjE4NGEzLXJlZjIiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvbmRpdGlvbi81MTQyNDIxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+NUd2UVFLRVhRRDlGUXpvazNMWkhyS2JUT0FUaVU5UUtoeVo5ZWEzSmY3cz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctMjI0MWIzYjMtZDhmMS00NDBjLWI3ZjQtMGY0YjYwZjE4NGEzLXJlZjMiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1Byb2NlZHVyZS81MTQyNDE5L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+Mm9TRk9vUi81ZDFvYlVlNnBWanFSU0tQSUpOeTdDbSt1UVNzalpoeHJ3RT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLTIyNDFiM2IzLWQ4ZjEtNDQwYy1iN2Y0LTBmNGI2MGYxODRhMy1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+TXNLNUxWUTdnOTI0N0tabzErSXdIUFZCQ09id3hCWEdEU1NUV0hQbnlIbz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctMjI0MWIzYjMtZDhmMS00NDBjLWI3ZjQtMGY0YjYwZjE4NGEzLXNpZ3ZhbHVlIj5yNjRVb1o0TzR5cStCT2l5Zm8yQ1JCTVRwVngrUk9EbnFhMEdPQWRJVVZtSEpVVFFtZlB4eW13WGNKQ3dEM0dIOVlUY2g2M1BPbXRZWkJybkdveTBPNERlUFp4Y1VyNEJwTEpub2YxMTE5VTV3U05hWUNjT3pMbW1ZVUZiWkgzTHJNYTloejY4cFY5c01DTHF6cVhGY09kMGNYaC9QaHcvSXMxeWNjTzk5YkJEeGtIM1VIM3RpRm8yNTgzUkFVL0hBelpuNzRsckpNRUVDNVBBQ0Q0SjhFOE5OclhJcWpSYms1b3p5UGtrR1BQMndPRDB2REJMV0JlWWdSL1ZVUFFrMVdLV3V2L1dmaC9Ua3RSdDYrc3JWTWxQN0lWUUhQaTk4dHpjbWt3SzFKQXRQKzE2Vzh4T24vOHFDbmxkUlgvTG5vN0x1ZHVqNHNPejBzblIyQ1MxeEE9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy0yMjQxYjNiMy1kOGYxLTQ0MGMtYjdmNC0wZjRiNjBmMTg0YTMiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLTIyNDFiM2IzLWQ4ZjEtNDQwYy1iN2Y0LTBmNGI2MGYxODRhMy1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDM6MTcuODI5KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4=</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu" id="9bf27a9b-3cd2-45e5-9fdc-598059d072bb">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane#patientId}') + "/_history/" + context.expand('${danePodpisu#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane#encounterId}') + "/_history/" + context.expand('${danePodpisu#encounterVersion}')
String conditionReference = zmUrl + "/fhir/Condition/" + context.expand('${dane#conditionId}') + "/_history/" + context.expand('${danePodpisu#conditionVersion}')
String procedureReference = zmUrl + "/fhir/Procedure/" + context.expand('${dane#procedureId}') + "/_history/" + context.expand('${danePodpisu#procedureVersion}')


List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);
refs.add(conditionReference);
refs.add(procedureReference);

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisu'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource" id="63847991-fa7c-4199-8365-a4d7a6df12ca">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, danePodpisu</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/846"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142417"/>
		<type value="Encounter"/>
	</target>
	<target>
		<reference value="Condition/5142421"/>
		<type value="Condition"/>
	</target>
	<target>
		<reference value="Procedure/5142419"/>
		<type value="Procedure"/>
	</target>
	<recorded value="2022-09-02T11:43:13.973+02:00"/>
	<agent>
		
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:43:13.973+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy0yMjQxYjNiMy1kOGYxLTQ0MGMtYjdmNC0wZjRiNjBmMTg0YTMiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctMjI0MWIzYjMtZDhmMS00NDBjLWI3ZjQtMGY0YjYwZjE4NGEzLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvODQ2L19oaXN0b3J5LzIxNTkiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+TE1QaEZVSmowTXlualVRbHZjNXRGejh4OEN4YUpBS0R3RERvT21BVnIxUT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctMjI0MWIzYjMtZDhmMS00NDBjLWI3ZjQtMGY0YjYwZjE4NGEzLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyNDE3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+akNwTzFkS0tXeFdaN20zOCtBZW0yb3MrU1ZOa29NMlVkd0dkUWFtelZLOD08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctMjI0MWIzYjMtZDhmMS00NDBjLWI3ZjQtMGY0YjYwZjE4NGEzLXJlZjIiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvbmRpdGlvbi81MTQyNDIxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+NUd2UVFLRVhRRDlGUXpvazNMWkhyS2JUT0FUaVU5UUtoeVo5ZWEzSmY3cz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctMjI0MWIzYjMtZDhmMS00NDBjLWI3ZjQtMGY0YjYwZjE4NGEzLXJlZjMiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1Byb2NlZHVyZS81MTQyNDE5L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+Mm9TRk9vUi81ZDFvYlVlNnBWanFSU0tQSUpOeTdDbSt1UVNzalpoeHJ3RT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLTIyNDFiM2IzLWQ4ZjEtNDQwYy1iN2Y0LTBmNGI2MGYxODRhMy1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+TXNLNUxWUTdnOTI0N0tabzErSXdIUFZCQ09id3hCWEdEU1NUV0hQbnlIbz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctMjI0MWIzYjMtZDhmMS00NDBjLWI3ZjQtMGY0YjYwZjE4NGEzLXNpZ3ZhbHVlIj5yNjRVb1o0TzR5cStCT2l5Zm8yQ1JCTVRwVngrUk9EbnFhMEdPQWRJVVZtSEpVVFFtZlB4eW13WGNKQ3dEM0dIOVlUY2g2M1BPbXRZWkJybkdveTBPNERlUFp4Y1VyNEJwTEpub2YxMTE5VTV3U05hWUNjT3pMbW1ZVUZiWkgzTHJNYTloejY4cFY5c01DTHF6cVhGY09kMGNYaC9QaHcvSXMxeWNjTzk5YkJEeGtIM1VIM3RpRm8yNTgzUkFVL0hBelpuNzRsckpNRUVDNVBBQ0Q0SjhFOE5OclhJcWpSYms1b3p5UGtrR1BQMndPRDB2REJMV0JlWWdSL1ZVUFFrMVdLV3V2L1dmaC9Ua3RSdDYrc3JWTWxQN0lWUUhQaTk4dHpjbWt3SzFKQXRQKzE2Vzh4T24vOHFDbmxkUlgvTG5vN0x1ZHVqNHNPejBzblIyQ1MxeEE9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy0yMjQxYjNiMy1kOGYxLTQ0MGMtYjdmNC0wZjRiNjBmMTg0YTMiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLTIyNDFiM2IzLWQ4ZjEtNDQwYy1iN2Y0LTBmNGI2MGYxODRhMy1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDM6MTcuODI5KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4="/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance" id="206a3022-8864-4668-93e2-c467bb7371ec">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="c308b714-cdad-4496-8fce-2267b2cd8d9d" name="201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="b8505c3b-22ae-4dab-9363-fdbf6f2c0710" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';
exists(//ns1:Provenance/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Encounter" id="14ba3970-9305-43ea-9e1c-eb6de5b9dc14">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Odczyt-Encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Encounter" id="7d5324a1-bdf9-40ed-8c9c-11e3960f6c15" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="3f171e96-2ad9-481a-8b70-2d2889c56fbf" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="identifier" value="${dane#identyfikatorZdarzeniaOID}|${dane#identyfikatorZdarzenia}"/>
              <con:entry key="plsubject" value="${Patient#identyfikatorPacjentaOID}|${Patient#identyfikatorPacjenta}"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id praktyka" id="4a4c9149-38a0-47ef-9324-99a32eb0dd5f">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>praktykaRoot</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>GET Encounter</con:sourceStep>
            <con:sourcePath>//*:Encounter/*:serviceProvider/*:identifier/*:system/@value</con:sourcePath>
            <con:targetType>praktykaLekarskaOID</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>praktykaExtension</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>GET Encounter</con:sourceStep>
            <con:sourcePath>//*:Encounter/*:serviceProvider/*:identifier/*:value/@value</con:sourcePath>
            <con:targetType>praktykaLekarskaIdentyfikator</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Organization" id="18c8a04f-5519-4d3c-9ab0-4c9935ea8c75">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Organization" methodName="Odczyt-organization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Organization" id="873fb00e-615b-4020-af3a-9ee8833f9079" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/xml"/>
&lt;/xml-fragment></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Organization</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="9c804d17-92fd-4c3e-b67f-c3781259368e" name="200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="29db2e10-b41c-44e5-9ef9-2aca1b03a751" name="total">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';

//*:total/@value</path>
                <content>0</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="identifier" value="${dane#praktykaLekarskaOID}|${dane#praktykaLekarskaIdentyfikator}"/>
              <con:entry key="pldate" value="2000-04-08T10:00:00"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>identifier</con:entry>
              <con:entry>pldate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Organization 2" id="036bcdf8-a023-4cc0-9879-a40639c549ba">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Organization" methodName="Odczyt-organization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Organization 2" id="873fb00e-615b-4020-af3a-9ee8833f9079" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/xml"/>
&lt;/xml-fragment></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Organization</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="9c804d17-92fd-4c3e-b67f-c3781259368e" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="29db2e10-b41c-44e5-9ef9-2aca1b03a751" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';

//*:Organization/*:identifier[1]/*:system/@value</path>
                <content>${dane#praktykaLekarskaOID}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="identifier" value="${dane#praktykaLekarskaOID}|${dane#praktykaLekarskaIdentyfikator}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>identifier</con:entry>
              <con:entry>pldate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:testCase id="9f5c317a-0e26-468f-a699-1a75bca2f944" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Wyszukanie Zdarzenia Medycznego oraz danych Usugodawcy - Jednostka Organizacyjna" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskaj token dostpowy" id="9168f53f-484c-4ad5-a418-4e30b90883b1">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie identyfikatorow" id="a55638fe-e540-4d7d-a2d0-14ad3d43ac0b">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

def pracownikImieNazwisko = context.expand('${#Project#imieNazwiskoPracownika}')
def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')
def locationIdentyfikator = context.expand('${#Project#identyfikatorMiejscaSwiadczenia}')
def podmiotIdentyfikator = context.expand('${#Project#identyfikatorPodmiotu}')

String zdarzenieIdentyfikator = java.util.UUID.randomUUID().toString()
String korelacjaIdentyfikator = java.util.UUID.randomUUID().toString()
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString().replace("-", "").toUpperCase().substring(0, 22)

DateTimeFormatter format = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
String time1 = ZonedDateTime.now().minusHours(1).format(format)
String time2 = ZonedDateTime.now().format(format)

def dane = testRunner.testCase.getTestStepByName("dane")
dane.setPropertyValue("identyfikatorZdarzenia", zdarzenieIdentyfikator)
dane.setPropertyValue("korelacjaIdentyfikator", korelacjaIdentyfikator)
dane.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
dane.setPropertyValue("zdarzenieDataPoczatek", time1)
dane.setPropertyValue("zdarzenieDataKoniec", time2)
dane.setPropertyValue("podpisData", time2)
dane.setPropertyValue("pracownikImieNazwisko", pracownikImieNazwisko)
dane.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)
dane.setPropertyValue("locationIdentyfikator", locationIdentyfikator)
dane.setPropertyValue("podmiotIdentyfikator", podmiotIdentyfikator)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="fb3dd040-de39-46eb-b1b4-ab5a0712e136">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>12300509785</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>ANNA</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>ANNA KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>1940-01-01</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzeniaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>fde424fc-f43a-4241-8abd-fe9621a59896</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>864</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142431</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>2e8bb47d-58e4-41d3-bc45-d3d786ff35f1</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>E3B72AE2542849DFA5E471</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.2.3.1</con:value>
            </con:property>
            <con:property>
              <con:name>jednostkaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.2.3.1</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T10:43:26.876+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2022-09-02T11:43:26.876+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:43:26.876+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
            <con:property>
              <con:name>jednostkaIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Patient" id="4112a49e-c22f-4e66-9084-57fb8b5e4b18">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>48d1bd54-39e7-4f92-a587-b4df08704d3a</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>${dane#identyfikatorPacjentaOID}</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>${dane#identyfikatorPacjenta}</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>${dane#nazwisko}</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>${dane#imie}</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>${dane#dataUrodzenia}</con:value>
            </con:property>
            <con:property>
              <con:name>-----------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>864</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1291</con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>patientId</con:entry>
            <con:entry>patientVersion</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="transfer patientId" id="3155a50f-7458-4419-a4e6-b987c79b84c1">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>patientId</con:sourceType>
            <con:sourceStep>Patient</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:targetPath/>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>patientVersion</con:sourceType>
            <con:sourceStep>Patient</con:sourceStep>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterXML" id="afcb0978-b323-4ca3-88b5-216090a0e3c5">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-bilans.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<identifier>
		<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
		<value value="fde424fc-f43a-4241-8abd-fe9621a59896"/>
	</identifier>
	<status value="finished"/>
	<class>
		<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
		<code value="17"/>
		<display value="Bilans zdrowia"/>
	</class>
	<subject>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<reference value="Patient/864"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="12300509785"/>
		</identifier>
		<display value="ANNA KASINA"/>
	</subject>
	<episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="2e8bb47d-58e4-41d3-bc45-d3d786ff35f1"/>
		</identifier>
	</episodeOfCare>
	<basedOn>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.17.4.1"/>
			<value value="E3B72AE2542849DFA5E471"/>
			<period>
				<start value="2019-08-26T10:00:00+02:00"/>
			</period>
		</identifier>
	</basedOn>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
			<valueCoding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
				<code value="11"/>
			</valueCoding>
		</extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<period>
		<start value="2022-09-02T10:43:26.876+02:00"/>
		<end value="2022-09-02T11:43:26.876+02:00"/>
	</period>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
		<period>
			<start value="2022-09-02T10:43:26.876+02:00"/>
			<end value="2022-09-02T11:43:26.876+02:00"/>
		</period>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter" id="fb7d9e5b-a377-434d-a7ab-4aeca4e6f57e">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter" id="a472c002-b7b0-436d-9e67-eefd3e5827ff" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterXML#resourceRequest}</con:request>
            <con:originalUri>http://10.0.38.215/fhir/Encounter</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="64425392-8f2e-4aab-a765-b4f0731e05b1" name="[A1] Weryfikacja kodu http">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XQuery Match" id="cc2cbb33-9b8d-45a4-8a3e-e9144c9e5c18" name="[A2] Weryfikacja identyfikatora zapisanego zasobu">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';


exists(//*:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="_id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id encounter" id="93ea9d3a-893a-4740-8ae4-0a4ffc7b0b5d">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>identyfikator</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:Encounter/*:identifier/*:value/@value</con:sourcePath>
            <con:targetType>identyfikatorZdarzenia</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>encounterVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu" id="52ddc76c-7551-45ea-85af-563928de44db">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1291</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1hOWUzNDU1Ni0wNzc4LTRlOTMtOGE4OC1kY2IwNTAzNjhmMmYiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYTllMzQ1NTYtMDc3OC00ZTkzLThhODgtZGNiMDUwMzY4ZjJmLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvODY0L19oaXN0b3J5LzEyOTEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+VzdQaVg0cUo0YXlwSkFaSFJqUGk4WFRlanJJV25PL0tuL0VYWUhTNHFZVT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYTllMzQ1NTYtMDc3OC00ZTkzLThhODgtZGNiMDUwMzY4ZjJmLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyNDMxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+dUZLQTVwMi9uT1FrMDBqMEhvM090c1cwUHlqbndyRUVVbTRFYklJTnlwST08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLWE5ZTM0NTU2LTA3NzgtNGU5My04YTg4LWRjYjA1MDM2OGYyZi1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+K2dXNktUQWJRRVRUd0tVUEtRNDlTRlhvOC82ZFVYRml3bHdmUUhXNmQzST08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctYTllMzQ1NTYtMDc3OC00ZTkzLThhODgtZGNiMDUwMzY4ZjJmLXNpZ3ZhbHVlIj5MbWU5cEJKUnlLM1l2ZGJmZlRsbFBENW1kWjdFTkgrTkFpMS80b3NWUGw1WG1oZ3JkdUpOWEhBckdVbXAyK1NndytMMkRDbFFXTExOUW9hVVdkWHZMTjhXNDk3REdMYTBnSkl4dlMrM0tjek1CRVV0QjlOaHFQZStsSzhIc1Z1a016bkxLdEZ5NW9raW02Z2pRSHhWZVFneTROdFZiSUYva0NCZTZqOUFGN0NKaVJxd1ZKTlNvZjJHSFZFL05NSTNQTVd6cm9Bb0xOajdVKzc0am9xUUF1a1g2RnQ4eUk1VGF3MEpUWUVZUm13SHRBcG9FYlduem9HaEJtMFM4aE9jRi84SE5QUnN5blV2YVNLL2IwV09yc25zU3RGMHAwLzlmZkFxWnNlZmV4dGVXVVYwNjZiR241TTlKVlMyeGN5MU9ZOGY4NHJaMFgxZUlJK1pHQ09zTUE9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy1hOWUzNDU1Ni0wNzc4LTRlOTMtOGE4OC1kY2IwNTAzNjhmMmYiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLWE5ZTM0NTU2LTA3NzgtNGU5My04YTg4LWRjYjA1MDM2OGYyZi1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDM6MjcuNzU3KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4=</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu" id="f9b3528c-c355-4238-918e-33b3b7c4c8c1">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane#patientId}') + "/_history/" + context.expand('${danePodpisu#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane#encounterId}') + "/_history/" + context.expand('${danePodpisu#encounterVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisu'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource" id="51323be7-857b-4e06-95ec-eb15475b1259">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, danePodpisu</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-encounter.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/864"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142431"/>
		<type value="Encounter"/>
	</target>
	<recorded value="2022-09-02T11:43:26.876+02:00"/>
	<agent>

		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:43:26.876+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1hOWUzNDU1Ni0wNzc4LTRlOTMtOGE4OC1kY2IwNTAzNjhmMmYiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYTllMzQ1NTYtMDc3OC00ZTkzLThhODgtZGNiMDUwMzY4ZjJmLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvODY0L19oaXN0b3J5LzEyOTEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+VzdQaVg0cUo0YXlwSkFaSFJqUGk4WFRlanJJV25PL0tuL0VYWUhTNHFZVT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYTllMzQ1NTYtMDc3OC00ZTkzLThhODgtZGNiMDUwMzY4ZjJmLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyNDMxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+dUZLQTVwMi9uT1FrMDBqMEhvM090c1cwUHlqbndyRUVVbTRFYklJTnlwST08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLWE5ZTM0NTU2LTA3NzgtNGU5My04YTg4LWRjYjA1MDM2OGYyZi1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+K2dXNktUQWJRRVRUd0tVUEtRNDlTRlhvOC82ZFVYRml3bHdmUUhXNmQzST08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctYTllMzQ1NTYtMDc3OC00ZTkzLThhODgtZGNiMDUwMzY4ZjJmLXNpZ3ZhbHVlIj5MbWU5cEJKUnlLM1l2ZGJmZlRsbFBENW1kWjdFTkgrTkFpMS80b3NWUGw1WG1oZ3JkdUpOWEhBckdVbXAyK1NndytMMkRDbFFXTExOUW9hVVdkWHZMTjhXNDk3REdMYTBnSkl4dlMrM0tjek1CRVV0QjlOaHFQZStsSzhIc1Z1a016bkxLdEZ5NW9raW02Z2pRSHhWZVFneTROdFZiSUYva0NCZTZqOUFGN0NKaVJxd1ZKTlNvZjJHSFZFL05NSTNQTVd6cm9Bb0xOajdVKzc0am9xUUF1a1g2RnQ4eUk1VGF3MEpUWUVZUm13SHRBcG9FYlduem9HaEJtMFM4aE9jRi84SE5QUnN5blV2YVNLL2IwV09yc25zU3RGMHAwLzlmZkFxWnNlZmV4dGVXVVYwNjZiR241TTlKVlMyeGN5MU9ZOGY4NHJaMFgxZUlJK1pHQ09zTUE9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy1hOWUzNDU1Ni0wNzc4LTRlOTMtOGE4OC1kY2IwNTAzNjhmMmYiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLWE5ZTM0NTU2LTA3NzgtNGU5My04YTg4LWRjYjA1MDM2OGYyZi1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDM6MjcuNzU3KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4="/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance" id="913e1a47-ac0e-4c93-9eee-be6b55e69058">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7955ada5-b8e7-437e-9ce2-7ace877d963d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f39d13c2-d3a9-4624-b02e-b99dd46ba95d" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';



exists(//ns1:Provenance/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Encounter" id="a584cb01-779c-4960-83a1-072c563d2fc8">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Odczyt-Encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Encounter" id="7d5324a1-bdf9-40ed-8c9c-11e3960f6c15" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/xml"/>
&lt;/xml-fragment></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="3f171e96-2ad9-481a-8b70-2d2889c56fbf" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="identifier" value="${dane#identyfikatorZdarzeniaOID}|${dane#identyfikatorZdarzenia}"/>
              <con:entry key="plsubject" value="${Patient#identyfikatorPacjentaOID}|${Patient#identyfikatorPacjenta}"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych encounter" id="e90758e8-a2f6-404d-9083-c8b27cbb4d92">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>praktykaRoot</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>GET Encounter</con:sourceStep>
            <con:sourcePath>//*:Encounter/*:serviceProvider/*:identifier/*:system/@value</con:sourcePath>
            <con:targetType>jednostkaOID</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>praktykaExtension</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>GET Encounter</con:sourceStep>
            <con:sourcePath>//*:Encounter/*:serviceProvider/*:identifier/*:value/@value</con:sourcePath>
            <con:targetType>jednostkaIdentyfikator</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Location(jednostka organizacyjna)" id="c7eddae3-58c3-4ac2-9dd4-8194983e1e1e">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Location" methodName="Odczyt-location" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Location(jednostka organizacyjna)" id="873fb00e-615b-4020-af3a-9ee8833f9079" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/xml"/>
&lt;/xml-fragment></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Organization</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="9c804d17-92fd-4c3e-b67f-c3781259368e" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="identifier" value="${dane#jednostkaOID}|${dane#jednostkaIdentyfikator}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>identifier</con:entry>
              <con:entry>pldate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:testCase id="eb627008-f703-4ff4-8887-0b19098c71cb" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Wyszukanie Zdarzenia Medycznego oraz danych Usugodawcy - Komrka Organizacyjna" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskaj token dostpowy" id="5f0f80c1-61fe-4542-b451-b606345f5afd">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie identyfikatorow" id="9c555188-63b5-4ea2-83e8-9015a5fbd0d6">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

def pracownikImieNazwisko = context.expand('${#Project#imieNazwiskoPracownika}')
def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')
def locationIdentyfikator = context.expand('${#Project#identyfikatorMiejscaSwiadczenia}')
def podmiotIdentyfikator = context.expand('${#Project#identyfikatorPodmiotu}')

String zdarzenieIdentyfikator = java.util.UUID.randomUUID().toString()
String korelacjaIdentyfikator = java.util.UUID.randomUUID().toString()
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString().replace("-", "").toUpperCase().substring(0, 22)

DateTimeFormatter format = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
String time1 = ZonedDateTime.now().minusHours(1).format(format)
String time2 = ZonedDateTime.now().format(format)

def dane = testRunner.testCase.getTestStepByName("dane")
dane.setPropertyValue("identyfikatorZdarzenia", zdarzenieIdentyfikator)
dane.setPropertyValue("korelacjaIdentyfikator", korelacjaIdentyfikator)
dane.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
dane.setPropertyValue("zdarzenieDataPoczatek", time1)
dane.setPropertyValue("zdarzenieDataKoniec", time2)
dane.setPropertyValue("podpisData", time2)
dane.setPropertyValue("pracownikImieNazwisko", pracownikImieNazwisko)
dane.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)
dane.setPropertyValue("locationIdentyfikator", locationIdentyfikator)
dane.setPropertyValue("podmiotIdentyfikator", podmiotIdentyfikator)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="be98a068-296b-4ae1-88c8-836cf1961aad">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>00210125944</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>Anna</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>Penoletnia</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>Anna Penoletnia</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>846</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142449</con:value>
            </con:property>
            <con:property>
              <con:name>kodResort</con:name>
              <con:value>001</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>5b2bbba0-c9b4-47c4-a877-8b17a7a5336e</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>AD21243EA6184C3AAD685A</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.2.3.1</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
            <con:property>
              <con:name>locationOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.2.3.3</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzeniaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>e81365b0-7049-47f7-a1fc-d3260e3bdc26</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T10:43:47.524+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2022-09-02T11:43:47.524+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:43:47.524+02:00</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Patient" id="71c2f9fe-5d84-48d7-bad2-899c75a6dc36">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>48d1bd54-39e7-4f92-a587-b4df08704d3a</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>${dane#identyfikatorPacjentaOID}</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>${dane#identyfikatorPacjenta}</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>${dane#nazwisko}</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>${dane#imie}</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>-----------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>846</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>2159</con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>patientId</con:entry>
            <con:entry>patientVersion</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="transfer patientId" id="94f7970a-15cc-496b-8f53-68a74c302004">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>patientId</con:sourceType>
            <con:sourceStep>Patient</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:targetPath/>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>patientVersion</con:sourceType>
            <con:sourceStep>Patient</con:sourceStep>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>idPacjentaOID</con:name>
            <con:sourceType>identyfikatorPacjentaOID</con:sourceType>
            <con:sourceStep>dane</con:sourceStep>
            <con:targetType>identyfikatorPacjentaOID</con:targetType>
            <con:targetStep>#TestSuite#</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>idPacjenta</con:name>
            <con:sourceType>identyfikatorPacjenta</con:sourceType>
            <con:sourceStep>dane</con:sourceStep>
            <con:targetType>identyfikatorPacjenta</con:targetType>
            <con:targetStep>#TestSuite#</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterXML" id="17250747-180d-4475-af25-5f6a7e776e01">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-bilans.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<identifier>
		<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
		<value value="e81365b0-7049-47f7-a1fc-d3260e3bdc26"/>
	</identifier>
	<status value="finished"/>
	<class>
		<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
		<code value="17"/>
		<display value="Bilans zdrowia"/>
	</class>
	<subject>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<reference value="Patient/846"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="00210125944"/>
		</identifier>
		<display value="Anna Penoletnia"/>
	</subject>
	<episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="5b2bbba0-c9b4-47c4-a877-8b17a7a5336e"/>
		</identifier>
	</episodeOfCare>
	<basedOn>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.17.4.1"/>
			<value value="AD21243EA6184C3AAD685A"/>
			<period>
				<start value="2019-08-26T10:00:00+02:00"/>
			</period>
		</identifier>
	</basedOn>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
			<valueCoding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
				<code value="11"/>
			</valueCoding>
		</extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<period>
		<start value="2022-09-02T10:43:47.524+02:00"/>
		<end value="2022-09-02T11:43:47.524+02:00"/>
	</period>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
		<period>
			<start value="2022-09-02T10:43:47.524+02:00"/>
			<end value="2022-09-02T11:43:47.524+02:00"/>
		</period>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
					<value value="01"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter" id="be432dd5-e7b8-428a-8c9d-8621cfa6f48a">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter" id="a472c002-b7b0-436d-9e67-eefd3e5827ff" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterXML#resourceRequest}</con:request>
            <con:originalUri>http://10.0.38.215/fhir/Encounter</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="64425392-8f2e-4aab-a765-b4f0731e05b1" name="[A1] Weryfikacja kodu http">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XQuery Match" id="cc2cbb33-9b8d-45a4-8a3e-e9144c9e5c18" name="[A2] Weryfikacja identyfikatora zapisanego zasobu">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';


exists(//*:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="_id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id encounter" id="c2880670-4c1b-48c6-980d-b1f39b79b3b3">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>identyfikatorTestSuite</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:Encounter/*:identifier/*:value/@value</con:sourcePath>
            <con:targetType>identyfikatorZdarzenia</con:targetType>
            <con:targetStep>#TestSuite#</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>encounterVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu" id="dc1847ee-9fc4-45dd-bb38-9fca355f9189">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>2159</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy01MmI3YmExZC04MjFlLTRmYzctYmIxMy1hMGQ4MWZmNjhiOWQiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNTJiN2JhMWQtODIxZS00ZmM3LWJiMTMtYTBkODFmZjY4YjlkLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvODQ2L19oaXN0b3J5LzIxNTkiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+TE1QaEZVSmowTXlualVRbHZjNXRGejh4OEN4YUpBS0R3RERvT21BVnIxUT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNTJiN2JhMWQtODIxZS00ZmM3LWJiMTMtYTBkODFmZjY4YjlkLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyNDQ5L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+bGd0cVJrWmtxd096T1VTOXMvVlQ3amlxOEYvZTVjMmNkbkM1blVwdlVOTT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLTUyYjdiYTFkLTgyMWUtNGZjNy1iYjEzLWEwZDgxZmY2OGI5ZC1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+L0E2NUJMSkp1ek05ejU4Q08yRnpnY1hxa0pkV0lGOHVCWFg5M0tac2k2ND08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctNTJiN2JhMWQtODIxZS00ZmM3LWJiMTMtYTBkODFmZjY4YjlkLXNpZ3ZhbHVlIj56SjFFdUp0Y1MzaXh6RlpOOGEzeFgzWngrTytISjNYRXBtK212U3J4aGZubXZNdW9UYk80dlg5ajdGazdSNmZMZGozdkRLN1VWejNEaVR1U3ViOE1TQjRyaGlyRjk4Tk8wWEFqQ2IzMlBIaytBenRhUk5Dc29aSVhYSU5CVW9vTkVDS2E5S3haZEtyeUFwN3VmMzlveERsV0IxdjZBNGN3MllySElsL1dyTzdDMXNNQ3hlc2gyL1d5cXB5N2thZjFqSTJ0Qm1hSzVqRDF1TCtkRU5rb1ZFTVN3dWRxV2c1UCsrZDZkUUJsK3ZZN1ZUdU9LRUVtcXc0SGRtVUIvMjRwSDkwZmlKaGFDQkRkZ0IvR3FZQS9iMW1WY252Vml2dEtTcUtMMVhBdC9LM0dlQUxrWFRZT25td3pUVkhweWZpakNtanFlY0UycG1sdUVvWnd2cDN4UkE9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy01MmI3YmExZC04MjFlLTRmYzctYmIxMy1hMGQ4MWZmNjhiOWQiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLTUyYjdiYTFkLTgyMWUtNGZjNy1iYjEzLWEwZDgxZmY2OGI5ZC1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDM6NDguNDI1KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4=</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu" id="25391c25-30ba-4d79-a061-b650f30134fc">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane#patientId}') + "/_history/" + context.expand('${danePodpisu#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane#encounterId}') + "/_history/" + context.expand('${danePodpisu#encounterVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisu'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource" id="39c14069-5ab6-496d-ab36-4ec5bf09d7a1">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, danePodpisu</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-encounter.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/846"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142449"/>
		<type value="Encounter"/>
	</target>
	<recorded value="2022-09-02T11:43:47.524+02:00"/>
	<agent>

		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:43:47.524+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy01MmI3YmExZC04MjFlLTRmYzctYmIxMy1hMGQ4MWZmNjhiOWQiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNTJiN2JhMWQtODIxZS00ZmM3LWJiMTMtYTBkODFmZjY4YjlkLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvODQ2L19oaXN0b3J5LzIxNTkiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+TE1QaEZVSmowTXlualVRbHZjNXRGejh4OEN4YUpBS0R3RERvT21BVnIxUT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNTJiN2JhMWQtODIxZS00ZmM3LWJiMTMtYTBkODFmZjY4YjlkLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyNDQ5L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+bGd0cVJrWmtxd096T1VTOXMvVlQ3amlxOEYvZTVjMmNkbkM1blVwdlVOTT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLTUyYjdiYTFkLTgyMWUtNGZjNy1iYjEzLWEwZDgxZmY2OGI5ZC1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+L0E2NUJMSkp1ek05ejU4Q08yRnpnY1hxa0pkV0lGOHVCWFg5M0tac2k2ND08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctNTJiN2JhMWQtODIxZS00ZmM3LWJiMTMtYTBkODFmZjY4YjlkLXNpZ3ZhbHVlIj56SjFFdUp0Y1MzaXh6RlpOOGEzeFgzWngrTytISjNYRXBtK212U3J4aGZubXZNdW9UYk80dlg5ajdGazdSNmZMZGozdkRLN1VWejNEaVR1U3ViOE1TQjRyaGlyRjk4Tk8wWEFqQ2IzMlBIaytBenRhUk5Dc29aSVhYSU5CVW9vTkVDS2E5S3haZEtyeUFwN3VmMzlveERsV0IxdjZBNGN3MllySElsL1dyTzdDMXNNQ3hlc2gyL1d5cXB5N2thZjFqSTJ0Qm1hSzVqRDF1TCtkRU5rb1ZFTVN3dWRxV2c1UCsrZDZkUUJsK3ZZN1ZUdU9LRUVtcXc0SGRtVUIvMjRwSDkwZmlKaGFDQkRkZ0IvR3FZQS9iMW1WY252Vml2dEtTcUtMMVhBdC9LM0dlQUxrWFRZT25td3pUVkhweWZpakNtanFlY0UycG1sdUVvWnd2cDN4UkE9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy01MmI3YmExZC04MjFlLTRmYzctYmIxMy1hMGQ4MWZmNjhiOWQiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLTUyYjdiYTFkLTgyMWUtNGZjNy1iYjEzLWEwZDgxZmY2OGI5ZC1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDM6NDguNDI1KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4="/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance" id="0eade03d-ebcc-4cfb-8f14-d57ed38fb22e">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7955ada5-b8e7-437e-9ce2-7ace877d963d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f39d13c2-d3a9-4624-b02e-b99dd46ba95d" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';



exists(//ns1:Provenance/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Encounter" id="b28a6c9f-348e-494c-a720-ea20e2b86d11">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Odczyt-Encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Encounter" id="7d5324a1-bdf9-40ed-8c9c-11e3960f6c15" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/xml"/>
&lt;/xml-fragment></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="3f171e96-2ad9-481a-8b70-2d2889c56fbf" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="identifier" value="${dane#identyfikatorZdarzeniaOID}|${dane#identyfikatorZdarzenia}"/>
              <con:entry key="plsubject" value="${Patient#identyfikatorPacjentaOID}|${Patient#identyfikatorPacjenta}"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych encounter" id="049e5aa4-b72d-48e0-be07-2b714600a57a">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>komorkaRoot</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>GET Encounter</con:sourceStep>
            <con:sourcePath>//*:Encounter/*:location/*:location/*:identifier/*:system/@value</con:sourcePath>
            <con:targetType>locationOID</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>komorkaExtension</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>GET Encounter</con:sourceStep>
            <con:sourcePath>//*:Encounter/*:location/*:location/*:identifier/*:value/@value</con:sourcePath>
            <con:targetType>locationIdentyfikator</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Location(komrka organizacyjna)" id="993e11d5-5504-49c8-b225-19b979908ad8">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Location" methodName="Odczyt-location" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Location(komrka organizacyjna)" id="873fb00e-615b-4020-af3a-9ee8833f9079" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/xml"/>
&lt;/xml-fragment></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Organization</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="9c804d17-92fd-4c3e-b67f-c3781259368e" name="200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f4a6c029-6131-4982-850d-88c9028e4b97" name="identyfikator Komrki">
              <con:configuration>
                <path>//*:Location/*:identifier/*:value/@value</path>
                <content>${dane#locationIdentyfikator}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="identifier" value="${dane#locationOID}|${dane#locationIdentyfikator}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>identifier</con:entry>
              <con:entry>pldate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:testCase id="7d403d19-c4de-4267-9ab4-2f4a7f3e5311" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Wyszukanie Zdarzenia Medycznego oraz danych Pracownika Medycznego" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskaj token dostpowy" id="a36904fe-fa16-494f-9345-02780e6c39b5">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych" id="9f94e937-2e46-4330-9df9-14ffc6d629bf">
        <con:settings/>
        <con:config>
          <script>def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')

def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="e5e9632b-e11b-42d5-b99e-b395b87e62d5">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>identyfikatorZdarzeniaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.6.2</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Encounter" id="cd7adce9-0659-4e85-b5bb-711ca890aa23">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Odczyt-Encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Encounter" id="7d5324a1-bdf9-40ed-8c9c-11e3960f6c15" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/xml"/>
&lt;/xml-fragment></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="466896f2-07a4-4728-bd02-b4eb45049ecd" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="identifier" value="${dane#identyfikatorZdarzeniaOID}|${#TestSuite#identyfikatorZdarzenia}"/>
              <con:entry key="plsubject" value="${#TestSuite#identyfikatorPacjentaOID}|${#TestSuite#identyfikatorPacjenta}"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych encounter" id="e87cff49-1b98-41c7-99b7-4bfbc25bfbad">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>pracownikExtension</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>GET Encounter</con:sourceStep>
            <con:sourcePath>//*:Encounter/*:participant/*:individual/*:identifier/*:value/@value</con:sourcePath>
            <con:targetType>pracownikIdentyfikator</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>pracownikRoot</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>GET Encounter</con:sourceStep>
            <con:sourcePath>//*:Encounter/*:participant/*:individual/*:identifier/*:system/@value</con:sourcePath>
            <con:targetType>pracownikOID</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Practitioner" id="4ac8de41-41a2-4b2b-a512-5992df5bd382">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Practitioner" methodName="Odczyt-practicioner" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Practitioner" id="1c8dae92-429b-4c48-b58e-1d4a3d067d6b" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/xml"/>
&lt;/xml-fragment></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Practitioner</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="fadaffef-beac-4de1-a473-fd07100e655a" name="200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="464af6fa-3058-426f-a0c8-cb79f38f0f02" name="identyfikator pracownika">
              <con:configuration>
                <path>//*:identifier/*:value/@value</path>
                <content>${dane#pracownikIdentyfikator}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="identifier" value="${dane#pracownikOID}|${dane#pracownikIdentyfikator}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>identifier</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:testCase id="49bd4489-2705-4e85-ad67-1bf1653c3c77" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Wyszukanie Zdarzenia Medycznego oraz danych Miejsca Udzielenia wiadcze - Praktyka Lekarska" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskaj token dostpowy" id="4360e0c6-a715-4c20-a80f-4843f4ac18e1">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych" id="1fd5b35f-e2e1-473f-9d41-060c89544e28">
        <con:settings/>
        <con:config>
          <script>def miejsceUdzieleniaSwiadczenIdentyfikator = context.expand('${#Project#miejsceUdzieleniaSwiadczenIdentyfikator}')

def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("miejsceUdzieleniaSwiadczenIdentyfikator", miejsceUdzieleniaSwiadczenIdentyfikator)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="aee887a7-2dc1-477c-8e01-356410cbd8e7">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>identyfikatorZdarzeniaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1</con:value>
            </con:property>
            <con:property>
              <con:name>miejsceUdzieleniaSwiadczenIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>miejsceUdzieleniaSwiadczenOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.2.3.3</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Encounter" id="25696a37-e357-40e0-ad85-af47d6fea0bd">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Odczyt-Encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Encounter" id="7d5324a1-bdf9-40ed-8c9c-11e3960f6c15" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/xml"/>
&lt;/xml-fragment></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="e0d96a9d-4d36-4691-a885-7f83f0862f12" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f208639b-91d3-4af0-bf4b-5231580b2950" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';

//*:Bundle/*:total/@value</path>
                <content>1</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="identifier" value="${dane#identyfikatorZdarzeniaOID}|${#TestSuite#identyfikatorZdarzenia}"/>
              <con:entry key="plsubject" value="${#TestSuite#identyfikatorPacjentaOID}|${#TestSuite#identyfikatorPacjenta}"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych encounter" id="d0235a04-5e64-438f-a935-d4aef3efb3fa">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>musRoot</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>GET Encounter</con:sourceStep>
            <con:sourcePath>//*:Encounter/*:location/*:location/*:identifier/*:system/@value</con:sourcePath>
            <con:targetType>miejsceUdzieleniaSwiadczenOID</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>musExtension</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>GET Encounter</con:sourceStep>
            <con:sourcePath>//*:Encounter/*:location/*:location/*:identifier/*:value/@value</con:sourcePath>
            <con:targetType>miejsceUdzieleniaSwiadczenIdentyfikator</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Location" id="0933254d-b459-45ba-98c3-62c5f6f3567c">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Location" methodName="Odczyt-location" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Location" id="6befbc49-57e5-4121-b06c-e2849c2e9032" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/xml"/>
&lt;/xml-fragment></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Location</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a44a60b8-b4a5-4721-804b-7d4c92f52a09" name="200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="2206bd5f-eb23-4446-ad0b-ebdc721c032b" name="pusta lista">
              <con:configuration>
                <path>//*:total/@value</path>
                <content>0</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="identifier" value="${dane#miejsceUdzieleniaSwiadczenOID}|${dane#miejsceUdzieleniaSwiadczenIdentyfikator}"/>
              <con:entry key="pldate" value="1991-04-08T10:00:00"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>identifier</con:entry>
              <con:entry>pldate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Location 2" id="f308295c-40f8-41c8-804b-f0ccb0b27301">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Location" methodName="Odczyt-location" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Location 2" id="6befbc49-57e5-4121-b06c-e2849c2e9032" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/xml"/>
&lt;/xml-fragment></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Location</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a44a60b8-b4a5-4721-804b-7d4c92f52a09" name="200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f2fc4880-10a8-4594-b0c0-88a1de10736c" name="OID MU">
              <con:configuration>
                <path>//*:Location/*:identifier/*:system/@value</path>
                <content>${dane#miejsceUdzieleniaSwiadczenOID}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="identifier" value="${dane#miejsceUdzieleniaSwiadczenOID}|${dane#miejsceUdzieleniaSwiadczenIdentyfikator}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>identifier</con:entry>
              <con:entry>pldate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:testCase id="89daa3fd-e09e-4868-a1e8-70c889aa1f5b" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Wyszukanie ZM, procedure oraz condition -  praktyka lekarska" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskaj token dostpowy" id="e683a8d0-372c-452a-84e3-f220cf9bcbf0">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="1b6e6ecc-1e53-4fd9-8533-3a5962bbe85b">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142417</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzeniaOID</con:name>
              <con:value>2.16.840.1.113883.3.4424.2.7.000000926657.15.1</con:value>
            </con:property>
            <con:property>
              <con:name>praktykaLekarskaIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
            <con:property>
              <con:name>praktykaLekarskaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.2.3.1</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="GET Encounter" id="0c54bd1a-609b-4f31-9295-c0d80913d77c">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" id="088076f7-e5d0-466b-9265-c1b2979b8119" name="GET Encounter" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/xml"/>
&lt;/xml-fragment></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}/fhir/Encounter?identifier=urn:oid:${dane#identyfikatorZdarzeniaOID}|${#TestSuite#identyfikatorZM}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" id="78371cc8-9cf4-4989-8678-2d3d7f5e8c07" name="200">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XPath Match" id="43760223-8205-4db7-ace4-97dfa485217c" name="dentyfikatorZM z poziomu TS">
            <con:configuration>
              <path>declare namespace ns1='http://hl7.org/fhir';
//ns1:Encounter/ns1:identifier/ns1:value/@value</path>
              <content>${#TestSuite#identyfikatorZM}</content>
              <allowWildcards>false</allowWildcards>
              <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
              <ignoreComments>false</ignoreComments>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter required="false" disableUrlEncoding="false">
              <con:name>identifier</con:name>
              <con:value>urn:oid:${dane#identyfikatorZdarzeniaOID}|${#TestSuite#identyfikatorZM}</con:value>
              <con:style>QUERY</con:style>
              <con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
              <con:default/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>plsubject</con:name>
              <con:value>${#TestSuite#identyfikatorPacjentaOID}|${#TestSuite#identyfikatorPacjenta}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Zapis identyfikatora praktyki lekarskiej" id="77d9704b-e1cd-4922-8334-18ca30e64022">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>root</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>GET Encounter</con:sourceStep>
            <con:sourcePath>//*:Encounter/*:serviceProvider/*:identifier/*:system/@value</con:sourcePath>
            <con:targetType>praktykaLekarskaOID</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:targetPath/>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="false" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>extension</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>GET Encounter</con:sourceStep>
            <con:sourcePath>//*:Encounter/*:serviceProvider/*:identifier/*:value/@value</con:sourcePath>
            <con:targetType>praktykaLekarskaIdentyfikator</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>encounterId</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>GET Encounter</con:sourceStep>
            <con:sourcePath>//*:Encounter/*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="GET Organization" id="fbf7474f-0086-4066-8847-744c8d56067b">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" id="b0d6eabf-84ae-4c56-9358-cb4e5f21bf4a" name="GET Organization" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/xml"/>
&lt;/xml-fragment></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}/fhir/Organization?identifier=${dane#praktykaLekarskaOID}|${dane#praktykaLekarskaIdentyfikator}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" id="346ac400-b3b9-4d66-9045-30c2aa8c005b" name="200">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XPath Match" id="1400bf6e-dd20-4d51-b764-d755c3579b9e" name="praktykaLekarskaIdentyfikator">
            <con:configuration>
              <path>declare namespace ns1='http://hl7.org/fhir';
//ns1:Organization/ns1:identifier/ns1:value/@value</path>
              <content>${dane#praktykaLekarskaIdentyfikator}</content>
              <allowWildcards>false</allowWildcards>
              <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
              <ignoreComments>false</ignoreComments>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Procedure" id="53246db9-a61f-4d51-9b54-7dd9b6222c04">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Odczyt-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Procedure" id="f26bbba1-4d7d-4fa3-914f-6818ef769825" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.13.58.31/fhir/Procedure/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="fc4c560b-adab-4e8e-ae33-d2e1ddc6ba7e" name="200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="dedc4999-f944-4e86-851c-6595b7fa55a7" name="encounterId">
              <con:configuration>
                <path>.encounter.reference[0]</path>
                <content>Encounter/${dane#encounterId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="7115dbce-d878-402d-9c04-4c71a61c4add" name="identyfikator praktyki lekarskiej">
              <con:configuration>
                <path>.location.identifier.value[0]</path>
                <content>000000012106-001</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="plsubject" value="${#TestSuite#identyfikatorPacjentaOID}|${#TestSuite#identyfikatorPacjenta}"/>
              <con:entry key="encounter" value="${dane#encounterId}"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Condition" id="70b69f4a-7e96-4272-9df6-983643dbdeec">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition" methodName="Odczyt-condition" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Condition" id="b71f558d-d615-42ab-89ec-df8420d2962d" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.13.58.31/fhir/ConditionZMtest1</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b491b5c1-2d85-4a59-b56e-635798dbc118" name="200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="1cc0c19c-0d43-4a5a-a3af-9ac6bccf877c" name="encounterId">
              <con:configuration>
                <path>.encounter.reference[0]</path>
                <content>Encounter/${dane#encounterId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="62ede6aa-2330-4ca0-8a7b-3cd075c4ab30" name="Identyfikator praktyki lekarskiej">
              <con:configuration>
                <path>.extension.valueIdentifier.value[0]</path>
                <content>000000012106-001</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="plsubject" value="${#TestSuite#identyfikatorPacjentaOID}|${#TestSuite#identyfikatorPacjenta}"/>
              <con:entry key="encounter" value="${dane#encounterId}"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>encounter</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:properties>
      <con:property>
        <con:name>identyfikatorZdarzenia</con:name>
        <con:value>e81365b0-7049-47f7-a1fc-d3260e3bdc26</con:value>
      </con:property>
      <con:property>
        <con:name>identyfikatorZM</con:name>
        <con:value>7bc4e6f1-c4f5-4bc0-98a8-05d20b2a9580</con:value>
      </con:property>
      <con:property>
        <con:name>identyfikatorPacjentaOID</con:name>
        <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
      </con:property>
      <con:property>
        <con:name>identyfikatorPacjenta</con:name>
        <con:value>00210125944</con:value>
      </con:property>
      <con:property>
        <con:name>podpisData</con:name>
        <con:value>2022-09-02T11:41:17.657+02:00</con:value>
      </con:property>
    </con:properties>
  </con:testSuite>
  <con:testSuite id="a88a111f-1f14-4d6c-bb00-dfcb200048d3" name="Zapis, wyszukanie i odczyt rozliczeniowych zdarze medycznych">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase id="582ede6a-908f-4e75-98cb-ea7731cb7f2d" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Zapis, wyszukanie, odczyt oraz anulowanie danych rozliczeniowych zdarze medycznych - pacjent bez PESEL" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskanie tokenu dostpowego" id="36ce95e0-d538-4f23-84ed-0c49c4a70ec3">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych i pobranie zmiennych" id="300dcb3c-15d5-4494-8a8a-1f8570c73ae5">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

def pracownikImieNazwisko = context.expand('${#Project#imieNazwiskoPracownika}')
def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')
def locationIdentyfikator = context.expand('${#Project#identyfikatorMiejscaSwiadczenia}')
def podmiotIdentyfikator = context.expand('${#Project#identyfikatorPodmiotu}')

def formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
def teraz = ZonedDateTime.now()
String data1 = teraz.minusHours(1).format(formatter)
String data2 = teraz.format(formatter)
String data3 = teraz.minusHours(119).format(formatter)

String paszportSeria = org.apache.commons.lang.RandomStringUtils.random(2, true, false)
String paszportNum = org.apache.commons.lang.RandomStringUtils.random(6, false, true)
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString().replace("-", "").toUpperCase().substring(0, 22)

def dane = testRunner.testCase.testSteps['dane']
def dane2 = testRunner.testCase.testSteps['dane2']
dane.setPropertyValue("identyfikatorZdarzenia", UUID.randomUUID().toString())
dane.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
dane.setPropertyValue("zdarzenieDataPoczatek", data1)
dane.setPropertyValue("zdarzenieDataKoniec", data2)
dane2.setPropertyValue("coverageData", data1)
dane.setPropertyValue("podpisData", data2)
dane2.setPropertyValue("podpisData", data2)
dane.setPropertyValue("rozpoznanieData", data1)
dane2.setPropertyValue("proceduraDataPoczatek", data1)
dane2.setPropertyValue("proceduraDataKoniec", data2)
dane2.setPropertyValue("pracownikImieNazwisko", pracownikImieNazwisko)
dane2.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)
dane2.setPropertyValue("locationIdentyfikator", locationIdentyfikator)
dane2.setPropertyValue("podmiotIdentyfikator", podmiotIdentyfikator)


dane.setPropertyValue("identyfikatorPacjenta", paszportSeria.toUpperCase()+paszportNum)
dane = testRunner.testCase.testSteps['dane2']
dane.setPropertyValue("identyfikatorPacjenta", paszportSeria.toUpperCase()+paszportNum)
dane.setPropertyValue("zdarzenieDataPoczatek", data3)
DateTimeFormatter format2 = DateTimeFormatter.ofPattern("yyyy-MM")
String data4 = ZonedDateTime.now().format(format2)
dane.setPropertyValue("startOkresRozliczeniowy", data4)
dane.setPropertyValue("koniecOkresRozliczeniowy", data4)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="fa00fadd-8015-42c5-b24b-e80f072da92c">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142465</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>5142463</con:value>
            </con:property>
            <con:property>
              <con:name>provenance3Id</con:name>
              <con:value>5142491</con:value>
            </con:property>
            <con:property>
              <con:name>provenance2Id</con:name>
              <con:value>5142489</con:value>
            </con:property>
            <con:property>
              <con:name>provenance1Id</con:name>
              <con:value>5142485</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>8af7d3a7-8579-4f99-acae-7f7051d4ee12</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>11B16DE9C3BB4EDB93C69A</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2022-09-02T11:44:02.291+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T10:44:02.291+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>rozpoznanieData</con:name>
              <con:value>2022-09-02T10:44:02.291+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataPoczatek</con:name>
              <con:value>2020-08-28T08:48:00.555+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataKoniec</con:name>
              <con:value>2020-08-28T09:48:00.555+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>coverageData</con:name>
              <con:value>2020-09-11T09:10:14.256+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:44:02.291+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>HP052776</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane2" id="d9333549-3442-47ca-83ca-c488e90297d0">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.4.330.56</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>HP052776</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>ANNA KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>ANNA</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>ubezpieczenieOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.8.3</con:value>
            </con:property>
            <con:property>
              <con:name>ubezpiecznieIdentyfikator</con:name>
              <con:value>12345678912345678912</con:value>
            </con:property>
            <con:property>
              <con:name>platnikOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.8.3</con:value>
            </con:property>
            <con:property>
              <con:name>platnikIdentyfikator</con:name>
              <con:value>12345678912345678912</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzeniaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1</con:value>
            </con:property>
            <con:property>
              <con:name>procedureId</con:name>
              <con:value>5142467</con:value>
            </con:property>
            <con:property>
              <con:name>conditionId</con:name>
              <con:value>5142469</con:value>
            </con:property>
            <con:property>
              <con:name>claimId</con:name>
              <con:value>5142475</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142465</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>5142463</con:value>
            </con:property>
            <con:property>
              <con:name>coverageId</con:name>
              <con:value>5142471</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>96cf9ae7-d0e5-47ea-b467-611767e1a29a</con:value>
            </con:property>
            <con:property>
              <con:name>startOkresRozliczeniowy</con:name>
              <con:value>2022-09</con:value>
            </con:property>
            <con:property>
              <con:name>koniecOkresRozliczeniowy</con:name>
              <con:value>2022-09</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataPoczatek</con:name>
              <con:value>2022-09-02T10:44:02.291+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataKoniec</con:name>
              <con:value>2022-09-02T11:44:02.291+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>coverageData</con:name>
              <con:value>2022-09-02T10:44:02.291+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-08-28T12:44:02.291+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:44:02.291+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="patientResource" id="09df03b4-9ecd-4930-95b5-19c3398f6ede">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, dane2</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>patient-paszport.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Patient xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPatient"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
      <value value="HP052776"/>
   </identifier>
   <name>
      <family value="KASINA"/>
      <given value="ANNA"/>
   </name>
   <telecom>
      <system value="phone"/>
      <value value="+32475556791"/>
   </telecom>
   <gender value="male"/>
   <birthDate value="1960-06-30"/>
</Patient>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Patient" id="975a5cd6-df2d-4700-86ae-69352b4ece1b">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Patient/{id}" methodName="Zapis-patient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Patient" id="ae51083b-704b-45e7-88c7-385ef76c5721" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${patientResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Patient/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="90ea303b-56ec-4f6e-8ca9-b87beea0c859" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="identifier" value=""/>
              <con:entry key="plgiven" value=""/>
              <con:entry key="birthdate" value=""/>
              <con:entry key="gender" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="_id" value=""/>
              <con:entry key="encounter" value=""/>
              <con:entry key="plfamily" value=""/>
              <con:entry key="_sort" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plgiven</con:entry>
              <con:entry>plfamily</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>gender</con:entry>
              <con:entry>birthdate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych patient" id="77cbfbbf-911b-4b39-9619-20e3beaefcf0">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id2</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane2</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterResource" id="db477014-762d-406a-a7a4-309041858a89">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, dane2</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-porada.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<identifier>
		<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
		<value value="8af7d3a7-8579-4f99-acae-7f7051d4ee12"/>
	</identifier>
	<status value="finished"/>
	<class>
		<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
		<code value="4"/>
		<display value="Porada"/>
	</class>
	<subject>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
					<value value="12345678912345678912"/>
				</identifier>
			</valueReference>
		</extension>
		<reference value="Patient/5142463"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
			<value value="HP052776"/>
		</identifier>
		<display value="ANNA KASINA"/>
	</subject>
	<episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="96cf9ae7-d0e5-47ea-b467-611767e1a29a"/>
		</identifier>
	</episodeOfCare>
	<basedOn>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.17.4.1"/>
			<value value="11B16DE9C3BB4EDB93C69A"/>
			<period>
				<start value="2019-08-26T10:00:00+02:00"/>
			</period>
		</identifier>
	</basedOn>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
			<valueCoding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
				<code value="11"/>
			</valueCoding>
		</extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<period>
		<start value="2022-08-28T12:44:02.291+02:00"/>
		<end value="2022-09-02T11:44:02.291+02:00"/>
	</period>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
		<period>
			<start value="2022-08-28T12:44:02.291+02:00"/>
			<end value="2022-09-02T11:44:02.291+02:00"/>
		</period>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
					<value value="12345678912345678912"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter" id="266bb2f6-5306-473e-b235-8aad947fa616">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter" id="ca159828-a602-4357-a4ba-632c00d8f164" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="18bf6ab8-2610-482a-adf9-6ec5f9fd89ca" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych encounter" id="c04652d4-2309-4ee1-aff3-ca9518ab5628">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane2</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>encounterVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id2</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="procedureResource" id="554225eb-e0c4-4038-a7d7-2ce558b7329e">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane2</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>procedure.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Procedure xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProcedure"/>
       <security>
           <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
           <code value="N"/>
       </security>
   </meta>
   <status value="completed"/>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6" />
         <code value="79.76"/>
         <display value="Zamknite nastawienie zwichnicia kolana"/>
      </coding>
   </code>
   <subject>
	  <reference value="Patient/5142463"/>
	  <type value="Patient"/>
	  <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="HP052776"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142465"/>
      <type value="Encounter"/>
   </encounter>
   <performedPeriod>
      <start value="2022-09-02T10:44:02.291+02:00"/>
      <end value="2022-09-02T11:44:02.291+02:00"/>
   </performedPeriod>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
   <location>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
		</identifier>
   </location>
</Procedure>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Procedure" id="f16665e7-f4ec-4704-ba39-30fcd414381b">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Zapis-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Procedure" id="fbb19b00-838c-4ef3-a04b-b95933e72a12" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${procedureResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.35.10/fhir/Procedure/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="12603c09-6bb1-4bab-b330-5a4a724075f2" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych procedure" id="0ab0675f-d870-40ed-a157-c9357c8055be">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>procedureId</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>procedureId</con:targetType>
            <con:targetStep>dane2</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>procedureVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="conditionResource" id="afff317b-b7c2-4489-bf33-529ba5267343">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, dane2</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>condition.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Condition xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventDiagnosis"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <extension url ="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLLocation">
      <valueIdentifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
      </valueIdentifier>
   </extension>
   <category>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.78"/>
         <code value="main"/>
         <display value="Gwne"/>
      </coding>
   </category>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.6.3"/>
         <code value="J04.0"/>
         <display value="Acute laryngitis"/>
      </coding>
   </code>
   <bodySite>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.79"/>
         <code value="left"/>
         <display value="Lewa strona ciaa"/>
      </coding>
   </bodySite>
   <subject>
	  <reference value="Patient/5142463"/>
	  <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="HP052776"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142465"/>
      <type value="Encounter"/>
   </encounter>
   <recordedDate value="2022-09-02T10:44:02.291+02:00"/>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
</Condition>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Condition" id="4c3e3bb3-7970-4bbf-9350-38a3b41872ac">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="Zapis-condition" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Condition" id="5950c24f-0baf-497e-ac19-ab6769e5b9e2" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${conditionResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.35.10/fhir/Condition/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="5c464c00-40f3-4e85-80b5-ac7699a3ebf1" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>encounter</con:entry>
              <con:entry>id</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych condition" id="2097d962-f678-405d-9af1-a654130de670">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>conditionId</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>conditionId</con:targetType>
            <con:targetStep>dane2</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>conditionVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="coverageResource" id="47635825-f7ae-4f8b-8319-e09fc6c12699">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane,dane2</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>coverage-ewus.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Coverage xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementEWUS"/>
	<security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
	</meta>
	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementEncounterReference">
		<valueReference>
			<reference value="Encounter/5142465"/>
			<type value="Encounter"/>			
		</valueReference>
	</extension>
	<status value="active"/>
	<type>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.93"/>
			<code value="EL"/>
			<display value="wiadczeniobiorca, ktrego prawo do wiadcze opieki zdrowotnej zostao potwierdzone dokumentem elektronicznym, o ktrym mowa w art. 50 ust. 3 ustawy"/>
		</coding>
	</type>
	<beneficiary>
		<reference value="Patient/5142463"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
			<value value="HP052776"/>
		</identifier>
	</beneficiary>
	<period>
		<start value="2019-08-26T10:00:00+02:00"/>
		<end value="2025-08-26T16:00:00+02:00"/>
	</period>
	<payor>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
			<value value="12345678912345678912"/>
		</identifier>
	</payor>
	<class>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentDate">
			<valueDateTime value="2022-09-02T10:44:02.291+02:00"/>
		</extension>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentIdentifier">
			<valueString value="12345678"/>
		</extension>	
		<type>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.92"/>
				<code value="DE"/>
			</coding>
		</type>
		<value value="01"/>
	</class>
</Coverage>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Coverage" id="1ac3330f-86eb-4dec-aca1-4fac72cfad2c">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Coverage/{id}" methodName="Zapis-coverage" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Coverage" id="0746632f-7cfd-4e17-a31e-7377f439e634" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${coverageResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Coverage/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="dc629020-ca9d-4b82-bd1f-446fcbe14dc0" name="Valid HTTP Status Codes - 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="2ae2753a-3a1c-4d9a-8561-52840fef3c7c" name="coverageID">
              <con:configuration>
                <path>exists(/*:Coverage/*:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c1c49296-5abe-4bca-9c24-b3054e7b7519" name="profil PLEntitlementEKUZ">
              <con:configuration>
                <path>/*:Coverage/*:meta/*:profile/@value</path>
                <content>https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementEWUS</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c1c49296-5abe-4bca-9c24-b3054e7b7519" name="PLEntitlementEncounterReference - encounterID">
              <con:configuration>
                <path>/*:Coverage/*:extension[@url='https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementEncounterReference']/*:valueReference/*:reference/@value</path>
                <content>Encounter/${dane#encounterID}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c1c49296-5abe-4bca-9c24-b3054e7b7519" name="beneficiary - patientID">
              <con:configuration>
                <path>/*:Coverage/*:beneficiary/*:reference/@value</path>
                <content>Patient/${dane#patientID}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="coverageID" id="f2a34d93-3f67-4c02-9bbd-1e40830f4c93">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Coverage</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>coverageId</con:targetType>
            <con:targetStep>dane2</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Coverage</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>coverageVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="claimResource" id="d740a0b2-895c-44f2-981b-c4c1ad698dc5">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, dane2</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>claim-pozycja-rozliczeniowa.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Claim xmlns="http://hl7.org/fhir">
	<meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventNationalHealthFundClaim"/>
        <security>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
            <code value="N"/>
        </security>
   </meta>
    <status value="active"/>
    <type>
        <coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.95"/>
			<code value="1"/>
        </coding>
    </type>
    <use value="claim"/>
	<patient>
		<reference value="Patient/5142463"/>
		<type value="Patient"/>
	  <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
		 <value value="HP052776"/>
      </identifier>
	</patient>
      <billablePeriod>
        <start value="2022-09"/>
        <end value="2022-09"/>
    </billablePeriod>
    <created value="2020-03-23"/>
    <provider>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
    </provider>
    <priority>
        <coding>
        	<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.65"/>
            <code value="normalny"/>
        </coding>
    </priority>
	<diagnosis>
        <sequence value="1"/>
		<diagnosisReference>
             <reference value = "Condition/5142469"/>
             <type value = "Condition"/>		
		</diagnosisReference>		
    </diagnosis>
	<procedure>
        <sequence value="1"/>
		<procedureReference>
             <reference value = "Procedure/5142467"/>
             <type value = "Procedure"/>		
		</procedureReference>	
    </procedure>
    <insurance>
        <sequence value="1"/>
        <focal value="true"/>
        <identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
					<value value="12345678912345678912"/>
				</identifier>
        <coverage>
			<reference value="Coverage/5142471"/>
        	<type value="Coverage"/>
        </coverage>
        <businessArrangement value="07-06-02336-20-03/06"/>
    </insurance>
    <item>
		<extension xmlns="http://hl7.org/fhir" url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLNationalHealthFundPoints">
             <valueDecimal value = "1.0000"/>
		</extension>
        <extension xmlns="http://hl7.org/fhir" url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLNationalHealthFundSpecialSettlement">
            <valueCode value="54A"/>
        </extension>
		<extension xmlns="http://hl7.org/fhir" url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLNationalHealthFundBillingItemRealQuantity">
            <valueDecimal value="1.5400"/>
        </extension>
		<extension xmlns="http://hl7.org/fhir" url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEmergencyTreatment">
            <valueBoolean value="false"/>
        </extension>
        <sequence value="1"/>
		<diagnosisSequence value="1" />
		<procedureSequence value="1" />		
        <category>
            <coding>
                <code value="01.0010.092.01"/>
            </coding>
        </category>
        <productOrService>
            <coding>
                <code value="5.01.00.0000075"/>
            </coding>
        </productOrService>
        <modifier>
            <coding>
                <code value="4"/>
            </coding>
        </modifier>
        <servicedPeriod>
        	 <start value="2020-03-12T14:10:01.077+01:00"/>
        	 <end value="2020-03-12T14:15:31.078+01:00"/>
        </servicedPeriod>
        <quantity>
            <value value="1.0000"/>
        </quantity>
        <unitPrice>
            <value value="45.53"/>
        </unitPrice>
        <factor value="1.0000"/>
        <encounter>
            <reference value="Encounter/5142465"/>
            <type value="Encounter"/>
        </encounter>
    </item>
</Claim>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Claim" id="6283bafe-0cd4-4414-a84b-c6f86b6cfcfe">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Claim/{id}" methodName="Zapis" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Claim" id="b2ec8be7-1707-4b3f-a0ea-b832b5892aa1" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${claimResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.35.10/fhir/Claim/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="cc845418-505b-4e00-b8b8-c3848b2a3b43" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="6b51c459-e8e6-4e45-8fc9-e40e58f5bba6" name="Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych claim" id="720d549f-65dc-4edd-9075-1515ca0befe7">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>claimId</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Claim</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>claimId</con:targetType>
            <con:targetStep>dane2</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Claim</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>claimVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu" id="f79edb97-52d9-431d-8426-51df22bb921e">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>conditionVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>procedureVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>claimVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy02MTY5ZTk2ZC0yNDQ3LTRjZTUtOWZmMC1hZTk5ZGUyZGMzODUiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNjE2OWU5NmQtMjQ0Ny00Y2U1LTlmZjAtYWU5OWRlMmRjMzg1LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTE0MjQ2My9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjlrWHlyY3ZBeFVRcDdTYXpPTWpVTUZnblhyWFhyRVhURkM5YzlhYmhmbTA9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTYxNjllOTZkLTI0NDctNGNlNS05ZmYwLWFlOTlkZTJkYzM4NS1yZWYxIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9FbmNvdW50ZXIvNTE0MjQ2NS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlFLRlN5dzdzbHVSamgram1RampzNzR5NjFSR1pYRm9tQzFxMjdES1E3cjQ9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTYxNjllOTZkLTI0NDctNGNlNS05ZmYwLWFlOTlkZTJkYzM4NS1yZWYyIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db25kaXRpb24vNTE0MjQ2OS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjViOVRQbnEzaVhCMkUvUHMyaUhEWVVhcVNxSmttd2V3djJSbUlReFRHb2M9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTYxNjllOTZkLTI0NDctNGNlNS05ZmYwLWFlOTlkZTJkYzM4NS1yZWYzIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Qcm9jZWR1cmUvNTE0MjQ2Ny9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlVLQ2k5b1BpVk05UG1KbkxVM1JZUzM0VTBlL3lXUVdrQkhoOWxwZjA2NFk9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTYxNjllOTZkLTI0NDctNGNlNS05ZmYwLWFlOTlkZTJkYzM4NS1yZWY0IiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db3ZlcmFnZS81MTQyNDcxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+bEh0ZG9ZeHRCaTNtaVZEOXJTTWpOdU5VSjhTZ0t6UmljTEpwOGpiZldRTT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNjE2OWU5NmQtMjQ0Ny00Y2U1LTlmZjAtYWU5OWRlMmRjMzg1LXJlZjUiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NsYWltLzUxNDI0NzUvX2hpc3RvcnkvMSI+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5WaW5uQmpYS281YnZEdUFuV2pGdjJPTWhYeFFpOFRHbFdnRU1ZNDFsaEpNPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PGRzOlJlZmVyZW5jZSBUeXBlPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzI1NpZ25lZFByb3BlcnRpZXMiIFVSST0iI3htbGRzaWctNjE2OWU5NmQtMjQ0Ny00Y2U1LTlmZjAtYWU5OWRlMmRjMzg1LXNpZ25lZHByb3BzIj48ZHM6VHJhbnNmb3Jtcz48ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48L2RzOlRyYW5zZm9ybXM+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT4xcUFJUXhQTEthR3FwcFlxMFlqRXZ0VjluR05xU2toTjA0VDIwOFQrMXJrPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PC9kczpTaWduZWRJbmZvPjxkczpTaWduYXR1cmVWYWx1ZSBJZD0ieG1sZHNpZy02MTY5ZTk2ZC0yNDQ3LTRjZTUtOWZmMC1hZTk5ZGUyZGMzODUtc2lndmFsdWUiPnF6NFRiNHBBWlBYc1kyeUhwT2RHRWFic2hIL3Eyczh6K3Uzdzh1NXR3d3U2Sm5tc25TeElFaC9oaXVWRDFtR1JVNUIxK2NqZ1dDbVhHdEtCSlVPWmg0UndqVHR6WDdUTWJxa1dYVGc4R1pFTElpVU5JQmx6Z1ZFeEVXUUNkenFPUG9iZ0RYdUVQS0xVMmYzdFAxalY2L29YbWgyMVVQV2I1NDBUTml6amR5WFBlVHJPY2Zxcm1uS1VFZ24yZGNhY1p1VW9tQWVVc1cwUDduVldSaFRXOStFZ3FTbFp2VUdZWnk2UXZkaEtvSk9lNXArUVBwWkd5YUFIbXhVeldnSDAyZEZQU3lVenZnS3N1WEpWaEtXeklQRFBHMEFVNHJoTW91OGY2dGVrenFYdWRhQndHM0ZYZWpiUEJQTmlodFVLOHh0MDR4cEtPd2NwQ3hJVEtVRllWQT09PC9kczpTaWduYXR1cmVWYWx1ZT48ZHM6S2V5SW5mbz48ZHM6WDUwOURhdGE+PGRzOlg1MDlDZXJ0aWZpY2F0ZT5NSUlGTVRDQ0F4bWdBd0lCQWdJSWZxaGtBVUNkQkZzd0RRWUpLb1pJaHZjTkFRRU5CUUF3VVRFWU1CWUdBMVVFQXd3UFEwTWdVREVnVTNWaVEwRWdWMU5UTVJnd0ZnWURWUVFMREE5UU1TQkpiblJsWjNKaFkzbHFibVV4RGpBTUJnTlZCQW9NQlVOVFNVOWFNUXN3Q1FZRFZRUUdFd0pRVERBZUZ3MHlNVEEyTWpFd056UTFNemRhRncweU16QTJNakV3TnpRMU16ZGFNSUdrTVRRd01nWURWUVFEREN0UWIyUnRhVzkwWDJ4bFkzcHVhV042ZVY4eExYVjNhV1Z5ZW5sMFpXeHVhV1Z1YVdVZ1pHRnVlV05vTVRVd013WURWUVFGRXl3eUxqRTJMamcwTUM0eExqRXhNemc0TXk0ekxqUTBNalF1TWk0ekxqRTZJREF3TURBd01EQXhNakV3TmpFWU1CWUdBMVVFQ3d3UFVERWdTVzUwWldkeVlXTjVhbTVsTVE0d0RBWURWUVFLREFWRFUwbFBXakVMTUFrR0ExVUVCaE1DVUV3d2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUUR1SS9BOThQbzc3dXFWY2d1WXp2dVpialV2Q3oyWkdqSWV1RUl0cXhJUXNvMk9nTkgveEIvQVlldTNQc1RlQXVRS1NFYTZKZjZneC81Wi9SM0NmVG1HdklPMEZic0xrTXA5cVdEK3dRU0dmbEM2cDVwWTNUK08xSmFvenJWakdxeGIxSWRiT3ZoaGVhanVxcnVDb1I3YXY2LzFqc0MwZk1BNmtaVFFuRGNNTkVwN0pOclg0UVJsb1JQNmR4NnpPS0FYYWcyQjR2KzFUdk45OVhlQTBNRGh1dW8zdnlNeHdEb21sOGhpc2FhbTJnZ0ZuNjBlc2JmOVdoTnJHU2hNSVRXUFhqSkQzcHc2SjYxWS8wZVk5bjNLUzNLVEtNdG9CSzJPRW5oNFdRUERiaHh6dXZqa3ZydlFRcFFBcVhkVlRlcnBrQU9FVTBIQWsvQklyMS9ZVUM5bkFnTUJBQUdqZ2Jnd2diVXdEQVlEVlIwVEFRSC9CQUl3QURBZkJnTlZIU01FR0RBV2dCUmlob0VDQm9HMWJYT2Zkc3I0ZExXM2h0STZoakJWQmdOVkhSOEVUakJNTUVxZ1NLQkdoa1JvZEhSd2N6b3ZMMmx1ZEMxd01TNWxlbVJ5YjNkcFpTNW5iM1l1Y0d3dlkyTndNUzlqY213dlEwTlFNVWx1ZEdWbmNtRmplV3B1WlZOMVlrTkJWMU5UTG1OeWJEQWRCZ05WSFE0RUZnUVV2cnBRRFBERHhHbGZub0FyUVZTcmJTbjR5K2t3RGdZRFZSMFBBUUgvQkFRREFnZUFNQTBHQ1NxR1NJYjNEUUVCRFFVQUE0SUNBUUMrNkdMY3JsYy9TNGs4c0RLaVlnL215STVhNXFDSHhHaWNxc2lPL0E5ejBpdUtpdzdSTDZDZktkUE9kYmYrbm9EdmVrNXNPQThmWkRwVllIbWx3RTlLTEprMGRlbENFMkhrYitaSkh5c2FUWGl0Vng5YVhrMGE3d3YydkNxTEdsSnF5Wm81dmVjcGpvODNCOUJIbHlKU0Q3VkxsNVhVc0ZxLzVJbjhkTG5vUWhwSlhTemRiSlpTWHFXcUNoZnROU0lOZzg1ZlAwaXlmMFlST3BGSUVTRk1URkVjZFlHVDZZRUc1dDBzZ2lLbWZuZ2M0OTNFUnRTMjlwU1lIck1nRmZZTXFRYkZvYVF2Zyt1VldyTHM5cmlIenpmTGl0dXJ6aXFDbS9nUThNQnFKYytjVXJ5Qi80QUhGRFBsUG5Ydk1tUkNhSjF1djhSd05yaklkYU9qa0hyZERLcW5iSUNtTHJYWjFJa3E0OTRmOEFzQnI5NG5CcnRqNG55b1NpSEFMd1hiRzFQUUJRbVNUQjZlbG1KR2JUa2xlbzlwYzR2RytvUE1rU0dVTXRHMDkvdjNabnB0VURFSlI2RHhQT1dUN3dKQzlRdlo0MXVWZERRdWlrV2VsMitRcWl5Mk5wWHhxdlRYZ2UxbGZQRGExVnJsMHo1N1ZxUVFRa1JpV1YwVzFMdmI0cXNzTEQ2ai85bUorZ3RLUVduTUR5ZGRmdzVqZ2hieGJkVnNDMlE0QnJGZWNFQ04waUx4TWxyelhKbk9HZUhPc0o1SGgvaWRuODZZMHluRUhtZnFQa3Y0eTNNTkY3b1o4ODNvZEJRNUY4UnY2ZWxkb0h2U002dzd1QjZ1Q1ZoOGFybldJN2wrNnVqKzhCbnArYnpNTS9VSTNpMlVrSjFYbGxjUTV0eFpVUT09PC9kczpYNTA5Q2VydGlmaWNhdGU+PGRzOlg1MDlTdWJqZWN0TmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLHNlcmlhbE51bWJlcj0yLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMi4zLjE6IDAwMDAwMDAxMjEwNixjbj1Qb2RtaW90X2xlY3puaWN6eV8xLXV3aWVyenl0ZWxuaWVuaWUgZGFueWNoPC9kczpYNTA5U3ViamVjdE5hbWU+PGRzOlg1MDlJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj45MTI2NjU0NjAxNDA4MDg3MTMxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwvZHM6WDUwOUlzc3VlclNlcmlhbD48L2RzOlg1MDlEYXRhPjwvZHM6S2V5SW5mbz48ZHM6T2JqZWN0Pjx4YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcyB4bWxuczp4YWRlcz0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMy92MS4zLjIjIiB4bWxuczp4YWRlczE0MT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMy92MS40LjEjIiBUYXJnZXQ9IiN4bWxkc2lnLTYxNjllOTZkLTI0NDctNGNlNS05ZmYwLWFlOTlkZTJkYzM4NSI+PHhhZGVzOlNpZ25lZFByb3BlcnRpZXMgSWQ9InhtbGRzaWctNjE2OWU5NmQtMjQ0Ny00Y2U1LTlmZjAtYWU5OWRlMmRjMzg1LXNpZ25lZHByb3BzIj48eGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48eGFkZXM6U2lnbmluZ1RpbWU+MjAyMi0wOS0wMlQxMTo0NDowNi41MTYrMDI6MDA8L3hhZGVzOlNpZ25pbmdUaW1lPjx4YWRlczpTaWduaW5nQ2VydGlmaWNhdGU+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5FZEl0WDZnS0F6MDNsUGdHSzhTcU8zbGlHNTU3bC9vMjY2dWdsbVdabFhVPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj45MTI2NjU0NjAxNDA4MDg3MTMxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPm90eTlyams5bytJSVNtOC8zR2hGMXdWa1QwZVlBcnlhQk5ORTFIU3VFR2s9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjMxNDE3MDA3ODg2MTc5MzQzMTQ8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+ZDZWTWwxRFpmYUZPZVI0NURCSGcrRjRQZ2s5NUhVTUhJSHF5MXNGejBIQT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+NzU4MTg3OTcyMDYzMDY2MDIyNjwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PC94YWRlczpTaWduaW5nQ2VydGlmaWNhdGU+PC94YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjwveGFkZXM6U2lnbmVkUHJvcGVydGllcz48L3hhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzPjwvZHM6T2JqZWN0PjwvZHM6U2lnbmF0dXJlPg==</con:value>
            </con:property>
            <con:property>
              <con:name>coverageVersion</con:name>
              <con:value>1</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu" id="c9fa0971-b5cb-4506-986a-4a3dda8d6432">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane2#patientId}') + "/_history/" + context.expand('${danePodpisu#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane2#encounterId}') + "/_history/" + context.expand('${danePodpisu#encounterVersion}')
String conditionReference = zmUrl + "/fhir/Condition/" + context.expand('${dane2#conditionId}') + "/_history/" + context.expand('${danePodpisu#conditionVersion}')
String coverageReference = zmUrl + "/fhir/Coverage/" + context.expand('${dane2#coverageId}') + "/_history/" + context.expand('${danePodpisu#coverageVersion}')
String procedureReference = zmUrl + "/fhir/Procedure/" + context.expand('${dane2#procedureId}') + "/_history/" + context.expand('${danePodpisu#procedureVersion}')
String claimReference = zmUrl + "/fhir/Claim/" + context.expand('${dane2#claimId}') + "/_history/" + context.expand('${danePodpisu#claimVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);
refs.add(conditionReference);
refs.add(procedureReference);
refs.add(coverageReference);
refs.add(claimReference);

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisu'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource" id="d2db7932-7751-4e21-a99f-175e9f3ff2e3">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, dane2, danePodpisu</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-claim.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/5142463"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142465"/>
		<type value="Encounter"/>
	</target>
	<target>
		<reference value="Procedure/5142467"/>
		<type value="Procedure"/>
	</target>
	<target>
		<reference value="Condition/5142469"/>
		<type value="Condition"/>
	</target>
	<target>
		<reference value="Claim/5142475"/>
		<type value="Claim"/>
	</target>
	<target>
		<reference value="Coverage/5142471"/>
		<type value="Coverage"/>
	</target>
	<recorded value="2022-09-02T11:44:02.291+02:00"/>
	<agent>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:44:02.291+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy02MTY5ZTk2ZC0yNDQ3LTRjZTUtOWZmMC1hZTk5ZGUyZGMzODUiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNjE2OWU5NmQtMjQ0Ny00Y2U1LTlmZjAtYWU5OWRlMmRjMzg1LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTE0MjQ2My9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjlrWHlyY3ZBeFVRcDdTYXpPTWpVTUZnblhyWFhyRVhURkM5YzlhYmhmbTA9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTYxNjllOTZkLTI0NDctNGNlNS05ZmYwLWFlOTlkZTJkYzM4NS1yZWYxIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9FbmNvdW50ZXIvNTE0MjQ2NS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlFLRlN5dzdzbHVSamgram1RampzNzR5NjFSR1pYRm9tQzFxMjdES1E3cjQ9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTYxNjllOTZkLTI0NDctNGNlNS05ZmYwLWFlOTlkZTJkYzM4NS1yZWYyIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db25kaXRpb24vNTE0MjQ2OS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjViOVRQbnEzaVhCMkUvUHMyaUhEWVVhcVNxSmttd2V3djJSbUlReFRHb2M9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTYxNjllOTZkLTI0NDctNGNlNS05ZmYwLWFlOTlkZTJkYzM4NS1yZWYzIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Qcm9jZWR1cmUvNTE0MjQ2Ny9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlVLQ2k5b1BpVk05UG1KbkxVM1JZUzM0VTBlL3lXUVdrQkhoOWxwZjA2NFk9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTYxNjllOTZkLTI0NDctNGNlNS05ZmYwLWFlOTlkZTJkYzM4NS1yZWY0IiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db3ZlcmFnZS81MTQyNDcxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+bEh0ZG9ZeHRCaTNtaVZEOXJTTWpOdU5VSjhTZ0t6UmljTEpwOGpiZldRTT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNjE2OWU5NmQtMjQ0Ny00Y2U1LTlmZjAtYWU5OWRlMmRjMzg1LXJlZjUiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NsYWltLzUxNDI0NzUvX2hpc3RvcnkvMSI+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5WaW5uQmpYS281YnZEdUFuV2pGdjJPTWhYeFFpOFRHbFdnRU1ZNDFsaEpNPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PGRzOlJlZmVyZW5jZSBUeXBlPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzI1NpZ25lZFByb3BlcnRpZXMiIFVSST0iI3htbGRzaWctNjE2OWU5NmQtMjQ0Ny00Y2U1LTlmZjAtYWU5OWRlMmRjMzg1LXNpZ25lZHByb3BzIj48ZHM6VHJhbnNmb3Jtcz48ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48L2RzOlRyYW5zZm9ybXM+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT4xcUFJUXhQTEthR3FwcFlxMFlqRXZ0VjluR05xU2toTjA0VDIwOFQrMXJrPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PC9kczpTaWduZWRJbmZvPjxkczpTaWduYXR1cmVWYWx1ZSBJZD0ieG1sZHNpZy02MTY5ZTk2ZC0yNDQ3LTRjZTUtOWZmMC1hZTk5ZGUyZGMzODUtc2lndmFsdWUiPnF6NFRiNHBBWlBYc1kyeUhwT2RHRWFic2hIL3Eyczh6K3Uzdzh1NXR3d3U2Sm5tc25TeElFaC9oaXVWRDFtR1JVNUIxK2NqZ1dDbVhHdEtCSlVPWmg0UndqVHR6WDdUTWJxa1dYVGc4R1pFTElpVU5JQmx6Z1ZFeEVXUUNkenFPUG9iZ0RYdUVQS0xVMmYzdFAxalY2L29YbWgyMVVQV2I1NDBUTml6amR5WFBlVHJPY2Zxcm1uS1VFZ24yZGNhY1p1VW9tQWVVc1cwUDduVldSaFRXOStFZ3FTbFp2VUdZWnk2UXZkaEtvSk9lNXArUVBwWkd5YUFIbXhVeldnSDAyZEZQU3lVenZnS3N1WEpWaEtXeklQRFBHMEFVNHJoTW91OGY2dGVrenFYdWRhQndHM0ZYZWpiUEJQTmlodFVLOHh0MDR4cEtPd2NwQ3hJVEtVRllWQT09PC9kczpTaWduYXR1cmVWYWx1ZT48ZHM6S2V5SW5mbz48ZHM6WDUwOURhdGE+PGRzOlg1MDlDZXJ0aWZpY2F0ZT5NSUlGTVRDQ0F4bWdBd0lCQWdJSWZxaGtBVUNkQkZzd0RRWUpLb1pJaHZjTkFRRU5CUUF3VVRFWU1CWUdBMVVFQXd3UFEwTWdVREVnVTNWaVEwRWdWMU5UTVJnd0ZnWURWUVFMREE5UU1TQkpiblJsWjNKaFkzbHFibVV4RGpBTUJnTlZCQW9NQlVOVFNVOWFNUXN3Q1FZRFZRUUdFd0pRVERBZUZ3MHlNVEEyTWpFd056UTFNemRhRncweU16QTJNakV3TnpRMU16ZGFNSUdrTVRRd01nWURWUVFEREN0UWIyUnRhVzkwWDJ4bFkzcHVhV042ZVY4eExYVjNhV1Z5ZW5sMFpXeHVhV1Z1YVdVZ1pHRnVlV05vTVRVd013WURWUVFGRXl3eUxqRTJMamcwTUM0eExqRXhNemc0TXk0ekxqUTBNalF1TWk0ekxqRTZJREF3TURBd01EQXhNakV3TmpFWU1CWUdBMVVFQ3d3UFVERWdTVzUwWldkeVlXTjVhbTVsTVE0d0RBWURWUVFLREFWRFUwbFBXakVMTUFrR0ExVUVCaE1DVUV3d2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUUR1SS9BOThQbzc3dXFWY2d1WXp2dVpialV2Q3oyWkdqSWV1RUl0cXhJUXNvMk9nTkgveEIvQVlldTNQc1RlQXVRS1NFYTZKZjZneC81Wi9SM0NmVG1HdklPMEZic0xrTXA5cVdEK3dRU0dmbEM2cDVwWTNUK08xSmFvenJWakdxeGIxSWRiT3ZoaGVhanVxcnVDb1I3YXY2LzFqc0MwZk1BNmtaVFFuRGNNTkVwN0pOclg0UVJsb1JQNmR4NnpPS0FYYWcyQjR2KzFUdk45OVhlQTBNRGh1dW8zdnlNeHdEb21sOGhpc2FhbTJnZ0ZuNjBlc2JmOVdoTnJHU2hNSVRXUFhqSkQzcHc2SjYxWS8wZVk5bjNLUzNLVEtNdG9CSzJPRW5oNFdRUERiaHh6dXZqa3ZydlFRcFFBcVhkVlRlcnBrQU9FVTBIQWsvQklyMS9ZVUM5bkFnTUJBQUdqZ2Jnd2diVXdEQVlEVlIwVEFRSC9CQUl3QURBZkJnTlZIU01FR0RBV2dCUmlob0VDQm9HMWJYT2Zkc3I0ZExXM2h0STZoakJWQmdOVkhSOEVUakJNTUVxZ1NLQkdoa1JvZEhSd2N6b3ZMMmx1ZEMxd01TNWxlbVJ5YjNkcFpTNW5iM1l1Y0d3dlkyTndNUzlqY213dlEwTlFNVWx1ZEdWbmNtRmplV3B1WlZOMVlrTkJWMU5UTG1OeWJEQWRCZ05WSFE0RUZnUVV2cnBRRFBERHhHbGZub0FyUVZTcmJTbjR5K2t3RGdZRFZSMFBBUUgvQkFRREFnZUFNQTBHQ1NxR1NJYjNEUUVCRFFVQUE0SUNBUUMrNkdMY3JsYy9TNGs4c0RLaVlnL215STVhNXFDSHhHaWNxc2lPL0E5ejBpdUtpdzdSTDZDZktkUE9kYmYrbm9EdmVrNXNPQThmWkRwVllIbWx3RTlLTEprMGRlbENFMkhrYitaSkh5c2FUWGl0Vng5YVhrMGE3d3YydkNxTEdsSnF5Wm81dmVjcGpvODNCOUJIbHlKU0Q3VkxsNVhVc0ZxLzVJbjhkTG5vUWhwSlhTemRiSlpTWHFXcUNoZnROU0lOZzg1ZlAwaXlmMFlST3BGSUVTRk1URkVjZFlHVDZZRUc1dDBzZ2lLbWZuZ2M0OTNFUnRTMjlwU1lIck1nRmZZTXFRYkZvYVF2Zyt1VldyTHM5cmlIenpmTGl0dXJ6aXFDbS9nUThNQnFKYytjVXJ5Qi80QUhGRFBsUG5Ydk1tUkNhSjF1djhSd05yaklkYU9qa0hyZERLcW5iSUNtTHJYWjFJa3E0OTRmOEFzQnI5NG5CcnRqNG55b1NpSEFMd1hiRzFQUUJRbVNUQjZlbG1KR2JUa2xlbzlwYzR2RytvUE1rU0dVTXRHMDkvdjNabnB0VURFSlI2RHhQT1dUN3dKQzlRdlo0MXVWZERRdWlrV2VsMitRcWl5Mk5wWHhxdlRYZ2UxbGZQRGExVnJsMHo1N1ZxUVFRa1JpV1YwVzFMdmI0cXNzTEQ2ai85bUorZ3RLUVduTUR5ZGRmdzVqZ2hieGJkVnNDMlE0QnJGZWNFQ04waUx4TWxyelhKbk9HZUhPc0o1SGgvaWRuODZZMHluRUhtZnFQa3Y0eTNNTkY3b1o4ODNvZEJRNUY4UnY2ZWxkb0h2U002dzd1QjZ1Q1ZoOGFybldJN2wrNnVqKzhCbnArYnpNTS9VSTNpMlVrSjFYbGxjUTV0eFpVUT09PC9kczpYNTA5Q2VydGlmaWNhdGU+PGRzOlg1MDlTdWJqZWN0TmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLHNlcmlhbE51bWJlcj0yLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMi4zLjE6IDAwMDAwMDAxMjEwNixjbj1Qb2RtaW90X2xlY3puaWN6eV8xLXV3aWVyenl0ZWxuaWVuaWUgZGFueWNoPC9kczpYNTA5U3ViamVjdE5hbWU+PGRzOlg1MDlJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj45MTI2NjU0NjAxNDA4MDg3MTMxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwvZHM6WDUwOUlzc3VlclNlcmlhbD48L2RzOlg1MDlEYXRhPjwvZHM6S2V5SW5mbz48ZHM6T2JqZWN0Pjx4YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcyB4bWxuczp4YWRlcz0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMy92MS4zLjIjIiB4bWxuczp4YWRlczE0MT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMy92MS40LjEjIiBUYXJnZXQ9IiN4bWxkc2lnLTYxNjllOTZkLTI0NDctNGNlNS05ZmYwLWFlOTlkZTJkYzM4NSI+PHhhZGVzOlNpZ25lZFByb3BlcnRpZXMgSWQ9InhtbGRzaWctNjE2OWU5NmQtMjQ0Ny00Y2U1LTlmZjAtYWU5OWRlMmRjMzg1LXNpZ25lZHByb3BzIj48eGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48eGFkZXM6U2lnbmluZ1RpbWU+MjAyMi0wOS0wMlQxMTo0NDowNi41MTYrMDI6MDA8L3hhZGVzOlNpZ25pbmdUaW1lPjx4YWRlczpTaWduaW5nQ2VydGlmaWNhdGU+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5FZEl0WDZnS0F6MDNsUGdHSzhTcU8zbGlHNTU3bC9vMjY2dWdsbVdabFhVPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj45MTI2NjU0NjAxNDA4MDg3MTMxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPm90eTlyams5bytJSVNtOC8zR2hGMXdWa1QwZVlBcnlhQk5ORTFIU3VFR2s9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjMxNDE3MDA3ODg2MTc5MzQzMTQ8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+ZDZWTWwxRFpmYUZPZVI0NURCSGcrRjRQZ2s5NUhVTUhJSHF5MXNGejBIQT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+NzU4MTg3OTcyMDYzMDY2MDIyNjwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PC94YWRlczpTaWduaW5nQ2VydGlmaWNhdGU+PC94YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjwveGFkZXM6U2lnbmVkUHJvcGVydGllcz48L3hhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzPjwvZHM6T2JqZWN0PjwvZHM6U2lnbmF0dXJlPg=="/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance1" id="1c70bd29-00cb-438b-bcb7-c6f001564f8e">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance1" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7955ada5-b8e7-437e-9ce2-7ace877d963d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f39d13c2-d3a9-4624-b02e-b99dd46ba95d" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';



exists(//ns1:Provenance/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych provenance1" id="53cea8d2-a0fe-4923-8b8f-a7db9d14e511">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
            <con:name>provenanceId</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance1</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>provenance1Id</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:targetPath xsi:nil="true"/>
            <con:type>XPATH</con:type>
            <con:targetTransferType>XPATH</con:targetTransferType>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Odczyt Claim" id="8ac84d61-353a-4a99-a83e-bc675ce3a5c0">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Claim/{id}" methodName="Odczyt" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Odczyt Claim" id="53ded9e5-4b8c-47e7-b941-3b7b5d5bdc3b" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.35.10/fhir/Claim/13825</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="e13bb329-931e-4459-8384-da4aa98318f9" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f52efa3f-f7fe-4741-b1eb-83268d1f4173" name="Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="plpatient" value=""/>
              <con:entry key="id" value="${dane2#claimId}"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>plpatient</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="claimResource2" id="971007b1-5fb6-4067-925c-673756562f21">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane2</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>claim-pozycja-rozliczeniowa-mod.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Claim xmlns="http://hl7.org/fhir">
	<id value="5142475"/>
	<meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventNationalHealthFundClaim"/>
        <security>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
            <code value="N"/>
        </security>
   </meta>
    <status value="active"/>
    <type>
        <coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.95"/>
			<code value="1"/>
        </coding>
    </type>
    <use value="claim"/>
	<patient>
		<reference value="Patient/5142463"/>
		<type value="Patient"/>
	  <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
		 <value value="HP052776"/>
      </identifier>
	</patient>
      <billablePeriod>
        <start value="2022-09"/>
        <end value="2022-09"/>
    </billablePeriod>
    <created value="2020-03-23"/>
    <provider>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
    </provider>
    <priority>
        <coding>
        	<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.65"/>
            <code value="normalny"/>
        </coding>
    </priority>
	<diagnosis>
        <sequence value="1"/>
		<diagnosisReference>
             <reference value = "Condition/5142469"/>
             <type value = "Condition"/>		
		</diagnosisReference>		
    </diagnosis>
	<procedure>
        <sequence value="1"/>
		<procedureReference>
             <reference value = "Procedure/5142467"/>
             <type value = "Procedure"/>		
		</procedureReference>	
    </procedure>
    <insurance>
        <sequence value="1"/>
        <focal value="true"/>
        <identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
					<value value="12345678912345678912"/>
				</identifier>
        <coverage>
			<reference value="Coverage/5142471"/>
        	<type value="Coverage"/>
        </coverage>
        <businessArrangement value="07-06-02336-20-03/06"/>
    </insurance>
    <item>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEmergencyTreatment">
            <valueBoolean value="false"/>
        </extension>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLNationalHealthFundBillingItemRealQuantity">
            <valueDecimal value="1.5400"/>
        </extension>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLNationalHealthFundPoints">
             <valueDecimal value = "1.0000"/>
		</extension>
        <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLNationalHealthFundSpecialSettlement">
            <valueCode value="54A"/>
        </extension>
        <sequence value="1"/>
		<diagnosisSequence value="1" />
		<procedureSequence value="1" />		
        <category>
            <coding>
                <code value="01.0010.092.01"/>
            </coding>
        </category>
        <productOrService>
            <coding>
                <code value="5.01.00.0000075"/>
            </coding>
        </productOrService>
        <modifier>
            <coding>
                <code value="4"/>
            </coding>
        </modifier>
        <servicedPeriod>
        	 <start value="2020-03-12T14:10:01.077+01:00"/>
        	 <end value="2020-03-12T14:15:31.078+01:00"/>
        </servicedPeriod>
        <quantity>
            <value value="1.0000"/>
        </quantity>
        <unitPrice>
            <value value="10.99"/>
        </unitPrice>
        <factor value="1.0000"/>
        <encounter>
            <reference value="Encounter/5142465"/>
            <type value="Encounter"/>
        </encounter>
    </item>
</Claim>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="PUT Claim" id="8bf6f83e-0c5b-4012-bd87-a7badd001a0e">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Claim/{id}" methodName="Modyfikacja" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="PUT Claim" id="5342e985-0180-42de-83af-10a800b07b60" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${claimResource2#resourceRequest}</con:request>
            <con:originalUri>http://10.0.35.10/fhir/Claim/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="e2192154-95d9-4048-950b-90ce6a561b0d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="a5fe3ae0-038c-464f-ac15-2b6878339e5c" name="Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="_id" value="${dane2#claimId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych claim po aktualizacji" id="dfda2c0e-4a92-44e9-95f2-cb51639e9922">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>claimId</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>PUT Claim</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>claimId</con:targetType>
            <con:targetStep>dane2</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>PUT Claim</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>claimVersion</con:targetType>
            <con:targetStep>danePodpisu2</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu2" id="38033bbd-9b74-4bdd-b6e2-5eb5b4d42c36">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>conditionVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>procedureVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>claimVersion</con:name>
              <con:value>2</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy04NDVhYjQ4OC0yNmQyLTRjOGEtYjViYi0wNjU5MTc3MThkMjkiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctODQ1YWI0ODgtMjZkMi00YzhhLWI1YmItMDY1OTE3NzE4ZDI5LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTE0MjQ2My9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjlrWHlyY3ZBeFVRcDdTYXpPTWpVTUZnblhyWFhyRVhURkM5YzlhYmhmbTA9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTg0NWFiNDg4LTI2ZDItNGM4YS1iNWJiLTA2NTkxNzcxOGQyOS1yZWYxIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9FbmNvdW50ZXIvNTE0MjQ2NS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlFLRlN5dzdzbHVSamgram1RampzNzR5NjFSR1pYRm9tQzFxMjdES1E3cjQ9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTg0NWFiNDg4LTI2ZDItNGM4YS1iNWJiLTA2NTkxNzcxOGQyOS1yZWYyIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db25kaXRpb24vNTE0MjQ2OS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjViOVRQbnEzaVhCMkUvUHMyaUhEWVVhcVNxSmttd2V3djJSbUlReFRHb2M9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTg0NWFiNDg4LTI2ZDItNGM4YS1iNWJiLTA2NTkxNzcxOGQyOS1yZWYzIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Qcm9jZWR1cmUvNTE0MjQ2Ny9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlVLQ2k5b1BpVk05UG1KbkxVM1JZUzM0VTBlL3lXUVdrQkhoOWxwZjA2NFk9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTg0NWFiNDg4LTI2ZDItNGM4YS1iNWJiLTA2NTkxNzcxOGQyOS1yZWY0IiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db3ZlcmFnZS81MTQyNDcxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+bEh0ZG9ZeHRCaTNtaVZEOXJTTWpOdU5VSjhTZ0t6UmljTEpwOGpiZldRTT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctODQ1YWI0ODgtMjZkMi00YzhhLWI1YmItMDY1OTE3NzE4ZDI5LXJlZjUiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NsYWltLzUxNDI0NzUvX2hpc3RvcnkvMSI+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5WaW5uQmpYS281YnZEdUFuV2pGdjJPTWhYeFFpOFRHbFdnRU1ZNDFsaEpNPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PGRzOlJlZmVyZW5jZSBUeXBlPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzI1NpZ25lZFByb3BlcnRpZXMiIFVSST0iI3htbGRzaWctODQ1YWI0ODgtMjZkMi00YzhhLWI1YmItMDY1OTE3NzE4ZDI5LXNpZ25lZHByb3BzIj48ZHM6VHJhbnNmb3Jtcz48ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48L2RzOlRyYW5zZm9ybXM+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT50R3VRcmFpU2VXblVickxSRkhhb2tFbGhYVHdyaE5LNHZaelR6dTdIYnZnPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PC9kczpTaWduZWRJbmZvPjxkczpTaWduYXR1cmVWYWx1ZSBJZD0ieG1sZHNpZy04NDVhYjQ4OC0yNmQyLTRjOGEtYjViYi0wNjU5MTc3MThkMjktc2lndmFsdWUiPmV0Y3hBc1djZ2ZQa3ZXODJlUlVZUEs3OEVEU3RpbUlZYWhFVThsUWEwcW0yV0tkb2tkZzNEZzQ5UGJFRFgvS2hMM01XOCtWNmdqSjFwSWU1MitoUko4SmF2QklFN2tSSnZjUlJBdkk5S3lhWXhnZk43QVJLenVQYTRFaVR4cTB0cW1OUjJKSFprUTVJQUlSWVZNOWN2Vzk5YjN3Z1F0TFZiNzFWTzRXTWw4bEUwVzJkZ1VCSE9UYStnYm9yVTJ6WTJWSCs0QUpSUmxYWFZzQTZMOFBWYjJDUmp2SnVJLy9NTGlHYzJVRThmWEF6eHBGdzF4djdwa3dOQTFFbHZEV2hBTmc4Rk9oVElFaGFkK0dmNXhFQUJFWE5KOCtmeW5uRVBDM3g2emdGMm5Qb2gwdDg0bGVKOE02eC9BNUhJdzJCQytWNmxQQ1NjcmdHaEMwUHpjKzZMQT09PC9kczpTaWduYXR1cmVWYWx1ZT48ZHM6S2V5SW5mbz48ZHM6WDUwOURhdGE+PGRzOlg1MDlDZXJ0aWZpY2F0ZT5NSUlGTVRDQ0F4bWdBd0lCQWdJSWZxaGtBVUNkQkZzd0RRWUpLb1pJaHZjTkFRRU5CUUF3VVRFWU1CWUdBMVVFQXd3UFEwTWdVREVnVTNWaVEwRWdWMU5UTVJnd0ZnWURWUVFMREE5UU1TQkpiblJsWjNKaFkzbHFibVV4RGpBTUJnTlZCQW9NQlVOVFNVOWFNUXN3Q1FZRFZRUUdFd0pRVERBZUZ3MHlNVEEyTWpFd056UTFNemRhRncweU16QTJNakV3TnpRMU16ZGFNSUdrTVRRd01nWURWUVFEREN0UWIyUnRhVzkwWDJ4bFkzcHVhV042ZVY4eExYVjNhV1Z5ZW5sMFpXeHVhV1Z1YVdVZ1pHRnVlV05vTVRVd013WURWUVFGRXl3eUxqRTJMamcwTUM0eExqRXhNemc0TXk0ekxqUTBNalF1TWk0ekxqRTZJREF3TURBd01EQXhNakV3TmpFWU1CWUdBMVVFQ3d3UFVERWdTVzUwWldkeVlXTjVhbTVsTVE0d0RBWURWUVFLREFWRFUwbFBXakVMTUFrR0ExVUVCaE1DVUV3d2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUUR1SS9BOThQbzc3dXFWY2d1WXp2dVpialV2Q3oyWkdqSWV1RUl0cXhJUXNvMk9nTkgveEIvQVlldTNQc1RlQXVRS1NFYTZKZjZneC81Wi9SM0NmVG1HdklPMEZic0xrTXA5cVdEK3dRU0dmbEM2cDVwWTNUK08xSmFvenJWakdxeGIxSWRiT3ZoaGVhanVxcnVDb1I3YXY2LzFqc0MwZk1BNmtaVFFuRGNNTkVwN0pOclg0UVJsb1JQNmR4NnpPS0FYYWcyQjR2KzFUdk45OVhlQTBNRGh1dW8zdnlNeHdEb21sOGhpc2FhbTJnZ0ZuNjBlc2JmOVdoTnJHU2hNSVRXUFhqSkQzcHc2SjYxWS8wZVk5bjNLUzNLVEtNdG9CSzJPRW5oNFdRUERiaHh6dXZqa3ZydlFRcFFBcVhkVlRlcnBrQU9FVTBIQWsvQklyMS9ZVUM5bkFnTUJBQUdqZ2Jnd2diVXdEQVlEVlIwVEFRSC9CQUl3QURBZkJnTlZIU01FR0RBV2dCUmlob0VDQm9HMWJYT2Zkc3I0ZExXM2h0STZoakJWQmdOVkhSOEVUakJNTUVxZ1NLQkdoa1JvZEhSd2N6b3ZMMmx1ZEMxd01TNWxlbVJ5YjNkcFpTNW5iM1l1Y0d3dlkyTndNUzlqY213dlEwTlFNVWx1ZEdWbmNtRmplV3B1WlZOMVlrTkJWMU5UTG1OeWJEQWRCZ05WSFE0RUZnUVV2cnBRRFBERHhHbGZub0FyUVZTcmJTbjR5K2t3RGdZRFZSMFBBUUgvQkFRREFnZUFNQTBHQ1NxR1NJYjNEUUVCRFFVQUE0SUNBUUMrNkdMY3JsYy9TNGs4c0RLaVlnL215STVhNXFDSHhHaWNxc2lPL0E5ejBpdUtpdzdSTDZDZktkUE9kYmYrbm9EdmVrNXNPQThmWkRwVllIbWx3RTlLTEprMGRlbENFMkhrYitaSkh5c2FUWGl0Vng5YVhrMGE3d3YydkNxTEdsSnF5Wm81dmVjcGpvODNCOUJIbHlKU0Q3VkxsNVhVc0ZxLzVJbjhkTG5vUWhwSlhTemRiSlpTWHFXcUNoZnROU0lOZzg1ZlAwaXlmMFlST3BGSUVTRk1URkVjZFlHVDZZRUc1dDBzZ2lLbWZuZ2M0OTNFUnRTMjlwU1lIck1nRmZZTXFRYkZvYVF2Zyt1VldyTHM5cmlIenpmTGl0dXJ6aXFDbS9nUThNQnFKYytjVXJ5Qi80QUhGRFBsUG5Ydk1tUkNhSjF1djhSd05yaklkYU9qa0hyZERLcW5iSUNtTHJYWjFJa3E0OTRmOEFzQnI5NG5CcnRqNG55b1NpSEFMd1hiRzFQUUJRbVNUQjZlbG1KR2JUa2xlbzlwYzR2RytvUE1rU0dVTXRHMDkvdjNabnB0VURFSlI2RHhQT1dUN3dKQzlRdlo0MXVWZERRdWlrV2VsMitRcWl5Mk5wWHhxdlRYZ2UxbGZQRGExVnJsMHo1N1ZxUVFRa1JpV1YwVzFMdmI0cXNzTEQ2ai85bUorZ3RLUVduTUR5ZGRmdzVqZ2hieGJkVnNDMlE0QnJGZWNFQ04waUx4TWxyelhKbk9HZUhPc0o1SGgvaWRuODZZMHluRUhtZnFQa3Y0eTNNTkY3b1o4ODNvZEJRNUY4UnY2ZWxkb0h2U002dzd1QjZ1Q1ZoOGFybldJN2wrNnVqKzhCbnArYnpNTS9VSTNpMlVrSjFYbGxjUTV0eFpVUT09PC9kczpYNTA5Q2VydGlmaWNhdGU+PGRzOlg1MDlTdWJqZWN0TmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLHNlcmlhbE51bWJlcj0yLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMi4zLjE6IDAwMDAwMDAxMjEwNixjbj1Qb2RtaW90X2xlY3puaWN6eV8xLXV3aWVyenl0ZWxuaWVuaWUgZGFueWNoPC9kczpYNTA5U3ViamVjdE5hbWU+PGRzOlg1MDlJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj45MTI2NjU0NjAxNDA4MDg3MTMxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwvZHM6WDUwOUlzc3VlclNlcmlhbD48L2RzOlg1MDlEYXRhPjwvZHM6S2V5SW5mbz48ZHM6T2JqZWN0Pjx4YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcyB4bWxuczp4YWRlcz0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMy92MS4zLjIjIiB4bWxuczp4YWRlczE0MT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMy92MS40LjEjIiBUYXJnZXQ9IiN4bWxkc2lnLTg0NWFiNDg4LTI2ZDItNGM4YS1iNWJiLTA2NTkxNzcxOGQyOSI+PHhhZGVzOlNpZ25lZFByb3BlcnRpZXMgSWQ9InhtbGRzaWctODQ1YWI0ODgtMjZkMi00YzhhLWI1YmItMDY1OTE3NzE4ZDI5LXNpZ25lZHByb3BzIj48eGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48eGFkZXM6U2lnbmluZ1RpbWU+MjAyMi0wOS0wMlQxMTo0NDoyMC41ODMrMDI6MDA8L3hhZGVzOlNpZ25pbmdUaW1lPjx4YWRlczpTaWduaW5nQ2VydGlmaWNhdGU+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5FZEl0WDZnS0F6MDNsUGdHSzhTcU8zbGlHNTU3bC9vMjY2dWdsbVdabFhVPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj45MTI2NjU0NjAxNDA4MDg3MTMxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPm90eTlyams5bytJSVNtOC8zR2hGMXdWa1QwZVlBcnlhQk5ORTFIU3VFR2s9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjMxNDE3MDA3ODg2MTc5MzQzMTQ8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+ZDZWTWwxRFpmYUZPZVI0NURCSGcrRjRQZ2s5NUhVTUhJSHF5MXNGejBIQT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+NzU4MTg3OTcyMDYzMDY2MDIyNjwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PC94YWRlczpTaWduaW5nQ2VydGlmaWNhdGU+PC94YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjwveGFkZXM6U2lnbmVkUHJvcGVydGllcz48L3hhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzPjwvZHM6T2JqZWN0PjwvZHM6U2lnbmF0dXJlPg==</con:value>
            </con:property>
            <con:property>
              <con:name>coverageVersion</con:name>
              <con:value>1</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu2" id="f436443b-5971-4c6f-882e-96d039620917">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane2#patientId}') + "/_history/" + context.expand('${danePodpisu#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane2#encounterId}') + "/_history/" + context.expand('${danePodpisu#encounterVersion}')
String conditionReference = zmUrl + "/fhir/Condition/" + context.expand('${dane2#conditionId}') + "/_history/" + context.expand('${danePodpisu#conditionVersion}')
String procedureReference = zmUrl + "/fhir/Procedure/" + context.expand('${dane2#procedureId}') + "/_history/" + context.expand('${danePodpisu#procedureVersion}')
String coverageReference = zmUrl + "/fhir/Coverage/" + context.expand('${dane2#coverageId}') + "/_history/" + context.expand('${danePodpisu#coverageVersion}')
String claimReference = zmUrl + "/fhir/Claim/" + context.expand('${dane2#claimId}') + "/_history/" + context.expand('${danePodpisu#claimVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);
refs.add(conditionReference);
refs.add(procedureReference);
refs.add(coverageReference);
refs.add(claimReference);

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisu2'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource2" id="511cf015-5992-4e70-a070-40ddd4880013">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane2, danePodpisu</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-claim.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/5142463"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142465"/>
		<type value="Encounter"/>
	</target>
	<target>
		<reference value="Procedure/5142467"/>
		<type value="Procedure"/>
	</target>
	<target>
		<reference value="Condition/5142469"/>
		<type value="Condition"/>
	</target>
	<target>
		<reference value="Claim/5142475"/>
		<type value="Claim"/>
	</target>
	<target>
		<reference value="Coverage/5142471"/>
		<type value="Coverage"/>
	</target>
	<recorded value="2022-09-02T11:44:02.291+02:00"/>
	<agent>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:44:02.291+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy02MTY5ZTk2ZC0yNDQ3LTRjZTUtOWZmMC1hZTk5ZGUyZGMzODUiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNjE2OWU5NmQtMjQ0Ny00Y2U1LTlmZjAtYWU5OWRlMmRjMzg1LXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTE0MjQ2My9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjlrWHlyY3ZBeFVRcDdTYXpPTWpVTUZnblhyWFhyRVhURkM5YzlhYmhmbTA9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTYxNjllOTZkLTI0NDctNGNlNS05ZmYwLWFlOTlkZTJkYzM4NS1yZWYxIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9FbmNvdW50ZXIvNTE0MjQ2NS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlFLRlN5dzdzbHVSamgram1RampzNzR5NjFSR1pYRm9tQzFxMjdES1E3cjQ9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTYxNjllOTZkLTI0NDctNGNlNS05ZmYwLWFlOTlkZTJkYzM4NS1yZWYyIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db25kaXRpb24vNTE0MjQ2OS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjViOVRQbnEzaVhCMkUvUHMyaUhEWVVhcVNxSmttd2V3djJSbUlReFRHb2M9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTYxNjllOTZkLTI0NDctNGNlNS05ZmYwLWFlOTlkZTJkYzM4NS1yZWYzIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Qcm9jZWR1cmUvNTE0MjQ2Ny9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlVLQ2k5b1BpVk05UG1KbkxVM1JZUzM0VTBlL3lXUVdrQkhoOWxwZjA2NFk9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTYxNjllOTZkLTI0NDctNGNlNS05ZmYwLWFlOTlkZTJkYzM4NS1yZWY0IiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db3ZlcmFnZS81MTQyNDcxL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+bEh0ZG9ZeHRCaTNtaVZEOXJTTWpOdU5VSjhTZ0t6UmljTEpwOGpiZldRTT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNjE2OWU5NmQtMjQ0Ny00Y2U1LTlmZjAtYWU5OWRlMmRjMzg1LXJlZjUiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NsYWltLzUxNDI0NzUvX2hpc3RvcnkvMSI+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5WaW5uQmpYS281YnZEdUFuV2pGdjJPTWhYeFFpOFRHbFdnRU1ZNDFsaEpNPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PGRzOlJlZmVyZW5jZSBUeXBlPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzI1NpZ25lZFByb3BlcnRpZXMiIFVSST0iI3htbGRzaWctNjE2OWU5NmQtMjQ0Ny00Y2U1LTlmZjAtYWU5OWRlMmRjMzg1LXNpZ25lZHByb3BzIj48ZHM6VHJhbnNmb3Jtcz48ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48L2RzOlRyYW5zZm9ybXM+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT4xcUFJUXhQTEthR3FwcFlxMFlqRXZ0VjluR05xU2toTjA0VDIwOFQrMXJrPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PC9kczpTaWduZWRJbmZvPjxkczpTaWduYXR1cmVWYWx1ZSBJZD0ieG1sZHNpZy02MTY5ZTk2ZC0yNDQ3LTRjZTUtOWZmMC1hZTk5ZGUyZGMzODUtc2lndmFsdWUiPnF6NFRiNHBBWlBYc1kyeUhwT2RHRWFic2hIL3Eyczh6K3Uzdzh1NXR3d3U2Sm5tc25TeElFaC9oaXVWRDFtR1JVNUIxK2NqZ1dDbVhHdEtCSlVPWmg0UndqVHR6WDdUTWJxa1dYVGc4R1pFTElpVU5JQmx6Z1ZFeEVXUUNkenFPUG9iZ0RYdUVQS0xVMmYzdFAxalY2L29YbWgyMVVQV2I1NDBUTml6amR5WFBlVHJPY2Zxcm1uS1VFZ24yZGNhY1p1VW9tQWVVc1cwUDduVldSaFRXOStFZ3FTbFp2VUdZWnk2UXZkaEtvSk9lNXArUVBwWkd5YUFIbXhVeldnSDAyZEZQU3lVenZnS3N1WEpWaEtXeklQRFBHMEFVNHJoTW91OGY2dGVrenFYdWRhQndHM0ZYZWpiUEJQTmlodFVLOHh0MDR4cEtPd2NwQ3hJVEtVRllWQT09PC9kczpTaWduYXR1cmVWYWx1ZT48ZHM6S2V5SW5mbz48ZHM6WDUwOURhdGE+PGRzOlg1MDlDZXJ0aWZpY2F0ZT5NSUlGTVRDQ0F4bWdBd0lCQWdJSWZxaGtBVUNkQkZzd0RRWUpLb1pJaHZjTkFRRU5CUUF3VVRFWU1CWUdBMVVFQXd3UFEwTWdVREVnVTNWaVEwRWdWMU5UTVJnd0ZnWURWUVFMREE5UU1TQkpiblJsWjNKaFkzbHFibVV4RGpBTUJnTlZCQW9NQlVOVFNVOWFNUXN3Q1FZRFZRUUdFd0pRVERBZUZ3MHlNVEEyTWpFd056UTFNemRhRncweU16QTJNakV3TnpRMU16ZGFNSUdrTVRRd01nWURWUVFEREN0UWIyUnRhVzkwWDJ4bFkzcHVhV042ZVY4eExYVjNhV1Z5ZW5sMFpXeHVhV1Z1YVdVZ1pHRnVlV05vTVRVd013WURWUVFGRXl3eUxqRTJMamcwTUM0eExqRXhNemc0TXk0ekxqUTBNalF1TWk0ekxqRTZJREF3TURBd01EQXhNakV3TmpFWU1CWUdBMVVFQ3d3UFVERWdTVzUwWldkeVlXTjVhbTVsTVE0d0RBWURWUVFLREFWRFUwbFBXakVMTUFrR0ExVUVCaE1DVUV3d2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUUR1SS9BOThQbzc3dXFWY2d1WXp2dVpialV2Q3oyWkdqSWV1RUl0cXhJUXNvMk9nTkgveEIvQVlldTNQc1RlQXVRS1NFYTZKZjZneC81Wi9SM0NmVG1HdklPMEZic0xrTXA5cVdEK3dRU0dmbEM2cDVwWTNUK08xSmFvenJWakdxeGIxSWRiT3ZoaGVhanVxcnVDb1I3YXY2LzFqc0MwZk1BNmtaVFFuRGNNTkVwN0pOclg0UVJsb1JQNmR4NnpPS0FYYWcyQjR2KzFUdk45OVhlQTBNRGh1dW8zdnlNeHdEb21sOGhpc2FhbTJnZ0ZuNjBlc2JmOVdoTnJHU2hNSVRXUFhqSkQzcHc2SjYxWS8wZVk5bjNLUzNLVEtNdG9CSzJPRW5oNFdRUERiaHh6dXZqa3ZydlFRcFFBcVhkVlRlcnBrQU9FVTBIQWsvQklyMS9ZVUM5bkFnTUJBQUdqZ2Jnd2diVXdEQVlEVlIwVEFRSC9CQUl3QURBZkJnTlZIU01FR0RBV2dCUmlob0VDQm9HMWJYT2Zkc3I0ZExXM2h0STZoakJWQmdOVkhSOEVUakJNTUVxZ1NLQkdoa1JvZEhSd2N6b3ZMMmx1ZEMxd01TNWxlbVJ5YjNkcFpTNW5iM1l1Y0d3dlkyTndNUzlqY213dlEwTlFNVWx1ZEdWbmNtRmplV3B1WlZOMVlrTkJWMU5UTG1OeWJEQWRCZ05WSFE0RUZnUVV2cnBRRFBERHhHbGZub0FyUVZTcmJTbjR5K2t3RGdZRFZSMFBBUUgvQkFRREFnZUFNQTBHQ1NxR1NJYjNEUUVCRFFVQUE0SUNBUUMrNkdMY3JsYy9TNGs4c0RLaVlnL215STVhNXFDSHhHaWNxc2lPL0E5ejBpdUtpdzdSTDZDZktkUE9kYmYrbm9EdmVrNXNPQThmWkRwVllIbWx3RTlLTEprMGRlbENFMkhrYitaSkh5c2FUWGl0Vng5YVhrMGE3d3YydkNxTEdsSnF5Wm81dmVjcGpvODNCOUJIbHlKU0Q3VkxsNVhVc0ZxLzVJbjhkTG5vUWhwSlhTemRiSlpTWHFXcUNoZnROU0lOZzg1ZlAwaXlmMFlST3BGSUVTRk1URkVjZFlHVDZZRUc1dDBzZ2lLbWZuZ2M0OTNFUnRTMjlwU1lIck1nRmZZTXFRYkZvYVF2Zyt1VldyTHM5cmlIenpmTGl0dXJ6aXFDbS9nUThNQnFKYytjVXJ5Qi80QUhGRFBsUG5Ydk1tUkNhSjF1djhSd05yaklkYU9qa0hyZERLcW5iSUNtTHJYWjFJa3E0OTRmOEFzQnI5NG5CcnRqNG55b1NpSEFMd1hiRzFQUUJRbVNUQjZlbG1KR2JUa2xlbzlwYzR2RytvUE1rU0dVTXRHMDkvdjNabnB0VURFSlI2RHhQT1dUN3dKQzlRdlo0MXVWZERRdWlrV2VsMitRcWl5Mk5wWHhxdlRYZ2UxbGZQRGExVnJsMHo1N1ZxUVFRa1JpV1YwVzFMdmI0cXNzTEQ2ai85bUorZ3RLUVduTUR5ZGRmdzVqZ2hieGJkVnNDMlE0QnJGZWNFQ04waUx4TWxyelhKbk9HZUhPc0o1SGgvaWRuODZZMHluRUhtZnFQa3Y0eTNNTkY3b1o4ODNvZEJRNUY4UnY2ZWxkb0h2U002dzd1QjZ1Q1ZoOGFybldJN2wrNnVqKzhCbnArYnpNTS9VSTNpMlVrSjFYbGxjUTV0eFpVUT09PC9kczpYNTA5Q2VydGlmaWNhdGU+PGRzOlg1MDlTdWJqZWN0TmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLHNlcmlhbE51bWJlcj0yLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMi4zLjE6IDAwMDAwMDAxMjEwNixjbj1Qb2RtaW90X2xlY3puaWN6eV8xLXV3aWVyenl0ZWxuaWVuaWUgZGFueWNoPC9kczpYNTA5U3ViamVjdE5hbWU+PGRzOlg1MDlJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj45MTI2NjU0NjAxNDA4MDg3MTMxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwvZHM6WDUwOUlzc3VlclNlcmlhbD48L2RzOlg1MDlEYXRhPjwvZHM6S2V5SW5mbz48ZHM6T2JqZWN0Pjx4YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcyB4bWxuczp4YWRlcz0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMy92MS4zLjIjIiB4bWxuczp4YWRlczE0MT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMy92MS40LjEjIiBUYXJnZXQ9IiN4bWxkc2lnLTYxNjllOTZkLTI0NDctNGNlNS05ZmYwLWFlOTlkZTJkYzM4NSI+PHhhZGVzOlNpZ25lZFByb3BlcnRpZXMgSWQ9InhtbGRzaWctNjE2OWU5NmQtMjQ0Ny00Y2U1LTlmZjAtYWU5OWRlMmRjMzg1LXNpZ25lZHByb3BzIj48eGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48eGFkZXM6U2lnbmluZ1RpbWU+MjAyMi0wOS0wMlQxMTo0NDowNi41MTYrMDI6MDA8L3hhZGVzOlNpZ25pbmdUaW1lPjx4YWRlczpTaWduaW5nQ2VydGlmaWNhdGU+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5FZEl0WDZnS0F6MDNsUGdHSzhTcU8zbGlHNTU3bC9vMjY2dWdsbVdabFhVPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj45MTI2NjU0NjAxNDA4MDg3MTMxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPm90eTlyams5bytJSVNtOC8zR2hGMXdWa1QwZVlBcnlhQk5ORTFIU3VFR2s9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjMxNDE3MDA3ODg2MTc5MzQzMTQ8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+ZDZWTWwxRFpmYUZPZVI0NURCSGcrRjRQZ2s5NUhVTUhJSHF5MXNGejBIQT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+NzU4MTg3OTcyMDYzMDY2MDIyNjwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PC94YWRlczpTaWduaW5nQ2VydGlmaWNhdGU+PC94YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjwveGFkZXM6U2lnbmVkUHJvcGVydGllcz48L3hhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzPjwvZHM6T2JqZWN0PjwvZHM6U2lnbmF0dXJlPg=="/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance2" id="e536f094-eb0f-436c-8910-fac2502ad177">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance2" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource2#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7955ada5-b8e7-437e-9ce2-7ace877d963d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f39d13c2-d3a9-4624-b02e-b99dd46ba95d" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';



exists(//ns1:Provenance/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych provenance2" id="b16eb6e0-270e-47ca-bc91-2e1246b503db">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
            <con:name>provenanceId</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance2</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>provenance2Id</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:targetPath xsi:nil="true"/>
            <con:type>XPATH</con:type>
            <con:targetTransferType>XPATH</con:targetTransferType>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Wyszukanie Claim" id="66167c2f-c995-41db-8ca4-b1831df0f3ca">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Claim/" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Wyszukanie Claim" id="607fbf6a-a130-401e-bb79-9c76b172f6be" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.35.10/fhir/Claim/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="f5d18235-bf08-4615-87af-b289e4f5fcbf" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="01af8fc1-d052-4f35-b28d-86898d96038b" name="Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length((//*:implicitRules/@value)[1])>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="plpatient" value="${dane2#identyfikatorPacjentaOID}|${dane2#identyfikatorPacjenta}"/>
              <con:entry key="encounter" value="${dane2#encounterId}"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plpatient</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Delay" id="e73a6d43-5470-440f-8cf5-55809fb0c49f">
        <con:settings/>
        <con:config>
          <delay>${#Project#delaySeconds}000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="DELETE Provenance 2" id="844f34be-2ac9-4476-b200-28ea0343de90">
        <con:settings/>
        <con:config method="DELETE" xsi:type="con:HttpRequest" id="f6989528-1d34-4419-950f-d9a37445a4a3" name="DELETE Provenance 2" downloadIncludedResources="false" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/xml"/>
&lt;/xml-fragment></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}/fhir/Provenance/${dane#provenance2Id}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" id="d8bd560e-a771-4185-a9ac-17a701071aad" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="Simple Contains" id="b0e8e78e-b931-4d9e-b839-7888d200e9ea" name="Successfully deleted 1 ">
            <con:configuration>
              <token>Successfully deleted 1</token>
              <ignoreCase>false</ignoreCase>
              <useRegEx>false</useRegEx>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="DELETE Provenance 1" id="949d2334-a630-4c5d-b8aa-7fedc197cb8c">
        <con:settings/>
        <con:config method="DELETE" xsi:type="con:HttpRequest" id="f6989528-1d34-4419-950f-d9a37445a4a3" name="DELETE Provenance 1" downloadIncludedResources="false" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/xml"/>
&lt;/xml-fragment></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}/fhir/Provenance/${dane#provenance1Id}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" id="d8bd560e-a771-4185-a9ac-17a701071aad" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="Simple Contains" id="b0e8e78e-b931-4d9e-b839-7888d200e9ea" name="Successfully deleted 1 ">
            <con:configuration>
              <token>Successfully deleted 1</token>
              <ignoreCase>false</ignoreCase>
              <useRegEx>false</useRegEx>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Claim" id="df9f7350-b303-4bd4-b6d7-6e39a7979856">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Claim/{id}" methodName="Anulowanie" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Claim" id="d482eff9-d31d-4d57-b5fa-0863c4c661de" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.35.10/fhir/Claim/14944</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="e3d7fb68-1a9e-4322-8c96-bc377aeb62a2" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Simple Contains" id="4368a335-c9f9-475e-b7db-bc635e62bda0" name="Contains">
              <con:configuration>
                <token>Successfully deleted 1 resource</token>
                <ignoreCase>false</ignoreCase>
                <useRegEx>false</useRegEx>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane2#claimId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Coverage" id="010ce381-7856-4870-9493-5e8016f72fe3">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Coverage/{id}" methodName="Anulowanie-coverage" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Coverage" id="d482eff9-d31d-4d57-b5fa-0863c4c661de" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.35.10/fhir/Claim/14944</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="e3d7fb68-1a9e-4322-8c96-bc377aeb62a2" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Simple Contains" id="4368a335-c9f9-475e-b7db-bc635e62bda0" name="Contains">
              <con:configuration>
                <token>Successfully deleted 1 resource</token>
                <ignoreCase>false</ignoreCase>
                <useRegEx>false</useRegEx>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane2#coverageId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu3" id="4f52cc07-e068-4cff-b9bd-437f60bcff9c">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1iZjFhNWU0ZC1hZDM4LTQ4ZTktYmMxMi05YjgwYWYwNWE2ZDIiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYmYxYTVlNGQtYWQzOC00OGU5LWJjMTItOWI4MGFmMDVhNmQyLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTE0MjQ2My9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjlrWHlyY3ZBeFVRcDdTYXpPTWpVTUZnblhyWFhyRVhURkM5YzlhYmhmbTA9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWJmMWE1ZTRkLWFkMzgtNDhlOS1iYzEyLTliODBhZjA1YTZkMi1yZWYxIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9FbmNvdW50ZXIvNTE0MjQ2NS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlFLRlN5dzdzbHVSamgram1RampzNzR5NjFSR1pYRm9tQzFxMjdES1E3cjQ9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWJmMWE1ZTRkLWFkMzgtNDhlOS1iYzEyLTliODBhZjA1YTZkMi1yZWYyIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db25kaXRpb24vNTE0MjQ2OS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjViOVRQbnEzaVhCMkUvUHMyaUhEWVVhcVNxSmttd2V3djJSbUlReFRHb2M9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWJmMWE1ZTRkLWFkMzgtNDhlOS1iYzEyLTliODBhZjA1YTZkMi1yZWYzIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Qcm9jZWR1cmUvNTE0MjQ2Ny9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlVLQ2k5b1BpVk05UG1KbkxVM1JZUzM0VTBlL3lXUVdrQkhoOWxwZjA2NFk9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy1iZjFhNWU0ZC1hZDM4LTQ4ZTktYmMxMi05YjgwYWYwNWE2ZDItc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPnNTLy9QYjV4NzgxTXZ1aGNiVm5pTkJwbFF5MzRRZTl3bFpUYnBIVHd3MVU9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLWJmMWE1ZTRkLWFkMzgtNDhlOS1iYzEyLTliODBhZjA1YTZkMi1zaWd2YWx1ZSI+bEF4dGJSNFJnOUk3OHJzL09TMEhWbzlKRFFpVSt3cXRGZ1UrQ2xaTElVajZ2MDZOZk93R2RIM25zSm92Y3hGOGhBME5FMVdOL2tuSDN5NlVZMFVpN1A1M2F0MkdRMHFnQkU5U0p6OExJK05peVIyVXlHQ2xxWS8yOVNSV3ZBRnlqQUVnL2xybmlxOTNidHdSK1dnWHBaTjI4UElRcjNpcWlOT2RxUW1oUDlSb2JOa2VqOW9TRXJWaUpMZkhqdGhvU2JlditNZjBVUU5Gd3RTcW1FUXFCdnZ0ejFIbVlpSm9XLys4anFjdU51aW84djdYS002MTdsMzRjNVArTmN5d1UwOTNQd0hUWm11T3hlcjYrbG1hcWV2L3pqY0ZSVFQvUWxIbTBHT2x4NUN2cmoyQ0xld2FPMjg3d2tMZXZvOExGck9YVlRET3lIYjBndUpEY20zNk5BPT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZNVENDQXhtZ0F3SUJBZ0lJZnFoa0FVQ2RCRnN3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1UQTJNakV3TnpRMU16ZGFGdzB5TXpBMk1qRXdOelExTXpkYU1JR2tNVFF3TWdZRFZRUUREQ3RRYjJSdGFXOTBYMnhsWTNwdWFXTjZlVjh4TFhWM2FXVnllbmwwWld4dWFXVnVhV1VnWkdGdWVXTm9NVFV3TXdZRFZRUUZFeXd5TGpFMkxqZzBNQzR4TGpFeE16ZzRNeTR6TGpRME1qUXVNaTR6TGpFNklEQXdNREF3TURBeE1qRXdOakVZTUJZR0ExVUVDd3dQVURFZ1NXNTBaV2R5WVdONWFtNWxNUTR3REFZRFZRUUtEQVZEVTBsUFdqRUxNQWtHQTFVRUJoTUNVRXd3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRHVJL0E5OFBvNzd1cVZjZ3VZenZ1WmJqVXZDejJaR2pJZXVFSXRxeElRc28yT2dOSC94Qi9BWWV1M1BzVGVBdVFLU0VhNkpmNmd4LzVaL1IzQ2ZUbUd2SU8wRmJzTGtNcDlxV0Qrd1FTR2ZsQzZwNXBZM1QrTzFKYW96clZqR3F4YjFJZGJPdmhoZWFqdXFydUNvUjdhdjYvMWpzQzBmTUE2a1pUUW5EY01ORXA3Sk5yWDRRUmxvUlA2ZHg2ek9LQVhhZzJCNHYrMVR2Tjk5WGVBME1EaHV1bzN2eU14d0RvbWw4aGlzYWFtMmdnRm42MGVzYmY5V2hOckdTaE1JVFdQWGpKRDNwdzZKNjFZLzBlWTluM0tTM0tUS010b0JLMk9Fbmg0V1FQRGJoeHp1dmprdnJ2UVFwUUFxWGRWVGVycGtBT0VVMEhBay9CSXIxL1lVQzluQWdNQkFBR2pnYmd3Z2JVd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JSaWhvRUNCb0cxYlhPZmRzcjRkTFczaHRJNmhqQlZCZ05WSFI4RVRqQk1NRXFnU0tCR2hrUm9kSFJ3Y3pvdkwybHVkQzF3TVM1bGVtUnliM2RwWlM1bmIzWXVjR3d2WTJOd01TOWpjbXd2UTBOUU1VbHVkR1ZuY21GamVXcHVaVk4xWWtOQlYxTlRMbU55YkRBZEJnTlZIUTRFRmdRVXZycFFEUEREeEdsZm5vQXJRVlNyYlNuNHkra3dEZ1lEVlIwUEFRSC9CQVFEQWdlQU1BMEdDU3FHU0liM0RRRUJEUVVBQTRJQ0FRQys2R0xjcmxjL1M0azhzREtpWWcvbXlJNWE1cUNIeEdpY3FzaU8vQTl6MGl1S2l3N1JMNkNmS2RQT2RiZitub0R2ZWs1c09BOGZaRHBWWUhtbHdFOUtMSmswZGVsQ0UySGtiK1pKSHlzYVRYaXRWeDlhWGswYTd3djJ2Q3FMR2xKcXlabzV2ZWNwam84M0I5QkhseUpTRDdWTGw1WFVzRnEvNUluOGRMbm9RaHBKWFN6ZGJKWlNYcVdxQ2hmdE5TSU5nODVmUDBpeWYwWVJPcEZJRVNGTVRGRWNkWUdUNllFRzV0MHNnaUttZm5nYzQ5M0VSdFMyOXBTWUhyTWdGZllNcVFiRm9hUXZnK3VWV3JMczlyaUh6emZMaXR1cnppcUNtL2dROE1CcUpjK2NVcnlCLzRBSEZEUGxQblh2TW1SQ2FKMXV2OFJ3TnJqSWRhT2prSHJkREtxbmJJQ21MclhaMUlrcTQ5NGY4QXNCcjk0bkJydGo0bnlvU2lIQUx3WGJHMVBRQlFtU1RCNmVsbUpHYlRrbGVvOXBjNHZHK29QTWtTR1VNdEcwOS92M1pucHRVREVKUjZEeFBPV1Q3d0pDOVF2WjQxdVZkRFF1aWtXZWwyK1FxaXkyTnBYeHF2VFhnZTFsZlBEYTFWcmwwejU3VnFRUVFrUmlXVjBXMUx2YjRxc3NMRDZqLzltSitndEtRV25NRHlkZGZ3NWpnaGJ4YmRWc0MyUTRCckZlY0VDTjBpTHhNbHJ6WEpuT0dlSE9zSjVIaC9pZG44NlkweW5FSG1mcVBrdjR5M01ORjdvWjg4M29kQlE1RjhSdjZlbGRvSHZTTTZ3N3VCNnVDVmg4YXJuV0k3bCs2dWorOEJucCtiek1NL1VJM2kyVWtKMVhsbGNRNXR4WlVRPT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48ZHM6WDUwOVN1YmplY3ROYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsc2VyaWFsTnVtYmVyPTIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMTogMDAwMDAwMDEyMTA2LGNuPVBvZG1pb3RfbGVjem5pY3p5XzEtdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctYmYxYTVlNGQtYWQzOC00OGU5LWJjMTItOWI4MGFmMDVhNmQyIj48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy1iZjFhNWU0ZC1hZDM4LTQ4ZTktYmMxMi05YjgwYWYwNWE2ZDItc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjQ0OjQwLjExOCswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkVkSXRYNmdLQXowM2xQZ0dLOFNxTzNsaUc1NTdsL28yNjZ1Z2xtV1psWFU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+b3R5OXJqazlvK0lJU204LzNHaEYxd1ZrVDBlWUFyeWFCTk5FMUhTdUVHaz08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+MzE0MTcwMDc4ODYxNzkzNDMxNDwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5kNlZNbDFEWmZhRk9lUjQ1REJIZytGNFBnazk1SFVNSElIcXkxc0Z6MEhBPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu3" id="21458f77-fd68-40b9-a858-32e59080fdf3">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane2#patientId}') + "/_history/" + context.expand('${danePodpisu#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane2#encounterId}') + "/_history/" + context.expand('${danePodpisu2#encounterVersion}')
String conditionReference = zmUrl + "/fhir/Condition/" + context.expand('${dane2#conditionId}') + "/_history/" + context.expand('${danePodpisu2#conditionVersion}')
String procedureReference = zmUrl + "/fhir/Procedure/" + context.expand('${dane2#procedureId}') + "/_history/" + context.expand('${danePodpisu2#procedureVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);
refs.add(conditionReference);
refs.add(procedureReference);


String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisu3'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource3" id="f600efd8-e253-475d-80ba-4d0c02422c45">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane2, danePodpisu3</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/5142463"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142465"/>
		<type value="Encounter"/>
	</target>
	<target>
		<reference value="Condition/5142469"/>
		<type value="Condition"/>
	</target>
	<target>
		<reference value="Procedure/5142467"/>
		<type value="Procedure"/>
	</target>
	<recorded value="2022-09-02T11:44:02.291+02:00"/>
	<agent>
		
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:44:02.291+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1iZjFhNWU0ZC1hZDM4LTQ4ZTktYmMxMi05YjgwYWYwNWE2ZDIiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYmYxYTVlNGQtYWQzOC00OGU5LWJjMTItOWI4MGFmMDVhNmQyLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTE0MjQ2My9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjlrWHlyY3ZBeFVRcDdTYXpPTWpVTUZnblhyWFhyRVhURkM5YzlhYmhmbTA9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWJmMWE1ZTRkLWFkMzgtNDhlOS1iYzEyLTliODBhZjA1YTZkMi1yZWYxIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9FbmNvdW50ZXIvNTE0MjQ2NS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlFLRlN5dzdzbHVSamgram1RampzNzR5NjFSR1pYRm9tQzFxMjdES1E3cjQ9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWJmMWE1ZTRkLWFkMzgtNDhlOS1iYzEyLTliODBhZjA1YTZkMi1yZWYyIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Db25kaXRpb24vNTE0MjQ2OS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjViOVRQbnEzaVhCMkUvUHMyaUhEWVVhcVNxSmttd2V3djJSbUlReFRHb2M9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWJmMWE1ZTRkLWFkMzgtNDhlOS1iYzEyLTliODBhZjA1YTZkMi1yZWYzIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9Qcm9jZWR1cmUvNTE0MjQ2Ny9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPlVLQ2k5b1BpVk05UG1KbkxVM1JZUzM0VTBlL3lXUVdrQkhoOWxwZjA2NFk9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy1iZjFhNWU0ZC1hZDM4LTQ4ZTktYmMxMi05YjgwYWYwNWE2ZDItc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPnNTLy9QYjV4NzgxTXZ1aGNiVm5pTkJwbFF5MzRRZTl3bFpUYnBIVHd3MVU9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLWJmMWE1ZTRkLWFkMzgtNDhlOS1iYzEyLTliODBhZjA1YTZkMi1zaWd2YWx1ZSI+bEF4dGJSNFJnOUk3OHJzL09TMEhWbzlKRFFpVSt3cXRGZ1UrQ2xaTElVajZ2MDZOZk93R2RIM25zSm92Y3hGOGhBME5FMVdOL2tuSDN5NlVZMFVpN1A1M2F0MkdRMHFnQkU5U0p6OExJK05peVIyVXlHQ2xxWS8yOVNSV3ZBRnlqQUVnL2xybmlxOTNidHdSK1dnWHBaTjI4UElRcjNpcWlOT2RxUW1oUDlSb2JOa2VqOW9TRXJWaUpMZkhqdGhvU2JlditNZjBVUU5Gd3RTcW1FUXFCdnZ0ejFIbVlpSm9XLys4anFjdU51aW84djdYS002MTdsMzRjNVArTmN5d1UwOTNQd0hUWm11T3hlcjYrbG1hcWV2L3pqY0ZSVFQvUWxIbTBHT2x4NUN2cmoyQ0xld2FPMjg3d2tMZXZvOExGck9YVlRET3lIYjBndUpEY20zNk5BPT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZNVENDQXhtZ0F3SUJBZ0lJZnFoa0FVQ2RCRnN3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1UQTJNakV3TnpRMU16ZGFGdzB5TXpBMk1qRXdOelExTXpkYU1JR2tNVFF3TWdZRFZRUUREQ3RRYjJSdGFXOTBYMnhsWTNwdWFXTjZlVjh4TFhWM2FXVnllbmwwWld4dWFXVnVhV1VnWkdGdWVXTm9NVFV3TXdZRFZRUUZFeXd5TGpFMkxqZzBNQzR4TGpFeE16ZzRNeTR6TGpRME1qUXVNaTR6TGpFNklEQXdNREF3TURBeE1qRXdOakVZTUJZR0ExVUVDd3dQVURFZ1NXNTBaV2R5WVdONWFtNWxNUTR3REFZRFZRUUtEQVZEVTBsUFdqRUxNQWtHQTFVRUJoTUNVRXd3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRHVJL0E5OFBvNzd1cVZjZ3VZenZ1WmJqVXZDejJaR2pJZXVFSXRxeElRc28yT2dOSC94Qi9BWWV1M1BzVGVBdVFLU0VhNkpmNmd4LzVaL1IzQ2ZUbUd2SU8wRmJzTGtNcDlxV0Qrd1FTR2ZsQzZwNXBZM1QrTzFKYW96clZqR3F4YjFJZGJPdmhoZWFqdXFydUNvUjdhdjYvMWpzQzBmTUE2a1pUUW5EY01ORXA3Sk5yWDRRUmxvUlA2ZHg2ek9LQVhhZzJCNHYrMVR2Tjk5WGVBME1EaHV1bzN2eU14d0RvbWw4aGlzYWFtMmdnRm42MGVzYmY5V2hOckdTaE1JVFdQWGpKRDNwdzZKNjFZLzBlWTluM0tTM0tUS010b0JLMk9Fbmg0V1FQRGJoeHp1dmprdnJ2UVFwUUFxWGRWVGVycGtBT0VVMEhBay9CSXIxL1lVQzluQWdNQkFBR2pnYmd3Z2JVd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JSaWhvRUNCb0cxYlhPZmRzcjRkTFczaHRJNmhqQlZCZ05WSFI4RVRqQk1NRXFnU0tCR2hrUm9kSFJ3Y3pvdkwybHVkQzF3TVM1bGVtUnliM2RwWlM1bmIzWXVjR3d2WTJOd01TOWpjbXd2UTBOUU1VbHVkR1ZuY21GamVXcHVaVk4xWWtOQlYxTlRMbU55YkRBZEJnTlZIUTRFRmdRVXZycFFEUEREeEdsZm5vQXJRVlNyYlNuNHkra3dEZ1lEVlIwUEFRSC9CQVFEQWdlQU1BMEdDU3FHU0liM0RRRUJEUVVBQTRJQ0FRQys2R0xjcmxjL1M0azhzREtpWWcvbXlJNWE1cUNIeEdpY3FzaU8vQTl6MGl1S2l3N1JMNkNmS2RQT2RiZitub0R2ZWs1c09BOGZaRHBWWUhtbHdFOUtMSmswZGVsQ0UySGtiK1pKSHlzYVRYaXRWeDlhWGswYTd3djJ2Q3FMR2xKcXlabzV2ZWNwam84M0I5QkhseUpTRDdWTGw1WFVzRnEvNUluOGRMbm9RaHBKWFN6ZGJKWlNYcVdxQ2hmdE5TSU5nODVmUDBpeWYwWVJPcEZJRVNGTVRGRWNkWUdUNllFRzV0MHNnaUttZm5nYzQ5M0VSdFMyOXBTWUhyTWdGZllNcVFiRm9hUXZnK3VWV3JMczlyaUh6emZMaXR1cnppcUNtL2dROE1CcUpjK2NVcnlCLzRBSEZEUGxQblh2TW1SQ2FKMXV2OFJ3TnJqSWRhT2prSHJkREtxbmJJQ21MclhaMUlrcTQ5NGY4QXNCcjk0bkJydGo0bnlvU2lIQUx3WGJHMVBRQlFtU1RCNmVsbUpHYlRrbGVvOXBjNHZHK29QTWtTR1VNdEcwOS92M1pucHRVREVKUjZEeFBPV1Q3d0pDOVF2WjQxdVZkRFF1aWtXZWwyK1FxaXkyTnBYeHF2VFhnZTFsZlBEYTFWcmwwejU3VnFRUVFrUmlXVjBXMUx2YjRxc3NMRDZqLzltSitndEtRV25NRHlkZGZ3NWpnaGJ4YmRWc0MyUTRCckZlY0VDTjBpTHhNbHJ6WEpuT0dlSE9zSjVIaC9pZG44NlkweW5FSG1mcVBrdjR5M01ORjdvWjg4M29kQlE1RjhSdjZlbGRvSHZTTTZ3N3VCNnVDVmg4YXJuV0k3bCs2dWorOEJucCtiek1NL1VJM2kyVWtKMVhsbGNRNXR4WlVRPT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48ZHM6WDUwOVN1YmplY3ROYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsc2VyaWFsTnVtYmVyPTIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMTogMDAwMDAwMDEyMTA2LGNuPVBvZG1pb3RfbGVjem5pY3p5XzEtdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctYmYxYTVlNGQtYWQzOC00OGU5LWJjMTItOWI4MGFmMDVhNmQyIj48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy1iZjFhNWU0ZC1hZDM4LTQ4ZTktYmMxMi05YjgwYWYwNWE2ZDItc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjQ0OjQwLjExOCswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkVkSXRYNmdLQXowM2xQZ0dLOFNxTzNsaUc1NTdsL28yNjZ1Z2xtV1psWFU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+b3R5OXJqazlvK0lJU204LzNHaEYxd1ZrVDBlWUFyeWFCTk5FMUhTdUVHaz08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+MzE0MTcwMDc4ODYxNzkzNDMxNDwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5kNlZNbDFEWmZhRk9lUjQ1REJIZytGNFBnazk1SFVNSElIcXkxc0Z6MEhBPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+"/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance3" id="827eb4b0-2ba3-4a50-958a-df7e67964aac">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance3" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource3#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7955ada5-b8e7-437e-9ce2-7ace877d963d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f39d13c2-d3a9-4624-b02e-b99dd46ba95d" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';



exists(//ns1:Provenance/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych provenance3" id="aa84ca19-e120-4175-b85e-c7e9612fca7b">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
            <con:name>provenanceId</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance3</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>provenance3Id</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:targetPath xsi:nil="true"/>
            <con:type>XPATH</con:type>
            <con:targetTransferType>XPATH</con:targetTransferType>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Delay2" id="af944df9-8e1c-498b-900d-0559f9a2c794">
        <con:settings/>
        <con:config>
          <delay>${#Project#delaySeconds}000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="DELETE Provenance 3" id="3e479b27-73a7-411f-959b-717236b6af94">
        <con:settings/>
        <con:config method="DELETE" xsi:type="con:HttpRequest" id="f6989528-1d34-4419-950f-d9a37445a4a3" name="DELETE Provenance 3" downloadIncludedResources="false" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/xml"/>
&lt;/xml-fragment></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}/fhir/Provenance/${dane#provenance3Id}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" id="d8bd560e-a771-4185-a9ac-17a701071aad" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="Simple Contains" id="b0e8e78e-b931-4d9e-b839-7888d200e9ea" name="Successfully deleted 1 ">
            <con:configuration>
              <token>Successfully deleted 1</token>
              <ignoreCase>false</ignoreCase>
              <useRegEx>false</useRegEx>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Condition" id="6c4a8352-687c-4f7c-bb8f-cb9ad92c67e2">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="Anulowanie-condition" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Condition" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane2#conditionId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Procedure" id="d3aa7586-0ea4-4cbe-b57d-4da2938ad7d2">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Anulowanie-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Procedure" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane2#procedureId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Encounter" id="ddc601a7-a977-45aa-b8ec-162d36170fcb">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Delete-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Encounter" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#encounterId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:testCase id="ee6eb63f-9dad-41ee-bcad-e5b6af8d7309" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Zapis, wyszukanie, odczyt oraz anulowanie danych rozliczeniowych zdarze medycznych - pacjent z PESEL" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Pozyskanie tokenu dostpowego" id="82f13438-276c-4f87-ab08-f8d3daae9773">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych i pobranie zmiennych" id="a0f3a51f-873f-424f-bc1c-1bb1ab946652">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

def formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
def teraz = ZonedDateTime.now()
String data1 = teraz.minusHours(1).format(formatter)
String data2 = teraz.format(formatter)
String data3 = teraz.minusHours(119).format(formatter)

String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString().replace("-", "").toUpperCase().substring(0, 22)

def dane = testRunner.testCase.testSteps['dane']
def dane2 = testRunner.testCase.testSteps['dane2']
dane.setPropertyValue("identyfikatorZdarzenia", UUID.randomUUID().toString())
dane.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
dane.setPropertyValue("zdarzenieDataPoczatek", data1)
dane.setPropertyValue("zdarzenieDataKoniec", data2)
dane2.setPropertyValue("coverageData", data1)
dane.setPropertyValue("podpisData", data2)
dane2.setPropertyValue("podpisData", data2)
dane.setPropertyValue("rozpoznanieData", data1)
dane2.setPropertyValue("proceduraDataPoczatek", data1)
dane2.setPropertyValue("proceduraDataKoniec", data2)

dane = testRunner.testCase.testSteps['dane2']
dane.setPropertyValue("zdarzenieDataPoczatek", data3)
DateTimeFormatter format2 = DateTimeFormatter.ofPattern("yyyy-MM")
String data4 = ZonedDateTime.now().format(format2)
dane.setPropertyValue("startOkresRozliczeniowy", data4)
dane.setPropertyValue("koniecOkresRozliczeniowy", data4)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="a43ac44c-b9a5-4127-a8cd-f3fbf134b503">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>ANNA KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142493</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>864</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T10:44:50.908+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2022-09-02T11:44:50.908+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:44:50.908+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>12300509785</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>9bd7b579-75da-47ce-86e3-a12c0ab832c5</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>42A653816C824019AFE087</con:value>
            </con:property>
            <con:property>
              <con:name>rozpoznanieData</con:name>
              <con:value>2022-09-02T10:44:50.908+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>provenance3Id</con:name>
              <con:value>5142509</con:value>
            </con:property>
            <con:property>
              <con:name>provenance2Id</con:name>
              <con:value>5142505</con:value>
            </con:property>
            <con:property>
              <con:name>provenance1Id</con:name>
              <con:value>5142503</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataPoczatek</con:name>
              <con:value>2020-08-28T08:48:00.555+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataKoniec</con:name>
              <con:value>2020-08-28T09:48:00.555+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>coverageData</con:name>
              <con:value>2020-09-11T09:10:14.256+02:00</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane2" id="538b3971-63ff-4f5a-9e84-f01a76deecd9">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-08-28T12:44:50.908+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>96cf9ae7-d0e5-47ea-b467-611767e1a29a</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>12300509785</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>ubezpieczenieOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.8.3</con:value>
            </con:property>
            <con:property>
              <con:name>ubezpiecznieIdentyfikator</con:name>
              <con:value>12345678912345678912</con:value>
            </con:property>
            <con:property>
              <con:name>platnikOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.8.3</con:value>
            </con:property>
            <con:property>
              <con:name>platnikIdentyfikator</con:name>
              <con:value>12345678912345678912</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzeniaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1</con:value>
            </con:property>
            <con:property>
              <con:name>procedureId</con:name>
              <con:value>5142495</con:value>
            </con:property>
            <con:property>
              <con:name>conditionId</con:name>
              <con:value>5142497</con:value>
            </con:property>
            <con:property>
              <con:name>claimId</con:name>
              <con:value>5142501</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142493</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataPoczatek</con:name>
              <con:value>2022-09-02T10:44:50.908+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataKoniec</con:name>
              <con:value>2022-09-02T11:44:50.908+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>ANNA</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>coverageId</con:name>
              <con:value>5142499</con:value>
            </con:property>
            <con:property>
              <con:name>coverageData</con:name>
              <con:value>2022-09-02T10:44:50.908+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>startOkresRozliczeniowy</con:name>
              <con:value>2022-09</con:value>
            </con:property>
            <con:property>
              <con:name>koniecOkresRozliczeniowy</con:name>
              <con:value>2022-09</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:44:50.908+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>864</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane3" id="deed0525-0759-4a09-94dd-351ae132fecc">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>platnikOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>platnikIdentyfikator</con:name>
              <con:value>12300509785</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Patient ID" id="39340cb1-528b-4dc6-9bbd-0d3bccd612a9">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>48d1bd54-39e7-4f92-a587-b4df08704d3a</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>12300509785</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>ANNA</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>-----------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>864</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1291</con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>patientId</con:entry>
            <con:entry>patientVersion</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_FAIL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych patient" id="116c0f12-0de7-4b71-a0f9-c9e51ff49f98">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>patientId</con:sourceType>
            <con:sourceStep>Patient ID</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>patientVersion</con:sourceType>
            <con:sourceStep>Patient ID</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
            <con:name>id2</con:name>
            <con:sourceType>patientId</con:sourceType>
            <con:sourceStep>Patient ID</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane2</con:targetStep>
            <con:targetPath xsi:nil="true"/>
            <con:type>XPATH</con:type>
            <con:targetTransferType>XPATH</con:targetTransferType>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterResource" id="ad9c0c66-5352-4d18-b891-bede09d78ec4">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, dane2</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-porada.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<identifier>
		<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
		<value value="9bd7b579-75da-47ce-86e3-a12c0ab832c5"/>
	</identifier>
	<status value="finished"/>
	<class>
		<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
		<code value="4"/>
		<display value="Porada"/>
	</class>
	<subject>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
					<value value="12345678912345678912"/>
				</identifier>
			</valueReference>
		</extension>
		<reference value="Patient/864"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="12300509785"/>
		</identifier>
		<display value="ANNA KASINA"/>
	</subject>
	<episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="96cf9ae7-d0e5-47ea-b467-611767e1a29a"/>
		</identifier>
	</episodeOfCare>
	<basedOn>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.17.4.1"/>
			<value value="42A653816C824019AFE087"/>
			<period>
				<start value="2019-08-26T10:00:00+02:00"/>
			</period>
		</identifier>
	</basedOn>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
			<valueCoding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
				<code value="11"/>
			</valueCoding>
		</extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<period>
		<start value="2022-08-28T12:44:50.908+02:00"/>
		<end value="2022-09-02T11:44:50.908+02:00"/>
	</period>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
		<period>
			<start value="2022-08-28T12:44:50.908+02:00"/>
			<end value="2022-09-02T11:44:50.908+02:00"/>
		</period>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
         			url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
					<value value="12345678912345678912"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter" id="7fc11a73-42c3-457f-9fac-883afcebed67">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter" id="ca159828-a602-4357-a4ba-632c00d8f164" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Encounter/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="18bf6ab8-2610-482a-adf9-6ec5f9fd89ca" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>date</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>_gatepageoffset</con:entry>
              <con:entry>_count</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych encounter" id="6e63d011-4eb7-4693-93ae-829dbbf3cfcb">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane2</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>encounterVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id2</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="procedureResource" id="5ed34833-3e95-49f7-8363-9d401560fa06">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane2</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>procedure.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Procedure xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProcedure"/>
       <security>
           <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
           <code value="N"/>
       </security>
   </meta>
   <status value="completed"/>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6" />
         <code value="79.76"/>
         <display value="Zamknite nastawienie zwichnicia kolana"/>
      </coding>
   </code>
   <subject>
	  <reference value="Patient/864"/>
	  <type value="Patient"/>
	  <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
         <value value="12300509785"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142493"/>
      <type value="Encounter"/>
   </encounter>
   <performedPeriod>
      <start value="2022-09-02T10:44:50.908+02:00"/>
      <end value="2022-09-02T11:44:50.908+02:00"/>
   </performedPeriod>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
   <location>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
		</identifier>
   </location>
</Procedure>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Procedure" id="185e8020-5a58-45c0-9af1-ed52f86451c0">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Zapis-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Procedure" id="fbb19b00-838c-4ef3-a04b-b95933e72a12" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${procedureResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.35.10/fhir/Procedure/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="12603c09-6bb1-4bab-b330-5a4a724075f2" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych procedure" id="9ac4f96f-6943-4e67-a597-744583d0dea1">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>procedureId</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>procedureId</con:targetType>
            <con:targetStep>dane2</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Procedure</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>procedureVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="conditionResource" id="363467fa-829a-4238-8354-dce3033969eb">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, dane2</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>condition.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Condition xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventDiagnosis"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <extension url ="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLLocation">
      <valueIdentifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
      </valueIdentifier>
   </extension>
   <category>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.78"/>
         <code value="main"/>
         <display value="Gwne"/>
      </coding>
   </category>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.6.3"/>
         <code value="J04.0"/>
         <display value="Acute laryngitis"/>
      </coding>
   </code>
   <bodySite>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.79"/>
         <code value="left"/>
         <display value="Lewa strona ciaa"/>
      </coding>
   </bodySite>
   <subject>
	  <reference value="Patient/864"/>
	  <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
         <value value="12300509785"/>
      </identifier>
   </subject>
   <encounter>
      <reference value="Encounter/5142493"/>
      <type value="Encounter"/>
   </encounter>
   <recordedDate value="2022-09-02T10:44:50.908+02:00"/>
   <asserter>
    	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
    </asserter>
</Condition>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Condition" id="b108cc4c-ce59-4ccf-a296-9b843d619e52">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="Zapis-condition" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Condition" id="5950c24f-0baf-497e-ac19-ab6769e5b9e2" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${conditionResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.35.10/fhir/Condition/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="5c464c00-40f3-4e85-80b5-ac7699a3ebf1" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="plsubject" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>encounter</con:entry>
              <con:entry>id</con:entry>
              <con:entry>plsubject</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych condition" id="d21aaef9-5415-4bfe-9b71-a2a80ca436e2">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>conditionId</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>conditionId</con:targetType>
            <con:targetStep>dane2</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Condition</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>conditionVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="coverageResource" id="11ec5610-4651-46f5-889b-a40c6d228a1c">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane,dane2,dane3</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>coverage-ewus.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Coverage xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementEWUS"/>
	<security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
	</meta>
	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementEncounterReference">
		<valueReference>
			<reference value="Encounter/5142493"/>
			<type value="Encounter"/>			
		</valueReference>
	</extension>
	<status value="active"/>
	<type>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.93"/>
			<code value="EL"/>
			<display value="wiadczeniobiorca, ktrego prawo do wiadcze opieki zdrowotnej zostao potwierdzone dokumentem elektronicznym, o ktrym mowa w art. 50 ust. 3 ustawy"/>
		</coding>
	</type>
	<beneficiary>
		<reference value="Patient/864"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="12300509785"/>
		</identifier>
	</beneficiary>
	<period>
		<start value="2019-08-26T10:00:00+02:00"/>
		<end value="2025-08-26T16:00:00+02:00"/>
	</period>
	<payor>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="12300509785"/>
		</identifier>
	</payor>
	<class>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentDate">
			<valueDateTime value="2022-09-02T10:44:50.908+02:00"/>
		</extension>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementDocumentIdentifier">
			<valueString value="12345678"/>
		</extension>	
		<type>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.92"/>
				<code value="DE"/>
			</coding>
		</type>
		<value value="01"/>
	</class>
</Coverage>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Coverage" id="b4284be3-5fc1-4758-85e1-5a604ad00414">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Coverage/{id}" methodName="Zapis-coverage" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Coverage" id="0746632f-7cfd-4e17-a31e-7377f439e634" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${coverageResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Coverage/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="dc629020-ca9d-4b82-bd1f-446fcbe14dc0" name="Valid HTTP Status Codes - 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="2ae2753a-3a1c-4d9a-8561-52840fef3c7c" name="coverageID">
              <con:configuration>
                <path>exists(/*:Coverage/*:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c1c49296-5abe-4bca-9c24-b3054e7b7519" name="profil PLEntitlementEKUZ">
              <con:configuration>
                <path>/*:Coverage/*:meta/*:profile/@value</path>
                <content>https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementEWUS</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c1c49296-5abe-4bca-9c24-b3054e7b7519" name="PLEntitlementEncounterReference - encounterID">
              <con:configuration>
                <path>/*:Coverage/*:extension[@url='https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEntitlementEncounterReference']/*:valueReference/*:reference/@value</path>
                <content>Encounter/${dane#encounterID}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="c1c49296-5abe-4bca-9c24-b3054e7b7519" name="beneficiary - patientID">
              <con:configuration>
                <path>/*:Coverage/*:beneficiary/*:reference/@value</path>
                <content>Patient/${dane#patientID}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych coverage" id="5986c18a-0b54-4307-a96d-09e9180c48c2">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Coverage</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>coverageId</con:targetType>
            <con:targetStep>dane2</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Coverage</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>coverageVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="claimResource" id="7248b897-79be-4f18-82f6-d1cbe369ead6">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, dane2</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>claim-pozycja-rozliczeniowa.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Claim xmlns="http://hl7.org/fhir">
	<meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventNationalHealthFundClaim"/>
        <security>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
            <code value="N"/>
        </security>
   </meta>
    <status value="active"/>
    <type>
        <coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.95"/>
			<code value="1"/>
        </coding>
    </type>
    <use value="claim"/>
	<patient>
		<reference value="Patient/864"/>
		<type value="Patient"/>
	  <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
		 <value value="12300509785"/>
      </identifier>
	</patient>
      <billablePeriod>
        <start value="2022-09"/>
        <end value="2022-09"/>
    </billablePeriod>
    <created value="2020-03-23"/>
    <provider>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
    </provider>
    <priority>
        <coding>
        	<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.65"/>
            <code value="normalny"/>
        </coding>
    </priority>
	<diagnosis>
        <sequence value="1"/>
		<diagnosisReference>
             <reference value = "Condition/5142497"/>
             <type value = "Condition"/>		
		</diagnosisReference>		
    </diagnosis>
	<procedure>
        <sequence value="1"/>
		<procedureReference>
             <reference value = "Procedure/5142495"/>
             <type value = "Procedure"/>		
		</procedureReference>	
    </procedure>
    <insurance>
        <sequence value="1"/>
        <focal value="true"/>
        <identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
					<value value="12345678912345678912"/>
				</identifier>
        <coverage>
			<reference value="Coverage/5142499"/>
        	<type value="Coverage"/>
        </coverage>
        <businessArrangement value="07-06-02336-20-03/06"/>
    </insurance>
    <item>
		<extension xmlns="http://hl7.org/fhir" url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLNationalHealthFundPoints">
             <valueDecimal value = "1.0000"/>
		</extension>
        <extension xmlns="http://hl7.org/fhir" url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLNationalHealthFundSpecialSettlement">
            <valueCode value="54A"/>
        </extension>
		<extension xmlns="http://hl7.org/fhir" url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLNationalHealthFundBillingItemRealQuantity">
            <valueDecimal value="1.5400"/>
        </extension>
		<extension xmlns="http://hl7.org/fhir" url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEmergencyTreatment">
            <valueBoolean value="false"/>
        </extension>
        <sequence value="1"/>
		<diagnosisSequence value="1" />
		<procedureSequence value="1" />		
        <category>
            <coding>
                <code value="01.0010.092.01"/>
            </coding>
        </category>
        <productOrService>
            <coding>
                <code value="5.01.00.0000075"/>
            </coding>
        </productOrService>
        <modifier>
            <coding>
                <code value="4"/>
            </coding>
        </modifier>
        <servicedPeriod>
        	 <start value="2020-03-12T14:10:01.077+01:00"/>
        	 <end value="2020-03-12T14:15:31.078+01:00"/>
        </servicedPeriod>
        <quantity>
            <value value="1.0000"/>
        </quantity>
        <unitPrice>
            <value value="45.53"/>
        </unitPrice>
        <factor value="1.0000"/>
        <encounter>
            <reference value="Encounter/5142493"/>
            <type value="Encounter"/>
        </encounter>
    </item>
</Claim>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Claim" id="14dd53c9-5c76-4c6b-ac35-a3822214a63c">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Claim/{id}" methodName="Zapis" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Claim" id="b2ec8be7-1707-4b3f-a0ea-b832b5892aa1" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${claimResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.35.10/fhir/Claim/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="cc845418-505b-4e00-b8b8-c3848b2a3b43" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="6b51c459-e8e6-4e45-8fc9-e40e58f5bba6" name="Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych claim" id="bbffe769-4cfc-4721-b1a9-45a103195d6b">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>claimId</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Claim</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>claimId</con:targetType>
            <con:targetStep>dane2</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Claim</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>claimVersion</con:targetType>
            <con:targetStep>danePodpisu</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu" id="d5775835-77e3-4246-8822-9558008d2c87">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1291</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>conditionVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>procedureVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>claimVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy02MzNmNGNlMy1hYjk2LTRkYWItOTIxNC05OWU0MDAxNTc0ZTAiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNjMzZjRjZTMtYWI5Ni00ZGFiLTkyMTQtOTllNDAwMTU3NGUwLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvODY0L19oaXN0b3J5LzEyOTEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+VzdQaVg0cUo0YXlwSkFaSFJqUGk4WFRlanJJV25PL0tuL0VYWUhTNHFZVT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNjMzZjRjZTMtYWI5Ni00ZGFiLTkyMTQtOTllNDAwMTU3NGUwLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyNDkzL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+dGtoTGlnbEpHQ3B5MFRyMWVMQWYwTjJZVXd1bzRCSUtBSml2bHJpMnZPOD08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNjMzZjRjZTMtYWI5Ni00ZGFiLTkyMTQtOTllNDAwMTU3NGUwLXJlZjIiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvbmRpdGlvbi81MTQyNDk3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+M25XNzAyMjhnSDduazBNR1ozUW9FZUtKdVB1RHdRSDZieFhFT3JBZUtlcz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNjMzZjRjZTMtYWI5Ni00ZGFiLTkyMTQtOTllNDAwMTU3NGUwLXJlZjMiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1Byb2NlZHVyZS81MTQyNDk1L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+cTRmRnpqazg5MkpENTM4UHpoVExlejhEcUhpdlgxYm5zYVNGZE5JM0JuUT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNjMzZjRjZTMtYWI5Ni00ZGFiLTkyMTQtOTllNDAwMTU3NGUwLXJlZjQiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvdmVyYWdlLzUxNDI0OTkvX2hpc3RvcnkvMSI+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5uY2Zta1pVbjM1MDhEUUlPbjR5RXNEdjN6cDhYNlRYUGt6VlNPcCtYdFdJPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PGRzOlJlZmVyZW5jZSBJZD0ieG1sZHNpZy02MzNmNGNlMy1hYjk2LTRkYWItOTIxNC05OWU0MDAxNTc0ZTAtcmVmNSIgVVJJPSJodHRwczovL2lzdXMuZXpkcm93aWUuZ292LnBsL2ZoaXIvQ2xhaW0vNTE0MjUwMS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPndESkVhc21ZUVVKTVcyYlZTUkRHdVo4N2I5K1hMczNtQUJxL01ENGJnMlE9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy02MzNmNGNlMy1hYjk2LTRkYWItOTIxNC05OWU0MDAxNTc0ZTAtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkZTRWwrUERsSC9lQlh3YTBaUE5XbXppd2p0eTg0MGdNRnZ3cVRPZjNnNjA9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLTYzM2Y0Y2UzLWFiOTYtNGRhYi05MjE0LTk5ZTQwMDE1NzRlMC1zaWd2YWx1ZSI+bVFCMW1SL1p0dk5lNmpjUzlJNFJpUlJRSVVLRHZHWkVFbjZJdnQydWRLaE0vbjlJUjhhRzBLZzF1ajRtKzZIQy9zb0VLQkNINE9HZ281c1ZIOHI2dzMwNytMSTlNMVRmRW94bjlSL0JRT1dTNG9FbjkwWkRHMk9wZDRxaEVxVmdVUWYwYTVxbnovWHhQYnRCSXdPUUhLUGdUQmRJR0RkREZrUmY2ZnA4WGFPVUxKdnNOa04xQXlaZTJLNUZtbXJ4SXVBNHdhT2M1WUFtekZ6S2JrZVpha3V6ZDRVcTFPVlNzYWR4ZU4yODdNQnZIZ0VNYVV5Y0cyY3ptMXY4ZzIxMEl1WE16bktNU1IzN1lQMW56TTNTTnViTFo1UGFNQXpBRkMwNFhIWUtrbzFqMUNhZnlHbm91c1dsSXlIRU4xMWlhRDdIMm9yaW1qWk1KckVRSmY0OFFnPT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZNVENDQXhtZ0F3SUJBZ0lJZnFoa0FVQ2RCRnN3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1UQTJNakV3TnpRMU16ZGFGdzB5TXpBMk1qRXdOelExTXpkYU1JR2tNVFF3TWdZRFZRUUREQ3RRYjJSdGFXOTBYMnhsWTNwdWFXTjZlVjh4TFhWM2FXVnllbmwwWld4dWFXVnVhV1VnWkdGdWVXTm9NVFV3TXdZRFZRUUZFeXd5TGpFMkxqZzBNQzR4TGpFeE16ZzRNeTR6TGpRME1qUXVNaTR6TGpFNklEQXdNREF3TURBeE1qRXdOakVZTUJZR0ExVUVDd3dQVURFZ1NXNTBaV2R5WVdONWFtNWxNUTR3REFZRFZRUUtEQVZEVTBsUFdqRUxNQWtHQTFVRUJoTUNVRXd3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRHVJL0E5OFBvNzd1cVZjZ3VZenZ1WmJqVXZDejJaR2pJZXVFSXRxeElRc28yT2dOSC94Qi9BWWV1M1BzVGVBdVFLU0VhNkpmNmd4LzVaL1IzQ2ZUbUd2SU8wRmJzTGtNcDlxV0Qrd1FTR2ZsQzZwNXBZM1QrTzFKYW96clZqR3F4YjFJZGJPdmhoZWFqdXFydUNvUjdhdjYvMWpzQzBmTUE2a1pUUW5EY01ORXA3Sk5yWDRRUmxvUlA2ZHg2ek9LQVhhZzJCNHYrMVR2Tjk5WGVBME1EaHV1bzN2eU14d0RvbWw4aGlzYWFtMmdnRm42MGVzYmY5V2hOckdTaE1JVFdQWGpKRDNwdzZKNjFZLzBlWTluM0tTM0tUS010b0JLMk9Fbmg0V1FQRGJoeHp1dmprdnJ2UVFwUUFxWGRWVGVycGtBT0VVMEhBay9CSXIxL1lVQzluQWdNQkFBR2pnYmd3Z2JVd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JSaWhvRUNCb0cxYlhPZmRzcjRkTFczaHRJNmhqQlZCZ05WSFI4RVRqQk1NRXFnU0tCR2hrUm9kSFJ3Y3pvdkwybHVkQzF3TVM1bGVtUnliM2RwWlM1bmIzWXVjR3d2WTJOd01TOWpjbXd2UTBOUU1VbHVkR1ZuY21GamVXcHVaVk4xWWtOQlYxTlRMbU55YkRBZEJnTlZIUTRFRmdRVXZycFFEUEREeEdsZm5vQXJRVlNyYlNuNHkra3dEZ1lEVlIwUEFRSC9CQVFEQWdlQU1BMEdDU3FHU0liM0RRRUJEUVVBQTRJQ0FRQys2R0xjcmxjL1M0azhzREtpWWcvbXlJNWE1cUNIeEdpY3FzaU8vQTl6MGl1S2l3N1JMNkNmS2RQT2RiZitub0R2ZWs1c09BOGZaRHBWWUhtbHdFOUtMSmswZGVsQ0UySGtiK1pKSHlzYVRYaXRWeDlhWGswYTd3djJ2Q3FMR2xKcXlabzV2ZWNwam84M0I5QkhseUpTRDdWTGw1WFVzRnEvNUluOGRMbm9RaHBKWFN6ZGJKWlNYcVdxQ2hmdE5TSU5nODVmUDBpeWYwWVJPcEZJRVNGTVRGRWNkWUdUNllFRzV0MHNnaUttZm5nYzQ5M0VSdFMyOXBTWUhyTWdGZllNcVFiRm9hUXZnK3VWV3JMczlyaUh6emZMaXR1cnppcUNtL2dROE1CcUpjK2NVcnlCLzRBSEZEUGxQblh2TW1SQ2FKMXV2OFJ3TnJqSWRhT2prSHJkREtxbmJJQ21MclhaMUlrcTQ5NGY4QXNCcjk0bkJydGo0bnlvU2lIQUx3WGJHMVBRQlFtU1RCNmVsbUpHYlRrbGVvOXBjNHZHK29QTWtTR1VNdEcwOS92M1pucHRVREVKUjZEeFBPV1Q3d0pDOVF2WjQxdVZkRFF1aWtXZWwyK1FxaXkyTnBYeHF2VFhnZTFsZlBEYTFWcmwwejU3VnFRUVFrUmlXVjBXMUx2YjRxc3NMRDZqLzltSitndEtRV25NRHlkZGZ3NWpnaGJ4YmRWc0MyUTRCckZlY0VDTjBpTHhNbHJ6WEpuT0dlSE9zSjVIaC9pZG44NlkweW5FSG1mcVBrdjR5M01ORjdvWjg4M29kQlE1RjhSdjZlbGRvSHZTTTZ3N3VCNnVDVmg4YXJuV0k3bCs2dWorOEJucCtiek1NL1VJM2kyVWtKMVhsbGNRNXR4WlVRPT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48ZHM6WDUwOVN1YmplY3ROYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsc2VyaWFsTnVtYmVyPTIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMTogMDAwMDAwMDEyMTA2LGNuPVBvZG1pb3RfbGVjem5pY3p5XzEtdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctNjMzZjRjZTMtYWI5Ni00ZGFiLTkyMTQtOTllNDAwMTU3NGUwIj48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy02MzNmNGNlMy1hYjk2LTRkYWItOTIxNC05OWU0MDAxNTc0ZTAtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjQ1OjA2Ljk3NiswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkVkSXRYNmdLQXowM2xQZ0dLOFNxTzNsaUc1NTdsL28yNjZ1Z2xtV1psWFU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+b3R5OXJqazlvK0lJU204LzNHaEYxd1ZrVDBlWUFyeWFCTk5FMUhTdUVHaz08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+MzE0MTcwMDc4ODYxNzkzNDMxNDwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5kNlZNbDFEWmZhRk9lUjQ1REJIZytGNFBnazk1SFVNSElIcXkxc0Z6MEhBPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+</con:value>
            </con:property>
            <con:property>
              <con:name>coverageVersion</con:name>
              <con:value>1</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu" id="3d6927f0-8488-4c68-8e09-f6279baa1c99">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane2#patientId}') + "/_history/" + context.expand('${danePodpisu#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane2#encounterId}') + "/_history/" + context.expand('${danePodpisu#encounterVersion}')
String conditionReference = zmUrl + "/fhir/Condition/" + context.expand('${dane2#conditionId}') + "/_history/" + context.expand('${danePodpisu#conditionVersion}')
String coverageReference = zmUrl + "/fhir/Coverage/" + context.expand('${dane2#coverageId}') + "/_history/" + context.expand('${danePodpisu#coverageVersion}')
String procedureReference = zmUrl + "/fhir/Procedure/" + context.expand('${dane2#procedureId}') + "/_history/" + context.expand('${danePodpisu#procedureVersion}')
String claimReference = zmUrl + "/fhir/Claim/" + context.expand('${dane2#claimId}') + "/_history/" + context.expand('${danePodpisu#claimVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);
refs.add(conditionReference);
refs.add(procedureReference);
refs.add(coverageReference);
refs.add(claimReference);

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisu'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource" id="3437f5a7-1856-4515-922d-efb7e5d320fe">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, dane2, danePodpisu</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-claim.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/864"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142493"/>
		<type value="Encounter"/>
	</target>
	<target>
		<reference value="Procedure/5142495"/>
		<type value="Procedure"/>
	</target>
	<target>
		<reference value="Condition/5142497"/>
		<type value="Condition"/>
	</target>
	<target>
		<reference value="Claim/5142501"/>
		<type value="Claim"/>
	</target>
	<target>
		<reference value="Coverage/5142499"/>
		<type value="Coverage"/>
	</target>
	<recorded value="2022-09-02T11:44:50.908+02:00"/>
	<agent>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:44:50.908+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy02MzNmNGNlMy1hYjk2LTRkYWItOTIxNC05OWU0MDAxNTc0ZTAiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNjMzZjRjZTMtYWI5Ni00ZGFiLTkyMTQtOTllNDAwMTU3NGUwLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvODY0L19oaXN0b3J5LzEyOTEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+VzdQaVg0cUo0YXlwSkFaSFJqUGk4WFRlanJJV25PL0tuL0VYWUhTNHFZVT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNjMzZjRjZTMtYWI5Ni00ZGFiLTkyMTQtOTllNDAwMTU3NGUwLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyNDkzL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+dGtoTGlnbEpHQ3B5MFRyMWVMQWYwTjJZVXd1bzRCSUtBSml2bHJpMnZPOD08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNjMzZjRjZTMtYWI5Ni00ZGFiLTkyMTQtOTllNDAwMTU3NGUwLXJlZjIiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvbmRpdGlvbi81MTQyNDk3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+M25XNzAyMjhnSDduazBNR1ozUW9FZUtKdVB1RHdRSDZieFhFT3JBZUtlcz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNjMzZjRjZTMtYWI5Ni00ZGFiLTkyMTQtOTllNDAwMTU3NGUwLXJlZjMiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1Byb2NlZHVyZS81MTQyNDk1L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+cTRmRnpqazg5MkpENTM4UHpoVExlejhEcUhpdlgxYm5zYVNGZE5JM0JuUT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNjMzZjRjZTMtYWI5Ni00ZGFiLTkyMTQtOTllNDAwMTU3NGUwLXJlZjQiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvdmVyYWdlLzUxNDI0OTkvX2hpc3RvcnkvMSI+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5uY2Zta1pVbjM1MDhEUUlPbjR5RXNEdjN6cDhYNlRYUGt6VlNPcCtYdFdJPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PGRzOlJlZmVyZW5jZSBJZD0ieG1sZHNpZy02MzNmNGNlMy1hYjk2LTRkYWItOTIxNC05OWU0MDAxNTc0ZTAtcmVmNSIgVVJJPSJodHRwczovL2lzdXMuZXpkcm93aWUuZ292LnBsL2ZoaXIvQ2xhaW0vNTE0MjUwMS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPndESkVhc21ZUVVKTVcyYlZTUkRHdVo4N2I5K1hMczNtQUJxL01ENGJnMlE9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy02MzNmNGNlMy1hYjk2LTRkYWItOTIxNC05OWU0MDAxNTc0ZTAtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkZTRWwrUERsSC9lQlh3YTBaUE5XbXppd2p0eTg0MGdNRnZ3cVRPZjNnNjA9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLTYzM2Y0Y2UzLWFiOTYtNGRhYi05MjE0LTk5ZTQwMDE1NzRlMC1zaWd2YWx1ZSI+bVFCMW1SL1p0dk5lNmpjUzlJNFJpUlJRSVVLRHZHWkVFbjZJdnQydWRLaE0vbjlJUjhhRzBLZzF1ajRtKzZIQy9zb0VLQkNINE9HZ281c1ZIOHI2dzMwNytMSTlNMVRmRW94bjlSL0JRT1dTNG9FbjkwWkRHMk9wZDRxaEVxVmdVUWYwYTVxbnovWHhQYnRCSXdPUUhLUGdUQmRJR0RkREZrUmY2ZnA4WGFPVUxKdnNOa04xQXlaZTJLNUZtbXJ4SXVBNHdhT2M1WUFtekZ6S2JrZVpha3V6ZDRVcTFPVlNzYWR4ZU4yODdNQnZIZ0VNYVV5Y0cyY3ptMXY4ZzIxMEl1WE16bktNU1IzN1lQMW56TTNTTnViTFo1UGFNQXpBRkMwNFhIWUtrbzFqMUNhZnlHbm91c1dsSXlIRU4xMWlhRDdIMm9yaW1qWk1KckVRSmY0OFFnPT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZNVENDQXhtZ0F3SUJBZ0lJZnFoa0FVQ2RCRnN3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1UQTJNakV3TnpRMU16ZGFGdzB5TXpBMk1qRXdOelExTXpkYU1JR2tNVFF3TWdZRFZRUUREQ3RRYjJSdGFXOTBYMnhsWTNwdWFXTjZlVjh4TFhWM2FXVnllbmwwWld4dWFXVnVhV1VnWkdGdWVXTm9NVFV3TXdZRFZRUUZFeXd5TGpFMkxqZzBNQzR4TGpFeE16ZzRNeTR6TGpRME1qUXVNaTR6TGpFNklEQXdNREF3TURBeE1qRXdOakVZTUJZR0ExVUVDd3dQVURFZ1NXNTBaV2R5WVdONWFtNWxNUTR3REFZRFZRUUtEQVZEVTBsUFdqRUxNQWtHQTFVRUJoTUNVRXd3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRHVJL0E5OFBvNzd1cVZjZ3VZenZ1WmJqVXZDejJaR2pJZXVFSXRxeElRc28yT2dOSC94Qi9BWWV1M1BzVGVBdVFLU0VhNkpmNmd4LzVaL1IzQ2ZUbUd2SU8wRmJzTGtNcDlxV0Qrd1FTR2ZsQzZwNXBZM1QrTzFKYW96clZqR3F4YjFJZGJPdmhoZWFqdXFydUNvUjdhdjYvMWpzQzBmTUE2a1pUUW5EY01ORXA3Sk5yWDRRUmxvUlA2ZHg2ek9LQVhhZzJCNHYrMVR2Tjk5WGVBME1EaHV1bzN2eU14d0RvbWw4aGlzYWFtMmdnRm42MGVzYmY5V2hOckdTaE1JVFdQWGpKRDNwdzZKNjFZLzBlWTluM0tTM0tUS010b0JLMk9Fbmg0V1FQRGJoeHp1dmprdnJ2UVFwUUFxWGRWVGVycGtBT0VVMEhBay9CSXIxL1lVQzluQWdNQkFBR2pnYmd3Z2JVd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JSaWhvRUNCb0cxYlhPZmRzcjRkTFczaHRJNmhqQlZCZ05WSFI4RVRqQk1NRXFnU0tCR2hrUm9kSFJ3Y3pvdkwybHVkQzF3TVM1bGVtUnliM2RwWlM1bmIzWXVjR3d2WTJOd01TOWpjbXd2UTBOUU1VbHVkR1ZuY21GamVXcHVaVk4xWWtOQlYxTlRMbU55YkRBZEJnTlZIUTRFRmdRVXZycFFEUEREeEdsZm5vQXJRVlNyYlNuNHkra3dEZ1lEVlIwUEFRSC9CQVFEQWdlQU1BMEdDU3FHU0liM0RRRUJEUVVBQTRJQ0FRQys2R0xjcmxjL1M0azhzREtpWWcvbXlJNWE1cUNIeEdpY3FzaU8vQTl6MGl1S2l3N1JMNkNmS2RQT2RiZitub0R2ZWs1c09BOGZaRHBWWUhtbHdFOUtMSmswZGVsQ0UySGtiK1pKSHlzYVRYaXRWeDlhWGswYTd3djJ2Q3FMR2xKcXlabzV2ZWNwam84M0I5QkhseUpTRDdWTGw1WFVzRnEvNUluOGRMbm9RaHBKWFN6ZGJKWlNYcVdxQ2hmdE5TSU5nODVmUDBpeWYwWVJPcEZJRVNGTVRGRWNkWUdUNllFRzV0MHNnaUttZm5nYzQ5M0VSdFMyOXBTWUhyTWdGZllNcVFiRm9hUXZnK3VWV3JMczlyaUh6emZMaXR1cnppcUNtL2dROE1CcUpjK2NVcnlCLzRBSEZEUGxQblh2TW1SQ2FKMXV2OFJ3TnJqSWRhT2prSHJkREtxbmJJQ21MclhaMUlrcTQ5NGY4QXNCcjk0bkJydGo0bnlvU2lIQUx3WGJHMVBRQlFtU1RCNmVsbUpHYlRrbGVvOXBjNHZHK29QTWtTR1VNdEcwOS92M1pucHRVREVKUjZEeFBPV1Q3d0pDOVF2WjQxdVZkRFF1aWtXZWwyK1FxaXkyTnBYeHF2VFhnZTFsZlBEYTFWcmwwejU3VnFRUVFrUmlXVjBXMUx2YjRxc3NMRDZqLzltSitndEtRV25NRHlkZGZ3NWpnaGJ4YmRWc0MyUTRCckZlY0VDTjBpTHhNbHJ6WEpuT0dlSE9zSjVIaC9pZG44NlkweW5FSG1mcVBrdjR5M01ORjdvWjg4M29kQlE1RjhSdjZlbGRvSHZTTTZ3N3VCNnVDVmg4YXJuV0k3bCs2dWorOEJucCtiek1NL1VJM2kyVWtKMVhsbGNRNXR4WlVRPT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48ZHM6WDUwOVN1YmplY3ROYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsc2VyaWFsTnVtYmVyPTIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMTogMDAwMDAwMDEyMTA2LGNuPVBvZG1pb3RfbGVjem5pY3p5XzEtdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctNjMzZjRjZTMtYWI5Ni00ZGFiLTkyMTQtOTllNDAwMTU3NGUwIj48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy02MzNmNGNlMy1hYjk2LTRkYWItOTIxNC05OWU0MDAxNTc0ZTAtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjQ1OjA2Ljk3NiswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkVkSXRYNmdLQXowM2xQZ0dLOFNxTzNsaUc1NTdsL28yNjZ1Z2xtV1psWFU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+b3R5OXJqazlvK0lJU204LzNHaEYxd1ZrVDBlWUFyeWFCTk5FMUhTdUVHaz08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+MzE0MTcwMDc4ODYxNzkzNDMxNDwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5kNlZNbDFEWmZhRk9lUjQ1REJIZytGNFBnazk1SFVNSElIcXkxc0Z6MEhBPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+"/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance1" id="7fe59210-cf04-49a9-b20a-33ac812db257">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance1" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7955ada5-b8e7-437e-9ce2-7ace877d963d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f39d13c2-d3a9-4624-b02e-b99dd46ba95d" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';



exists(//ns1:Provenance/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych provenance1" id="d749ee4e-165f-459f-af0a-12a58f6e10bb">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
            <con:name>provenanceId</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance1</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>provenance1Id</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:targetPath xsi:nil="true"/>
            <con:type>XPATH</con:type>
            <con:targetTransferType>XPATH</con:targetTransferType>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Odczyt Claim" id="0a91c0fe-787b-410b-bb53-b4ac75cfa08c">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Claim/{id}" methodName="Odczyt" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Odczyt Claim" id="53ded9e5-4b8c-47e7-b941-3b7b5d5bdc3b" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.35.10/fhir/Claim/13825</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="e13bb329-931e-4459-8384-da4aa98318f9" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f52efa3f-f7fe-4741-b1eb-83268d1f4173" name="Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="plpatient" value=""/>
              <con:entry key="id" value="${dane2#claimId}"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>plpatient</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="claimResource2" id="763386c3-771f-41ec-86b3-e6479f496459">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane2</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>claim-pozycja-rozliczeniowa-mod.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Claim xmlns="http://hl7.org/fhir">
	<id value="5142501"/>
	<meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventNationalHealthFundClaim"/>
        <security>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
            <code value="N"/>
        </security>
   </meta>
    <status value="active"/>
    <type>
        <coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.95"/>
			<code value="1"/>
        </coding>
    </type>
    <use value="claim"/>
	<patient>
		<reference value="Patient/864"/>
		<type value="Patient"/>
	  <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
		 <value value="12300509785"/>
      </identifier>
	</patient>
      <billablePeriod>
        <start value="2022-09"/>
        <end value="2022-09"/>
    </billablePeriod>
    <created value="2020-03-23"/>
    <provider>
        <identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
    </provider>
    <priority>
        <coding>
        	<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.65"/>
            <code value="normalny"/>
        </coding>
    </priority>
	<diagnosis>
        <sequence value="1"/>
		<diagnosisReference>
             <reference value = "Condition/5142497"/>
             <type value = "Condition"/>		
		</diagnosisReference>		
    </diagnosis>
	<procedure>
        <sequence value="1"/>
		<procedureReference>
             <reference value = "Procedure/5142495"/>
             <type value = "Procedure"/>		
		</procedureReference>	
    </procedure>
    <insurance>
        <sequence value="1"/>
        <focal value="true"/>
        <identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
					<value value="12345678912345678912"/>
				</identifier>
        <coverage>
			<reference value="Coverage/5142499"/>
        	<type value="Coverage"/>
        </coverage>
        <businessArrangement value="07-06-02336-20-03/06"/>
    </insurance>
    <item>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLEmergencyTreatment">
            <valueBoolean value="false"/>
        </extension>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLNationalHealthFundBillingItemRealQuantity">
            <valueDecimal value="1.5400"/>
        </extension>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLNationalHealthFundPoints">
             <valueDecimal value = "1.0000"/>
		</extension>
        <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLNationalHealthFundSpecialSettlement">
            <valueCode value="54A"/>
        </extension>
        <sequence value="1"/>
		<diagnosisSequence value="1" />
		<procedureSequence value="1" />		
        <category>
            <coding>
                <code value="01.0010.092.01"/>
            </coding>
        </category>
        <productOrService>
            <coding>
                <code value="5.01.00.0000075"/>
            </coding>
        </productOrService>
        <modifier>
            <coding>
                <code value="4"/>
            </coding>
        </modifier>
        <servicedPeriod>
        	 <start value="2020-03-12T14:10:01.077+01:00"/>
        	 <end value="2020-03-12T14:15:31.078+01:00"/>
        </servicedPeriod>
        <quantity>
            <value value="1.0000"/>
        </quantity>
        <unitPrice>
            <value value="10.99"/>
        </unitPrice>
        <factor value="1.0000"/>
        <encounter>
            <reference value="Encounter/5142493"/>
            <type value="Encounter"/>
        </encounter>
    </item>
</Claim>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="PUT Claim" id="25585f1d-2228-40b2-bea0-9b3fe15341df">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Claim/{id}" methodName="Modyfikacja" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="PUT Claim" id="5342e985-0180-42de-83af-10a800b07b60" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${claimResource2#resourceRequest}</con:request>
            <con:originalUri>http://10.0.35.10/fhir/Claim/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="e2192154-95d9-4048-950b-90ce6a561b0d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="a5fe3ae0-038c-464f-ac15-2b6878339e5c" name="Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length(//*:implicitRules/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="_id" value="${dane2#claimId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych claim po aktualizacji" id="1224cc29-e619-4adb-9c1b-2bfea674abb1">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>claimId</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>PUT Claim</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>claimId</con:targetType>
            <con:targetStep>dane2</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>PUT Claim</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>claimVersion</con:targetType>
            <con:targetStep>danePodpisu2</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu2" id="2dd5eca7-0f01-412d-a0ab-fa7f8e438e4e">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>conditionVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>procedureVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>claimVersion</con:name>
              <con:value>2</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1hOTllMzhkOC03ZDlmLTRiOTQtYTUwNy05NjBiYjkzNjUxZWIiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYTk5ZTM4ZDgtN2Q5Zi00Yjk0LWE1MDctOTYwYmI5MzY1MWViLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvODY0L19oaXN0b3J5LzEyOTEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+VzdQaVg0cUo0YXlwSkFaSFJqUGk4WFRlanJJV25PL0tuL0VYWUhTNHFZVT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYTk5ZTM4ZDgtN2Q5Zi00Yjk0LWE1MDctOTYwYmI5MzY1MWViLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyNDkzL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+dGtoTGlnbEpHQ3B5MFRyMWVMQWYwTjJZVXd1bzRCSUtBSml2bHJpMnZPOD08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYTk5ZTM4ZDgtN2Q5Zi00Yjk0LWE1MDctOTYwYmI5MzY1MWViLXJlZjIiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvbmRpdGlvbi81MTQyNDk3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+M25XNzAyMjhnSDduazBNR1ozUW9FZUtKdVB1RHdRSDZieFhFT3JBZUtlcz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYTk5ZTM4ZDgtN2Q5Zi00Yjk0LWE1MDctOTYwYmI5MzY1MWViLXJlZjMiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1Byb2NlZHVyZS81MTQyNDk1L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+cTRmRnpqazg5MkpENTM4UHpoVExlejhEcUhpdlgxYm5zYVNGZE5JM0JuUT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYTk5ZTM4ZDgtN2Q5Zi00Yjk0LWE1MDctOTYwYmI5MzY1MWViLXJlZjQiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvdmVyYWdlLzUxNDI0OTkvX2hpc3RvcnkvMSI+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5uY2Zta1pVbjM1MDhEUUlPbjR5RXNEdjN6cDhYNlRYUGt6VlNPcCtYdFdJPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PGRzOlJlZmVyZW5jZSBJZD0ieG1sZHNpZy1hOTllMzhkOC03ZDlmLTRiOTQtYTUwNy05NjBiYjkzNjUxZWItcmVmNSIgVVJJPSJodHRwczovL2lzdXMuZXpkcm93aWUuZ292LnBsL2ZoaXIvQ2xhaW0vNTE0MjUwMS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPndESkVhc21ZUVVKTVcyYlZTUkRHdVo4N2I5K1hMczNtQUJxL01ENGJnMlE9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy1hOTllMzhkOC03ZDlmLTRiOTQtYTUwNy05NjBiYjkzNjUxZWItc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPm0rdHhzSTJ3bzV3c1AzR2lxM2ZITmRIK3pPMnFyblFFVlpSbkxPeUt1Nm89PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLWE5OWUzOGQ4LTdkOWYtNGI5NC1hNTA3LTk2MGJiOTM2NTFlYi1zaWd2YWx1ZSI+TjBIcmY2SEsrMXd2QzFKblJvMTFxMXZWUWtZc3hVR0NGMVZxSkxzUmFaUXhjd3E4UHFCajlFTVNtZGYwR282MWxiZk9VbVYwcVFDSzQwMlVjS1o5M1M5NnRFVVRIaUx6ajQwWTAyREQ3ZXFJR0tlOVhZUkxvTVp0Z2x4bGNyc0d5UnpoS3FGcklRWHBTblFwL0w4SWNzY2dyYjRrQkl5MU9qS2JETUVaandHTWRYaDFoUlVSVHZlWlhPNUFLaFUxTkRPNnNiRUVYYWRQRFlGU3BPdWhuTTZnbS93MXVyZ0lYYmlvRFJkTldtcG4xNE0rSHRHN0NvY2ZTUTRZb2IxNm9raU9ZZjhYNlBSczFBYkltbzNkelIxWXVjWTBQb3RhekJrT01PZzV6T3BMYzh1U2RBRlp0V2VrZnZ6U1g5R0hlQ1oxUlpUVmRKNlBNUFRPUTJwRHhnPT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZNVENDQXhtZ0F3SUJBZ0lJZnFoa0FVQ2RCRnN3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1UQTJNakV3TnpRMU16ZGFGdzB5TXpBMk1qRXdOelExTXpkYU1JR2tNVFF3TWdZRFZRUUREQ3RRYjJSdGFXOTBYMnhsWTNwdWFXTjZlVjh4TFhWM2FXVnllbmwwWld4dWFXVnVhV1VnWkdGdWVXTm9NVFV3TXdZRFZRUUZFeXd5TGpFMkxqZzBNQzR4TGpFeE16ZzRNeTR6TGpRME1qUXVNaTR6TGpFNklEQXdNREF3TURBeE1qRXdOakVZTUJZR0ExVUVDd3dQVURFZ1NXNTBaV2R5WVdONWFtNWxNUTR3REFZRFZRUUtEQVZEVTBsUFdqRUxNQWtHQTFVRUJoTUNVRXd3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRHVJL0E5OFBvNzd1cVZjZ3VZenZ1WmJqVXZDejJaR2pJZXVFSXRxeElRc28yT2dOSC94Qi9BWWV1M1BzVGVBdVFLU0VhNkpmNmd4LzVaL1IzQ2ZUbUd2SU8wRmJzTGtNcDlxV0Qrd1FTR2ZsQzZwNXBZM1QrTzFKYW96clZqR3F4YjFJZGJPdmhoZWFqdXFydUNvUjdhdjYvMWpzQzBmTUE2a1pUUW5EY01ORXA3Sk5yWDRRUmxvUlA2ZHg2ek9LQVhhZzJCNHYrMVR2Tjk5WGVBME1EaHV1bzN2eU14d0RvbWw4aGlzYWFtMmdnRm42MGVzYmY5V2hOckdTaE1JVFdQWGpKRDNwdzZKNjFZLzBlWTluM0tTM0tUS010b0JLMk9Fbmg0V1FQRGJoeHp1dmprdnJ2UVFwUUFxWGRWVGVycGtBT0VVMEhBay9CSXIxL1lVQzluQWdNQkFBR2pnYmd3Z2JVd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JSaWhvRUNCb0cxYlhPZmRzcjRkTFczaHRJNmhqQlZCZ05WSFI4RVRqQk1NRXFnU0tCR2hrUm9kSFJ3Y3pvdkwybHVkQzF3TVM1bGVtUnliM2RwWlM1bmIzWXVjR3d2WTJOd01TOWpjbXd2UTBOUU1VbHVkR1ZuY21GamVXcHVaVk4xWWtOQlYxTlRMbU55YkRBZEJnTlZIUTRFRmdRVXZycFFEUEREeEdsZm5vQXJRVlNyYlNuNHkra3dEZ1lEVlIwUEFRSC9CQVFEQWdlQU1BMEdDU3FHU0liM0RRRUJEUVVBQTRJQ0FRQys2R0xjcmxjL1M0azhzREtpWWcvbXlJNWE1cUNIeEdpY3FzaU8vQTl6MGl1S2l3N1JMNkNmS2RQT2RiZitub0R2ZWs1c09BOGZaRHBWWUhtbHdFOUtMSmswZGVsQ0UySGtiK1pKSHlzYVRYaXRWeDlhWGswYTd3djJ2Q3FMR2xKcXlabzV2ZWNwam84M0I5QkhseUpTRDdWTGw1WFVzRnEvNUluOGRMbm9RaHBKWFN6ZGJKWlNYcVdxQ2hmdE5TSU5nODVmUDBpeWYwWVJPcEZJRVNGTVRGRWNkWUdUNllFRzV0MHNnaUttZm5nYzQ5M0VSdFMyOXBTWUhyTWdGZllNcVFiRm9hUXZnK3VWV3JMczlyaUh6emZMaXR1cnppcUNtL2dROE1CcUpjK2NVcnlCLzRBSEZEUGxQblh2TW1SQ2FKMXV2OFJ3TnJqSWRhT2prSHJkREtxbmJJQ21MclhaMUlrcTQ5NGY4QXNCcjk0bkJydGo0bnlvU2lIQUx3WGJHMVBRQlFtU1RCNmVsbUpHYlRrbGVvOXBjNHZHK29QTWtTR1VNdEcwOS92M1pucHRVREVKUjZEeFBPV1Q3d0pDOVF2WjQxdVZkRFF1aWtXZWwyK1FxaXkyTnBYeHF2VFhnZTFsZlBEYTFWcmwwejU3VnFRUVFrUmlXVjBXMUx2YjRxc3NMRDZqLzltSitndEtRV25NRHlkZGZ3NWpnaGJ4YmRWc0MyUTRCckZlY0VDTjBpTHhNbHJ6WEpuT0dlSE9zSjVIaC9pZG44NlkweW5FSG1mcVBrdjR5M01ORjdvWjg4M29kQlE1RjhSdjZlbGRvSHZTTTZ3N3VCNnVDVmg4YXJuV0k3bCs2dWorOEJucCtiek1NL1VJM2kyVWtKMVhsbGNRNXR4WlVRPT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48ZHM6WDUwOVN1YmplY3ROYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsc2VyaWFsTnVtYmVyPTIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMTogMDAwMDAwMDEyMTA2LGNuPVBvZG1pb3RfbGVjem5pY3p5XzEtdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctYTk5ZTM4ZDgtN2Q5Zi00Yjk0LWE1MDctOTYwYmI5MzY1MWViIj48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy1hOTllMzhkOC03ZDlmLTRiOTQtYTUwNy05NjBiYjkzNjUxZWItc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjQ1OjIxLjM5OCswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkVkSXRYNmdLQXowM2xQZ0dLOFNxTzNsaUc1NTdsL28yNjZ1Z2xtV1psWFU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+b3R5OXJqazlvK0lJU204LzNHaEYxd1ZrVDBlWUFyeWFCTk5FMUhTdUVHaz08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+MzE0MTcwMDc4ODYxNzkzNDMxNDwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5kNlZNbDFEWmZhRk9lUjQ1REJIZytGNFBnazk1SFVNSElIcXkxc0Z6MEhBPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+</con:value>
            </con:property>
            <con:property>
              <con:name>coverageVersion</con:name>
              <con:value>1</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu2" id="93790d98-6853-4821-a2ac-9399ca3a8489">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane2#patientId}') + "/_history/" + context.expand('${danePodpisu#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane2#encounterId}') + "/_history/" + context.expand('${danePodpisu#encounterVersion}')
String conditionReference = zmUrl + "/fhir/Condition/" + context.expand('${dane2#conditionId}') + "/_history/" + context.expand('${danePodpisu#conditionVersion}')
String procedureReference = zmUrl + "/fhir/Procedure/" + context.expand('${dane2#procedureId}') + "/_history/" + context.expand('${danePodpisu#procedureVersion}')
String coverageReference = zmUrl + "/fhir/Coverage/" + context.expand('${dane2#coverageId}') + "/_history/" + context.expand('${danePodpisu#coverageVersion}')
String claimReference = zmUrl + "/fhir/Claim/" + context.expand('${dane2#claimId}') + "/_history/" + context.expand('${danePodpisu#claimVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);
refs.add(conditionReference);
refs.add(procedureReference);
refs.add(coverageReference);
refs.add(claimReference);

String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisu2'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource2" id="048356c8-39ac-4950-a0a2-9bf38c22a5d5">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane2, danePodpisu</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-claim.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/864"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142493"/>
		<type value="Encounter"/>
	</target>
	<target>
		<reference value="Procedure/5142495"/>
		<type value="Procedure"/>
	</target>
	<target>
		<reference value="Condition/5142497"/>
		<type value="Condition"/>
	</target>
	<target>
		<reference value="Claim/5142501"/>
		<type value="Claim"/>
	</target>
	<target>
		<reference value="Coverage/5142499"/>
		<type value="Coverage"/>
	</target>
	<recorded value="2022-09-02T11:44:50.908+02:00"/>
	<agent>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:44:50.908+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy02MzNmNGNlMy1hYjk2LTRkYWItOTIxNC05OWU0MDAxNTc0ZTAiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNjMzZjRjZTMtYWI5Ni00ZGFiLTkyMTQtOTllNDAwMTU3NGUwLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvODY0L19oaXN0b3J5LzEyOTEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+VzdQaVg0cUo0YXlwSkFaSFJqUGk4WFRlanJJV25PL0tuL0VYWUhTNHFZVT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNjMzZjRjZTMtYWI5Ni00ZGFiLTkyMTQtOTllNDAwMTU3NGUwLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyNDkzL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+dGtoTGlnbEpHQ3B5MFRyMWVMQWYwTjJZVXd1bzRCSUtBSml2bHJpMnZPOD08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNjMzZjRjZTMtYWI5Ni00ZGFiLTkyMTQtOTllNDAwMTU3NGUwLXJlZjIiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvbmRpdGlvbi81MTQyNDk3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+M25XNzAyMjhnSDduazBNR1ozUW9FZUtKdVB1RHdRSDZieFhFT3JBZUtlcz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNjMzZjRjZTMtYWI5Ni00ZGFiLTkyMTQtOTllNDAwMTU3NGUwLXJlZjMiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1Byb2NlZHVyZS81MTQyNDk1L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+cTRmRnpqazg5MkpENTM4UHpoVExlejhEcUhpdlgxYm5zYVNGZE5JM0JuUT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctNjMzZjRjZTMtYWI5Ni00ZGFiLTkyMTQtOTllNDAwMTU3NGUwLXJlZjQiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvdmVyYWdlLzUxNDI0OTkvX2hpc3RvcnkvMSI+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5uY2Zta1pVbjM1MDhEUUlPbjR5RXNEdjN6cDhYNlRYUGt6VlNPcCtYdFdJPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PGRzOlJlZmVyZW5jZSBJZD0ieG1sZHNpZy02MzNmNGNlMy1hYjk2LTRkYWItOTIxNC05OWU0MDAxNTc0ZTAtcmVmNSIgVVJJPSJodHRwczovL2lzdXMuZXpkcm93aWUuZ292LnBsL2ZoaXIvQ2xhaW0vNTE0MjUwMS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPndESkVhc21ZUVVKTVcyYlZTUkRHdVo4N2I5K1hMczNtQUJxL01ENGJnMlE9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy02MzNmNGNlMy1hYjk2LTRkYWItOTIxNC05OWU0MDAxNTc0ZTAtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkZTRWwrUERsSC9lQlh3YTBaUE5XbXppd2p0eTg0MGdNRnZ3cVRPZjNnNjA9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLTYzM2Y0Y2UzLWFiOTYtNGRhYi05MjE0LTk5ZTQwMDE1NzRlMC1zaWd2YWx1ZSI+bVFCMW1SL1p0dk5lNmpjUzlJNFJpUlJRSVVLRHZHWkVFbjZJdnQydWRLaE0vbjlJUjhhRzBLZzF1ajRtKzZIQy9zb0VLQkNINE9HZ281c1ZIOHI2dzMwNytMSTlNMVRmRW94bjlSL0JRT1dTNG9FbjkwWkRHMk9wZDRxaEVxVmdVUWYwYTVxbnovWHhQYnRCSXdPUUhLUGdUQmRJR0RkREZrUmY2ZnA4WGFPVUxKdnNOa04xQXlaZTJLNUZtbXJ4SXVBNHdhT2M1WUFtekZ6S2JrZVpha3V6ZDRVcTFPVlNzYWR4ZU4yODdNQnZIZ0VNYVV5Y0cyY3ptMXY4ZzIxMEl1WE16bktNU1IzN1lQMW56TTNTTnViTFo1UGFNQXpBRkMwNFhIWUtrbzFqMUNhZnlHbm91c1dsSXlIRU4xMWlhRDdIMm9yaW1qWk1KckVRSmY0OFFnPT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZNVENDQXhtZ0F3SUJBZ0lJZnFoa0FVQ2RCRnN3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1UQTJNakV3TnpRMU16ZGFGdzB5TXpBMk1qRXdOelExTXpkYU1JR2tNVFF3TWdZRFZRUUREQ3RRYjJSdGFXOTBYMnhsWTNwdWFXTjZlVjh4TFhWM2FXVnllbmwwWld4dWFXVnVhV1VnWkdGdWVXTm9NVFV3TXdZRFZRUUZFeXd5TGpFMkxqZzBNQzR4TGpFeE16ZzRNeTR6TGpRME1qUXVNaTR6TGpFNklEQXdNREF3TURBeE1qRXdOakVZTUJZR0ExVUVDd3dQVURFZ1NXNTBaV2R5WVdONWFtNWxNUTR3REFZRFZRUUtEQVZEVTBsUFdqRUxNQWtHQTFVRUJoTUNVRXd3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRHVJL0E5OFBvNzd1cVZjZ3VZenZ1WmJqVXZDejJaR2pJZXVFSXRxeElRc28yT2dOSC94Qi9BWWV1M1BzVGVBdVFLU0VhNkpmNmd4LzVaL1IzQ2ZUbUd2SU8wRmJzTGtNcDlxV0Qrd1FTR2ZsQzZwNXBZM1QrTzFKYW96clZqR3F4YjFJZGJPdmhoZWFqdXFydUNvUjdhdjYvMWpzQzBmTUE2a1pUUW5EY01ORXA3Sk5yWDRRUmxvUlA2ZHg2ek9LQVhhZzJCNHYrMVR2Tjk5WGVBME1EaHV1bzN2eU14d0RvbWw4aGlzYWFtMmdnRm42MGVzYmY5V2hOckdTaE1JVFdQWGpKRDNwdzZKNjFZLzBlWTluM0tTM0tUS010b0JLMk9Fbmg0V1FQRGJoeHp1dmprdnJ2UVFwUUFxWGRWVGVycGtBT0VVMEhBay9CSXIxL1lVQzluQWdNQkFBR2pnYmd3Z2JVd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JSaWhvRUNCb0cxYlhPZmRzcjRkTFczaHRJNmhqQlZCZ05WSFI4RVRqQk1NRXFnU0tCR2hrUm9kSFJ3Y3pvdkwybHVkQzF3TVM1bGVtUnliM2RwWlM1bmIzWXVjR3d2WTJOd01TOWpjbXd2UTBOUU1VbHVkR1ZuY21GamVXcHVaVk4xWWtOQlYxTlRMbU55YkRBZEJnTlZIUTRFRmdRVXZycFFEUEREeEdsZm5vQXJRVlNyYlNuNHkra3dEZ1lEVlIwUEFRSC9CQVFEQWdlQU1BMEdDU3FHU0liM0RRRUJEUVVBQTRJQ0FRQys2R0xjcmxjL1M0azhzREtpWWcvbXlJNWE1cUNIeEdpY3FzaU8vQTl6MGl1S2l3N1JMNkNmS2RQT2RiZitub0R2ZWs1c09BOGZaRHBWWUhtbHdFOUtMSmswZGVsQ0UySGtiK1pKSHlzYVRYaXRWeDlhWGswYTd3djJ2Q3FMR2xKcXlabzV2ZWNwam84M0I5QkhseUpTRDdWTGw1WFVzRnEvNUluOGRMbm9RaHBKWFN6ZGJKWlNYcVdxQ2hmdE5TSU5nODVmUDBpeWYwWVJPcEZJRVNGTVRGRWNkWUdUNllFRzV0MHNnaUttZm5nYzQ5M0VSdFMyOXBTWUhyTWdGZllNcVFiRm9hUXZnK3VWV3JMczlyaUh6emZMaXR1cnppcUNtL2dROE1CcUpjK2NVcnlCLzRBSEZEUGxQblh2TW1SQ2FKMXV2OFJ3TnJqSWRhT2prSHJkREtxbmJJQ21MclhaMUlrcTQ5NGY4QXNCcjk0bkJydGo0bnlvU2lIQUx3WGJHMVBRQlFtU1RCNmVsbUpHYlRrbGVvOXBjNHZHK29QTWtTR1VNdEcwOS92M1pucHRVREVKUjZEeFBPV1Q3d0pDOVF2WjQxdVZkRFF1aWtXZWwyK1FxaXkyTnBYeHF2VFhnZTFsZlBEYTFWcmwwejU3VnFRUVFrUmlXVjBXMUx2YjRxc3NMRDZqLzltSitndEtRV25NRHlkZGZ3NWpnaGJ4YmRWc0MyUTRCckZlY0VDTjBpTHhNbHJ6WEpuT0dlSE9zSjVIaC9pZG44NlkweW5FSG1mcVBrdjR5M01ORjdvWjg4M29kQlE1RjhSdjZlbGRvSHZTTTZ3N3VCNnVDVmg4YXJuV0k3bCs2dWorOEJucCtiek1NL1VJM2kyVWtKMVhsbGNRNXR4WlVRPT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48ZHM6WDUwOVN1YmplY3ROYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsc2VyaWFsTnVtYmVyPTIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMTogMDAwMDAwMDEyMTA2LGNuPVBvZG1pb3RfbGVjem5pY3p5XzEtdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctNjMzZjRjZTMtYWI5Ni00ZGFiLTkyMTQtOTllNDAwMTU3NGUwIj48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy02MzNmNGNlMy1hYjk2LTRkYWItOTIxNC05OWU0MDAxNTc0ZTAtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjQ1OjA2Ljk3NiswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkVkSXRYNmdLQXowM2xQZ0dLOFNxTzNsaUc1NTdsL28yNjZ1Z2xtV1psWFU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+b3R5OXJqazlvK0lJU204LzNHaEYxd1ZrVDBlWUFyeWFCTk5FMUhTdUVHaz08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+MzE0MTcwMDc4ODYxNzkzNDMxNDwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5kNlZNbDFEWmZhRk9lUjQ1REJIZytGNFBnazk1SFVNSElIcXkxc0Z6MEhBPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+"/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance2" id="58da6e40-899e-4beb-8fdf-f53bef065af4">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance2" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource2#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7955ada5-b8e7-437e-9ce2-7ace877d963d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f39d13c2-d3a9-4624-b02e-b99dd46ba95d" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';



exists(//ns1:Provenance/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych provenance2" id="853acd3d-556f-42fb-88f4-7136480305a6">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
            <con:name>provenanceId</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance2</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>provenance2Id</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:targetPath xsi:nil="true"/>
            <con:type>XPATH</con:type>
            <con:targetTransferType>XPATH</con:targetTransferType>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Wyszukanie Claim" id="c581769f-76e1-4164-b0d2-1ad5180e93ff">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Claim/" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Wyszukanie Claim" id="607fbf6a-a130-401e-bb79-9c76b172f6be" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.35.10/fhir/Claim/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="f5d18235-bf08-4615-87af-b289e4f5fcbf" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="01af8fc1-d052-4f35-b28d-86898d96038b" name="Zwrcono wersj systemu">
              <con:configuration>
                <path>string-length((//*:implicitRules/@value)[1])>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="plpatient" value="${dane2#identyfikatorPacjentaOID}|${dane2#identyfikatorPacjenta}"/>
              <con:entry key="encounter" value="${dane2#encounterId}"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>plpatient</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Delay" id="4322412f-27b7-468c-b7a9-654dd78f2f0e">
        <con:settings/>
        <con:config>
          <delay>${#Project#delaySeconds}000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="DELETE Provenance 2" id="acd22b05-384c-4aa2-af12-443270124bd2">
        <con:settings/>
        <con:config method="DELETE" xsi:type="con:HttpRequest" id="f6989528-1d34-4419-950f-d9a37445a4a3" name="DELETE Provenance 2" downloadIncludedResources="false" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/xml"/>
&lt;/xml-fragment></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}/fhir/Provenance/${dane#provenance2Id}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" id="d8bd560e-a771-4185-a9ac-17a701071aad" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="Simple Contains" id="b0e8e78e-b931-4d9e-b839-7888d200e9ea" name="Successfully deleted 1 ">
            <con:configuration>
              <token>Successfully deleted 1</token>
              <ignoreCase>false</ignoreCase>
              <useRegEx>false</useRegEx>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="DELETE Provenance 1" id="a6b81f17-3ac9-451b-8d93-5f9b05a2c690">
        <con:settings/>
        <con:config method="DELETE" xsi:type="con:HttpRequest" id="f6989528-1d34-4419-950f-d9a37445a4a3" name="DELETE Provenance 1" downloadIncludedResources="false" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/xml"/>
&lt;/xml-fragment></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}/fhir/Provenance/${dane#provenance1Id}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" id="d8bd560e-a771-4185-a9ac-17a701071aad" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="Simple Contains" id="b0e8e78e-b931-4d9e-b839-7888d200e9ea" name="Successfully deleted 1 ">
            <con:configuration>
              <token>Successfully deleted 1</token>
              <ignoreCase>false</ignoreCase>
              <useRegEx>false</useRegEx>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Claim" id="cff87598-fbd5-44d7-a7f9-792316263568">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Claim/{id}" methodName="Anulowanie" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Claim" id="d482eff9-d31d-4d57-b5fa-0863c4c661de" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.35.10/fhir/Claim/14944</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="e3d7fb68-1a9e-4322-8c96-bc377aeb62a2" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Simple Contains" id="4368a335-c9f9-475e-b7db-bc635e62bda0" name="Contains">
              <con:configuration>
                <token>Successfully deleted 1 resource</token>
                <ignoreCase>false</ignoreCase>
                <useRegEx>false</useRegEx>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane2#claimId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Coverage" id="d1cabc9f-970b-4b53-b5d1-86b9c22892d8">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Coverage/{id}" methodName="Anulowanie-coverage" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Coverage" id="d482eff9-d31d-4d57-b5fa-0863c4c661de" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.35.10/fhir/Claim/14944</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="e3d7fb68-1a9e-4322-8c96-bc377aeb62a2" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Simple Contains" id="4368a335-c9f9-475e-b7db-bc635e62bda0" name="Contains">
              <con:configuration>
                <token>Successfully deleted 1 resource</token>
                <ignoreCase>false</ignoreCase>
                <useRegEx>false</useRegEx>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane2#coverageId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="danePodpisu3" id="fa941ed3-26e8-4a9b-adc0-2a24a8a2984d">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1iMjgxYmU5ZC02NzMyLTRkMzctOWY1Yy1mNTZkNjJmMDAwNGIiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYjI4MWJlOWQtNjczMi00ZDM3LTlmNWMtZjU2ZDYyZjAwMDRiLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvODY0L19oaXN0b3J5LzEyOTEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+VzdQaVg0cUo0YXlwSkFaSFJqUGk4WFRlanJJV25PL0tuL0VYWUhTNHFZVT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYjI4MWJlOWQtNjczMi00ZDM3LTlmNWMtZjU2ZDYyZjAwMDRiLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyNDkzL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+dGtoTGlnbEpHQ3B5MFRyMWVMQWYwTjJZVXd1bzRCSUtBSml2bHJpMnZPOD08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYjI4MWJlOWQtNjczMi00ZDM3LTlmNWMtZjU2ZDYyZjAwMDRiLXJlZjIiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvbmRpdGlvbi81MTQyNDk3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+M25XNzAyMjhnSDduazBNR1ozUW9FZUtKdVB1RHdRSDZieFhFT3JBZUtlcz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYjI4MWJlOWQtNjczMi00ZDM3LTlmNWMtZjU2ZDYyZjAwMDRiLXJlZjMiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1Byb2NlZHVyZS81MTQyNDk1L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+cTRmRnpqazg5MkpENTM4UHpoVExlejhEcUhpdlgxYm5zYVNGZE5JM0JuUT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLWIyODFiZTlkLTY3MzItNGQzNy05ZjVjLWY1NmQ2MmYwMDA0Yi1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWk4elJJME5Jb2tmOFJnQnQ2NWZRZWluS25ZbE1rMkxEUklybzdZRWsxcz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctYjI4MWJlOWQtNjczMi00ZDM3LTlmNWMtZjU2ZDYyZjAwMDRiLXNpZ3ZhbHVlIj5keFlwOUU2Q2JPQ3FsK2ZqelZYZ0oxRkt0RnVvbnRkWkxKNTQrd2tad083UVJoRGU5emVteU9VbmlsSGtlcmNpbFVkbDdtMmRJUDdDNnFhVGJWS2g0WENvYlNtcHZ2SUYxWjFETW5ocGlvY1RZckdlbXVBNVlYWVZaTlZ2U2phNm1hU2NTQTl1QS8reEFKRW9URVl2akZ6MVFyMHRESWhuV2tXZjVTMTVuSXB6UDJOdWdPdGN6cHdJNW9IUzBvT2E1dTA3V0Y4ZWZDKzZqMktYUEd6VUZYSEF5L3pXRStKZi9vUGoyOXpKMnpyRkFmYnBZRVpTNGo0OEdncFNxNWZmK1pyRjJaQWdMRGM1QXNXL1MxeTV4cVd0UkplaEJmUW1tT3BISTFjWUNkQURUZVRTY1MwSFN4WDRZUnRMTEU1RDdWdWRkbGVmYlRKeDNJUFZKMjUxV2c9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy1iMjgxYmU5ZC02NzMyLTRkMzctOWY1Yy1mNTZkNjJmMDAwNGIiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLWIyODFiZTlkLTY3MzItNGQzNy05ZjVjLWY1NmQ2MmYwMDA0Yi1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDU6NTIuMTg5KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4=</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie podpisu3" id="69b71a5c-498a-425e-8e18-fbe8806b72f9">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane2#patientId}') + "/_history/" + context.expand('${danePodpisu#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane2#encounterId}') + "/_history/" + context.expand('${danePodpisu2#encounterVersion}')
String conditionReference = zmUrl + "/fhir/Condition/" + context.expand('${dane2#conditionId}') + "/_history/" + context.expand('${danePodpisu2#conditionVersion}')
String procedureReference = zmUrl + "/fhir/Procedure/" + context.expand('${dane2#procedureId}') + "/_history/" + context.expand('${danePodpisu2#procedureVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);
refs.add(conditionReference);
refs.add(procedureReference);


String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['danePodpisu3'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceResource3" id="03172585-7f57-4c7e-be6a-0f73595111ac">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane2, danePodpisu3</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/864"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142493"/>
		<type value="Encounter"/>
	</target>
	<target>
		<reference value="Condition/5142497"/>
		<type value="Condition"/>
	</target>
	<target>
		<reference value="Procedure/5142495"/>
		<type value="Procedure"/>
	</target>
	<recorded value="2022-09-02T11:44:50.908+02:00"/>
	<agent>
		
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:44:50.908+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+xml"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy1iMjgxYmU5ZC02NzMyLTRkMzctOWY1Yy1mNTZkNjJmMDAwNGIiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYjI4MWJlOWQtNjczMi00ZDM3LTlmNWMtZjU2ZDYyZjAwMDRiLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvODY0L19oaXN0b3J5LzEyOTEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+VzdQaVg0cUo0YXlwSkFaSFJqUGk4WFRlanJJV25PL0tuL0VYWUhTNHFZVT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYjI4MWJlOWQtNjczMi00ZDM3LTlmNWMtZjU2ZDYyZjAwMDRiLXJlZjEiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0VuY291bnRlci81MTQyNDkzL19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+dGtoTGlnbEpHQ3B5MFRyMWVMQWYwTjJZVXd1bzRCSUtBSml2bHJpMnZPOD08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYjI4MWJlOWQtNjczMi00ZDM3LTlmNWMtZjU2ZDYyZjAwMDRiLXJlZjIiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL0NvbmRpdGlvbi81MTQyNDk3L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+M25XNzAyMjhnSDduazBNR1ozUW9FZUtKdVB1RHdRSDZieFhFT3JBZUtlcz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYjI4MWJlOWQtNjczMi00ZDM3LTlmNWMtZjU2ZDYyZjAwMDRiLXJlZjMiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1Byb2NlZHVyZS81MTQyNDk1L19oaXN0b3J5LzEiPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+cTRmRnpqazg5MkpENTM4UHpoVExlejhEcUhpdlgxYm5zYVNGZE5JM0JuUT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLWIyODFiZTlkLTY3MzItNGQzNy05ZjVjLWY1NmQ2MmYwMDA0Yi1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWk4elJJME5Jb2tmOFJnQnQ2NWZRZWluS25ZbE1rMkxEUklybzdZRWsxcz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctYjI4MWJlOWQtNjczMi00ZDM3LTlmNWMtZjU2ZDYyZjAwMDRiLXNpZ3ZhbHVlIj5keFlwOUU2Q2JPQ3FsK2ZqelZYZ0oxRkt0RnVvbnRkWkxKNTQrd2tad083UVJoRGU5emVteU9VbmlsSGtlcmNpbFVkbDdtMmRJUDdDNnFhVGJWS2g0WENvYlNtcHZ2SUYxWjFETW5ocGlvY1RZckdlbXVBNVlYWVZaTlZ2U2phNm1hU2NTQTl1QS8reEFKRW9URVl2akZ6MVFyMHRESWhuV2tXZjVTMTVuSXB6UDJOdWdPdGN6cHdJNW9IUzBvT2E1dTA3V0Y4ZWZDKzZqMktYUEd6VUZYSEF5L3pXRStKZi9vUGoyOXpKMnpyRkFmYnBZRVpTNGo0OEdncFNxNWZmK1pyRjJaQWdMRGM1QXNXL1MxeTV4cVd0UkplaEJmUW1tT3BISTFjWUNkQURUZVRTY1MwSFN4WDRZUnRMTEU1RDdWdWRkbGVmYlRKeDNJUFZKMjUxV2c9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRk1UQ0NBeG1nQXdJQkFnSUlmcWhrQVVDZEJGc3dEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRBMk1qRXdOelExTXpkYUZ3MHlNekEyTWpFd056UTFNemRhTUlHa01UUXdNZ1lEVlFRRERDdFFiMlJ0YVc5MFgyeGxZM3B1YVdONmVWOHhMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01UVXdNd1lEVlFRRkV5d3lMakUyTGpnME1DNHhMakV4TXpnNE15NHpMalEwTWpRdU1pNHpMakU2SURBd01EQXdNREF4TWpFd05qRVlNQllHQTFVRUN3d1BVREVnU1c1MFpXZHlZV041YW01bE1RNHdEQVlEVlFRS0RBVkRVMGxQV2pFTE1Ba0dBMVVFQmhNQ1VFd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEdUkvQTk4UG83N3VxVmNndVl6dnVaYmpVdkN6MlpHaklldUVJdHF4SVFzbzJPZ05IL3hCL0FZZXUzUHNUZUF1UUtTRWE2SmY2Z3gvNVovUjNDZlRtR3ZJTzBGYnNMa01wOXFXRCt3UVNHZmxDNnA1cFkzVCtPMUphb3pyVmpHcXhiMUlkYk92aGhlYWp1cXJ1Q29SN2F2Ni8xanNDMGZNQTZrWlRRbkRjTU5FcDdKTnJYNFFSbG9SUDZkeDZ6T0tBWGFnMkI0disxVHZOOTlYZUEwTURodXVvM3Z5TXh3RG9tbDhoaXNhYW0yZ2dGbjYwZXNiZjlXaE5yR1NoTUlUV1BYakpEM3B3Nko2MVkvMGVZOW4zS1MzS1RLTXRvQksyT0VuaDRXUVBEYmh4enV2amt2cnZRUXBRQXFYZFZUZXJwa0FPRVUwSEFrL0JJcjEvWVVDOW5BZ01CQUFHamdiZ3dnYlV3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlJpaG9FQ0JvRzFiWE9mZHNyNGRMVzNodEk2aGpCVkJnTlZIUjhFVGpCTU1FcWdTS0JHaGtSb2RIUndjem92TDJsdWRDMXdNUzVsZW1SeWIzZHBaUzVuYjNZdWNHd3ZZMk53TVM5amNtd3ZRME5RTVVsdWRHVm5jbUZqZVdwdVpWTjFZa05CVjFOVExtTnliREFkQmdOVkhRNEVGZ1FVdnJwUURQRER4R2xmbm9BclFWU3JiU240eStrd0RnWURWUjBQQVFIL0JBUURBZ2VBTUEwR0NTcUdTSWIzRFFFQkRRVUFBNElDQVFDKzZHTGNybGMvUzRrOHNES2lZZy9teUk1YTVxQ0h4R2ljcXNpTy9BOXowaXVLaXc3Ukw2Q2ZLZFBPZGJmK25vRHZlazVzT0E4ZlpEcFZZSG1sd0U5S0xKazBkZWxDRTJIa2IrWkpIeXNhVFhpdFZ4OWFYazBhN3d2MnZDcUxHbEpxeVpvNXZlY3BqbzgzQjlCSGx5SlNEN1ZMbDVYVXNGcS81SW44ZExub1FocEpYU3pkYkpaU1hxV3FDaGZ0TlNJTmc4NWZQMGl5ZjBZUk9wRklFU0ZNVEZFY2RZR1Q2WUVHNXQwc2dpS21mbmdjNDkzRVJ0UzI5cFNZSHJNZ0ZmWU1xUWJGb2FRdmcrdVZXckxzOXJpSHp6ZkxpdHVyemlxQ20vZ1E4TUJxSmMrY1VyeUIvNEFIRkRQbFBuWHZNbVJDYUoxdXY4UndOcmpJZGFPamtIcmRES3FuYklDbUxyWFoxSWtxNDk0ZjhBc0JyOTRuQnJ0ajRueW9TaUhBTHdYYkcxUFFCUW1TVEI2ZWxtSkdiVGtsZW85cGM0dkcrb1BNa1NHVU10RzA5L3YzWm5wdFVERUpSNkR4UE9XVDd3SkM5UXZaNDF1VmREUXVpa1dlbDIrUXFpeTJOcFh4cXZUWGdlMWxmUERhMVZybDB6NTdWcVFRUWtSaVdWMFcxTHZiNHFzc0xENmovOW1KK2d0S1FXbk1EeWRkZnc1amdoYnhiZFZzQzJRNEJyRmVjRUNOMGlMeE1scnpYSm5PR2VIT3NKNUhoL2lkbjg2WTB5bkVIbWZxUGt2NHkzTU5GN29aODgzb2RCUTVGOFJ2NmVsZG9IdlNNNnc3dUI2dUNWaDhhcm5XSTdsKzZ1ais4Qm5wK2J6TU0vVUkzaTJVa0oxWGxsY1E1dHhaVVE9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4xOiAwMDAwMDAwMTIxMDYsY249UG9kbWlvdF9sZWN6bmljenlfMS11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy1iMjgxYmU5ZC02NzMyLTRkMzctOWY1Yy1mNTZkNjJmMDAwNGIiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLWIyODFiZTlkLTY3MzItNGQzNy05ZjVjLWY1NmQ2MmYwMDA0Yi1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDU6NTIuMTg5KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+RWRJdFg2Z0tBejAzbFBnR0s4U3FPM2xpRzU1N2wvbzI2NnVnbG1XWmxYVT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+OTEyNjY1NDYwMTQwODA4NzEzMTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5vdHk5cmprOW8rSUlTbTgvM0doRjF3VmtUMGVZQXJ5YUJOTkUxSFN1RUdrPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPmQ2Vk1sMURaZmFGT2VSNDVEQkhnK0Y0UGdrOTVIVU1ISUhxeTFzRnowSEE9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT4="/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance3" id="6826223b-ebd1-4332-964f-597f2d10f33a">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance3" id="473db9e4-0033-4518-9c59-8f541a6f2dda" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceResource3#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7955ada5-b8e7-437e-9ce2-7ace877d963d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f39d13c2-d3a9-4624-b02e-b99dd46ba95d" name="XPath Match">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';



exists(//ns1:Provenance/ns1:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis zmiennych provenance3" id="c39cdd95-4a2f-4b8b-869b-46fdc1a87fe6">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
            <con:name>provenanceId</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance3</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>provenance3Id</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:targetPath xsi:nil="true"/>
            <con:type>XPATH</con:type>
            <con:targetTransferType>XPATH</con:targetTransferType>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Delay2" id="0dea5109-6145-4f59-bca3-c7409b373afd">
        <con:settings/>
        <con:config>
          <delay>${#Project#delaySeconds}000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="DELETE Provenance 3" id="f789bec5-eacd-4171-851d-fc13fcad816b">
        <con:settings/>
        <con:config method="DELETE" xsi:type="con:HttpRequest" id="f6989528-1d34-4419-950f-d9a37445a4a3" name="DELETE Provenance 3" downloadIncludedResources="false" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/xml"/>
&lt;/xml-fragment></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}/fhir/Provenance/${dane#provenance3Id}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" id="d8bd560e-a771-4185-a9ac-17a701071aad" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="Simple Contains" id="b0e8e78e-b931-4d9e-b839-7888d200e9ea" name="Successfully deleted 1 ">
            <con:configuration>
              <token>Successfully deleted 1</token>
              <ignoreCase>false</ignoreCase>
              <useRegEx>false</useRegEx>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Condition" id="cb17a868-a5f5-4e07-957b-de3600b39802">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Condition/{id}" methodName="Anulowanie-condition" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Condition" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane2#conditionId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Procedure" id="cf81f76b-a7c0-42ea-852b-910e8c560fd6">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Procedure/{id}" methodName="Anulowanie-procedure" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Procedure" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane2#procedureId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Encounter" id="a2ad8cbc-5e10-44bf-b3cb-b8dcf62d47f7">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Delete-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Encounter" id="cc11219a-0bdd-4108-b729-572e23504095" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>https://isus.ezdrowie.gov.pl/fhir/Provenance/176066</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="73a5b996-db3a-4a4c-bc9b-30c5278abfff" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#encounterId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:properties/>
  </con:testSuite>
  <con:testSuite id="0d236744-0481-406f-9fb7-e48de6118609" name="Zapis i wyszukanie szczepie pacjenta">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase id="36554229-f078-4ef6-a2cb-e735288ce1dd" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Weryfikacja dostpu do informacji o szczepieniach pacjenta dla pracownika medycznego" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Generuj token" id="dbf0584c-0127-4e07-a1ab-8572cc1261e6">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych" id="d4f5ca88-00a6-4594-a1de-1a49b32f40c9">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

String paszportSeria = org.apache.commons.lang.RandomStringUtils.random(2, true, false)
String paszportNum = org.apache.commons.lang.RandomStringUtils.random(7, false, true)
testRunner.testCase.getTestStepByName("dane").setPropertyValue("identyfikatorPacjenta", paszportSeria.toUpperCase()+paszportNum)

def pracownikImieNazwisko = context.expand('${#Project#imieNazwiskoPracownika}')
def pracownikIdentyfikator = context.expand('${#Project#identyfikatorUzytkownika}')
def locationIdentyfikator = context.expand('${#Project#identyfikatorMiejscaSwiadczenia}')
def podmiotIdentyfikator = context.expand('${#Project#identyfikatorPodmiotu}')

String identyfikatorZdarzenia = java.util.UUID.randomUUID().toString()
String korelacjaIdentyfikator = java.util.UUID.randomUUID().toString()
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString()

def formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
def teraz = ZonedDateTime.now()
String data1 = teraz.minusHours(6).format(formatter)
String data2 = teraz.format(formatter)
String data3 = teraz.minusHours(3).format(formatter)
def formatter2 = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss")
String data4 = 'ge' + teraz.minusMinutes(3).format(formatter2)

def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("zdarzenieDataPoczatek", data1)
dane.setPropertyValue("locationStart", data1)
dane.setPropertyValue("locationEnd", data3)
dane.setPropertyValue("przepustkaDataPoczatek", data3)
dane.setPropertyValue("przepustkaDataKoniec", data2)
dane.setPropertyValue("locationStart1", data2)
dane.setPropertyValue("podpisData", data2)
dane.setPropertyValue("dataSzczepienia", data2)
dane.setPropertyValue("identyfikatorZdarzenia", identyfikatorZdarzenia)
dane.setPropertyValue("korelacjaIdentyfikator", korelacjaIdentyfikator)
dane.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
dane.setPropertyValue("proceduraDataPoczatek", data1)
dane.setPropertyValue("proceduraDataKoniec", data2)
dane.setPropertyValue("rozpoznanieData", data2)
dane.setPropertyValue("immunizationDate", data4)
dane.setPropertyValue("pracownikImieNazwisko", pracownikImieNazwisko)
dane.setPropertyValue("pracownikIdentyfikator", pracownikIdentyfikator)
dane.setPropertyValue("locationIdentyfikator", locationIdentyfikator)
dane.setPropertyValue("podmiotIdentyfikator", podmiotIdentyfikator)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="335da173-f5f7-4b9b-a342-a87135a238d1">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.4.330.56</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>YH5029948</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>Senior</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>Sylwester</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>Sylwester Senior</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>30adc1f2-4272-49f6-bb99-4339fe3312a8</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>e6a141db-7e34-454f-a178-e7305a4b2a2a</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>67c006b9-72eb-42b7-b327-cabe1cbd8434</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>5142511</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>52433</con:value>
            </con:property>
            <con:property>
              <con:name>provenanceId</con:name>
              <con:value>5142515</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationId</con:name>
              <con:value>5142513</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationResource</con:name>
              <con:value><![CDATA[<Immunization xmlns="http://hl7.org/fhir">
   <id value="5142513"/>
   <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:46:20.469+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLImmunizationSimple"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <implicitRules value="16.3.3"/>
   <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalCertificateReference">
      <extension url="paperForm">
         <valueBoolean value="true"/>
      </extension>
      <extension url="asserter">
         <valueReference>
            <identifier>
               <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
               <value value="2698040"/>
            </identifier>
            <display value="Monika Lecznicza"/>
         </valueReference>
      </extension>
      <extension url="issued">
         <valueDateTime value="2022-09-02T11:46:15.190+02:00"/>
      </extension>
   </extension>
   <status value="not-done"/>
   <statusReason>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.103"/>
         <code value="IMMUNE"/>
         <display value="Odporno"/>
      </coding>
   </statusReason>
   <vaccineCode>
      <coding>
         <system value="urn:oid:1.3.160"/>
         <code value="05909991445591"/>
      </coding>
      <text value="Preflucel"/>
   </vaccineCode>
   <patient>
      <reference value="Patient/5142511"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="YH5029948"/>
      </identifier>
      <display value="Sylwester Senior"/>
   </patient>
   <occurrenceDateTime value="2022-09-02T11:46:15.190+02:00"/>
   <location>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
         <value value="000000012106-001"/>
      </identifier>
   </location>
   <manufacturer>
      <display value="test"/>
   </manufacturer>
   <lotNumber value="AAJN11K"/>
   <site>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.101"/>
         <code value="LA"/>
         <display value="Lewe rami"/>
      </coding>
   </site>
   <route>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.102"/>
         <code value="IM"/>
         <display value="Iniekcja dominiowa"/>
      </coding>
   </route>
   <doseQuantity>
      <value value="0.5"/>
      <system value="urn:oid:2.16.840.1.113883.6.8"/>
      <code value="ML"/>
   </doseQuantity>
   <performer>
      <actor>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
            <value value="2698040"/>
         </identifier>
         <display value="Monika Lecznicza"/>
      </actor>
   </performer>
   <note>
      <text value="Notes on adminstration of vaccine"/>
   </note>
   <fundingSource>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.105"/>
         <code value="private"/>
      </coding>
   </fundingSource>
   <protocolApplied>
      <targetDisease>
         <coding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
            <code value="99.557"/>
            <display value="Szczepienie przeciw COVID-19"/>
         </coding>
      </targetDisease>
      <doseNumberPositiveInt value="1"/>
      <seriesDosesPositiveInt value="2"/>
   </protocolApplied>
</Immunization>]]></con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48SW1tdW5pemF0aW9uIHhtbG5zPSJodHRwOi8vaGw3Lm9yZy9maGlyIj4KICAgPGlkIHZhbHVlPSI1MTQyNTEzIi8+CiAgIDxtZXRhPgogICAgICA8dmVyc2lvbklkIHZhbHVlPSIxIi8+CiAgICAgIDxsYXN0VXBkYXRlZCB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0NjoyMC40NjkrMDI6MDAiLz4KICAgICAgPHByb2ZpbGUgdmFsdWU9Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QTEltbXVuaXphdGlvblNpbXBsZSIvPgogICAgICA8c2VjdXJpdHk+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuODMiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9Ik4iLz4KICAgICAgPC9zZWN1cml0eT4KICAgPC9tZXRhPgogICA8aW1wbGljaXRSdWxlcyB2YWx1ZT0iMTYuMy4zIi8+CiAgIDxleHRlbnNpb24gdXJsPSJodHRwczovL2V6ZHJvd2llLmdvdi5wbC9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vUExNZWRpY2FsQ2VydGlmaWNhdGVSZWZlcmVuY2UiPgogICAgICA8ZXh0ZW5zaW9uIHVybD0icGFwZXJGb3JtIj4KICAgICAgICAgPHZhbHVlQm9vbGVhbiB2YWx1ZT0idHJ1ZSIvPgogICAgICA8L2V4dGVuc2lvbj4KICAgICAgPGV4dGVuc2lvbiB1cmw9ImFzc2VydGVyIj4KICAgICAgICAgPHZhbHVlUmVmZXJlbmNlPgogICAgICAgICAgICA8aWRlbnRpZmllcj4KICAgICAgICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMS42LjIiLz4KICAgICAgICAgICAgICAgPHZhbHVlIHZhbHVlPSIyNjk4MDQwIi8+CiAgICAgICAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgICAgICAgPGRpc3BsYXkgdmFsdWU9Ik1vbmlrYSBMZWN6bmljemEiLz4KICAgICAgICAgPC92YWx1ZVJlZmVyZW5jZT4KICAgICAgPC9leHRlbnNpb24+CiAgICAgIDxleHRlbnNpb24gdXJsPSJpc3N1ZWQiPgogICAgICAgICA8dmFsdWVEYXRlVGltZSB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0NjoxNS4xOTArMDI6MDAiLz4KICAgICAgPC9leHRlbnNpb24+CiAgIDwvZXh0ZW5zaW9uPgogICA8c3RhdHVzIHZhbHVlPSJub3QtZG9uZSIvPgogICA8c3RhdHVzUmVhc29uPgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjEwMyIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iSU1NVU5FIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJPZHBvcm5vxZvEhyIvPgogICAgICA8L2NvZGluZz4KICAgPC9zdGF0dXNSZWFzb24+CiAgIDx2YWNjaW5lQ29kZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoxLjMuMTYwIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSIwNTkwOTk5MTQ0NTU5MSIvPgogICAgICA8L2NvZGluZz4KICAgICAgPHRleHQgdmFsdWU9IlByZWZsdWNlbCIvPgogICA8L3ZhY2NpbmVDb2RlPgogICA8cGF0aWVudD4KICAgICAgPHJlZmVyZW5jZSB2YWx1ZT0iUGF0aWVudC81MTQyNTExIi8+CiAgICAgIDx0eXBlIHZhbHVlPSJQYXRpZW50Ii8+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjQuMzMwLjU2Ii8+CiAgICAgICAgIDx2YWx1ZSB2YWx1ZT0iWUg1MDI5OTQ4Ii8+CiAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgPGRpc3BsYXkgdmFsdWU9IlN5bHdlc3RlciBTZW5pb3IiLz4KICAgPC9wYXRpZW50PgogICA8b2NjdXJyZW5jZURhdGVUaW1lIHZhbHVlPSIyMDIyLTA5LTAyVDExOjQ2OjE1LjE5MCswMjowMCIvPgogICA8bG9jYXRpb24+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMyIvPgogICAgICAgICA8dmFsdWUgdmFsdWU9IjAwMDAwMDAxMjEwNi0wMDEiLz4KICAgICAgPC9pZGVudGlmaWVyPgogICA8L2xvY2F0aW9uPgogICA8bWFudWZhY3R1cmVyPgogICAgICA8ZGlzcGxheSB2YWx1ZT0idGVzdCIvPgogICA8L21hbnVmYWN0dXJlcj4KICAgPGxvdE51bWJlciB2YWx1ZT0iQUFKTjExSyIvPgogICA8c2l0ZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDEiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9IkxBIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJMZXdlIHJhbWnEmSIvPgogICAgICA8L2NvZGluZz4KICAgPC9zaXRlPgogICA8cm91dGU+CiAgICAgIDxjb2Rpbmc+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuMTAyIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSJJTSIvPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iSW5pZWtjamEgZG9tacSZxZtuaW93YSIvPgogICAgICA8L2NvZGluZz4KICAgPC9yb3V0ZT4KICAgPGRvc2VRdWFudGl0eT4KICAgICAgPHZhbHVlIHZhbHVlPSIwLjUiLz4KICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My42LjgiLz4KICAgICAgPGNvZGUgdmFsdWU9Ik1MIi8+CiAgIDwvZG9zZVF1YW50aXR5PgogICA8cGVyZm9ybWVyPgogICAgICA8YWN0b3I+CiAgICAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xLjYuMiIvPgogICAgICAgICAgICA8dmFsdWUgdmFsdWU9IjI2OTgwNDAiLz4KICAgICAgICAgPC9pZGVudGlmaWVyPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iTW9uaWthIExlY3puaWN6YSIvPgogICAgICA8L2FjdG9yPgogICA8L3BlcmZvcm1lcj4KICAgPG5vdGU+CiAgICAgIDx0ZXh0IHZhbHVlPSJOb3RlcyBvbiBhZG1pbnN0cmF0aW9uIG9mIHZhY2NpbmUiLz4KICAgPC9ub3RlPgogICA8ZnVuZGluZ1NvdXJjZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDUiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9InByaXZhdGUiLz4KICAgICAgPC9jb2Rpbmc+CiAgIDwvZnVuZGluZ1NvdXJjZT4KICAgPHByb3RvY29sQXBwbGllZD4KICAgICAgPHRhcmdldERpc2Vhc2U+CiAgICAgICAgIDxjb2Rpbmc+CiAgICAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjIuNiIvPgogICAgICAgICAgICA8Y29kZSB2YWx1ZT0iOTkuNTU3Ii8+CiAgICAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJTemN6ZXBpZW5pZSBwcnplY2l3IENPVklELTE5Ii8+CiAgICAgICAgIDwvY29kaW5nPgogICAgICA8L3RhcmdldERpc2Vhc2U+CiAgICAgIDxkb3NlTnVtYmVyUG9zaXRpdmVJbnQgdmFsdWU9IjEiLz4KICAgICAgPHNlcmllc0Rvc2VzUG9zaXRpdmVJbnQgdmFsdWU9IjIiLz4KICAgPC9wcm90b2NvbEFwcGxpZWQ+CjxkczpTaWduYXR1cmUgeG1sbnM6ZHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiIElkPSJ4bWxkc2lnLWQxZTU3NmIzLTRkZjgtNDczZi04MzlhLTdjZTkxZmZkYjhjMCI+PGRzOlNpZ25lZEluZm8+PGRzOkNhbm9uaWNhbGl6YXRpb25NZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjxkczpTaWduYXR1cmVNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjcnNhLXNoYTEiLz48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWQxZTU3NmIzLTRkZjgtNDczZi04MzlhLTdjZTkxZmZkYjhjMC1yZWYwIiBVUkk9IiI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNlbnZlbG9wZWQtc2lnbmF0dXJlIi8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5zTFJGSlVJVmg0NzA2bEtKY29PenRhQUs0dE09PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy1kMWU1NzZiMy00ZGY4LTQ3M2YtODM5YS03Y2U5MWZmZGI4YzAtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+NUVsUTA4R2RteE9jSTV0ZCtpV2NWQXJYUGVRPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PC9kczpTaWduZWRJbmZvPjxkczpTaWduYXR1cmVWYWx1ZSBJZD0ieG1sZHNpZy1kMWU1NzZiMy00ZGY4LTQ3M2YtODM5YS03Y2U5MWZmZGI4YzAtc2lndmFsdWUiPnM4NHptRXRDQS9scmVxZjl1a2FVbGlYM1RSZE9pVzVRcGZMSytqaDl3NnBrZmkrZTlLOXg4a0FpRG0xWiswbjRxc3V1NkJMbFQwSnVhVnRqM2plcERyS3NqZE5vUkcvUUNmbkx0a1NsenMwUTZ4dCt0eUdjL211M0RCdkI2d2FpV2ZUNGIydG0zZDVlRlRFOHZRQjBWQVFMYWdsaGFOZHRuZXUxR21jSWF1VSsvY2lTSkdxS3JkNFhQQWxXNU9IeC8yc1Q3VDJmSDBOZ2xPZEVoSlM3WkpuNWJEV21nNVB1OWtRUU9lU1R1RkpHTlNyb0RkS2hBTWNQbTF4U3h4N082akRDVmJXZWxoL01WZjgxMVBpVFlIeGJ0d1VPanJMcmh0ZXNmUW9sWExJeWRYdjBLWE9IalVQbFZpNHZta2YwVEV2R0QvZE54dXhScW5OWTIzODRtUT09PC9kczpTaWduYXR1cmVWYWx1ZT48ZHM6S2V5SW5mbz48ZHM6WDUwOURhdGE+PGRzOlg1MDlDZXJ0aWZpY2F0ZT5NSUlGRVRDQ0F2bWdBd0lCQWdJSVd6VGtKT1BycHJVd0RRWUpLb1pJaHZjTkFRRU5CUUF3VVRFWU1CWUdBMVVFQXd3UFEwTWdVREVnVTNWaVEwRWdWMU5UTVJnd0ZnWURWUVFMREE5UU1TQkpiblJsWjNKaFkzbHFibVV4RGpBTUJnTlZCQW9NQlVOVFNVOWFNUXN3Q1FZRFZRUUdFd0pRVERBZUZ3MHlNVEV5TURNeE1URTNNekZhRncweU16RXlNRE14TVRFM016RmFNSUdFTVM0d0xBWURWUVFERENWaGMzbHpkR1Z1ZEY5cGJuUXlMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01Sc3dHUVlEVlFRRkV4SlFSVk5GVERvZ056SXhNREkyTWpneE56SXhHREFXQmdOVkJBc01EMUF4SUVsdWRHVm5jbUZqZVdwdVpURU9NQXdHQTFVRUNnd0ZRMU5KVDFveEN6QUpCZ05WQkFZVEFsQk1NSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXZsOTFQbDdjQ0NWV241NWh1dG5kbERHeE02enZUL1RxTThYVEs4TUZ2ai95UlBXdHdDalNsRzFwNDVHMkNRR0dXVUNvYWU3S013dGpGMUJvVm1CbzM0cndCY1JuY2gyYXF1SXdXUVVQUUNqdHNsUk9BenFnRGd2QUw3anduMUFSZVpNdXhpSm9zWlhLMW1iMTN1QnBDMGI3VkNpd0sveUt0WTRjL3RiWHEwU2NpZDNYMldaZGxSUmhWbUJHbWUwQkgzTzRZR2tVajZXZHl5STZaMnhNM1FabnNaMG94TEt5ZWRYY1pSNDBsbmp1TlVFc29CbkNxekpyR1BjMGdNK1QyZ3VMcHFKTktIWWptaTBVSkIwVEk2QUpuYWNDRTJxalJmQ29Vbm1qYU5KdUJQeFBqMUE3Y2o0OFo5NlhtY29DMHY4M1p5d3FjLy9nSmwwWUFuQ3p0UUlEQVFBQm80RzRNSUcxTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwakJCZ3dGb0FVWW9hQkFnYUJ0VzF6bjNiSytIUzF0NGJTT29Zd1ZRWURWUjBmQkU0d1REQktvRWlnUm9aRWFIUjBjSE02THk5cGJuUXRjREV1Wlhwa2NtOTNhV1V1WjI5MkxuQnNMMk5qY0RFdlkzSnNMME5EVURGSmJuUmxaM0poWTNscWJtVlRkV0pEUVZkVFV5NWpjbXd3SFFZRFZSME9CQllFRkc2Ylc4NnJFekRvMHM4UWlLVHlEcTZYazVlV01BNEdBMVVkRHdFQi93UUVBd0lIZ0RBTkJna3Foa2lHOXcwQkFRMEZBQU9DQWdFQXd0NlVqV3dDandEUitqZmd0QlBOazJ1SEVVNS9FRXFHYkdrY0NjNmNUU3VXelFsb1lBNFhyWVlzOFJzZlNqQ2ZUT2tZeTNWZFZxdm1Nc3ZEajJLcGJzSEZTcG1XcG5OaExrRnF1MElzaTRhNW9Cc1lPWVJuNlRvNis0bExFYmdsNUJYMDdCK0pTcXNXanZORlhYUTI4K043Ris4ekZ6U2UrSDJnb3kwV004dlhNbGFuSWlPeWtHMnpBanErdlJWdXVqVzkzaDdKSXJ1dXEra0JXY3ZqWWFtVVNqNlk3bmUvRVJxVmpmdkdicStrbmxkb2pvUzVYMURVYkZqV0pCc3U3cnFtVVFibXl2ZjI0NWdFWExocG45dGRBOEFMT29GdGMya0haY0FSY2ZLbXkxVUExQVNINmZwSG9xSWlTZ01MRThmWnFPTkFqTGtWaVFtS0NlKzBncFlyVDcrR0xkcGo0M1ZmeS9tQ0dkWFBhSEhoUHJGUVUxRjVzVGVYMjNyQXB6MEJYTUltZFBuL3daWitid20ycUFvV1VnS0F5VnJUVytGR3Q4dUJmN3NmWlN5Ny9WTS9ZaWtheGxsR2xhTERUa0RtV21oNzdMbGlvRXUwbk9yeXZDeGw2UjFDY25jZnV4dFd5YTZRMFY2TWtXSU80VVJkalJLaElBWTdrU0gvZ2xVcVIraG96a0JNRHRHQUNPSDV4M1ErWXpDbFRUeXltYXpvTm1hazJrMnhFMjNkR1NIN3VEMmJZdStxbWEyMW5xU3NSMmlxWkNUVHJQbUdLeVZ4UmVIa01GL2VOd2JOczlscEk4c2gwVFJkeTR2K09KVGpTR2RmUC9Qb2l4ODNKVXpqL1hndHd5RHJOSlBKUGxXc0VXUFRCY2d2OVdrNHlMcnQ4OFFvT1pZPTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9UEVTRUw6IDcyMTAyNjI4MTcyLGNuPWFzeXN0ZW50X2ludDItdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjY1NzIxMjg2MDMzMzQyMjM1NDE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctZDFlNTc2YjMtNGRmOC00NzNmLTgzOWEtN2NlOTFmZmRiOGMwIj48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy1kMWU1NzZiMy00ZGY4LTQ3M2YtODM5YS03Y2U5MWZmZGI4YzAtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjQ2OjIwLjgyNyswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+RDdoam11VUlITXV1NFBMVDNCUExDNjcwalp3PTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj42NTcyMTI4NjAzMzM0MjIzNTQxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+SHVQdGw2TElqdDAyTngzRUJoMnRzbEtVZ25FPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+VUZQdXVVM2hwQjEzQlVLMkdyTVkvTzQ1cFZNPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+PC9JbW11bml6YXRpb24+</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationStatus</con:name>
              <con:value>not-done</con:value>
            </con:property>
            <con:property>
              <con:name>zrodloFinansowania</con:name>
              <con:value>private</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataPoczatek</con:name>
              <con:value>2022-09-02T05:46:15.190+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataKoniec</con:name>
              <con:value>2022-09-02T11:46:15.190+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>rozpoznanieData</con:name>
              <con:value>2022-09-02T11:46:15.190+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>przepustkaDataKoniec</con:name>
              <con:value>2022-09-02T11:46:15.190+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>przepustkaDataPoczatek</con:name>
              <con:value>2022-09-02T08:46:15.190+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart</con:name>
              <con:value>2022-09-02T05:46:15.190+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationEnd</con:name>
              <con:value>2022-09-02T08:46:15.190+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart1</con:name>
              <con:value>2022-09-02T11:46:15.190+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T05:46:15.190+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2020-12-03T14:09:26.193+01:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:46:15.190+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>dataSzczepienia</con:name>
              <con:value>2022-09-02T11:46:15.190+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationDate</con:name>
              <con:value>ge2022-09-02T11:43:15</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="patientXML" id="4faa284b-b835-4550-ae38-1acdcb2158ac">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>patient-paszport.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Patient xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPatient"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
      <value value="YH5029948"/>
   </identifier>
   <name>
      <family value="Senior"/>
      <given value="Sylwester"/>
   </name>
   <telecom>
      <system value="phone"/>
      <value value="+32475556791"/>
   </telecom>
   <gender value="male"/>
   <birthDate value="1960-06-30"/>
</Patient>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Patient" id="df2277cc-bf59-4be7-868e-432255995f71">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Patient/{id}" methodName="Zapis-patient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Patient" id="9c748457-9d7a-4eb1-8d90-bc42603ba6a6" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${patientXML#resourceRequest}</con:request>
            <con:originalUri>http://10.0.38.215/fhir/Patient</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a0ba0d9a-6ecb-4f58-9ecd-df42ec5ef5b0" name="A1 - Valid HTTP Status Codes - 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="5b6e5f13-42fa-4ca3-8f8e-8cb8be047d6a" name="A2 - id patient">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';

exists(//*:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="identifier" value=""/>
              <con:entry key="plgiven" value=""/>
              <con:entry key="birthdate" value=""/>
              <con:entry key="gender" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="_id" value=""/>
              <con:entry key="encounter" value=""/>
              <con:entry key="plfamily" value=""/>
              <con:entry key="_sort" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plfamily</con:entry>
              <con:entry>plgiven</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>gender</con:entry>
              <con:entry>birthdate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id patient" id="057f81a7-c014-4fdd-ba40-2e8b555baad1">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="immunizationXML" id="8b50d5d1-2ab3-4bbd-8678-d2ecddc9a276">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>immunization-simple-statusReason.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Immunization xmlns="http://hl7.org/fhir">
    					
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLImmunizationSimple"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalCertificateReference">
		<extension url="paperForm">
			<valueBoolean value="true"/>
		</extension>
		<extension url="asserter">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
			</valueReference>
		</extension>
					<extension url="issued">
			<valueDateTime value="2022-09-02T11:46:15.190+02:00"/>
		</extension>
	</extension>
	<status value="not-done"/>
	<statusReason>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.103"/>
			<code value="IMMUNE"/>
			<display value="Odporno"/>
		</coding>
	</statusReason>	
	<vaccineCode>
		<coding>
			<system value="urn:oid:1.3.160"/>
			<code value="05909991445591"/>
		</coding>
		<text value="Preflucel"/>
	</vaccineCode>
	<patient>
		<reference value="Patient/5142511"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
			<value value="YH5029948"/>
		</identifier>
		<display value="Sylwester Senior"/>
	</patient>
	<occurrenceDateTime value="2022-09-02T11:46:15.190+02:00"/>
	<location>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
		</identifier>
	</location>
	<manufacturer>
		<display value="test"/>
	</manufacturer>
	<lotNumber value="AAJN11K"/>
	<site>	
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.101"/>
			<code value="LA"/>
			<display value="Lewe rami"/>
		</coding>
	</site>
	<route>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.102"/>
			<code value="IM"/>
			<display value="Iniekcja dominiowa"/>
		</coding>
	</route>
	<doseQuantity>
		<value value="0.5"/>
		<system value="urn:oid:2.16.840.1.113883.6.8"/>
		<code value="ML"/>
	</doseQuantity>
	<performer>
		<actor>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
		</actor>
	</performer>
	<note>
		<text value="Notes on adminstration of vaccine"/>
	</note>
	<fundingSource>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.105"/>
			<code value="private"/>
		</coding>
	</fundingSource>
	<protocolApplied>
		<targetDisease>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
				<code value="99.557"/>
				<display value="Szczepienie przeciw COVID-19"/>
			</coding>
		</targetDisease>
		<doseNumberPositiveInt value="1"/>
		<seriesDosesPositiveInt value="2"/>
	</protocolApplied>
</Immunization>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Immunization" id="32fd90f8-6df9-49f2-bb45-5523f0fd6c72">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Immunization/{id}" methodName="Zapis-immunization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Immunization" id="21f50763-d789-4c07-9a1a-e8fbea2e823f" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${immunizationXML#resourceRequest}</con:request>
            <con:originalUri>https://tsus.ezdrowie.gov.pl/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a6126f75-5518-4db4-be38-5bfa8870ace2" name="[A1] HTTP 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="62c10708-7c55-4a9b-8ee8-ab6530c5c8d2" name="[A2] Zwrcono zasb z ID">
              <con:configuration>
                <path>(//*:id/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="date" value=""/>
              <con:entry key="patient" value=""/>
              <con:entry key="plsubject" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="status" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>date</con:entry>
              <con:entry>status</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id immunization" id="7437ac2e-1c75-43f1-b99c-e110e5990ee3">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>immunizationId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization</con:sourceStep>
            <con:sourcePath>//*:versionId/@value</con:sourcePath>
            <con:targetType>immunizationVersion</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>resource</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>immunizationResource</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Podpis zasobu Immunization" id="64894007-d83a-4e83-9bb8-0549c0733ee9">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String resource = context.expand('${dane#immunizationResource}')
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu2}');
String certPass = context.expand('${#Project#hasloCertyfikatu2}');



String podpis = PodpisKwalifikowany.podpiszDokumentDowolnymCertyfikatem(resource,certPath, certPass);
String encode = podpis.getBytes("UTF-8").encodeBase64().toString()
testRunner.testCase.testSteps['dane'].setPropertyValue("binaryPodpis",encode);
log.info(podpis)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Zapis zasobu provenance (PLPractitionerSignature)" id="1d15c6f3-8753-4d63-9104-863679c89028">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-immunization-simple.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPractitionerSignature"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Immunization/5142513"/>
		<type value="Immunization"/>
	</target>
	<recorded value="2022-09-02T11:46:15.190+02:00"/>
	<agent>
		<role>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.85"/>
				<code value="LEK"/>
			</coding>
		</role>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Adam210 Leczniczy"/>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.87"/>
			<code value="1.2.840.10065.1.12.1.6"/>
		</type>
		<when value="2022-09-02T11:46:15.190+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</who>
		<onBehalfOf>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</onBehalfOf>
		<targetFormat value="application/fhir+json"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48SW1tdW5pemF0aW9uIHhtbG5zPSJodHRwOi8vaGw3Lm9yZy9maGlyIj4KICAgPGlkIHZhbHVlPSI1MTQyNTEzIi8+CiAgIDxtZXRhPgogICAgICA8dmVyc2lvbklkIHZhbHVlPSIxIi8+CiAgICAgIDxsYXN0VXBkYXRlZCB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0NjoyMC40NjkrMDI6MDAiLz4KICAgICAgPHByb2ZpbGUgdmFsdWU9Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QTEltbXVuaXphdGlvblNpbXBsZSIvPgogICAgICA8c2VjdXJpdHk+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuODMiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9Ik4iLz4KICAgICAgPC9zZWN1cml0eT4KICAgPC9tZXRhPgogICA8aW1wbGljaXRSdWxlcyB2YWx1ZT0iMTYuMy4zIi8+CiAgIDxleHRlbnNpb24gdXJsPSJodHRwczovL2V6ZHJvd2llLmdvdi5wbC9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vUExNZWRpY2FsQ2VydGlmaWNhdGVSZWZlcmVuY2UiPgogICAgICA8ZXh0ZW5zaW9uIHVybD0icGFwZXJGb3JtIj4KICAgICAgICAgPHZhbHVlQm9vbGVhbiB2YWx1ZT0idHJ1ZSIvPgogICAgICA8L2V4dGVuc2lvbj4KICAgICAgPGV4dGVuc2lvbiB1cmw9ImFzc2VydGVyIj4KICAgICAgICAgPHZhbHVlUmVmZXJlbmNlPgogICAgICAgICAgICA8aWRlbnRpZmllcj4KICAgICAgICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMS42LjIiLz4KICAgICAgICAgICAgICAgPHZhbHVlIHZhbHVlPSIyNjk4MDQwIi8+CiAgICAgICAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgICAgICAgPGRpc3BsYXkgdmFsdWU9Ik1vbmlrYSBMZWN6bmljemEiLz4KICAgICAgICAgPC92YWx1ZVJlZmVyZW5jZT4KICAgICAgPC9leHRlbnNpb24+CiAgICAgIDxleHRlbnNpb24gdXJsPSJpc3N1ZWQiPgogICAgICAgICA8dmFsdWVEYXRlVGltZSB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0NjoxNS4xOTArMDI6MDAiLz4KICAgICAgPC9leHRlbnNpb24+CiAgIDwvZXh0ZW5zaW9uPgogICA8c3RhdHVzIHZhbHVlPSJub3QtZG9uZSIvPgogICA8c3RhdHVzUmVhc29uPgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjEwMyIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iSU1NVU5FIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJPZHBvcm5vxZvEhyIvPgogICAgICA8L2NvZGluZz4KICAgPC9zdGF0dXNSZWFzb24+CiAgIDx2YWNjaW5lQ29kZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoxLjMuMTYwIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSIwNTkwOTk5MTQ0NTU5MSIvPgogICAgICA8L2NvZGluZz4KICAgICAgPHRleHQgdmFsdWU9IlByZWZsdWNlbCIvPgogICA8L3ZhY2NpbmVDb2RlPgogICA8cGF0aWVudD4KICAgICAgPHJlZmVyZW5jZSB2YWx1ZT0iUGF0aWVudC81MTQyNTExIi8+CiAgICAgIDx0eXBlIHZhbHVlPSJQYXRpZW50Ii8+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjQuMzMwLjU2Ii8+CiAgICAgICAgIDx2YWx1ZSB2YWx1ZT0iWUg1MDI5OTQ4Ii8+CiAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgPGRpc3BsYXkgdmFsdWU9IlN5bHdlc3RlciBTZW5pb3IiLz4KICAgPC9wYXRpZW50PgogICA8b2NjdXJyZW5jZURhdGVUaW1lIHZhbHVlPSIyMDIyLTA5LTAyVDExOjQ2OjE1LjE5MCswMjowMCIvPgogICA8bG9jYXRpb24+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMyIvPgogICAgICAgICA8dmFsdWUgdmFsdWU9IjAwMDAwMDAxMjEwNi0wMDEiLz4KICAgICAgPC9pZGVudGlmaWVyPgogICA8L2xvY2F0aW9uPgogICA8bWFudWZhY3R1cmVyPgogICAgICA8ZGlzcGxheSB2YWx1ZT0idGVzdCIvPgogICA8L21hbnVmYWN0dXJlcj4KICAgPGxvdE51bWJlciB2YWx1ZT0iQUFKTjExSyIvPgogICA8c2l0ZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDEiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9IkxBIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJMZXdlIHJhbWnEmSIvPgogICAgICA8L2NvZGluZz4KICAgPC9zaXRlPgogICA8cm91dGU+CiAgICAgIDxjb2Rpbmc+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuMTAyIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSJJTSIvPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iSW5pZWtjamEgZG9tacSZxZtuaW93YSIvPgogICAgICA8L2NvZGluZz4KICAgPC9yb3V0ZT4KICAgPGRvc2VRdWFudGl0eT4KICAgICAgPHZhbHVlIHZhbHVlPSIwLjUiLz4KICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My42LjgiLz4KICAgICAgPGNvZGUgdmFsdWU9Ik1MIi8+CiAgIDwvZG9zZVF1YW50aXR5PgogICA8cGVyZm9ybWVyPgogICAgICA8YWN0b3I+CiAgICAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xLjYuMiIvPgogICAgICAgICAgICA8dmFsdWUgdmFsdWU9IjI2OTgwNDAiLz4KICAgICAgICAgPC9pZGVudGlmaWVyPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iTW9uaWthIExlY3puaWN6YSIvPgogICAgICA8L2FjdG9yPgogICA8L3BlcmZvcm1lcj4KICAgPG5vdGU+CiAgICAgIDx0ZXh0IHZhbHVlPSJOb3RlcyBvbiBhZG1pbnN0cmF0aW9uIG9mIHZhY2NpbmUiLz4KICAgPC9ub3RlPgogICA8ZnVuZGluZ1NvdXJjZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDUiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9InByaXZhdGUiLz4KICAgICAgPC9jb2Rpbmc+CiAgIDwvZnVuZGluZ1NvdXJjZT4KICAgPHByb3RvY29sQXBwbGllZD4KICAgICAgPHRhcmdldERpc2Vhc2U+CiAgICAgICAgIDxjb2Rpbmc+CiAgICAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjIuNiIvPgogICAgICAgICAgICA8Y29kZSB2YWx1ZT0iOTkuNTU3Ii8+CiAgICAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJTemN6ZXBpZW5pZSBwcnplY2l3IENPVklELTE5Ii8+CiAgICAgICAgIDwvY29kaW5nPgogICAgICA8L3RhcmdldERpc2Vhc2U+CiAgICAgIDxkb3NlTnVtYmVyUG9zaXRpdmVJbnQgdmFsdWU9IjEiLz4KICAgICAgPHNlcmllc0Rvc2VzUG9zaXRpdmVJbnQgdmFsdWU9IjIiLz4KICAgPC9wcm90b2NvbEFwcGxpZWQ+CjxkczpTaWduYXR1cmUgeG1sbnM6ZHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiIElkPSJ4bWxkc2lnLWQxZTU3NmIzLTRkZjgtNDczZi04MzlhLTdjZTkxZmZkYjhjMCI+PGRzOlNpZ25lZEluZm8+PGRzOkNhbm9uaWNhbGl6YXRpb25NZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjxkczpTaWduYXR1cmVNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjcnNhLXNoYTEiLz48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLWQxZTU3NmIzLTRkZjgtNDczZi04MzlhLTdjZTkxZmZkYjhjMC1yZWYwIiBVUkk9IiI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNlbnZlbG9wZWQtc2lnbmF0dXJlIi8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5zTFJGSlVJVmg0NzA2bEtKY29PenRhQUs0dE09PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy1kMWU1NzZiMy00ZGY4LTQ3M2YtODM5YS03Y2U5MWZmZGI4YzAtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+NUVsUTA4R2RteE9jSTV0ZCtpV2NWQXJYUGVRPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PC9kczpTaWduZWRJbmZvPjxkczpTaWduYXR1cmVWYWx1ZSBJZD0ieG1sZHNpZy1kMWU1NzZiMy00ZGY4LTQ3M2YtODM5YS03Y2U5MWZmZGI4YzAtc2lndmFsdWUiPnM4NHptRXRDQS9scmVxZjl1a2FVbGlYM1RSZE9pVzVRcGZMSytqaDl3NnBrZmkrZTlLOXg4a0FpRG0xWiswbjRxc3V1NkJMbFQwSnVhVnRqM2plcERyS3NqZE5vUkcvUUNmbkx0a1NsenMwUTZ4dCt0eUdjL211M0RCdkI2d2FpV2ZUNGIydG0zZDVlRlRFOHZRQjBWQVFMYWdsaGFOZHRuZXUxR21jSWF1VSsvY2lTSkdxS3JkNFhQQWxXNU9IeC8yc1Q3VDJmSDBOZ2xPZEVoSlM3WkpuNWJEV21nNVB1OWtRUU9lU1R1RkpHTlNyb0RkS2hBTWNQbTF4U3h4N082akRDVmJXZWxoL01WZjgxMVBpVFlIeGJ0d1VPanJMcmh0ZXNmUW9sWExJeWRYdjBLWE9IalVQbFZpNHZta2YwVEV2R0QvZE54dXhScW5OWTIzODRtUT09PC9kczpTaWduYXR1cmVWYWx1ZT48ZHM6S2V5SW5mbz48ZHM6WDUwOURhdGE+PGRzOlg1MDlDZXJ0aWZpY2F0ZT5NSUlGRVRDQ0F2bWdBd0lCQWdJSVd6VGtKT1BycHJVd0RRWUpLb1pJaHZjTkFRRU5CUUF3VVRFWU1CWUdBMVVFQXd3UFEwTWdVREVnVTNWaVEwRWdWMU5UTVJnd0ZnWURWUVFMREE5UU1TQkpiblJsWjNKaFkzbHFibVV4RGpBTUJnTlZCQW9NQlVOVFNVOWFNUXN3Q1FZRFZRUUdFd0pRVERBZUZ3MHlNVEV5TURNeE1URTNNekZhRncweU16RXlNRE14TVRFM016RmFNSUdFTVM0d0xBWURWUVFERENWaGMzbHpkR1Z1ZEY5cGJuUXlMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01Sc3dHUVlEVlFRRkV4SlFSVk5GVERvZ056SXhNREkyTWpneE56SXhHREFXQmdOVkJBc01EMUF4SUVsdWRHVm5jbUZqZVdwdVpURU9NQXdHQTFVRUNnd0ZRMU5KVDFveEN6QUpCZ05WQkFZVEFsQk1NSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXZsOTFQbDdjQ0NWV241NWh1dG5kbERHeE02enZUL1RxTThYVEs4TUZ2ai95UlBXdHdDalNsRzFwNDVHMkNRR0dXVUNvYWU3S013dGpGMUJvVm1CbzM0cndCY1JuY2gyYXF1SXdXUVVQUUNqdHNsUk9BenFnRGd2QUw3anduMUFSZVpNdXhpSm9zWlhLMW1iMTN1QnBDMGI3VkNpd0sveUt0WTRjL3RiWHEwU2NpZDNYMldaZGxSUmhWbUJHbWUwQkgzTzRZR2tVajZXZHl5STZaMnhNM1FabnNaMG94TEt5ZWRYY1pSNDBsbmp1TlVFc29CbkNxekpyR1BjMGdNK1QyZ3VMcHFKTktIWWptaTBVSkIwVEk2QUpuYWNDRTJxalJmQ29Vbm1qYU5KdUJQeFBqMUE3Y2o0OFo5NlhtY29DMHY4M1p5d3FjLy9nSmwwWUFuQ3p0UUlEQVFBQm80RzRNSUcxTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwakJCZ3dGb0FVWW9hQkFnYUJ0VzF6bjNiSytIUzF0NGJTT29Zd1ZRWURWUjBmQkU0d1REQktvRWlnUm9aRWFIUjBjSE02THk5cGJuUXRjREV1Wlhwa2NtOTNhV1V1WjI5MkxuQnNMMk5qY0RFdlkzSnNMME5EVURGSmJuUmxaM0poWTNscWJtVlRkV0pEUVZkVFV5NWpjbXd3SFFZRFZSME9CQllFRkc2Ylc4NnJFekRvMHM4UWlLVHlEcTZYazVlV01BNEdBMVVkRHdFQi93UUVBd0lIZ0RBTkJna3Foa2lHOXcwQkFRMEZBQU9DQWdFQXd0NlVqV3dDandEUitqZmd0QlBOazJ1SEVVNS9FRXFHYkdrY0NjNmNUU3VXelFsb1lBNFhyWVlzOFJzZlNqQ2ZUT2tZeTNWZFZxdm1Nc3ZEajJLcGJzSEZTcG1XcG5OaExrRnF1MElzaTRhNW9Cc1lPWVJuNlRvNis0bExFYmdsNUJYMDdCK0pTcXNXanZORlhYUTI4K043Ris4ekZ6U2UrSDJnb3kwV004dlhNbGFuSWlPeWtHMnpBanErdlJWdXVqVzkzaDdKSXJ1dXEra0JXY3ZqWWFtVVNqNlk3bmUvRVJxVmpmdkdicStrbmxkb2pvUzVYMURVYkZqV0pCc3U3cnFtVVFibXl2ZjI0NWdFWExocG45dGRBOEFMT29GdGMya0haY0FSY2ZLbXkxVUExQVNINmZwSG9xSWlTZ01MRThmWnFPTkFqTGtWaVFtS0NlKzBncFlyVDcrR0xkcGo0M1ZmeS9tQ0dkWFBhSEhoUHJGUVUxRjVzVGVYMjNyQXB6MEJYTUltZFBuL3daWitid20ycUFvV1VnS0F5VnJUVytGR3Q4dUJmN3NmWlN5Ny9WTS9ZaWtheGxsR2xhTERUa0RtV21oNzdMbGlvRXUwbk9yeXZDeGw2UjFDY25jZnV4dFd5YTZRMFY2TWtXSU80VVJkalJLaElBWTdrU0gvZ2xVcVIraG96a0JNRHRHQUNPSDV4M1ErWXpDbFRUeXltYXpvTm1hazJrMnhFMjNkR1NIN3VEMmJZdStxbWEyMW5xU3NSMmlxWkNUVHJQbUdLeVZ4UmVIa01GL2VOd2JOczlscEk4c2gwVFJkeTR2K09KVGpTR2RmUC9Qb2l4ODNKVXpqL1hndHd5RHJOSlBKUGxXc0VXUFRCY2d2OVdrNHlMcnQ4OFFvT1pZPTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9UEVTRUw6IDcyMTAyNjI4MTcyLGNuPWFzeXN0ZW50X2ludDItdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjY1NzIxMjg2MDMzMzQyMjM1NDE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctZDFlNTc2YjMtNGRmOC00NzNmLTgzOWEtN2NlOTFmZmRiOGMwIj48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy1kMWU1NzZiMy00ZGY4LTQ3M2YtODM5YS03Y2U5MWZmZGI4YzAtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjQ2OjIwLjgyNyswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+RDdoam11VUlITXV1NFBMVDNCUExDNjcwalp3PTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj42NTcyMTI4NjAzMzM0MjIzNTQxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+SHVQdGw2TElqdDAyTngzRUJoMnRzbEtVZ25FPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+VUZQdXVVM2hwQjEzQlVLMkdyTVkvTzQ1cFZNPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+PC9JbW11bml6YXRpb24+"/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance (PLPractitionerSignature)" id="fa81b6dc-df0c-4b71-8ae6-f5a33a8d5fc3">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance (PLPractitionerSignature)" id="fe9ba9cb-5a81-4394-a6b2-89737fc8f47f" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${Zapis zasobu provenance (PLPractitionerSignature)#resourceRequest}</con:request>
            <con:originalUri>https://tsus.ezdrowie.gov.pl/fhir/Provenance/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="c65069ab-e206-41f3-8f19-3e34ac605715" name="[A1] HTTP 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f8db0a4b-3289-4675-81da-9eec7a68c73a" name="[A2] Zwrcono zasb z ID">
              <con:configuration>
                <path>(//*:id/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="_id" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis provenanceId" id="7e043292-8482-4c32-a91b-8709e30a5752">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance (PLPractitionerSignature)</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>provenanceId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:targetPath xsi:nil="true"/>
            <con:type>XPATH</con:type>
            <con:targetTransferType>XPATH</con:targetTransferType>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="tokenDostepowy Rola PM" id="fe6aefd8-6890-415f-b3c4-7b6a649eb0cc">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>c28f2a89-94f9-41c4-be3c-9c8aec1df02e</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
            <con:property>
              <con:name>user_role</con:name>
              <con:value>PROF</con:value>
            </con:property>
            <con:property>
              <con:name>userId</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Wyszukanie Immunization" id="aeed3769-fd10-44c4-b2a5-5e040718d69a">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" id="45463841-e5c8-4fa7-a218-852c0ad9fecd" name="Wyszukanie Immunization" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowyRolaPm}" xmlns="http://eviware.com/soapui/config"/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}/fhir/Immunization/</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" id="b484dae8-3ce3-4a69-a95b-489dcf220552" name="[A1] Kod odpowiedzi HTTP 200">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XPath Match" id="18e32d57-21f0-4b21-bf24-a47f3d46e55b" name="Status">
            <con:configuration>
              <path>//*:status/@value</path>
              <content>${dane#immunizationStatus}</content>
              <allowWildcards>false</allowWildcards>
              <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
              <ignoreComments>false</ignoreComments>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>plpatient</con:name>
              <con:value>${dane#identyfikatorPacjentaOID}|${dane#identyfikatorPacjenta}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>date</con:name>
              <con:value>${dane#immunizationDate}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>status</con:name>
              <con:value>${dane#immunizationStatus}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Odczyt Immunization" id="136dc5f1-8854-4f19-a6bb-6ce42c80ae1c">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" id="45463841-e5c8-4fa7-a218-852c0ad9fecd" name="Odczyt Immunization" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowyRolaPm}" xmlns="http://eviware.com/soapui/config"/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}/fhir/Immunization/${dane#immunizationId}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" id="b484dae8-3ce3-4a69-a95b-489dcf220552" name="[A1] Kod odpowiedzi HTTP 200">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XPath Match" id="45bf0885-c8bd-4000-8fcd-a084321863c1" name="Status completed">
            <con:configuration>
              <path>//*:id/@value</path>
              <content>${dane#immunizationId}</content>
              <allowWildcards>false</allowWildcards>
              <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
              <ignoreComments>false</ignoreComments>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>rok</con:name>
          <con:value>2020</con:value>
        </con:property>
        <con:property>
          <con:name>miesiac</con:name>
          <con:value>12</con:value>
        </con:property>
        <con:property>
          <con:name>czas</con:name>
          <con:value>2020-12-15T00:51:00.114+0100</con:value>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase id="4c9790c7-b37a-4249-a292-bf8649efd721" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Zapis oraz wyszukanie danych o szczepieniach pacjenta za pomoc daty oraz statusu szczepienia" searchProperties="true">
      <con:settings/>
      <con:testStep type="groovy" name="generowanie dat" id="342f20a8-09c3-472f-b525-1fc42ea1d67b">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

String paszportSeria = org.apache.commons.lang.RandomStringUtils.random(2, true, false)
String paszportNum = org.apache.commons.lang.RandomStringUtils.random(7, false, true)
testRunner.testCase.getTestStepByName("dane").setPropertyValue("identyfikatorPacjenta", paszportSeria.toUpperCase()+paszportNum)


DateTimeFormatter format = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
String time1 = ZonedDateTime.now().minusHours(1).format(format)
String time2 = ZonedDateTime.now().format(format)
String time3 = ZonedDateTime.now().minusDays(1)format(format)

DateTimeFormatter format2 = DateTimeFormatter.ofPattern("yyyy-MM-dd")
String day = ZonedDateTime.now().minusDays(1)format(format2)
String day2 = ZonedDateTime.now().minusDays(3)format(format2)
String day3 = ZonedDateTime.now().format(format2)


def dane = testRunner.testCase.getTestStepByName("dane")

dane.setPropertyValue("podpisData", time2)
dane.setPropertyValue("wydanieKwalifikacjiData", time3)
dane.setPropertyValue("dataSzczepienia", day3)
dane.setPropertyValue("dataSzczepienia2", day)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="e07a192f-4303-41b3-8354-6b644ff59584">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>5142517</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationId</con:name>
              <con:value>5142523</con:value>
            </con:property>
            <con:property>
              <con:name>observationId</con:name>
              <con:value>5142519</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:46:23.555+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>observationVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48SW1tdW5pemF0aW9uIHhtbG5zPSJodHRwOi8vaGw3Lm9yZy9maGlyIj4KICAgPGlkIHZhbHVlPSI1MTQyNTIzIi8+CiAgIDxtZXRhPgogICAgICA8dmVyc2lvbklkIHZhbHVlPSIxIi8+CiAgICAgIDxsYXN0VXBkYXRlZCB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0NjozMy40NjkrMDI6MDAiLz4KICAgICAgPHByb2ZpbGUgdmFsdWU9Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QTEltbXVuaXphdGlvblNpbXBsZSIvPgogICAgICA8c2VjdXJpdHk+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuODMiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9Ik4iLz4KICAgICAgPC9zZWN1cml0eT4KICAgPC9tZXRhPgogICA8aW1wbGljaXRSdWxlcyB2YWx1ZT0iMTYuMy4zIi8+CiAgIDxleHRlbnNpb24gdXJsPSJodHRwczovL2V6ZHJvd2llLmdvdi5wbC9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vUExNZWRpY2FsQ2VydGlmaWNhdGVSZWZlcmVuY2UiPgogICAgICA8ZXh0ZW5zaW9uIHVybD0icGFwZXJGb3JtIj4KICAgICAgICAgPHZhbHVlQm9vbGVhbiB2YWx1ZT0iZmFsc2UiLz4KICAgICAgPC9leHRlbnNpb24+CiAgICAgIDxleHRlbnNpb24gdXJsPSJhc3NlcnRlciI+CiAgICAgICAgIDx2YWx1ZVJlZmVyZW5jZT4KICAgICAgICAgICAgPGlkZW50aWZpZXI+CiAgICAgICAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjEuNi4yIi8+CiAgICAgICAgICAgICAgIDx2YWx1ZSB2YWx1ZT0iMjY5ODA0MCIvPgogICAgICAgICAgICA8L2lkZW50aWZpZXI+CiAgICAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJNb25pa2EgTGVjem5pY3phIi8+CiAgICAgICAgIDwvdmFsdWVSZWZlcmVuY2U+CiAgICAgIDwvZXh0ZW5zaW9uPgogICAgICA8ZXh0ZW5zaW9uIHVybD0icmVmZXJlbmNlIj4KICAgICAgICAgPHZhbHVlUmVmZXJlbmNlPgogICAgICAgICAgICA8cmVmZXJlbmNlIHZhbHVlPSJPYnNlcnZhdGlvbi81MTQyNTE5Ii8+CiAgICAgICAgIDwvdmFsdWVSZWZlcmVuY2U+CiAgICAgIDwvZXh0ZW5zaW9uPgogICAgICA8ZXh0ZW5zaW9uIHVybD0iaXNzdWVkIj4KICAgICAgICAgPHZhbHVlRGF0ZVRpbWUgdmFsdWU9IjIwMjItMDktMDIiLz4KICAgICAgPC9leHRlbnNpb24+CiAgIDwvZXh0ZW5zaW9uPgogICA8c3RhdHVzIHZhbHVlPSJub3QtZG9uZSIvPgogICA8c3RhdHVzUmVhc29uPgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjEwMyIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iSU1NVU5FIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJPZHBvcm5vxZvEhyIvPgogICAgICA8L2NvZGluZz4KICAgPC9zdGF0dXNSZWFzb24+CiAgIDx2YWNjaW5lQ29kZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoxLjMuMTYwIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSIwNTkwOTk5MTQ0NTU5MSIvPgogICAgICA8L2NvZGluZz4KICAgICAgPHRleHQgdmFsdWU9IlByZWZsdWNlbCIvPgogICA8L3ZhY2NpbmVDb2RlPgogICA8cGF0aWVudD4KICAgICAgPHJlZmVyZW5jZSB2YWx1ZT0iUGF0aWVudC81MTQyNTE3Ii8+CiAgICAgIDx0eXBlIHZhbHVlPSJQYXRpZW50Ii8+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjQuMzMwLjU2Ii8+CiAgICAgICAgIDx2YWx1ZSB2YWx1ZT0iS1A4NzIzMzg4Ii8+CiAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgPGRpc3BsYXkgdmFsdWU9IkNoYXJyZXR0ZSBBbnRvbiIvPgogICA8L3BhdGllbnQ+CiAgIDxvY2N1cnJlbmNlRGF0ZVRpbWUgdmFsdWU9IjIwMjItMDktMDIiLz4KICAgPGxvY2F0aW9uPgogICAgICA8aWRlbnRpZmllcj4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMi4zLjMiLz4KICAgICAgICAgPHZhbHVlIHZhbHVlPSIwMDAwMDAwMTIxMDYtMDAxIi8+CiAgICAgIDwvaWRlbnRpZmllcj4KICAgPC9sb2NhdGlvbj4KICAgPG1hbnVmYWN0dXJlcj4KICAgICAgPGRpc3BsYXkgdmFsdWU9InRlc3QiLz4KICAgPC9tYW51ZmFjdHVyZXI+CiAgIDxsb3ROdW1iZXIgdmFsdWU9IkFBSk4xMUsiLz4KICAgPHNpdGU+CiAgICAgIDxjb2Rpbmc+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuMTAxIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSJMQSIvPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iTGV3ZSByYW1pxJkiLz4KICAgICAgPC9jb2Rpbmc+CiAgIDwvc2l0ZT4KICAgPHJvdXRlPgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjEwMiIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iSU0iLz4KICAgICAgICAgPGRpc3BsYXkgdmFsdWU9IkluaWVrY2phIGRvbWnEmcWbbmlvd2EiLz4KICAgICAgPC9jb2Rpbmc+CiAgIDwvcm91dGU+CiAgIDxkb3NlUXVhbnRpdHk+CiAgICAgIDx2YWx1ZSB2YWx1ZT0iMC41Ii8+CiAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuNi44Ii8+CiAgICAgIDxjb2RlIHZhbHVlPSJNTCIvPgogICA8L2Rvc2VRdWFudGl0eT4KICAgPHBlcmZvcm1lcj4KICAgICAgPGFjdG9yPgogICAgICAgICA8aWRlbnRpZmllcj4KICAgICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMS42LjIiLz4KICAgICAgICAgICAgPHZhbHVlIHZhbHVlPSIyNjk4MDQwIi8+CiAgICAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgICAgPGRpc3BsYXkgdmFsdWU9Ik1vbmlrYSBMZWN6bmljemEiLz4KICAgICAgPC9hY3Rvcj4KICAgPC9wZXJmb3JtZXI+CiAgIDxub3RlPgogICAgICA8dGV4dCB2YWx1ZT0iTm90ZXMgb24gYWRtaW5zdHJhdGlvbiBvZiB2YWNjaW5lIi8+CiAgIDwvbm90ZT4KICAgPGZ1bmRpbmdTb3VyY2U+CiAgICAgIDxjb2Rpbmc+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuMTA1Ii8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSJwcml2YXRlIi8+CiAgICAgIDwvY29kaW5nPgogICA8L2Z1bmRpbmdTb3VyY2U+CiAgIDxwcm90b2NvbEFwcGxpZWQ+CiAgICAgIDx0YXJnZXREaXNlYXNlPgogICAgICAgICA8Y29kaW5nPgogICAgICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4yLjYiLz4KICAgICAgICAgICAgPGNvZGUgdmFsdWU9Ijk5LjU1NyIvPgogICAgICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iU3pjemVwaWVuaWUgcHJ6ZWNpdyBDT1ZJRC0xOSIvPgogICAgICAgICA8L2NvZGluZz4KICAgICAgPC90YXJnZXREaXNlYXNlPgogICAgICA8ZG9zZU51bWJlclBvc2l0aXZlSW50IHZhbHVlPSIxIi8+CiAgICAgIDxzZXJpZXNEb3Nlc1Bvc2l0aXZlSW50IHZhbHVlPSIyIi8+CiAgIDwvcHJvdG9jb2xBcHBsaWVkPgo8ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy00YjVlZmRiZS1jZjZhLTQwZjEtOGZmYi1jNTlkZmMwYzQyYjYiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3JzYS1zaGExIi8+PGRzOlJlZmVyZW5jZSBJZD0ieG1sZHNpZy00YjVlZmRiZS1jZjZhLTQwZjEtOGZmYi1jNTlkZmMwYzQyYjYtcmVmMCIgVVJJPSIiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjZW52ZWxvcGVkLXNpZ25hdHVyZSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+WkhZajZnOHRZbGpvcm1IRzVnK2VTM1VGcGljPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PGRzOlJlZmVyZW5jZSBUeXBlPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzI1NpZ25lZFByb3BlcnRpZXMiIFVSST0iI3htbGRzaWctNGI1ZWZkYmUtY2Y2YS00MGYxLThmZmItYzU5ZGZjMGM0MmI2LXNpZ25lZHByb3BzIj48ZHM6VHJhbnNmb3Jtcz48ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48L2RzOlRyYW5zZm9ybXM+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIi8+PGRzOkRpZ2VzdFZhbHVlPlYwZWtpRTlZcnBCclBLU0ZKb1Q4UEQ3YlVOdz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctNGI1ZWZkYmUtY2Y2YS00MGYxLThmZmItYzU5ZGZjMGM0MmI2LXNpZ3ZhbHVlIj5XQmdvdUhxLzgvM3NUZ2xGaTlHSU8yYm9tTFVlTXJHNGNKVUN2bVpQaVc4cERKTWFxYUl3bmJjY2tnc1huRzlhSU9IRVZDczZDMExmUWo4K1F6WjBlc1FWazFzNlhWLzMyQVlWQWpJYmh1bzY5Q1B3aFVvOHdDazdPdGRsZ3lpYmpldUxwZ3RGTFRNU1dwSlZ3MG5oMGlaWnVxczNpY25tTSttRERFR0V4NmVEY1ZaSjFWcHNUbmgzQVA3RE9JNGhZV0h2WGxKQUswNFgwaEI1ditFK0hHTXA4SGtIQUJybE5tMzFQVUpIenF6L2t1d2haSUVlUWc1YUphY29jYTBmTUlLZlN6blI1UjdXeVB6Z0ZIQXJlSy80TENuZW14amhyMFdkSU1LYkpNOWVSK2JKNzZTdHl3V2VFUWVQd2Z0bEljU2FiVm9nWWZ0RGNsUUdDQkdFVEE9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRkVUQ0NBdm1nQXdJQkFnSUlXelRrSk9QcnByVXdEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRFeU1ETXhNVEUzTXpGYUZ3MHlNekV5TURNeE1URTNNekZhTUlHRU1TNHdMQVlEVlFRRERDVmhjM2x6ZEdWdWRGOXBiblF5TFhWM2FXVnllbmwwWld4dWFXVnVhV1VnWkdGdWVXTm9NUnN3R1FZRFZRUUZFeEpRUlZORlREb2dOekl4TURJMk1qZ3hOekl4R0RBV0JnTlZCQXNNRDFBeElFbHVkR1ZuY21GamVXcHVaVEVPTUF3R0ExVUVDZ3dGUTFOSlQxb3hDekFKQmdOVkJBWVRBbEJNTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF2bDkxUGw3Y0NDVlduNTVodXRuZGxER3hNNnp2VC9UcU04WFRLOE1GdmoveVJQV3R3Q2pTbEcxcDQ1RzJDUUdHV1VDb2FlN0tNd3RqRjFCb1ZtQm8zNHJ3QmNSbmNoMmFxdUl3V1FVUFFDanRzbFJPQXpxZ0RndkFMN2p3bjFBUmVaTXV4aUpvc1pYSzFtYjEzdUJwQzBiN1ZDaXdLL3lLdFk0Yy90YlhxMFNjaWQzWDJXWmRsUlJoVm1CR21lMEJIM080WUdrVWo2V2R5eUk2WjJ4TTNRWm5zWjBveExLeWVkWGNaUjQwbG5qdU5VRXNvQm5DcXpKckdQYzBnTStUMmd1THBxSk5LSFlqbWkwVUpCMFRJNkFKbmFjQ0UycWpSZkNvVW5tamFOSnVCUHhQajFBN2NqNDhaOTZYbWNvQzB2ODNaeXdxYy8vZ0psMFlBbkN6dFFJREFRQUJvNEc0TUlHMU1Bd0dBMVVkRXdFQi93UUNNQUF3SHdZRFZSMGpCQmd3Rm9BVVlvYUJBZ2FCdFcxem4zYksrSFMxdDRiU09vWXdWUVlEVlIwZkJFNHdUREJLb0VpZ1JvWkVhSFIwY0hNNkx5OXBiblF0Y0RFdVpYcGtjbTkzYVdVdVoyOTJMbkJzTDJOamNERXZZM0pzTDBORFVERkpiblJsWjNKaFkzbHFibVZUZFdKRFFWZFRVeTVqY213d0hRWURWUjBPQkJZRUZHNmJXODZyRXpEbzBzOFFpS1R5RHE2WGs1ZVdNQTRHQTFVZER3RUIvd1FFQXdJSGdEQU5CZ2txaGtpRzl3MEJBUTBGQUFPQ0FnRUF3dDZVald3Q2p3RFIramZndEJQTmsydUhFVTUvRUVxR2JHa2NDYzZjVFN1V3pRbG9ZQTRYcllZczhSc2ZTakNmVE9rWXkzVmRWcXZtTXN2RGoyS3Bic0hGU3BtV3BuTmhMa0ZxdTBJc2k0YTVvQnNZT1lSbjZUbzYrNGxMRWJnbDVCWDA3QitKU3FzV2p2TkZYWFEyOCtON0YrOHpGelNlK0gyZ295MFdNOHZYTWxhbklpT3lrRzJ6QWpxK3ZSVnV1alc5M2g3SklydXVxK2tCV2N2allhbVVTajZZN25lL0VScVZqZnZHYnEra25sZG9qb1M1WDFEVWJGaldKQnN1N3JxbVVRYm15dmYyNDVnRVhMaHBuOXRkQThBTE9vRnRjMmtIWmNBUmNmS215MVVBMUFTSDZmcEhvcUlpU2dNTEU4ZlpxT05BakxrVmlRbUtDZSswZ3BZclQ3K0dMZHBqNDNWZnkvbUNHZFhQYUhIaFByRlFVMUY1c1RlWDIzckFwejBCWE1JbWRQbi93WlorYndtMnFBb1dVZ0tBeVZyVFcrRkd0OHVCZjdzZlpTeTcvVk0vWWlrYXhsbEdsYUxEVGtEbVdtaDc3TGxpb0V1MG5Pcnl2Q3hsNlIxQ2NuY2Z1eHRXeWE2UTBWNk1rV0lPNFVSZGpSS2hJQVk3a1NIL2dsVXFSK2hvemtCTUR0R0FDT0g1eDNRK1l6Q2xUVHl5bWF6b05tYWsyazJ4RTIzZEdTSDd1RDJiWXUrcW1hMjFucVNzUjJpcVpDVFRyUG1HS3lWeFJlSGtNRi9lTndiTnM5bHBJOHNoMFRSZHk0ditPSlRqU0dkZlAvUG9peDgzSlV6ai9YZ3R3eURyTkpQSlBsV3NFV1BUQmNndjlXazR5THJ0ODhRb09aWT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48ZHM6WDUwOVN1YmplY3ROYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsc2VyaWFsTnVtYmVyPVBFU0VMOiA3MjEwMjYyODE3Mixjbj1hc3lzdGVudF9pbnQyLXV3aWVyenl0ZWxuaWVuaWUgZGFueWNoPC9kczpYNTA5U3ViamVjdE5hbWU+PGRzOlg1MDlJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj42NTcyMTI4NjAzMzM0MjIzNTQxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwvZHM6WDUwOUlzc3VlclNlcmlhbD48L2RzOlg1MDlEYXRhPjwvZHM6S2V5SW5mbz48ZHM6T2JqZWN0Pjx4YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcyB4bWxuczp4YWRlcz0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMy92MS4zLjIjIiB4bWxuczp4YWRlczE0MT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMy92MS40LjEjIiBUYXJnZXQ9IiN4bWxkc2lnLTRiNWVmZGJlLWNmNmEtNDBmMS04ZmZiLWM1OWRmYzBjNDJiNiI+PHhhZGVzOlNpZ25lZFByb3BlcnRpZXMgSWQ9InhtbGRzaWctNGI1ZWZkYmUtY2Y2YS00MGYxLThmZmItYzU5ZGZjMGM0MmI2LXNpZ25lZHByb3BzIj48eGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48eGFkZXM6U2lnbmluZ1RpbWU+MjAyMi0wOS0wMlQxMTo0NjozMy43NzErMDI6MDA8L3hhZGVzOlNpZ25pbmdUaW1lPjx4YWRlczpTaWduaW5nQ2VydGlmaWNhdGU+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIi8+PGRzOkRpZ2VzdFZhbHVlPkQ3aGptdVVJSE11dTRQTFQzQlBMQzY3MGpadz08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+NjU3MjEyODYwMzMzNDIyMzU0MTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIi8+PGRzOkRpZ2VzdFZhbHVlPkh1UHRsNkxJanQwMk54M0VCaDJ0c2xLVWduRT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+MzE0MTcwMDc4ODYxNzkzNDMxNDwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIi8+PGRzOkRpZ2VzdFZhbHVlPlVGUHV1VTNocEIxM0JVSzJHck1ZL080NXBWTT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+NzU4MTg3OTcyMDYzMDY2MDIyNjwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PC94YWRlczpTaWduaW5nQ2VydGlmaWNhdGU+PC94YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjwveGFkZXM6U2lnbmVkUHJvcGVydGllcz48L3hhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzPjwvZHM6T2JqZWN0PjwvZHM6U2lnbmF0dXJlPjwvSW1tdW5pemF0aW9uPg==</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2020-11-30T00:48:02.799+01:00</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2020-11-30T01:48:02.801+01:00</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>e73c869b-45d4-4205-8e88-830240ef4dd5</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>b7c8f5b5-ceb1-4180-8f52-e976eb090ad2</con:value>
            </con:property>
            <con:property>
              <con:name>dataSzczepienia</con:name>
              <con:value>2022-09-02</con:value>
            </con:property>
            <con:property>
              <con:name>dataSzczepienia2</con:name>
              <con:value>2022-09-01</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.4.330.56</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>KP8723388</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>Charrette Anton</con:value>
            </con:property>
            <con:property>
              <con:name>numerDawki</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>liczbaDawek</con:name>
              <con:value>2</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationResource</con:name>
              <con:value><![CDATA[<Immunization xmlns="http://hl7.org/fhir">
   <id value="5142523"/>
   <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:46:33.469+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLImmunizationSimple"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <implicitRules value="16.3.3"/>
   <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalCertificateReference">
      <extension url="paperForm">
         <valueBoolean value="false"/>
      </extension>
      <extension url="asserter">
         <valueReference>
            <identifier>
               <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
               <value value="2698040"/>
            </identifier>
            <display value="Monika Lecznicza"/>
         </valueReference>
      </extension>
      <extension url="reference">
         <valueReference>
            <reference value="Observation/5142519"/>
         </valueReference>
      </extension>
      <extension url="issued">
         <valueDateTime value="2022-09-02"/>
      </extension>
   </extension>
   <status value="not-done"/>
   <statusReason>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.103"/>
         <code value="IMMUNE"/>
         <display value="Odporno"/>
      </coding>
   </statusReason>
   <vaccineCode>
      <coding>
         <system value="urn:oid:1.3.160"/>
         <code value="05909991445591"/>
      </coding>
      <text value="Preflucel"/>
   </vaccineCode>
   <patient>
      <reference value="Patient/5142517"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="KP8723388"/>
      </identifier>
      <display value="Charrette Anton"/>
   </patient>
   <occurrenceDateTime value="2022-09-02"/>
   <location>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
         <value value="000000012106-001"/>
      </identifier>
   </location>
   <manufacturer>
      <display value="test"/>
   </manufacturer>
   <lotNumber value="AAJN11K"/>
   <site>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.101"/>
         <code value="LA"/>
         <display value="Lewe rami"/>
      </coding>
   </site>
   <route>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.102"/>
         <code value="IM"/>
         <display value="Iniekcja dominiowa"/>
      </coding>
   </route>
   <doseQuantity>
      <value value="0.5"/>
      <system value="urn:oid:2.16.840.1.113883.6.8"/>
      <code value="ML"/>
   </doseQuantity>
   <performer>
      <actor>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
            <value value="2698040"/>
         </identifier>
         <display value="Monika Lecznicza"/>
      </actor>
   </performer>
   <note>
      <text value="Notes on adminstration of vaccine"/>
   </note>
   <fundingSource>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.105"/>
         <code value="private"/>
      </coding>
   </fundingSource>
   <protocolApplied>
      <targetDisease>
         <coding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
            <code value="99.557"/>
            <display value="Szczepienie przeciw COVID-19"/>
         </coding>
      </targetDisease>
      <doseNumberPositiveInt value="1"/>
      <seriesDosesPositiveInt value="2"/>
   </protocolApplied>
</Immunization>]]></con:value>
            </con:property>
            <con:property>
              <con:name>observationResource</con:name>
              <con:value><![CDATA[<Observation xmlns="http://hl7.org/fhir">
   <id value="5142519"/>
   <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:46:29.351+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalCertificate"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <implicitRules value="16.3.3"/>
   <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLLocation">
      <valueIdentifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
         <value value="000000012106-001"/>
      </valueIdentifier>
   </extension>
   <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalCertificatePurpose">
      <valueCoding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
         <code value="99.557"/>
         <display value="Szczepienie przeciw COVID-19"/>
      </valueCoding>
   </extension>
   <status value="final"/>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.114"/>
         <code value="medical_examination_for_vaccination"/>
      </coding>
   </code>
   <subject>
      <reference value="Patient/5142517"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="KP8723388"/>
      </identifier>
      <display value="Sylwester Senior"/>
   </subject>
   <issued value="2022-09-01T11:46:23.555+02:00"/>
   <performer>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
         <value value="2698040"/>
      </identifier>
      <display value="Monika Lecznicza"/>
   </performer>
   <valueCodeableConcept>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.113"/>
         <code value="qualified"/>
         <display value="Zakwalifikowany"/>
      </coding>
   </valueCodeableConcept>
   <note>
      <text value="Notes on adminstration of vaccine"/>
   </note>
</Observation>]]></con:value>
            </con:property>
            <con:property>
              <con:name>zrodloFinansowania</con:name>
              <con:value>private</con:value>
            </con:property>
            <con:property>
              <con:name>wydanieKwalifikacjiData</con:name>
              <con:value>2022-09-01T11:46:23.555+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Generuj token" id="a6703275-e30a-4b67-bdb2-949b216f4092">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="patientXML" id="a7433824-2f23-4248-97f3-d9aa83bea30d">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>patient-paszport.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Patient xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPatient"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
      <value value="KP8723388"/>
   </identifier>
   <name>
      <family value="Anton"/>
      <given value="Charrette"/>
   </name>
   <telecom>
      <system value="phone"/>
      <value value="+32475556791"/>
   </telecom>
   <gender value="male"/>
   <birthDate value="1960-06-30"/>
</Patient>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Patient" id="5ea80761-2554-49a6-a036-9d7e5cda05d5">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Patient/{id}" methodName="Zapis-patient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Patient" id="9c748457-9d7a-4eb1-8d90-bc42603ba6a6" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${patientXML#resourceRequest}</con:request>
            <con:originalUri>http://10.0.38.215/fhir/Patient</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a0ba0d9a-6ecb-4f58-9ecd-df42ec5ef5b0" name="A1 - Valid HTTP Status Codes - 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="5b6e5f13-42fa-4ca3-8f8e-8cb8be047d6a" name="A2 - id patient">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';

exists(//*:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="identifier" value=""/>
              <con:entry key="plgiven" value=""/>
              <con:entry key="birthdate" value=""/>
              <con:entry key="gender" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="_id" value=""/>
              <con:entry key="encounter" value=""/>
              <con:entry key="plfamily" value=""/>
              <con:entry key="_sort" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plfamily</con:entry>
              <con:entry>plgiven</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>gender</con:entry>
              <con:entry>birthdate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id patient" id="39d6c9aa-8aa5-46bc-ab55-e37b13d860d1">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="observationXML" id="47bd24b4-cab1-45e7-8106-2000b4a06215">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>observation-kwalifikacja.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Observation xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalCertificate"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
	  </security>
	</meta>
	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLLocation">
		<valueIdentifier>	
					<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
					<value value="000000012106-001"/>
		</valueIdentifier>	
	</extension>
	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalCertificatePurpose">
			<valueCoding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
				<code value="99.557"/>
				<display value="Szczepienie przeciw COVID-19"/>
			</valueCoding>
	</extension>
	<status value="final"/>
	<code>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.114"/>
			<code value="medical_examination_for_vaccination"/>
		</coding>
	</code>
	<subject>
		<reference value="Patient/5142517"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
			<value value="KP8723388"/>
		</identifier>
		<display value="Sylwester Senior"/>
	</subject>
	<issued value="2022-09-01T11:46:23.555+02:00"/>
	<performer>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
	</performer>
	<valueCodeableConcept>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.113"/>
			<code value="qualified"/>
			<display value="Zakwalifikowany"/>
		</coding>
	</valueCodeableConcept>
	<note>
		<text value="Notes on adminstration of vaccine"/>
	</note>
</Observation>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Observation" id="f111d993-b956-4c24-8005-a52d9557769b">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="POST Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Observation" id="060f119d-bfe7-4ca7-8c93-065148c8732c" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${observationXML#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a6524ca3-7c8e-4caf-ac18-03b9706ebbe4" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis observationId" id="e887e9f0-9fa1-4af8-833c-d814cf196355">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>observationId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation</con:sourceStep>
            <con:sourcePath>//*:versionId/@value</con:sourcePath>
            <con:targetType>observationVersion</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>resource</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>observationResource</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Podpis zasobu Observation" id="f948e272-f657-4cb4-a9d9-6f8714f3bfdb">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String resource = context.expand('${dane#observationResource}')
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu2}');
String certPass = context.expand('${#Project#hasloCertyfikatu2}');


String podpis = PodpisKwalifikowany.podpiszDokumentDowolnymCertyfikatem(resource,certPath, certPass);
String encode = podpis.getBytes("UTF-8").encodeBase64().toString()
testRunner.testCase.testSteps['dane'].setPropertyValue("binaryPodpis",encode);
log.info(podpis)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Zapis zasobu provenance (PLPractitionerSignature)" id="fe9e136c-f08a-4fcf-b2d9-9634819d25f9">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-observation-simple.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPractitionerSignature"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Observation/5142519"/>
		<type value="Observation"/>
	</target>
	<recorded value="2022-09-02T11:46:23.555+02:00"/>
	<agent>
		<role>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.85"/>
				<code value="LEK"/>
			</coding>
		</role>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.87"/>
			<code value="1.2.840.10065.1.12.1.6"/>
		</type>
		<when value="2022-09-02T11:46:23.555+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</who>
		<onBehalfOf>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</onBehalfOf>
		<targetFormat value="application/fhir+json"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48T2JzZXJ2YXRpb24geG1sbnM9Imh0dHA6Ly9obDcub3JnL2ZoaXIiPgogICA8aWQgdmFsdWU9IjUxNDI1MTkiLz4KICAgPG1ldGE+CiAgICAgIDx2ZXJzaW9uSWQgdmFsdWU9IjEiLz4KICAgICAgPGxhc3RVcGRhdGVkIHZhbHVlPSIyMDIyLTA5LTAyVDExOjQ2OjI5LjM1MSswMjowMCIvPgogICAgICA8cHJvZmlsZSB2YWx1ZT0iaHR0cHM6Ly9lemRyb3dpZS5nb3YucGwvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL1BMTWVkaWNhbENlcnRpZmljYXRlIi8+CiAgICAgIDxzZWN1cml0eT4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS44MyIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iTiIvPgogICAgICA8L3NlY3VyaXR5PgogICA8L21ldGE+CiAgIDxpbXBsaWNpdFJ1bGVzIHZhbHVlPSIxNi4zLjMiLz4KICAgPGV4dGVuc2lvbiB1cmw9Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QTExvY2F0aW9uIj4KICAgICAgPHZhbHVlSWRlbnRpZmllcj4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMi4zLjMiLz4KICAgICAgICAgPHZhbHVlIHZhbHVlPSIwMDAwMDAwMTIxMDYtMDAxIi8+CiAgICAgIDwvdmFsdWVJZGVudGlmaWVyPgogICA8L2V4dGVuc2lvbj4KICAgPGV4dGVuc2lvbiB1cmw9Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QTE1lZGljYWxDZXJ0aWZpY2F0ZVB1cnBvc2UiPgogICAgICA8dmFsdWVDb2Rpbmc+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjIuNiIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iOTkuNTU3Ii8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJTemN6ZXBpZW5pZSBwcnplY2l3IENPVklELTE5Ii8+CiAgICAgIDwvdmFsdWVDb2Rpbmc+CiAgIDwvZXh0ZW5zaW9uPgogICA8c3RhdHVzIHZhbHVlPSJmaW5hbCIvPgogICA8Y29kZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMTQiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9Im1lZGljYWxfZXhhbWluYXRpb25fZm9yX3ZhY2NpbmF0aW9uIi8+CiAgICAgIDwvY29kaW5nPgogICA8L2NvZGU+CiAgIDxzdWJqZWN0PgogICAgICA8cmVmZXJlbmNlIHZhbHVlPSJQYXRpZW50LzUxNDI1MTciLz4KICAgICAgPHR5cGUgdmFsdWU9IlBhdGllbnQiLz4KICAgICAgPGlkZW50aWZpZXI+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuNC4zMzAuNTYiLz4KICAgICAgICAgPHZhbHVlIHZhbHVlPSJLUDg3MjMzODgiLz4KICAgICAgPC9pZGVudGlmaWVyPgogICAgICA8ZGlzcGxheSB2YWx1ZT0iU3lsd2VzdGVyIFNlbmlvciIvPgogICA8L3N1YmplY3Q+CiAgIDxpc3N1ZWQgdmFsdWU9IjIwMjItMDktMDFUMTE6NDY6MjMuNTU1KzAyOjAwIi8+CiAgIDxwZXJmb3JtZXI+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xLjYuMiIvPgogICAgICAgICA8dmFsdWUgdmFsdWU9IjI2OTgwNDAiLz4KICAgICAgPC9pZGVudGlmaWVyPgogICAgICA8ZGlzcGxheSB2YWx1ZT0iTW9uaWthIExlY3puaWN6YSIvPgogICA8L3BlcmZvcm1lcj4KICAgPHZhbHVlQ29kZWFibGVDb25jZXB0PgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjExMyIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0icXVhbGlmaWVkIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJaYWt3YWxpZmlrb3dhbnkiLz4KICAgICAgPC9jb2Rpbmc+CiAgIDwvdmFsdWVDb2RlYWJsZUNvbmNlcHQ+CiAgIDxub3RlPgogICAgICA8dGV4dCB2YWx1ZT0iTm90ZXMgb24gYWRtaW5zdHJhdGlvbiBvZiB2YWNjaW5lIi8+CiAgIDwvbm90ZT4KPGRzOlNpZ25hdHVyZSB4bWxuczpkcz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyIgSWQ9InhtbGRzaWctZjlkZGQ2M2ItZmQyZi00YWJiLWJmNTktODk1M2M5N2MxNDlhIj48ZHM6U2lnbmVkSW5mbz48ZHM6Q2Fub25pY2FsaXphdGlvbk1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PGRzOlNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZjlkZGQ2M2ItZmQyZi00YWJiLWJmNTktODk1M2M5N2MxNDlhLXJlZjAiIFVSST0iIj48ZHM6VHJhbnNmb3Jtcz48ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI2VudmVsb3BlZC1zaWduYXR1cmUiLz48L2RzOlRyYW5zZm9ybXM+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIi8+PGRzOkRpZ2VzdFZhbHVlPmhlLy9rTVNHVmVvRGZ0blVWditwdjAwS2RjST08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLWY5ZGRkNjNiLWZkMmYtNGFiYi1iZjU5LTg5NTNjOTdjMTQ5YS1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5BOEhaTHN6eXo0K2R4aWJJc1g4ajFLZHVQeDQ9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLWY5ZGRkNjNiLWZkMmYtNGFiYi1iZjU5LTg5NTNjOTdjMTQ5YS1zaWd2YWx1ZSI+UDR1anRaZU5JNTlNNEVpcGRnMlJJYzhVM3I1TTBtWWhoM0tZZ1ZiTWJoMjEwbEg1emE5S09YMzNQaGJRQ3hDZ1hDOXNEMjUvRVFNWkFveEJIWThva1Q0ZUdLM29uZURuY2Mrb0tMTEhyOHU4emYvQnJCbjNHRHJBakRMS2VFbkx1MFdPbmZhZUphTHVSakZOc0JaT0wyell3bk9JWmt0eGlZbnZyblNOZGtKUWtkL3h6bDBvR2Q4cHZiUmZkZCtCVVY4dms5TzgvZ3paVlBkMTV3eWxlQkxKK3pRNXlXS1oxa0VtT2g3N3FCelZLKzlJNGVnMUhnanVEQWk1NWo1alU4K2lJU2Yrak9pN2VVMlBsTHpaVUkzemNIekZtMFA4RE1VbWpKRitpUnBEQ0xuQ3Uwdmswb0ZnSWFFTW9PZHFleThhUlZodnlPZ3dlMzFSS2NKVUJ3PT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZFVENDQXZtZ0F3SUJBZ0lJV3pUa0pPUHJwclV3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1URXlNRE14TVRFM016RmFGdzB5TXpFeU1ETXhNVEUzTXpGYU1JR0VNUzR3TEFZRFZRUUREQ1ZoYzNsemRHVnVkRjlwYm5ReUxYVjNhV1Z5ZW5sMFpXeHVhV1Z1YVdVZ1pHRnVlV05vTVJzd0dRWURWUVFGRXhKUVJWTkZURG9nTnpJeE1ESTJNamd4TnpJeEdEQVdCZ05WQkFzTUQxQXhJRWx1ZEdWbmNtRmplV3B1WlRFT01Bd0dBMVVFQ2d3RlExTkpUMW94Q3pBSkJnTlZCQVlUQWxCTU1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdmw5MVBsN2NDQ1ZXbjU1aHV0bmRsREd4TTZ6dlQvVHFNOFhUSzhNRnZqL3lSUFd0d0NqU2xHMXA0NUcyQ1FHR1dVQ29hZTdLTXd0akYxQm9WbUJvMzRyd0JjUm5jaDJhcXVJd1dRVVBRQ2p0c2xST0F6cWdEZ3ZBTDdqd24xQVJlWk11eGlKb3NaWEsxbWIxM3VCcEMwYjdWQ2l3Sy95S3RZNGMvdGJYcTBTY2lkM1gyV1pkbFJSaFZtQkdtZTBCSDNPNFlHa1VqNldkeXlJNloyeE0zUVpuc1owb3hMS3llZFhjWlI0MGxuanVOVUVzb0JuQ3F6SnJHUGMwZ00rVDJndUxwcUpOS0hZam1pMFVKQjBUSTZBSm5hY0NFMnFqUmZDb1VubWphTkp1QlB4UGoxQTdjajQ4Wjk2WG1jb0MwdjgzWnl3cWMvL2dKbDBZQW5DenRRSURBUUFCbzRHNE1JRzFNQXdHQTFVZEV3RUIvd1FDTUFBd0h3WURWUjBqQkJnd0ZvQVVZb2FCQWdhQnRXMXpuM2JLK0hTMXQ0YlNPb1l3VlFZRFZSMGZCRTR3VERCS29FaWdSb1pFYUhSMGNITTZMeTlwYm5RdGNERXVaWHBrY205M2FXVXVaMjkyTG5Cc0wyTmpjREV2WTNKc0wwTkRVREZKYm5SbFozSmhZM2xxYm1WVGRXSkRRVmRUVXk1amNtd3dIUVlEVlIwT0JCWUVGRzZiVzg2ckV6RG8wczhRaUtUeURxNlhrNWVXTUE0R0ExVWREd0VCL3dRRUF3SUhnREFOQmdrcWhraUc5dzBCQVEwRkFBT0NBZ0VBd3Q2VWpXd0Nqd0RSK2pmZ3RCUE5rMnVIRVU1L0VFcUdiR2tjQ2M2Y1RTdVd6UWxvWUE0WHJZWXM4UnNmU2pDZlRPa1l5M1ZkVnF2bU1zdkRqMktwYnNIRlNwbVdwbk5oTGtGcXUwSXNpNGE1b0JzWU9ZUm42VG82KzRsTEViZ2w1QlgwN0IrSlNxc1dqdk5GWFhRMjgrTjdGKzh6RnpTZStIMmdveTBXTTh2WE1sYW5JaU95a0cyekFqcSt2UlZ1dWpXOTNoN0pJcnV1cStrQldjdmpZYW1VU2o2WTduZS9FUnFWamZ2R2JxK2tubGRvam9TNVgxRFViRmpXSkJzdTdycW1VUWJteXZmMjQ1Z0VYTGhwbjl0ZEE4QUxPb0Z0YzJrSFpjQVJjZktteTFVQTFBU0g2ZnBIb3FJaVNnTUxFOGZacU9OQWpMa1ZpUW1LQ2UrMGdwWXJUNytHTGRwajQzVmZ5L21DR2RYUGFISGhQckZRVTFGNXNUZVgyM3JBcHowQlhNSW1kUG4vd1paK2J3bTJxQW9XVWdLQXlWclRXK0ZHdDh1QmY3c2ZaU3k3L1ZNL1lpa2F4bGxHbGFMRFRrRG1XbWg3N0xsaW9FdTBuT3J5dkN4bDZSMUNjbmNmdXh0V3lhNlEwVjZNa1dJTzRVUmRqUktoSUFZN2tTSC9nbFVxUitob3prQk1EdEdBQ09INXgzUStZekNsVFR5eW1hem9ObWFrMmsyeEUyM2RHU0g3dUQyYll1K3FtYTIxbnFTc1IyaXFaQ1RUclBtR0t5VnhSZUhrTUYvZU53Yk5zOWxwSThzaDBUUmR5NHYrT0pUalNHZGZQL1BvaXg4M0pVemovWGd0d3lEck5KUEpQbFdzRVdQVEJjZ3Y5V2s0eUxydDg4UW9PWlk9PC9kczpYNTA5Q2VydGlmaWNhdGU+PGRzOlg1MDlTdWJqZWN0TmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLHNlcmlhbE51bWJlcj1QRVNFTDogNzIxMDI2MjgxNzIsY249YXN5c3RlbnRfaW50Mi11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+NjU3MjEyODYwMzMzNDIyMzU0MTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy1mOWRkZDYzYi1mZDJmLTRhYmItYmY1OS04OTUzYzk3YzE0OWEiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLWY5ZGRkNjNiLWZkMmYtNGFiYi1iZjU5LTg5NTNjOTdjMTQ5YS1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDY6MjkuNjE3KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5EN2hqbXVVSUhNdXU0UExUM0JQTEM2NzBqWnc9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjY1NzIxMjg2MDMzMzQyMjM1NDE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5IdVB0bDZMSWp0MDJOeDNFQmgydHNsS1VnbkU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjMxNDE3MDA3ODg2MTc5MzQzMTQ8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5VRlB1dVUzaHBCMTNCVUsyR3JNWS9PNDVwVk09PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT48L09ic2VydmF0aW9uPg=="/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance Observation (PLPractitionerSignature)" id="936588d7-9ea3-4901-848b-bb4373b8106b">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance Observation (PLPractitionerSignature)" id="fe9ba9cb-5a81-4394-a6b2-89737fc8f47f" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${Zapis zasobu provenance (PLPractitionerSignature)#resourceRequest}</con:request>
            <con:originalUri>https://tsus.ezdrowie.gov.pl/fhir/Provenance/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="c65069ab-e206-41f3-8f19-3e34ac605715" name="[A1] HTTP 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f8db0a4b-3289-4675-81da-9eec7a68c73a" name="[A2] Zwrcono zasb z ID">
              <con:configuration>
                <path>(//*:id/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="_id" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="immunizationXML" id="0b022ccf-64a1-4ff3-8907-e8874a71f85b">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>immunization-simple-observation.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Immunization xmlns="http://hl7.org/fhir">

	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLImmunizationSimple"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalCertificateReference">
		<extension url="paperForm">
			<valueBoolean value="false"/>
		</extension>
		<extension url="asserter">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
			</valueReference>
		</extension>
		<extension url="reference">
            <valueReference>
                <reference value="Observation/5142519"/>
            </valueReference>
        </extension>
		<extension url="issued">
			<valueDateTime value="2022-09-02"/>
		</extension>
	</extension>
	<status value="not-done"/>
	<statusReason>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.103"/>
			<code value="IMMUNE"/>
			<display value="Odporno"/>
		</coding>
	</statusReason>
	<vaccineCode>
		<coding>
			<system value="urn:oid:1.3.160"/>
			<code value="05909991445591"/>
		</coding>
		<text value="Preflucel"/>
	</vaccineCode>
	<patient>
		<reference value="Patient/5142517"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
			<value value="KP8723388"/>
		</identifier>
		<display value="Charrette Anton"/>
	</patient>
	<occurrenceDateTime value="2022-09-02"/>
	<location>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
		</identifier>
	</location>
	<manufacturer>
		<display value="test"/>
	</manufacturer>
	<lotNumber value="AAJN11K"/>
	<site>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.101"/>
			<code value="LA"/>
			<display value="Lewe rami"/>
		</coding>
	</site>
	<route>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.102"/>
			<code value="IM"/>
			<display value="Iniekcja dominiowa"/>
		</coding>
	</route>
	<doseQuantity>
		<value value="0.5"/>
		<system value="urn:oid:2.16.840.1.113883.6.8"/>
		<code value="ML"/>
	</doseQuantity>
	<performer>
		<actor>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
		</actor>
	</performer>
	<note>
		<text value="Notes on adminstration of vaccine"/>
	</note>
	<fundingSource>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.105"/>
			<code value="private"/>
		</coding>
	</fundingSource>
	<protocolApplied>
		<targetDisease>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
				<code value="99.557"/>
				<display value="Szczepienie przeciw COVID-19"/>
			</coding>
		</targetDisease>
		<doseNumberPositiveInt value="1"/>
		<seriesDosesPositiveInt value="2"/>
	</protocolApplied>
</Immunization>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Immunization" id="880dd194-25d1-477a-b89c-40d26edca521">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Immunization/{id}" methodName="Zapis-immunization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Immunization" id="21f50763-d789-4c07-9a1a-e8fbea2e823f" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${immunizationXML#resourceRequest}</con:request>
            <con:originalUri>https://tsus.ezdrowie.gov.pl/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a6126f75-5518-4db4-be38-5bfa8870ace2" name="[A1] HTTP 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="62c10708-7c55-4a9b-8ee8-ab6530c5c8d2" name="[A2] Zwrcono zasb z ID">
              <con:configuration>
                <path>(//*:id/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f2005255-07a5-480b-a155-ac763cb30fc5" name="[A3] observationId">
              <con:configuration>
                <path>//*:extension//*:valueReference//*:reference/@value</path>
                <content>Observation/${dane#observationId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="date" value=""/>
              <con:entry key="patient" value=""/>
              <con:entry key="plsubject" value=""/>
              <con:entry key="id" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>plsubject</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>date</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id" id="86822744-4d13-4642-88e9-b71880cacd68">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>immunizationId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization</con:sourceStep>
            <con:sourcePath>//*:versionId/@value</con:sourcePath>
            <con:targetType>immunizationVersion</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>resource</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>immunizationResource</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="podpis" id="4356e2bb-ca06-47fc-b5d1-a339c62d4dad">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String resource = context.expand('${dane#immunizationResource}')
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu2}');
String certPass = context.expand('${#Project#hasloCertyfikatu2}');


String podpis = PodpisKwalifikowany.podpiszDokumentDowolnymCertyfikatem(resource,certPath, certPass);
String encode = podpis.getBytes("UTF-8").encodeBase64().toString()
testRunner.testCase.testSteps['dane'].setPropertyValue("binaryPodpis",encode);
log.info(podpis)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="provenanceXML" id="6899a2ea-ed1b-4971-80ec-b427612cbaf8">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-immunization-simple.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPractitionerSignature"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Immunization/5142523"/>
		<type value="Immunization"/>
	</target>
	<recorded value="2022-09-02T11:46:23.555+02:00"/>
	<agent>
		<role>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.85"/>
				<code value="LEK"/>
			</coding>
		</role>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Adam210 Leczniczy"/>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.87"/>
			<code value="1.2.840.10065.1.12.1.6"/>
		</type>
		<when value="2022-09-02T11:46:23.555+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</who>
		<onBehalfOf>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</onBehalfOf>
		<targetFormat value="application/fhir+json"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48SW1tdW5pemF0aW9uIHhtbG5zPSJodHRwOi8vaGw3Lm9yZy9maGlyIj4KICAgPGlkIHZhbHVlPSI1MTQyNTIzIi8+CiAgIDxtZXRhPgogICAgICA8dmVyc2lvbklkIHZhbHVlPSIxIi8+CiAgICAgIDxsYXN0VXBkYXRlZCB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0NjozMy40NjkrMDI6MDAiLz4KICAgICAgPHByb2ZpbGUgdmFsdWU9Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QTEltbXVuaXphdGlvblNpbXBsZSIvPgogICAgICA8c2VjdXJpdHk+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuODMiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9Ik4iLz4KICAgICAgPC9zZWN1cml0eT4KICAgPC9tZXRhPgogICA8aW1wbGljaXRSdWxlcyB2YWx1ZT0iMTYuMy4zIi8+CiAgIDxleHRlbnNpb24gdXJsPSJodHRwczovL2V6ZHJvd2llLmdvdi5wbC9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vUExNZWRpY2FsQ2VydGlmaWNhdGVSZWZlcmVuY2UiPgogICAgICA8ZXh0ZW5zaW9uIHVybD0icGFwZXJGb3JtIj4KICAgICAgICAgPHZhbHVlQm9vbGVhbiB2YWx1ZT0iZmFsc2UiLz4KICAgICAgPC9leHRlbnNpb24+CiAgICAgIDxleHRlbnNpb24gdXJsPSJhc3NlcnRlciI+CiAgICAgICAgIDx2YWx1ZVJlZmVyZW5jZT4KICAgICAgICAgICAgPGlkZW50aWZpZXI+CiAgICAgICAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjEuNi4yIi8+CiAgICAgICAgICAgICAgIDx2YWx1ZSB2YWx1ZT0iMjY5ODA0MCIvPgogICAgICAgICAgICA8L2lkZW50aWZpZXI+CiAgICAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJNb25pa2EgTGVjem5pY3phIi8+CiAgICAgICAgIDwvdmFsdWVSZWZlcmVuY2U+CiAgICAgIDwvZXh0ZW5zaW9uPgogICAgICA8ZXh0ZW5zaW9uIHVybD0icmVmZXJlbmNlIj4KICAgICAgICAgPHZhbHVlUmVmZXJlbmNlPgogICAgICAgICAgICA8cmVmZXJlbmNlIHZhbHVlPSJPYnNlcnZhdGlvbi81MTQyNTE5Ii8+CiAgICAgICAgIDwvdmFsdWVSZWZlcmVuY2U+CiAgICAgIDwvZXh0ZW5zaW9uPgogICAgICA8ZXh0ZW5zaW9uIHVybD0iaXNzdWVkIj4KICAgICAgICAgPHZhbHVlRGF0ZVRpbWUgdmFsdWU9IjIwMjItMDktMDIiLz4KICAgICAgPC9leHRlbnNpb24+CiAgIDwvZXh0ZW5zaW9uPgogICA8c3RhdHVzIHZhbHVlPSJub3QtZG9uZSIvPgogICA8c3RhdHVzUmVhc29uPgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjEwMyIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iSU1NVU5FIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJPZHBvcm5vxZvEhyIvPgogICAgICA8L2NvZGluZz4KICAgPC9zdGF0dXNSZWFzb24+CiAgIDx2YWNjaW5lQ29kZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoxLjMuMTYwIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSIwNTkwOTk5MTQ0NTU5MSIvPgogICAgICA8L2NvZGluZz4KICAgICAgPHRleHQgdmFsdWU9IlByZWZsdWNlbCIvPgogICA8L3ZhY2NpbmVDb2RlPgogICA8cGF0aWVudD4KICAgICAgPHJlZmVyZW5jZSB2YWx1ZT0iUGF0aWVudC81MTQyNTE3Ii8+CiAgICAgIDx0eXBlIHZhbHVlPSJQYXRpZW50Ii8+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjQuMzMwLjU2Ii8+CiAgICAgICAgIDx2YWx1ZSB2YWx1ZT0iS1A4NzIzMzg4Ii8+CiAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgPGRpc3BsYXkgdmFsdWU9IkNoYXJyZXR0ZSBBbnRvbiIvPgogICA8L3BhdGllbnQ+CiAgIDxvY2N1cnJlbmNlRGF0ZVRpbWUgdmFsdWU9IjIwMjItMDktMDIiLz4KICAgPGxvY2F0aW9uPgogICAgICA8aWRlbnRpZmllcj4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMi4zLjMiLz4KICAgICAgICAgPHZhbHVlIHZhbHVlPSIwMDAwMDAwMTIxMDYtMDAxIi8+CiAgICAgIDwvaWRlbnRpZmllcj4KICAgPC9sb2NhdGlvbj4KICAgPG1hbnVmYWN0dXJlcj4KICAgICAgPGRpc3BsYXkgdmFsdWU9InRlc3QiLz4KICAgPC9tYW51ZmFjdHVyZXI+CiAgIDxsb3ROdW1iZXIgdmFsdWU9IkFBSk4xMUsiLz4KICAgPHNpdGU+CiAgICAgIDxjb2Rpbmc+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuMTAxIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSJMQSIvPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iTGV3ZSByYW1pxJkiLz4KICAgICAgPC9jb2Rpbmc+CiAgIDwvc2l0ZT4KICAgPHJvdXRlPgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjEwMiIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iSU0iLz4KICAgICAgICAgPGRpc3BsYXkgdmFsdWU9IkluaWVrY2phIGRvbWnEmcWbbmlvd2EiLz4KICAgICAgPC9jb2Rpbmc+CiAgIDwvcm91dGU+CiAgIDxkb3NlUXVhbnRpdHk+CiAgICAgIDx2YWx1ZSB2YWx1ZT0iMC41Ii8+CiAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuNi44Ii8+CiAgICAgIDxjb2RlIHZhbHVlPSJNTCIvPgogICA8L2Rvc2VRdWFudGl0eT4KICAgPHBlcmZvcm1lcj4KICAgICAgPGFjdG9yPgogICAgICAgICA8aWRlbnRpZmllcj4KICAgICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMS42LjIiLz4KICAgICAgICAgICAgPHZhbHVlIHZhbHVlPSIyNjk4MDQwIi8+CiAgICAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgICAgPGRpc3BsYXkgdmFsdWU9Ik1vbmlrYSBMZWN6bmljemEiLz4KICAgICAgPC9hY3Rvcj4KICAgPC9wZXJmb3JtZXI+CiAgIDxub3RlPgogICAgICA8dGV4dCB2YWx1ZT0iTm90ZXMgb24gYWRtaW5zdHJhdGlvbiBvZiB2YWNjaW5lIi8+CiAgIDwvbm90ZT4KICAgPGZ1bmRpbmdTb3VyY2U+CiAgICAgIDxjb2Rpbmc+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuMTA1Ii8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSJwcml2YXRlIi8+CiAgICAgIDwvY29kaW5nPgogICA8L2Z1bmRpbmdTb3VyY2U+CiAgIDxwcm90b2NvbEFwcGxpZWQ+CiAgICAgIDx0YXJnZXREaXNlYXNlPgogICAgICAgICA8Y29kaW5nPgogICAgICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4yLjYiLz4KICAgICAgICAgICAgPGNvZGUgdmFsdWU9Ijk5LjU1NyIvPgogICAgICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iU3pjemVwaWVuaWUgcHJ6ZWNpdyBDT1ZJRC0xOSIvPgogICAgICAgICA8L2NvZGluZz4KICAgICAgPC90YXJnZXREaXNlYXNlPgogICAgICA8ZG9zZU51bWJlclBvc2l0aXZlSW50IHZhbHVlPSIxIi8+CiAgICAgIDxzZXJpZXNEb3Nlc1Bvc2l0aXZlSW50IHZhbHVlPSIyIi8+CiAgIDwvcHJvdG9jb2xBcHBsaWVkPgo8ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy00YjVlZmRiZS1jZjZhLTQwZjEtOGZmYi1jNTlkZmMwYzQyYjYiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3JzYS1zaGExIi8+PGRzOlJlZmVyZW5jZSBJZD0ieG1sZHNpZy00YjVlZmRiZS1jZjZhLTQwZjEtOGZmYi1jNTlkZmMwYzQyYjYtcmVmMCIgVVJJPSIiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjZW52ZWxvcGVkLXNpZ25hdHVyZSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+WkhZajZnOHRZbGpvcm1IRzVnK2VTM1VGcGljPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PGRzOlJlZmVyZW5jZSBUeXBlPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzI1NpZ25lZFByb3BlcnRpZXMiIFVSST0iI3htbGRzaWctNGI1ZWZkYmUtY2Y2YS00MGYxLThmZmItYzU5ZGZjMGM0MmI2LXNpZ25lZHByb3BzIj48ZHM6VHJhbnNmb3Jtcz48ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48L2RzOlRyYW5zZm9ybXM+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIi8+PGRzOkRpZ2VzdFZhbHVlPlYwZWtpRTlZcnBCclBLU0ZKb1Q4UEQ3YlVOdz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWUgSWQ9InhtbGRzaWctNGI1ZWZkYmUtY2Y2YS00MGYxLThmZmItYzU5ZGZjMGM0MmI2LXNpZ3ZhbHVlIj5XQmdvdUhxLzgvM3NUZ2xGaTlHSU8yYm9tTFVlTXJHNGNKVUN2bVpQaVc4cERKTWFxYUl3bmJjY2tnc1huRzlhSU9IRVZDczZDMExmUWo4K1F6WjBlc1FWazFzNlhWLzMyQVlWQWpJYmh1bzY5Q1B3aFVvOHdDazdPdGRsZ3lpYmpldUxwZ3RGTFRNU1dwSlZ3MG5oMGlaWnVxczNpY25tTSttRERFR0V4NmVEY1ZaSjFWcHNUbmgzQVA3RE9JNGhZV0h2WGxKQUswNFgwaEI1ditFK0hHTXA4SGtIQUJybE5tMzFQVUpIenF6L2t1d2haSUVlUWc1YUphY29jYTBmTUlLZlN6blI1UjdXeVB6Z0ZIQXJlSy80TENuZW14amhyMFdkSU1LYkpNOWVSK2JKNzZTdHl3V2VFUWVQd2Z0bEljU2FiVm9nWWZ0RGNsUUdDQkdFVEE9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRkVUQ0NBdm1nQXdJQkFnSUlXelRrSk9QcnByVXdEUVlKS29aSWh2Y05BUUVOQlFBd1VURVlNQllHQTFVRUF3d1BRME1nVURFZ1UzVmlRMEVnVjFOVE1SZ3dGZ1lEVlFRTERBOVFNU0JKYm5SbFozSmhZM2xxYm1VeERqQU1CZ05WQkFvTUJVTlRTVTlhTVFzd0NRWURWUVFHRXdKUVREQWVGdzB5TVRFeU1ETXhNVEUzTXpGYUZ3MHlNekV5TURNeE1URTNNekZhTUlHRU1TNHdMQVlEVlFRRERDVmhjM2x6ZEdWdWRGOXBiblF5TFhWM2FXVnllbmwwWld4dWFXVnVhV1VnWkdGdWVXTm9NUnN3R1FZRFZRUUZFeEpRUlZORlREb2dOekl4TURJMk1qZ3hOekl4R0RBV0JnTlZCQXNNRDFBeElFbHVkR1ZuY21GamVXcHVaVEVPTUF3R0ExVUVDZ3dGUTFOSlQxb3hDekFKQmdOVkJBWVRBbEJNTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF2bDkxUGw3Y0NDVlduNTVodXRuZGxER3hNNnp2VC9UcU04WFRLOE1GdmoveVJQV3R3Q2pTbEcxcDQ1RzJDUUdHV1VDb2FlN0tNd3RqRjFCb1ZtQm8zNHJ3QmNSbmNoMmFxdUl3V1FVUFFDanRzbFJPQXpxZ0RndkFMN2p3bjFBUmVaTXV4aUpvc1pYSzFtYjEzdUJwQzBiN1ZDaXdLL3lLdFk0Yy90YlhxMFNjaWQzWDJXWmRsUlJoVm1CR21lMEJIM080WUdrVWo2V2R5eUk2WjJ4TTNRWm5zWjBveExLeWVkWGNaUjQwbG5qdU5VRXNvQm5DcXpKckdQYzBnTStUMmd1THBxSk5LSFlqbWkwVUpCMFRJNkFKbmFjQ0UycWpSZkNvVW5tamFOSnVCUHhQajFBN2NqNDhaOTZYbWNvQzB2ODNaeXdxYy8vZ0psMFlBbkN6dFFJREFRQUJvNEc0TUlHMU1Bd0dBMVVkRXdFQi93UUNNQUF3SHdZRFZSMGpCQmd3Rm9BVVlvYUJBZ2FCdFcxem4zYksrSFMxdDRiU09vWXdWUVlEVlIwZkJFNHdUREJLb0VpZ1JvWkVhSFIwY0hNNkx5OXBiblF0Y0RFdVpYcGtjbTkzYVdVdVoyOTJMbkJzTDJOamNERXZZM0pzTDBORFVERkpiblJsWjNKaFkzbHFibVZUZFdKRFFWZFRVeTVqY213d0hRWURWUjBPQkJZRUZHNmJXODZyRXpEbzBzOFFpS1R5RHE2WGs1ZVdNQTRHQTFVZER3RUIvd1FFQXdJSGdEQU5CZ2txaGtpRzl3MEJBUTBGQUFPQ0FnRUF3dDZVald3Q2p3RFIramZndEJQTmsydUhFVTUvRUVxR2JHa2NDYzZjVFN1V3pRbG9ZQTRYcllZczhSc2ZTakNmVE9rWXkzVmRWcXZtTXN2RGoyS3Bic0hGU3BtV3BuTmhMa0ZxdTBJc2k0YTVvQnNZT1lSbjZUbzYrNGxMRWJnbDVCWDA3QitKU3FzV2p2TkZYWFEyOCtON0YrOHpGelNlK0gyZ295MFdNOHZYTWxhbklpT3lrRzJ6QWpxK3ZSVnV1alc5M2g3SklydXVxK2tCV2N2allhbVVTajZZN25lL0VScVZqZnZHYnEra25sZG9qb1M1WDFEVWJGaldKQnN1N3JxbVVRYm15dmYyNDVnRVhMaHBuOXRkQThBTE9vRnRjMmtIWmNBUmNmS215MVVBMUFTSDZmcEhvcUlpU2dNTEU4ZlpxT05BakxrVmlRbUtDZSswZ3BZclQ3K0dMZHBqNDNWZnkvbUNHZFhQYUhIaFByRlFVMUY1c1RlWDIzckFwejBCWE1JbWRQbi93WlorYndtMnFBb1dVZ0tBeVZyVFcrRkd0OHVCZjdzZlpTeTcvVk0vWWlrYXhsbEdsYUxEVGtEbVdtaDc3TGxpb0V1MG5Pcnl2Q3hsNlIxQ2NuY2Z1eHRXeWE2UTBWNk1rV0lPNFVSZGpSS2hJQVk3a1NIL2dsVXFSK2hvemtCTUR0R0FDT0g1eDNRK1l6Q2xUVHl5bWF6b05tYWsyazJ4RTIzZEdTSDd1RDJiWXUrcW1hMjFucVNzUjJpcVpDVFRyUG1HS3lWeFJlSGtNRi9lTndiTnM5bHBJOHNoMFRSZHk0ditPSlRqU0dkZlAvUG9peDgzSlV6ai9YZ3R3eURyTkpQSlBsV3NFV1BUQmNndjlXazR5THJ0ODhRb09aWT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48ZHM6WDUwOVN1YmplY3ROYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsc2VyaWFsTnVtYmVyPVBFU0VMOiA3MjEwMjYyODE3Mixjbj1hc3lzdGVudF9pbnQyLXV3aWVyenl0ZWxuaWVuaWUgZGFueWNoPC9kczpYNTA5U3ViamVjdE5hbWU+PGRzOlg1MDlJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj42NTcyMTI4NjAzMzM0MjIzNTQxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwvZHM6WDUwOUlzc3VlclNlcmlhbD48L2RzOlg1MDlEYXRhPjwvZHM6S2V5SW5mbz48ZHM6T2JqZWN0Pjx4YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcyB4bWxuczp4YWRlcz0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMy92MS4zLjIjIiB4bWxuczp4YWRlczE0MT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMy92MS40LjEjIiBUYXJnZXQ9IiN4bWxkc2lnLTRiNWVmZGJlLWNmNmEtNDBmMS04ZmZiLWM1OWRmYzBjNDJiNiI+PHhhZGVzOlNpZ25lZFByb3BlcnRpZXMgSWQ9InhtbGRzaWctNGI1ZWZkYmUtY2Y2YS00MGYxLThmZmItYzU5ZGZjMGM0MmI2LXNpZ25lZHByb3BzIj48eGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48eGFkZXM6U2lnbmluZ1RpbWU+MjAyMi0wOS0wMlQxMTo0NjozMy43NzErMDI6MDA8L3hhZGVzOlNpZ25pbmdUaW1lPjx4YWRlczpTaWduaW5nQ2VydGlmaWNhdGU+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIi8+PGRzOkRpZ2VzdFZhbHVlPkQ3aGptdVVJSE11dTRQTFQzQlBMQzY3MGpadz08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+NjU3MjEyODYwMzMzNDIyMzU0MTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIi8+PGRzOkRpZ2VzdFZhbHVlPkh1UHRsNkxJanQwMk54M0VCaDJ0c2xLVWduRT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+MzE0MTcwMDc4ODYxNzkzNDMxNDwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIi8+PGRzOkRpZ2VzdFZhbHVlPlVGUHV1VTNocEIxM0JVSzJHck1ZL080NXBWTT08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+NzU4MTg3OTcyMDYzMDY2MDIyNjwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PC94YWRlczpTaWduaW5nQ2VydGlmaWNhdGU+PC94YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjwveGFkZXM6U2lnbmVkUHJvcGVydGllcz48L3hhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzPjwvZHM6T2JqZWN0PjwvZHM6U2lnbmF0dXJlPjwvSW1tdW5pemF0aW9uPg=="/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance Immunization" id="264a66a5-3955-4f7b-a9f8-8274f8e1ff68">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance Immunization" id="fe9ba9cb-5a81-4394-a6b2-89737fc8f47f" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${provenanceXML#resourceRequest}</con:request>
            <con:originalUri>https://tsus.ezdrowie.gov.pl/fhir/Provenance/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="c65069ab-e206-41f3-8f19-3e34ac605715" name="[A1] HTTP 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f8db0a4b-3289-4675-81da-9eec7a68c73a" name="[A2] Zwrcono zasb z ID">
              <con:configuration>
                <path>(//*:id/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="_id" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="GET Immunization data" id="1a8a660b-bdc3-4f85-a4cf-9ab2bb8063a8">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" id="45463841-e5c8-4fa7-a218-852c0ad9fecd" name="GET Immunization data" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}/fhir/Immunization/</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" id="b484dae8-3ce3-4a69-a95b-489dcf220552" name="[A1] Kod odpowiedzi HTTP 200">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XPath Match" id="8cede290-3d8f-4f1b-80f8-09597db50e49" name="[A2] Serwer zwrci informacj jednoelementow liczb wynikw">
            <con:configuration>
              <path>//*:total/@value</path>
              <content>1</content>
              <allowWildcards>false</allowWildcards>
              <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
              <ignoreComments>false</ignoreComments>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>plpatient</con:name>
              <con:value>${dane#identyfikatorPacjentaOID}|${dane#identyfikatorPacjenta}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>date</con:name>
              <con:value>gt${dane#dataSzczepienia2}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="GET Immunization status" id="b9f4b86d-f44d-4370-81b4-abdafa2ce5dd">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" id="45463841-e5c8-4fa7-a218-852c0ad9fecd" name="GET Immunization status" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}/fhir/Immunization/</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" id="b484dae8-3ce3-4a69-a95b-489dcf220552" name="[A1] Kod odpowiedzi HTTP 200">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XPath Match" id="8cede290-3d8f-4f1b-80f8-09597db50e49" name="[A2] Serwer zwrci informacj jednoelementow liczb wynikw">
            <con:configuration>
              <path>//*:total/@value</path>
              <content>1</content>
              <allowWildcards>false</allowWildcards>
              <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
              <ignoreComments>false</ignoreComments>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>plpatient</con:name>
              <con:value>${dane#identyfikatorPacjentaOID}|${dane#identyfikatorPacjenta}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>status</con:name>
              <con:value>not-done</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>rok</con:name>
          <con:value>2020</con:value>
        </con:property>
        <con:property>
          <con:name>miesiac</con:name>
          <con:value>12</con:value>
        </con:property>
        <con:property>
          <con:name>czas</con:name>
          <con:value>2020-12-02T22:59:49.925+0100</con:value>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase id="52507ff3-4883-4c1c-abba-7a4cf0dfbecc" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Zapis danych o szczepieniach pacjenta w kontekcie zdarzenia medycznego" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Generuj token" id="637b493b-8ee5-4023-85ea-2fef11e6976d">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych" id="988ece30-ccb9-460a-8426-eb74b6ca1ac8">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

String paszportSeria = org.apache.commons.lang.RandomStringUtils.random(2, true, false)
String paszportNum = org.apache.commons.lang.RandomStringUtils.random(7, false, true)
testRunner.testCase.getTestStepByName("dane").setPropertyValue("identyfikatorPacjenta", paszportSeria.toUpperCase()+paszportNum)

String identyfikatorZdarzenia = java.util.UUID.randomUUID().toString()
String korelacjaIdentyfikator = java.util.UUID.randomUUID().toString()
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString().replace("-", "").toUpperCase().substring(0, 22).replace("-", "").toUpperCase().substring(0, 22)

def formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
def format2 = DateTimeFormatter.ofPattern("yyyy-MM-dd")
def teraz = ZonedDateTime.now()
String data1 = teraz.minusHours(6).format(formatter)
String data2 = teraz.format(formatter)
String data3 = teraz.minusHours(3).format(formatter)
String day = ZonedDateTime.now().minusDays(1)format(format2)

def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("zdarzenieDataPoczatek", data1)
dane.setPropertyValue("zdarzenieDataKoniec", data2)
dane.setPropertyValue("locationStart", data1)
dane.setPropertyValue("locationEnd", data3)
dane.setPropertyValue("przepustkaDataPoczatek", data3)
dane.setPropertyValue("przepustkaDataKoniec", data2)
dane.setPropertyValue("locationStart1", data2)
dane.setPropertyValue("podpisData", data2)
dane.setPropertyValue("dataSzczepienia", day)
dane.setPropertyValue("identyfikatorZdarzenia", identyfikatorZdarzenia)
dane.setPropertyValue("korelacjaIdentyfikator", korelacjaIdentyfikator)
dane.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
dane.setPropertyValue("proceduraDataPoczatek", data1)
dane.setPropertyValue("proceduraDataKoniec", data2)
dane.setPropertyValue("rozpoznanieData", data2)
dane.setPropertyValue("profilPodpisuPracownika", "https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPractitionerSignature")
log.info(identyfikatorZdarzenia)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="527db9e5-2cb9-4507-a8cc-46e2c10a905b">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T05:46:36.263+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:46:36.263+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>46e7e739-799b-4f2b-b100-0ec03f18bf9a</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>e42208df-6837-4523-9056-d28386370e1a</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>JB9038711</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.4.330.56</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>5142529</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>5142527</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>876B7CC6BDCC490EA9CC7C</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>Senior</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>Sylwester</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart</con:name>
              <con:value>2022-09-02T05:46:36.263+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart1</con:name>
              <con:value>2022-09-02T11:46:36.263+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>Sylwester Senior</con:value>
            </con:property>
            <con:property>
              <con:name>przepustkaDataPoczatek</con:name>
              <con:value>2022-09-02T08:46:36.263+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>przepustkaDataKoniec</con:name>
              <con:value>2022-09-02T11:46:36.263+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationEnd</con:name>
              <con:value>2022-09-02T08:46:36.263+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataPoczatek</con:name>
              <con:value>2022-09-02T05:46:36.263+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataKoniec</con:name>
              <con:value>2022-09-02T11:46:36.263+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>rozpoznanieData</con:name>
              <con:value>2022-09-02T11:46:36.263+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2022-09-02T11:46:36.263+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy0yODc1YTE0OC0xYzQ1LTQ3ZGQtYmM0Yy02NjEzNWI3MzY0MGMiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctMjg3NWExNDgtMWM0NS00N2RkLWJjNGMtNjYxMzViNzM2NDBjLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTE0MjUyNy9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjJtMDdEWUt0YmxkNlNEZWw1MWhnRUh2SW9YK08wOHduSmFKZWc1VDZaNzA9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTI4NzVhMTQ4LTFjNDUtNDdkZC1iYzRjLTY2MTM1YjczNjQwYy1yZWYxIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9FbmNvdW50ZXIvNTE0MjUyOS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPk5BWHREVmphR0MzL0pCbWd3Uld6QmxNVDY3WnN6c0I3bHdYOTREaHpIQ009PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTI4NzVhMTQ4LTFjNDUtNDdkZC1iYzRjLTY2MTM1YjczNjQwYy1yZWYyIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9JbW11bml6YXRpb24vNTE0MjUzMS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkkzamVsSGRhMnRFOVBuVmFIRGNLVEtuM2Q5dFhJOC9mWkFocFdEanhmVVU9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy0yODc1YTE0OC0xYzQ1LTQ3ZGQtYmM0Yy02NjEzNWI3MzY0MGMtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPnc4M01oakdmR0JBSVorYTFoMHJjbkM4bTQwVmNZUEo1cExtTllJVUlUM3c9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLTI4NzVhMTQ4LTFjNDUtNDdkZC1iYzRjLTY2MTM1YjczNjQwYy1zaWd2YWx1ZSI+bzRHNS9EOW9WZzc4V3FIREY3bGYzbS9CcUh2TVl2b1M1bTRyR0RqWFVhMkZ6Nm1KV2hHK3htdms0aWp2bGNteVJDUThKM2lLV1psekpnUVNXb2srU01SYmpNNERmcW5RenJxeXJJWk5oclRrdUwrMFhxNWl0eHZJN1A3WFE4MTJ4Z3FaOVpZbW1OQXd6M3pBVEpZck5tRXVRL2QzZzZtdmVrSElwbWxhMWlSYkd3cFB1SWRvVkNLUkludDlvdHhJa0hJWXlwOWEzRGFZWWFnL0drSzVVRk1pMWV2UWx3S2VWN09JM09LeGxIb3NvTGd1VEE3ajlXZW5wNkU3TG5nMnpUYjVkcENHS0lySUVwS09wSW9KUUpRUjIreEhGUW9YOUI4dE9qUW9UVVZ1amsyajR1eldWUFQvdUl2N0VKdHhxMzFDWC8zU0ZISzNPaHdEbXA5UVpnPT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZNVENDQXhtZ0F3SUJBZ0lJZnFoa0FVQ2RCRnN3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1UQTJNakV3TnpRMU16ZGFGdzB5TXpBMk1qRXdOelExTXpkYU1JR2tNVFF3TWdZRFZRUUREQ3RRYjJSdGFXOTBYMnhsWTNwdWFXTjZlVjh4TFhWM2FXVnllbmwwWld4dWFXVnVhV1VnWkdGdWVXTm9NVFV3TXdZRFZRUUZFeXd5TGpFMkxqZzBNQzR4TGpFeE16ZzRNeTR6TGpRME1qUXVNaTR6TGpFNklEQXdNREF3TURBeE1qRXdOakVZTUJZR0ExVUVDd3dQVURFZ1NXNTBaV2R5WVdONWFtNWxNUTR3REFZRFZRUUtEQVZEVTBsUFdqRUxNQWtHQTFVRUJoTUNVRXd3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRHVJL0E5OFBvNzd1cVZjZ3VZenZ1WmJqVXZDejJaR2pJZXVFSXRxeElRc28yT2dOSC94Qi9BWWV1M1BzVGVBdVFLU0VhNkpmNmd4LzVaL1IzQ2ZUbUd2SU8wRmJzTGtNcDlxV0Qrd1FTR2ZsQzZwNXBZM1QrTzFKYW96clZqR3F4YjFJZGJPdmhoZWFqdXFydUNvUjdhdjYvMWpzQzBmTUE2a1pUUW5EY01ORXA3Sk5yWDRRUmxvUlA2ZHg2ek9LQVhhZzJCNHYrMVR2Tjk5WGVBME1EaHV1bzN2eU14d0RvbWw4aGlzYWFtMmdnRm42MGVzYmY5V2hOckdTaE1JVFdQWGpKRDNwdzZKNjFZLzBlWTluM0tTM0tUS010b0JLMk9Fbmg0V1FQRGJoeHp1dmprdnJ2UVFwUUFxWGRWVGVycGtBT0VVMEhBay9CSXIxL1lVQzluQWdNQkFBR2pnYmd3Z2JVd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JSaWhvRUNCb0cxYlhPZmRzcjRkTFczaHRJNmhqQlZCZ05WSFI4RVRqQk1NRXFnU0tCR2hrUm9kSFJ3Y3pvdkwybHVkQzF3TVM1bGVtUnliM2RwWlM1bmIzWXVjR3d2WTJOd01TOWpjbXd2UTBOUU1VbHVkR1ZuY21GamVXcHVaVk4xWWtOQlYxTlRMbU55YkRBZEJnTlZIUTRFRmdRVXZycFFEUEREeEdsZm5vQXJRVlNyYlNuNHkra3dEZ1lEVlIwUEFRSC9CQVFEQWdlQU1BMEdDU3FHU0liM0RRRUJEUVVBQTRJQ0FRQys2R0xjcmxjL1M0azhzREtpWWcvbXlJNWE1cUNIeEdpY3FzaU8vQTl6MGl1S2l3N1JMNkNmS2RQT2RiZitub0R2ZWs1c09BOGZaRHBWWUhtbHdFOUtMSmswZGVsQ0UySGtiK1pKSHlzYVRYaXRWeDlhWGswYTd3djJ2Q3FMR2xKcXlabzV2ZWNwam84M0I5QkhseUpTRDdWTGw1WFVzRnEvNUluOGRMbm9RaHBKWFN6ZGJKWlNYcVdxQ2hmdE5TSU5nODVmUDBpeWYwWVJPcEZJRVNGTVRGRWNkWUdUNllFRzV0MHNnaUttZm5nYzQ5M0VSdFMyOXBTWUhyTWdGZllNcVFiRm9hUXZnK3VWV3JMczlyaUh6emZMaXR1cnppcUNtL2dROE1CcUpjK2NVcnlCLzRBSEZEUGxQblh2TW1SQ2FKMXV2OFJ3TnJqSWRhT2prSHJkREtxbmJJQ21MclhaMUlrcTQ5NGY4QXNCcjk0bkJydGo0bnlvU2lIQUx3WGJHMVBRQlFtU1RCNmVsbUpHYlRrbGVvOXBjNHZHK29QTWtTR1VNdEcwOS92M1pucHRVREVKUjZEeFBPV1Q3d0pDOVF2WjQxdVZkRFF1aWtXZWwyK1FxaXkyTnBYeHF2VFhnZTFsZlBEYTFWcmwwejU3VnFRUVFrUmlXVjBXMUx2YjRxc3NMRDZqLzltSitndEtRV25NRHlkZGZ3NWpnaGJ4YmRWc0MyUTRCckZlY0VDTjBpTHhNbHJ6WEpuT0dlSE9zSjVIaC9pZG44NlkweW5FSG1mcVBrdjR5M01ORjdvWjg4M29kQlE1RjhSdjZlbGRvSHZTTTZ3N3VCNnVDVmg4YXJuV0k3bCs2dWorOEJucCtiek1NL1VJM2kyVWtKMVhsbGNRNXR4WlVRPT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48ZHM6WDUwOVN1YmplY3ROYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsc2VyaWFsTnVtYmVyPTIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMTogMDAwMDAwMDEyMTA2LGNuPVBvZG1pb3RfbGVjem5pY3p5XzEtdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctMjg3NWExNDgtMWM0NS00N2RkLWJjNGMtNjYxMzViNzM2NDBjIj48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy0yODc1YTE0OC0xYzQ1LTQ3ZGQtYmM0Yy02NjEzNWI3MzY0MGMtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjQ2OjQwLjIyNiswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkVkSXRYNmdLQXowM2xQZ0dLOFNxTzNsaUc1NTdsL28yNjZ1Z2xtV1psWFU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+b3R5OXJqazlvK0lJU204LzNHaEYxd1ZrVDBlWUFyeWFCTk5FMUhTdUVHaz08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+MzE0MTcwMDc4ODYxNzkzNDMxNDwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5kNlZNbDFEWmZhRk9lUjQ1REJIZytGNFBnazk1SFVNSElIcXkxc0Z6MEhBPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationId</con:name>
              <con:value>5142531</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationResource</con:name>
              <con:value><![CDATA[<Immunization xmlns="http://hl7.org/fhir">
   <id value="5142531"/>
   <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:46:38.126+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLImmunizationCurrent"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <implicitRules value="16.3.3"/>
   <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalCertificateReference">
      <extension url="paperForm">
         <valueBoolean value="true"/>
      </extension>
      <extension url="asserter">
         <valueReference>
            <identifier>
               <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
               <value value="2698040"/>
            </identifier>
            <display value="Monika Lecznicza"/>
         </valueReference>
      </extension>
      <extension url="issued">
         <valueDateTime value="2022-09-01"/>
      </extension>
   </extension>
   <status value="not-done"/>
   <statusReason>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.103"/>
         <code value="IMMUNE"/>
         <display value="Odporno"/>
      </coding>
   </statusReason>
   <vaccineCode>
      <coding>
         <system value="urn:oid:1.3.160"/>
         <code value="05909991445591"/>
      </coding>
      <text value="Preflucel"/>
   </vaccineCode>
   <patient>
      <reference value="Patient/5142527"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="JB9038711"/>
      </identifier>
      <display value="Sylwester Senior"/>
   </patient>
   <encounter>
      <reference value="Encounter/5142529"/>
      <type value="Encounter"/>
   </encounter>
   <occurrenceDateTime value="2022-09-01"/>
   <location>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
         <value value="000000012106-001"/>
      </identifier>
   </location>
   <manufacturer>
      <display value="test"/>
   </manufacturer>
   <lotNumber value="AAJN11K"/>
   <site>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.101"/>
         <code value="LA"/>
         <display value="Lewe rami"/>
      </coding>
   </site>
   <route>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.102"/>
         <code value="IM"/>
         <display value="Iniekcja dominiowa"/>
      </coding>
   </route>
   <doseQuantity>
      <value value="0.5"/>
      <system value="urn:oid:2.16.840.1.113883.6.8"/>
      <code value="ML"/>
   </doseQuantity>
   <performer>
      <actor>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
            <value value="2698040"/>
         </identifier>
         <display value="Monika Lecznicza"/>
      </actor>
   </performer>
   <note>
      <text value="Notes on adminstration of vaccine"/>
   </note>
   <fundingSource>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.105"/>
         <code value="private"/>
      </coding>
   </fundingSource>
   <protocolApplied>
      <targetDisease>
         <coding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
            <code value="99.557"/>
            <display value="Szczepienie przeciw COVID-19"/>
         </coding>
      </targetDisease>
      <doseNumberPositiveInt value="1"/>
      <seriesDosesPositiveInt value="2"/>
   </protocolApplied>
</Immunization>]]></con:value>
            </con:property>
            <con:property>
              <con:name>profilPodpisuPracownika</con:name>
              <con:value>https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance</con:value>
            </con:property>
            <con:property>
              <con:name>podmiotIdentyfikator</con:name>
              <con:value>000000012106</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>encounterVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>zrodloFinansowania</con:name>
              <con:value>private</con:value>
            </con:property>
            <con:property>
              <con:name>pLPractitionerSignatureId</con:name>
              <con:value>5142533</con:value>
            </con:property>
            <con:property>
              <con:name>pLMedicalEventProvenanceId</con:name>
              <con:value>5142535</con:value>
            </con:property>
            <con:property>
              <con:name>dataSzczepienia</con:name>
              <con:value>2022-09-01</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikImieNazwisko</con:name>
              <con:value>Monika Lecznicza</con:value>
            </con:property>
            <con:property>
              <con:name>pracownikIdentyfikator</con:name>
              <con:value>2698040</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="patientXML" id="51aac7b6-6f28-42e5-bbfd-e4978d6176d1">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>patient-paszport.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Patient xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPatient"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
      <value value="JB9038711"/>
   </identifier>
   <name>
      <family value="Senior"/>
      <given value="Sylwester"/>
   </name>
   <telecom>
      <system value="phone"/>
      <value value="+32475556791"/>
   </telecom>
   <gender value="male"/>
   <birthDate value="1960-06-30"/>
</Patient>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Patient" id="25e71cec-167d-4ccf-ac0a-11237ed715d0">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Patient/{id}" methodName="Zapis-patient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Patient" id="9c748457-9d7a-4eb1-8d90-bc42603ba6a6" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${patientXML#resourceRequest}</con:request>
            <con:originalUri>http://10.0.38.215/fhir/Patient</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a0ba0d9a-6ecb-4f58-9ecd-df42ec5ef5b0" name="A1 - Valid HTTP Status Codes - 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="5b6e5f13-42fa-4ca3-8f8e-8cb8be047d6a" name="A2 - id patient">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';

exists(//*:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="identifier" value=""/>
              <con:entry key="plgiven" value=""/>
              <con:entry key="birthdate" value=""/>
              <con:entry key="gender" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="_id" value=""/>
              <con:entry key="encounter" value=""/>
              <con:entry key="plfamily" value=""/>
              <con:entry key="_sort" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plfamily</con:entry>
              <con:entry>plgiven</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>gender</con:entry>
              <con:entry>birthdate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id patient" id="5a820f8b-12a8-4e39-82cb-835c9864a8d7">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="encounterXML" id="50b991fb-bee5-47bc-8b3b-678e66e67c8d">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>encounter-pesel.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Encounter xmlns="http://hl7.org/fhir">
   <meta> 
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEvent"/>
	  <security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
	  </security>	  
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1"/>
	  <value value="46e7e739-799b-4f2b-b100-0ec03f18bf9a"/>
   </identifier>
   <status value="finished"/>
   <class>
      <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.34"/>
	  <code value="16"/>
	  <display value="Hemodializa"/>
   </class>
   <subject>
	  <extension xmlns="http://hl7.org/fhir"
     url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLInsuranceReference">
		<valueReference>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.3.1"/>
				<value value="01"/>
			</identifier>
		</valueReference>
	   </extension>
	  <reference value="Patient/5142527"/>
	  <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
		 <value value="JB9038711"/>
      </identifier>
	  <display value="Sylwester Senior"/>
   </subject>
   <episodeOfCare>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.2.15.5"/>
			<value value="e42208df-6837-4523-9056-d28386370e1a"/>
		</identifier>
	</episodeOfCare>
	<basedOn>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.7.17.4.1"/>
			<value value="876B7CC6BDCC490EA9CC7C"/>
			<period>
				<start value="2019-08-26T10:00:00+02:00"/>
			</period>
		</identifier>		
	</basedOn>
	<participant>
		<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLFunction">
            <valueCoding>
                <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.80"/>
                <code value="11"/>
            </valueCoding>
        </extension>
		<individual>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</individual>
	</participant>
	<period>
		<start value="2022-09-02T05:46:36.263+02:00"/>
		<end value="2022-09-02T11:46:36.263+02:00"/>
	</period>
	<location>
		<location>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
				<value value="000000012106-001"/>
			</identifier>
		</location>
		<period>
			<start value="2019-08-26T10:00:00+02:00"/>
		</period>
	</location>
	<serviceProvider>
		<extension xmlns="http://hl7.org/fhir"
		url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPayorReference">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.8.3"/>
					<value value="94387159943871591234"/>
				</identifier>
			</valueReference>
		</extension>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
			<value value="000000012106"/>
		</identifier>
	</serviceProvider>
</Encounter>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Encounter" id="06651b95-4374-4db2-ae6c-25d05719fbe9">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Encounter/{id}" methodName="Zapis-encounter" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Encounter" id="fe9ba9cb-5a81-4394-a6b2-89737fc8f47f" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${encounterXML#resourceRequest}</con:request>
            <con:originalUri>https://tsus.ezdrowie.gov.pl/fhir/Provenance/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="c65069ab-e206-41f3-8f19-3e34ac605715" name="[A1] HTTP 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f8db0a4b-3289-4675-81da-9eec7a68c73a" name="[A2] Zwrcono zasb z ID">
              <con:configuration>
                <path>(//*:id/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="_id" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id encounter" id="14b33a9d-e9dd-4949-a525-8631886e0b65">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>encounterId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:versionId/@value</con:sourcePath>
            <con:targetType>encounterVersion</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="true" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType xsi:nil="true"/>
            <con:targetStep>POST Immunization</con:targetStep>
            <con:targetPath xsi:nil="true"/>
            <con:type>XPATH</con:type>
            <con:targetTransferType>XPATH</con:targetTransferType>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="true" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Encounter</con:sourceStep>
            <con:sourcePath>//*:versionId/@value</con:sourcePath>
            <con:targetType xsi:nil="true"/>
            <con:targetStep>POST Immunization</con:targetStep>
            <con:targetPath xsi:nil="true"/>
            <con:type>XPATH</con:type>
            <con:targetTransferType>XPATH</con:targetTransferType>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="immunizationXML" id="3a62a257-6c77-4825-a5d7-94e9ba2637a7">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>immunization.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Immunization xmlns="http://hl7.org/fhir">				
    <meta>
        <versionId value="1"/>
        <lastUpdated value="2020-02-27T11:13:50.697+00:00"/>
        <source value="#FqZxUen1ZPGJtbMg"/>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLImmunizationCurrent"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
    </meta>
	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalCertificateReference">
		<extension url="paperForm">
			<valueBoolean value="true"/>
		</extension>
		<extension url="asserter">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
					<value value="2698040"/>
				</identifier>
				<display value="Monika Lecznicza"/>
			</valueReference>
		</extension>
					<extension url="issued">
			<valueDateTime value="2022-09-01"/>
		</extension>
	</extension>
	<status value="not-done"/>
	<statusReason>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.103"/>
			<code value="IMMUNE"/>
			<display value="Odporno"/>
		</coding>
	</statusReason>
	<vaccineCode>
		<coding>
			<system value="urn:oid:1.3.160"/>
			<code value="05909991445591"/>
		</coding>
		<text value="Preflucel"/>
	</vaccineCode>
    <patient>
		<reference value="Patient/5142527"/>
		<type value="Patient" />
        <identifier>
            <system value="urn:oid:2.16.840.1.113883.4.330.56" />
            <value value="JB9038711"/>
        </identifier>
		<display value="Sylwester Senior" />
    </patient>
	<encounter>
		<reference value="Encounter/5142529"/>
		<type value="Encounter"/>
	</encounter>
	<occurrenceDateTime value="2022-09-01"/>
	<location>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
		</identifier>
	</location>
	<manufacturer>
		<display value="test"/>
	</manufacturer>
    <lotNumber value="AAJN11K"/>
	<site>	
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.101"/>
			<code value="LA"/>
			<display value="Lewe rami"/>
		</coding>
	</site>
	<route>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.102"/>
			<code value="IM"/>
			<display value="Iniekcja dominiowa"/>
		</coding>
	</route>
	<doseQuantity>
			<value value="0.5"/>
			<system value="urn:oid:2.16.840.1.113883.6.8"/>
			<code value="ML"/>
	</doseQuantity>
	<performer>
		<actor>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
		</actor>
	</performer>
    <note>
        <text value="Notes on adminstration of vaccine"/>
    </note>
	<fundingSource>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.105"/>
			<code value="private"/>
		</coding>
	</fundingSource>
	<protocolApplied>
		<targetDisease>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
				<code value="99.557"/>
				<display value="Szczepienie przeciw COVID-19"/>
			</coding>
		</targetDisease>		  
	<doseNumberPositiveInt value="1"/>
	<seriesDosesPositiveInt value="2"/>												
    </protocolApplied>
</Immunization>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Immunization" id="278b827d-916a-4642-9697-8f62e2f3756a">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Immunization/{id}" methodName="Zapis-immunization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Immunization" id="21f50763-d789-4c07-9a1a-e8fbea2e823f" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${immunizationXML#resourceRequest}</con:request>
            <con:originalUri>https://tsus.ezdrowie.gov.pl/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a6126f75-5518-4db4-be38-5bfa8870ace2" name="[A1] HTTP 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="62c10708-7c55-4a9b-8ee8-ab6530c5c8d2" name="[A2] Zwrcono zasb z ID">
              <con:configuration>
                <path>(//*:id/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="date" value=""/>
              <con:entry key="patient" value=""/>
              <con:entry key="plsubject" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="status" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>date</con:entry>
              <con:entry>status</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id" id="9fde0d80-61a4-45e7-a665-638bc97b7ccf">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>immunizationId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization</con:sourceStep>
            <con:sourcePath>//*:versionId/@value</con:sourcePath>
            <con:targetType>immunizationVersion</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>immunizationResource</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>immunizationResource</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="true" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType xsi:nil="true"/>
            <con:targetStep>POST Provenance (PLPractitionerSignature)</con:targetStep>
            <con:targetPath xsi:nil="true"/>
            <con:type>XPATH</con:type>
            <con:targetTransferType>XPATH</con:targetTransferType>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="true" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization</con:sourceStep>
            <con:sourcePath>//*:versionId/@value</con:sourcePath>
            <con:targetType xsi:nil="true"/>
            <con:targetStep>POST Provenance (PLPractitionerSignature)</con:targetStep>
            <con:targetPath xsi:nil="true"/>
            <con:type>XPATH</con:type>
            <con:targetTransferType>XPATH</con:targetTransferType>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="true" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
            <con:name>immunizationResource</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization</con:sourceStep>
            <con:sourcePath/>
            <con:targetType xsi:nil="true"/>
            <con:targetStep>POST Provenance (PLPractitionerSignature)</con:targetStep>
            <con:targetPath xsi:nil="true"/>
            <con:type>XPATH</con:type>
            <con:targetTransferType>XPATH</con:targetTransferType>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Podpis zasobu Immunization" id="07363aa9-f0a9-4b7a-8702-73ad6ae52363">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String resource = context.expand('${dane#immunizationResource}')
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu2}');
String certPass = context.expand('${#Project#hasloCertyfikatu2}');


String podpis = PodpisKwalifikowany.podpiszDokumentDowolnymCertyfikatem(resource,certPath, certPass);
String encode = podpis.getBytes("UTF-8").encodeBase64().toString()
testRunner.testCase.testSteps['dane'].setPropertyValue("binaryPodpis",encode);
log.info(podpis)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Zapis zasobu provenance (PLPractitionerSignature)" id="57f57782-eceb-4898-a165-17105bce86bd">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-immunization-simple.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPractitionerSignature"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Immunization/5142531"/>
		<type value="Immunization"/>
	</target>
	<recorded value="2022-09-02T11:46:36.263+02:00"/>
	<agent>
		<role>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.85"/>
				<code value="LEK"/>
			</coding>
		</role>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Adam210 Leczniczy"/>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.87"/>
			<code value="1.2.840.10065.1.12.1.6"/>
		</type>
		<when value="2022-09-02T11:46:36.263+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</who>
		<onBehalfOf>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</onBehalfOf>
		<targetFormat value="application/fhir+json"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48SW1tdW5pemF0aW9uIHhtbG5zPSJodHRwOi8vaGw3Lm9yZy9maGlyIj4KICAgPGlkIHZhbHVlPSI1MTQyNTMxIi8+CiAgIDxtZXRhPgogICAgICA8dmVyc2lvbklkIHZhbHVlPSIxIi8+CiAgICAgIDxsYXN0VXBkYXRlZCB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0NjozOC4xMjYrMDI6MDAiLz4KICAgICAgPHByb2ZpbGUgdmFsdWU9Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QTEltbXVuaXphdGlvbkN1cnJlbnQiLz4KICAgICAgPHNlY3VyaXR5PgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjgzIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSJOIi8+CiAgICAgIDwvc2VjdXJpdHk+CiAgIDwvbWV0YT4KICAgPGltcGxpY2l0UnVsZXMgdmFsdWU9IjE2LjMuMyIvPgogICA8ZXh0ZW5zaW9uIHVybD0iaHR0cHM6Ly9lemRyb3dpZS5nb3YucGwvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL1BMTWVkaWNhbENlcnRpZmljYXRlUmVmZXJlbmNlIj4KICAgICAgPGV4dGVuc2lvbiB1cmw9InBhcGVyRm9ybSI+CiAgICAgICAgIDx2YWx1ZUJvb2xlYW4gdmFsdWU9InRydWUiLz4KICAgICAgPC9leHRlbnNpb24+CiAgICAgIDxleHRlbnNpb24gdXJsPSJhc3NlcnRlciI+CiAgICAgICAgIDx2YWx1ZVJlZmVyZW5jZT4KICAgICAgICAgICAgPGlkZW50aWZpZXI+CiAgICAgICAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjEuNi4yIi8+CiAgICAgICAgICAgICAgIDx2YWx1ZSB2YWx1ZT0iMjY5ODA0MCIvPgogICAgICAgICAgICA8L2lkZW50aWZpZXI+CiAgICAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJNb25pa2EgTGVjem5pY3phIi8+CiAgICAgICAgIDwvdmFsdWVSZWZlcmVuY2U+CiAgICAgIDwvZXh0ZW5zaW9uPgogICAgICA8ZXh0ZW5zaW9uIHVybD0iaXNzdWVkIj4KICAgICAgICAgPHZhbHVlRGF0ZVRpbWUgdmFsdWU9IjIwMjItMDktMDEiLz4KICAgICAgPC9leHRlbnNpb24+CiAgIDwvZXh0ZW5zaW9uPgogICA8c3RhdHVzIHZhbHVlPSJub3QtZG9uZSIvPgogICA8c3RhdHVzUmVhc29uPgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjEwMyIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iSU1NVU5FIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJPZHBvcm5vxZvEhyIvPgogICAgICA8L2NvZGluZz4KICAgPC9zdGF0dXNSZWFzb24+CiAgIDx2YWNjaW5lQ29kZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoxLjMuMTYwIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSIwNTkwOTk5MTQ0NTU5MSIvPgogICAgICA8L2NvZGluZz4KICAgICAgPHRleHQgdmFsdWU9IlByZWZsdWNlbCIvPgogICA8L3ZhY2NpbmVDb2RlPgogICA8cGF0aWVudD4KICAgICAgPHJlZmVyZW5jZSB2YWx1ZT0iUGF0aWVudC81MTQyNTI3Ii8+CiAgICAgIDx0eXBlIHZhbHVlPSJQYXRpZW50Ii8+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjQuMzMwLjU2Ii8+CiAgICAgICAgIDx2YWx1ZSB2YWx1ZT0iSkI5MDM4NzExIi8+CiAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgPGRpc3BsYXkgdmFsdWU9IlN5bHdlc3RlciBTZW5pb3IiLz4KICAgPC9wYXRpZW50PgogICA8ZW5jb3VudGVyPgogICAgICA8cmVmZXJlbmNlIHZhbHVlPSJFbmNvdW50ZXIvNTE0MjUyOSIvPgogICAgICA8dHlwZSB2YWx1ZT0iRW5jb3VudGVyIi8+CiAgIDwvZW5jb3VudGVyPgogICA8b2NjdXJyZW5jZURhdGVUaW1lIHZhbHVlPSIyMDIyLTA5LTAxIi8+CiAgIDxsb2NhdGlvbj4KICAgICAgPGlkZW50aWZpZXI+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjIuMy4zIi8+CiAgICAgICAgIDx2YWx1ZSB2YWx1ZT0iMDAwMDAwMDEyMTA2LTAwMSIvPgogICAgICA8L2lkZW50aWZpZXI+CiAgIDwvbG9jYXRpb24+CiAgIDxtYW51ZmFjdHVyZXI+CiAgICAgIDxkaXNwbGF5IHZhbHVlPSJ0ZXN0Ii8+CiAgIDwvbWFudWZhY3R1cmVyPgogICA8bG90TnVtYmVyIHZhbHVlPSJBQUpOMTFLIi8+CiAgIDxzaXRlPgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjEwMSIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iTEEiLz4KICAgICAgICAgPGRpc3BsYXkgdmFsdWU9Ikxld2UgcmFtacSZIi8+CiAgICAgIDwvY29kaW5nPgogICA8L3NpdGU+CiAgIDxyb3V0ZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDIiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9IklNIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJJbmlla2NqYSBkb21pxJnFm25pb3dhIi8+CiAgICAgIDwvY29kaW5nPgogICA8L3JvdXRlPgogICA8ZG9zZVF1YW50aXR5PgogICAgICA8dmFsdWUgdmFsdWU9IjAuNSIvPgogICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjYuOCIvPgogICAgICA8Y29kZSB2YWx1ZT0iTUwiLz4KICAgPC9kb3NlUXVhbnRpdHk+CiAgIDxwZXJmb3JtZXI+CiAgICAgIDxhY3Rvcj4KICAgICAgICAgPGlkZW50aWZpZXI+CiAgICAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjEuNi4yIi8+CiAgICAgICAgICAgIDx2YWx1ZSB2YWx1ZT0iMjY5ODA0MCIvPgogICAgICAgICA8L2lkZW50aWZpZXI+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJNb25pa2EgTGVjem5pY3phIi8+CiAgICAgIDwvYWN0b3I+CiAgIDwvcGVyZm9ybWVyPgogICA8bm90ZT4KICAgICAgPHRleHQgdmFsdWU9Ik5vdGVzIG9uIGFkbWluc3RyYXRpb24gb2YgdmFjY2luZSIvPgogICA8L25vdGU+CiAgIDxmdW5kaW5nU291cmNlPgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjEwNSIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0icHJpdmF0ZSIvPgogICAgICA8L2NvZGluZz4KICAgPC9mdW5kaW5nU291cmNlPgogICA8cHJvdG9jb2xBcHBsaWVkPgogICAgICA8dGFyZ2V0RGlzZWFzZT4KICAgICAgICAgPGNvZGluZz4KICAgICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMi42Ii8+CiAgICAgICAgICAgIDxjb2RlIHZhbHVlPSI5OS41NTciLz4KICAgICAgICAgICAgPGRpc3BsYXkgdmFsdWU9IlN6Y3plcGllbmllIHByemVjaXcgQ09WSUQtMTkiLz4KICAgICAgICAgPC9jb2Rpbmc+CiAgICAgIDwvdGFyZ2V0RGlzZWFzZT4KICAgICAgPGRvc2VOdW1iZXJQb3NpdGl2ZUludCB2YWx1ZT0iMSIvPgogICAgICA8c2VyaWVzRG9zZXNQb3NpdGl2ZUludCB2YWx1ZT0iMiIvPgogICA8L3Byb3RvY29sQXBwbGllZD4KPGRzOlNpZ25hdHVyZSB4bWxuczpkcz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyIgSWQ9InhtbGRzaWctN2YyMjkyNTYtZWNmNS00NjlmLTk4YmYtZTYyY2QxN2ViYzQyIj48ZHM6U2lnbmVkSW5mbz48ZHM6Q2Fub25pY2FsaXphdGlvbk1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PGRzOlNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctN2YyMjkyNTYtZWNmNS00NjlmLTk4YmYtZTYyY2QxN2ViYzQyLXJlZjAiIFVSST0iIj48ZHM6VHJhbnNmb3Jtcz48ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI2VudmVsb3BlZC1zaWduYXR1cmUiLz48L2RzOlRyYW5zZm9ybXM+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIi8+PGRzOkRpZ2VzdFZhbHVlPnJsRzlURlBsc0VpYXBLMnVJV3NlK29Qeksxdz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLTdmMjI5MjU2LWVjZjUtNDY5Zi05OGJmLWU2MmNkMTdlYmM0Mi1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5EVnJLZ3dBaXhSVTdnTUtiaDNDYjJtNWFjY0U9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLTdmMjI5MjU2LWVjZjUtNDY5Zi05OGJmLWU2MmNkMTdlYmM0Mi1zaWd2YWx1ZSI+UFFqWGJNb1QzMy9VR29tajlPbjdhNEJFZnBOVlhSZjRmRUthWTRSV2RMZURVQkVNbnM2Y3RRNngzbmNGV0FSUFFTZXNjZmg3VXFmVGFmcUYyRnhReGljM3hISVVLYlRvZFd1NjRlaFh2UzFpbjZXOEdScTlsZFlCd0huZ2tlb2UxcmtGMm94S1VFaE4zci9GLzl1WldZdmhaSm9UYm5iY2Qya1RtREcwVFl1cUVVVHVoSXNvdDdjMTZONllLS250a0JudGN2OEJWZXVINnFLV0x6MnExdGZ4OU9lZUhrLzVieFJ1MEtJMmxQVmRueitmc2lmUkZqT2Z6WnZRZjJYWGw4SzZObUpGeVRtdDNYWWg2V3pZNERGRjBkcHBoZVEyYUJySzJqVzZUbW5VQTgwaE9Kdmx4QUtaWTQvR2lDTjJRa0ltRzR4ZjNXaWZSYkNtcWxVb0pRPT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZFVENDQXZtZ0F3SUJBZ0lJV3pUa0pPUHJwclV3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1URXlNRE14TVRFM016RmFGdzB5TXpFeU1ETXhNVEUzTXpGYU1JR0VNUzR3TEFZRFZRUUREQ1ZoYzNsemRHVnVkRjlwYm5ReUxYVjNhV1Z5ZW5sMFpXeHVhV1Z1YVdVZ1pHRnVlV05vTVJzd0dRWURWUVFGRXhKUVJWTkZURG9nTnpJeE1ESTJNamd4TnpJeEdEQVdCZ05WQkFzTUQxQXhJRWx1ZEdWbmNtRmplV3B1WlRFT01Bd0dBMVVFQ2d3RlExTkpUMW94Q3pBSkJnTlZCQVlUQWxCTU1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdmw5MVBsN2NDQ1ZXbjU1aHV0bmRsREd4TTZ6dlQvVHFNOFhUSzhNRnZqL3lSUFd0d0NqU2xHMXA0NUcyQ1FHR1dVQ29hZTdLTXd0akYxQm9WbUJvMzRyd0JjUm5jaDJhcXVJd1dRVVBRQ2p0c2xST0F6cWdEZ3ZBTDdqd24xQVJlWk11eGlKb3NaWEsxbWIxM3VCcEMwYjdWQ2l3Sy95S3RZNGMvdGJYcTBTY2lkM1gyV1pkbFJSaFZtQkdtZTBCSDNPNFlHa1VqNldkeXlJNloyeE0zUVpuc1owb3hMS3llZFhjWlI0MGxuanVOVUVzb0JuQ3F6SnJHUGMwZ00rVDJndUxwcUpOS0hZam1pMFVKQjBUSTZBSm5hY0NFMnFqUmZDb1VubWphTkp1QlB4UGoxQTdjajQ4Wjk2WG1jb0MwdjgzWnl3cWMvL2dKbDBZQW5DenRRSURBUUFCbzRHNE1JRzFNQXdHQTFVZEV3RUIvd1FDTUFBd0h3WURWUjBqQkJnd0ZvQVVZb2FCQWdhQnRXMXpuM2JLK0hTMXQ0YlNPb1l3VlFZRFZSMGZCRTR3VERCS29FaWdSb1pFYUhSMGNITTZMeTlwYm5RdGNERXVaWHBrY205M2FXVXVaMjkyTG5Cc0wyTmpjREV2WTNKc0wwTkRVREZKYm5SbFozSmhZM2xxYm1WVGRXSkRRVmRUVXk1amNtd3dIUVlEVlIwT0JCWUVGRzZiVzg2ckV6RG8wczhRaUtUeURxNlhrNWVXTUE0R0ExVWREd0VCL3dRRUF3SUhnREFOQmdrcWhraUc5dzBCQVEwRkFBT0NBZ0VBd3Q2VWpXd0Nqd0RSK2pmZ3RCUE5rMnVIRVU1L0VFcUdiR2tjQ2M2Y1RTdVd6UWxvWUE0WHJZWXM4UnNmU2pDZlRPa1l5M1ZkVnF2bU1zdkRqMktwYnNIRlNwbVdwbk5oTGtGcXUwSXNpNGE1b0JzWU9ZUm42VG82KzRsTEViZ2w1QlgwN0IrSlNxc1dqdk5GWFhRMjgrTjdGKzh6RnpTZStIMmdveTBXTTh2WE1sYW5JaU95a0cyekFqcSt2UlZ1dWpXOTNoN0pJcnV1cStrQldjdmpZYW1VU2o2WTduZS9FUnFWamZ2R2JxK2tubGRvam9TNVgxRFViRmpXSkJzdTdycW1VUWJteXZmMjQ1Z0VYTGhwbjl0ZEE4QUxPb0Z0YzJrSFpjQVJjZktteTFVQTFBU0g2ZnBIb3FJaVNnTUxFOGZacU9OQWpMa1ZpUW1LQ2UrMGdwWXJUNytHTGRwajQzVmZ5L21DR2RYUGFISGhQckZRVTFGNXNUZVgyM3JBcHowQlhNSW1kUG4vd1paK2J3bTJxQW9XVWdLQXlWclRXK0ZHdDh1QmY3c2ZaU3k3L1ZNL1lpa2F4bGxHbGFMRFRrRG1XbWg3N0xsaW9FdTBuT3J5dkN4bDZSMUNjbmNmdXh0V3lhNlEwVjZNa1dJTzRVUmRqUktoSUFZN2tTSC9nbFVxUitob3prQk1EdEdBQ09INXgzUStZekNsVFR5eW1hem9ObWFrMmsyeEUyM2RHU0g3dUQyYll1K3FtYTIxbnFTc1IyaXFaQ1RUclBtR0t5VnhSZUhrTUYvZU53Yk5zOWxwSThzaDBUUmR5NHYrT0pUalNHZGZQL1BvaXg4M0pVemovWGd0d3lEck5KUEpQbFdzRVdQVEJjZ3Y5V2s0eUxydDg4UW9PWlk9PC9kczpYNTA5Q2VydGlmaWNhdGU+PGRzOlg1MDlTdWJqZWN0TmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLHNlcmlhbE51bWJlcj1QRVNFTDogNzIxMDI2MjgxNzIsY249YXN5c3RlbnRfaW50Mi11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+NjU3MjEyODYwMzMzNDIyMzU0MTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy03ZjIyOTI1Ni1lY2Y1LTQ2OWYtOThiZi1lNjJjZDE3ZWJjNDIiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLTdmMjI5MjU2LWVjZjUtNDY5Zi05OGJmLWU2MmNkMTdlYmM0Mi1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDY6MzguMzQwKzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5EN2hqbXVVSUhNdXU0UExUM0JQTEM2NzBqWnc9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjY1NzIxMjg2MDMzMzQyMjM1NDE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5IdVB0bDZMSWp0MDJOeDNFQmgydHNsS1VnbkU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjMxNDE3MDA3ODg2MTc5MzQzMTQ8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5VRlB1dVUzaHBCMTNCVUsyR3JNWS9PNDVwVk09PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT48L0ltbXVuaXphdGlvbj4="/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance (PLPractitionerSignature)" id="628e7bdd-bb5a-4644-8eeb-f173d668f797">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance (PLPractitionerSignature)" id="fe9ba9cb-5a81-4394-a6b2-89737fc8f47f" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${Zapis zasobu provenance (PLPractitionerSignature)#resourceRequest}</con:request>
            <con:originalUri>https://tsus.ezdrowie.gov.pl/fhir/Provenance/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="c65069ab-e206-41f3-8f19-3e34ac605715" name="[A1] HTTP 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f8db0a4b-3289-4675-81da-9eec7a68c73a" name="[A2] Zwrcono zasb z ID">
              <con:configuration>
                <path>(//*:id/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="_id" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Podpis zasobu Immunization, Patient, Encounter" id="3cee6fbe-8f2a-47ea-b922-74d24c6e5420">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String zmUrl = context.expand('${#Project#ObslugaZdarzenSUS.service.address}');
String patientReference = zmUrl + "/fhir/Patient/" + context.expand('${dane#patientId}') + "/_history/" + context.expand('${dane#patientVersion}')
String encounterReference = zmUrl + "/fhir/Encounter/" + context.expand('${dane#encounterId}') + "/_history/" + context.expand('${dane#encounterVersion}')
String immunizationReference = zmUrl + "/fhir/Immunization/" + context.expand('${dane#immunizationId}') + "/_history/" + context.expand('${dane#immunizationVersion}')

List&lt;String> refs = new ArrayList&lt;>();
refs.add(patientReference);
refs.add(encounterReference);
refs.add(immunizationReference);


String accessToken = context.expand('${#Project#tokenDostepowy}');
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu}');
String certPass = context.expand('${#Project#hasloCertyfikatu}');

String podpis = PodpisKwalifikowany.generujPodpisRozlacznyXades(refs, certPath, certPass, true, accessToken);
testRunner.testCase.testSteps['dane'].setPropertyValue("binaryPodpis", Base64.getEncoder().encodeToString(podpis.getBytes()));</script>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="zmiana profilu" id="2c998a93-1dc8-423f-8cc3-d5bc78ab0182">
        <con:settings/>
        <con:config>
          <script>testRunner.testCase.testSteps['dane'].setPropertyValue("profilPodpisuPracownika", "https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance")</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Zapis zasobu Provenance (PLMedicalEventProvenance)" id="ac018774-e97d-4e9a-b4c7-7612f43fa8c0">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-immunization-encounter.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalEventProvenance"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Patient/5142527"/>
		<type value="Patient"/>
	</target>
	<target>
		<reference value="Encounter/5142529"/>
		<type value="Encounter"/>
	</target>
	<target>
		<reference value="Immunization/5142531"/>
		<type value="Immunization"/>
	</target>

	<recorded value="2022-09-02T11:46:36.263+02:00"/>
	<agent>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.86"/>
			<code value="1.2.840.10065.1.12.1.14"/>
		</type>
		<when value="2022-09-02T11:46:36.263+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</who>
		<targetFormat value="application/fhir+json"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIiBJZD0ieG1sZHNpZy0yODc1YTE0OC0xYzQ1LTQ3ZGQtYmM0Yy02NjEzNWI3MzY0MGMiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMteG1sLWMxNG4tMjAwMTAzMTUiLz48ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctMjg3NWExNDgtMWM0NS00N2RkLWJjNGMtNjYxMzViNzM2NDBjLXJlZjAiIFVSST0iaHR0cHM6Ly9pc3VzLmV6ZHJvd2llLmdvdi5wbC9maGlyL1BhdGllbnQvNTE0MjUyNy9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPjJtMDdEWUt0YmxkNlNEZWw1MWhnRUh2SW9YK08wOHduSmFKZWc1VDZaNzA9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTI4NzVhMTQ4LTFjNDUtNDdkZC1iYzRjLTY2MTM1YjczNjQwYy1yZWYxIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9FbmNvdW50ZXIvNTE0MjUyOS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPk5BWHREVmphR0MzL0pCbWd3Uld6QmxNVDY3WnN6c0I3bHdYOTREaHpIQ009PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTI4NzVhMTQ4LTFjNDUtNDdkZC1iYzRjLTY2MTM1YjczNjQwYy1yZWYyIiBVUkk9Imh0dHBzOi8vaXN1cy5lemRyb3dpZS5nb3YucGwvZmhpci9JbW11bml6YXRpb24vNTE0MjUzMS9faGlzdG9yeS8xIj48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkkzamVsSGRhMnRFOVBuVmFIRGNLVEtuM2Q5dFhJOC9mWkFocFdEanhmVVU9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy0yODc1YTE0OC0xYzQ1LTQ3ZGQtYmM0Yy02NjEzNWI3MzY0MGMtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPnc4M01oakdmR0JBSVorYTFoMHJjbkM4bTQwVmNZUEo1cExtTllJVUlUM3c9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLTI4NzVhMTQ4LTFjNDUtNDdkZC1iYzRjLTY2MTM1YjczNjQwYy1zaWd2YWx1ZSI+bzRHNS9EOW9WZzc4V3FIREY3bGYzbS9CcUh2TVl2b1M1bTRyR0RqWFVhMkZ6Nm1KV2hHK3htdms0aWp2bGNteVJDUThKM2lLV1psekpnUVNXb2srU01SYmpNNERmcW5RenJxeXJJWk5oclRrdUwrMFhxNWl0eHZJN1A3WFE4MTJ4Z3FaOVpZbW1OQXd6M3pBVEpZck5tRXVRL2QzZzZtdmVrSElwbWxhMWlSYkd3cFB1SWRvVkNLUkludDlvdHhJa0hJWXlwOWEzRGFZWWFnL0drSzVVRk1pMWV2UWx3S2VWN09JM09LeGxIb3NvTGd1VEE3ajlXZW5wNkU3TG5nMnpUYjVkcENHS0lySUVwS09wSW9KUUpRUjIreEhGUW9YOUI4dE9qUW9UVVZ1amsyajR1eldWUFQvdUl2N0VKdHhxMzFDWC8zU0ZISzNPaHdEbXA5UVpnPT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZNVENDQXhtZ0F3SUJBZ0lJZnFoa0FVQ2RCRnN3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1UQTJNakV3TnpRMU16ZGFGdzB5TXpBMk1qRXdOelExTXpkYU1JR2tNVFF3TWdZRFZRUUREQ3RRYjJSdGFXOTBYMnhsWTNwdWFXTjZlVjh4TFhWM2FXVnllbmwwWld4dWFXVnVhV1VnWkdGdWVXTm9NVFV3TXdZRFZRUUZFeXd5TGpFMkxqZzBNQzR4TGpFeE16ZzRNeTR6TGpRME1qUXVNaTR6TGpFNklEQXdNREF3TURBeE1qRXdOakVZTUJZR0ExVUVDd3dQVURFZ1NXNTBaV2R5WVdONWFtNWxNUTR3REFZRFZRUUtEQVZEVTBsUFdqRUxNQWtHQTFVRUJoTUNVRXd3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRHVJL0E5OFBvNzd1cVZjZ3VZenZ1WmJqVXZDejJaR2pJZXVFSXRxeElRc28yT2dOSC94Qi9BWWV1M1BzVGVBdVFLU0VhNkpmNmd4LzVaL1IzQ2ZUbUd2SU8wRmJzTGtNcDlxV0Qrd1FTR2ZsQzZwNXBZM1QrTzFKYW96clZqR3F4YjFJZGJPdmhoZWFqdXFydUNvUjdhdjYvMWpzQzBmTUE2a1pUUW5EY01ORXA3Sk5yWDRRUmxvUlA2ZHg2ek9LQVhhZzJCNHYrMVR2Tjk5WGVBME1EaHV1bzN2eU14d0RvbWw4aGlzYWFtMmdnRm42MGVzYmY5V2hOckdTaE1JVFdQWGpKRDNwdzZKNjFZLzBlWTluM0tTM0tUS010b0JLMk9Fbmg0V1FQRGJoeHp1dmprdnJ2UVFwUUFxWGRWVGVycGtBT0VVMEhBay9CSXIxL1lVQzluQWdNQkFBR2pnYmd3Z2JVd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JSaWhvRUNCb0cxYlhPZmRzcjRkTFczaHRJNmhqQlZCZ05WSFI4RVRqQk1NRXFnU0tCR2hrUm9kSFJ3Y3pvdkwybHVkQzF3TVM1bGVtUnliM2RwWlM1bmIzWXVjR3d2WTJOd01TOWpjbXd2UTBOUU1VbHVkR1ZuY21GamVXcHVaVk4xWWtOQlYxTlRMbU55YkRBZEJnTlZIUTRFRmdRVXZycFFEUEREeEdsZm5vQXJRVlNyYlNuNHkra3dEZ1lEVlIwUEFRSC9CQVFEQWdlQU1BMEdDU3FHU0liM0RRRUJEUVVBQTRJQ0FRQys2R0xjcmxjL1M0azhzREtpWWcvbXlJNWE1cUNIeEdpY3FzaU8vQTl6MGl1S2l3N1JMNkNmS2RQT2RiZitub0R2ZWs1c09BOGZaRHBWWUhtbHdFOUtMSmswZGVsQ0UySGtiK1pKSHlzYVRYaXRWeDlhWGswYTd3djJ2Q3FMR2xKcXlabzV2ZWNwam84M0I5QkhseUpTRDdWTGw1WFVzRnEvNUluOGRMbm9RaHBKWFN6ZGJKWlNYcVdxQ2hmdE5TSU5nODVmUDBpeWYwWVJPcEZJRVNGTVRGRWNkWUdUNllFRzV0MHNnaUttZm5nYzQ5M0VSdFMyOXBTWUhyTWdGZllNcVFiRm9hUXZnK3VWV3JMczlyaUh6emZMaXR1cnppcUNtL2dROE1CcUpjK2NVcnlCLzRBSEZEUGxQblh2TW1SQ2FKMXV2OFJ3TnJqSWRhT2prSHJkREtxbmJJQ21MclhaMUlrcTQ5NGY4QXNCcjk0bkJydGo0bnlvU2lIQUx3WGJHMVBRQlFtU1RCNmVsbUpHYlRrbGVvOXBjNHZHK29QTWtTR1VNdEcwOS92M1pucHRVREVKUjZEeFBPV1Q3d0pDOVF2WjQxdVZkRFF1aWtXZWwyK1FxaXkyTnBYeHF2VFhnZTFsZlBEYTFWcmwwejU3VnFRUVFrUmlXVjBXMUx2YjRxc3NMRDZqLzltSitndEtRV25NRHlkZGZ3NWpnaGJ4YmRWc0MyUTRCckZlY0VDTjBpTHhNbHJ6WEpuT0dlSE9zSjVIaC9pZG44NlkweW5FSG1mcVBrdjR5M01ORjdvWjg4M29kQlE1RjhSdjZlbGRvSHZTTTZ3N3VCNnVDVmg4YXJuV0k3bCs2dWorOEJucCtiek1NL1VJM2kyVWtKMVhsbGNRNXR4WlVRPT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48ZHM6WDUwOVN1YmplY3ROYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsc2VyaWFsTnVtYmVyPTIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMTogMDAwMDAwMDEyMTA2LGNuPVBvZG1pb3RfbGVjem5pY3p5XzEtdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctMjg3NWExNDgtMWM0NS00N2RkLWJjNGMtNjYxMzViNzM2NDBjIj48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy0yODc1YTE0OC0xYzQ1LTQ3ZGQtYmM0Yy02NjEzNWI3MzY0MGMtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjQ2OjQwLjIyNiswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PGRzOkRpZ2VzdFZhbHVlPkVkSXRYNmdLQXowM2xQZ0dLOFNxTzNsaUc1NTdsL28yNjZ1Z2xtV1psWFU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjkxMjY2NTQ2MDE0MDgwODcxMzE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz48ZHM6RGlnZXN0VmFsdWU+b3R5OXJqazlvK0lJU204LzNHaEYxd1ZrVDBlWUFyeWFCTk5FMUhTdUVHaz08L2RzOkRpZ2VzdFZhbHVlPjwveGFkZXM6Q2VydERpZ2VzdD48eGFkZXM6SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFJvb3RDQTwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+MzE0MTcwMDc4ODYxNzkzNDMxNDwvZHM6WDUwOVNlcmlhbE51bWJlcj48L3hhZGVzOklzc3VlclNlcmlhbD48L3hhZGVzOkNlcnQ+PHhhZGVzOkNlcnQ+PHhhZGVzOkNlcnREaWdlc3Q+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiIvPjxkczpEaWdlc3RWYWx1ZT5kNlZNbDFEWmZhRk9lUjQ1REJIZytGNFBnazk1SFVNSElIcXkxc0Z6MEhBPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+"/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance (PLMedicalEventProvenance)" id="094224f0-4362-49a2-a612-2acdeec9dee7">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance (PLMedicalEventProvenance)" id="fe9ba9cb-5a81-4394-a6b2-89737fc8f47f" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${Zapis zasobu Provenance (PLMedicalEventProvenance)#resourceRequest}</con:request>
            <con:originalUri>https://tsus.ezdrowie.gov.pl/fhir/Provenance/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="c65069ab-e206-41f3-8f19-3e34ac605715" name="[A1] HTTP 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f8db0a4b-3289-4675-81da-9eec7a68c73a" name="[A2] Zwrcono zasb z ID">
              <con:configuration>
                <path>(//*:id/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="_id" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id provenance" id="07edc2ea-2930-48e6-ab28-b894840416a2">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id prov 1</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance (PLPractitionerSignature)</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>pLPractitionerSignatureId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id prov 2</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Provenance (PLMedicalEventProvenance)</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>pLMedicalEventProvenanceId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Provenance (PLPractitionerSignature)" id="484e1ab9-f7a5-4419-ab35-0bfc56c8aa64">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Anulowanie-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Provenance (PLPractitionerSignature)" id="1d61bad0-1ddd-429b-888b-09ae8eb2f21e" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Provenance102077</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="ff6ec400-eac4-40cd-9e82-f34c1bafd8fb" name="[A1] HTTP Status Codes 200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#pLPractitionerSignatureId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Provenance (PLMedicalEventProvenance)" id="708a9908-5595-4895-a5c3-eef2ff5ea139">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Anulowanie-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Provenance (PLMedicalEventProvenance)" id="1d61bad0-1ddd-429b-888b-09ae8eb2f21e" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Provenance</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="2f9088e6-e6e4-4832-accc-c97cef3c0769" name="[A1] HTTP Status Codes 200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#pLMedicalEventProvenanceId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="DELETE Immunization" id="51bfae49-32fc-4532-b8fb-652ff0206228">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Immunization/{id}" methodName="Anulowanie - immunization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="DELETE Immunization" id="e20e54c4-1133-48fa-8096-084cdf54083d" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Immunization/102076</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="f4268563-07b2-4caa-88a7-df510ffa80dc" name="[A1] HTTP Status Codes 200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="${dane#immunizationId}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>rok</con:name>
          <con:value>2020</con:value>
        </con:property>
        <con:property>
          <con:name>miesiac</con:name>
          <con:value>12</con:value>
        </con:property>
        <con:property>
          <con:name>czas</con:name>
          <con:value>2020-12-03T14:13:01.670+0100</con:value>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase id="cd581b84-b7b0-46c4-af91-b0a8a126ba4e" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Zapis danych o szczepieniach pacjenta bez kontekstu zdarzenia medycznego" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Generuj token" id="05b1ecf9-e972-444b-8706-09bfe71d8402">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych" id="424a0049-6b43-4346-b845-7153969a7883">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

String paszportSeria = org.apache.commons.lang.RandomStringUtils.random(2, true, false)
String paszportNum = org.apache.commons.lang.RandomStringUtils.random(7, false, true)
testRunner.testCase.getTestStepByName("dane").setPropertyValue("identyfikatorPacjenta", paszportSeria.toUpperCase()+paszportNum)

String identyfikatorZdarzenia = java.util.UUID.randomUUID().toString()
String korelacjaIdentyfikator = java.util.UUID.randomUUID().toString()
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString()

def formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
def teraz = ZonedDateTime.now()
String data1 = teraz.minusHours(6).format(formatter)
String data2 = teraz.format(formatter)
String data3 = teraz.minusHours(3).format(formatter)

def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("zdarzenieDataPoczatek", data1)
dane.setPropertyValue("locationStart", data1)
dane.setPropertyValue("locationEnd", data3)
dane.setPropertyValue("przepustkaDataPoczatek", data3)
dane.setPropertyValue("przepustkaDataKoniec", data2)
dane.setPropertyValue("locationStart1", data2)
dane.setPropertyValue("podpisData", data2)
dane.setPropertyValue("dataSzczepienia", data2)
dane.setPropertyValue("identyfikatorZdarzenia", identyfikatorZdarzenia)
dane.setPropertyValue("korelacjaIdentyfikator", korelacjaIdentyfikator)
dane.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
dane.setPropertyValue("proceduraDataPoczatek", data1)
dane.setPropertyValue("proceduraDataKoniec", data2)
dane.setPropertyValue("rozpoznanieData", data2)
log.info(identyfikatorZdarzenia)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="ba4b91b2-bf70-4da1-8db2-c3b53ebb58be">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T05:46:51.402+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:46:51.402+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>a3cdca64-7fe1-453c-840f-628a19834abc</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>53bd6ba6-eeb0-47b2-acc6-da0f0e8b9a8d</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>UB5292622</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.4.330.56</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>52433</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>5142537</con:value>
            </con:property>
            <con:property>
              <con:name>provenanceId</con:name>
              <con:value>192048</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>3f9a4171-7837-441e-8cec-bd1185e54c41</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>Senior</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>Sylwester</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart</con:name>
              <con:value>2022-09-02T05:46:51.402+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart1</con:name>
              <con:value>2022-09-02T11:46:51.402+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>Sylwester Senior</con:value>
            </con:property>
            <con:property>
              <con:name>przepustkaDataPoczatek</con:name>
              <con:value>2022-09-02T08:46:51.402+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>przepustkaDataKoniec</con:name>
              <con:value>2022-09-02T11:46:51.402+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationEnd</con:name>
              <con:value>2022-09-02T08:46:51.402+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataPoczatek</con:name>
              <con:value>2022-09-02T05:46:51.402+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataKoniec</con:name>
              <con:value>2022-09-02T11:46:51.402+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>rozpoznanieData</con:name>
              <con:value>2022-09-02T11:46:51.402+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2020-12-03T14:09:26.193+01:00</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48SW1tdW5pemF0aW9uIHhtbG5zPSJodHRwOi8vaGw3Lm9yZy9maGlyIj4KICAgPGlkIHZhbHVlPSI1MTQyNTM5Ii8+CiAgIDxtZXRhPgogICAgICA8dmVyc2lvbklkIHZhbHVlPSIxIi8+CiAgICAgIDxsYXN0VXBkYXRlZCB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0Njo1Mi4yNjcrMDI6MDAiLz4KICAgICAgPHByb2ZpbGUgdmFsdWU9Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QTEltbXVuaXphdGlvblNpbXBsZSIvPgogICAgICA8c2VjdXJpdHk+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuODMiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9Ik4iLz4KICAgICAgPC9zZWN1cml0eT4KICAgPC9tZXRhPgogICA8aW1wbGljaXRSdWxlcyB2YWx1ZT0iMTYuMy4zIi8+CiAgIDxleHRlbnNpb24gdXJsPSJodHRwczovL2V6ZHJvd2llLmdvdi5wbC9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vUExNZWRpY2FsQ2VydGlmaWNhdGVSZWZlcmVuY2UiPgogICAgICA8ZXh0ZW5zaW9uIHVybD0icGFwZXJGb3JtIj4KICAgICAgICAgPHZhbHVlQm9vbGVhbiB2YWx1ZT0idHJ1ZSIvPgogICAgICA8L2V4dGVuc2lvbj4KICAgICAgPGV4dGVuc2lvbiB1cmw9ImFzc2VydGVyIj4KICAgICAgICAgPHZhbHVlUmVmZXJlbmNlPgogICAgICAgICAgICA8aWRlbnRpZmllcj4KICAgICAgICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMS42LjIiLz4KICAgICAgICAgICAgICAgPHZhbHVlIHZhbHVlPSIyNjk4MDQwIi8+CiAgICAgICAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgICAgICAgPGRpc3BsYXkgdmFsdWU9Ik1vbmlrYSBMZWN6bmljemEiLz4KICAgICAgICAgPC92YWx1ZVJlZmVyZW5jZT4KICAgICAgPC9leHRlbnNpb24+CiAgICAgIDxleHRlbnNpb24gdXJsPSJpc3N1ZWQiPgogICAgICAgICA8dmFsdWVEYXRlVGltZSB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0Njo1MS40MDIrMDI6MDAiLz4KICAgICAgPC9leHRlbnNpb24+CiAgIDwvZXh0ZW5zaW9uPgogICA8c3RhdHVzIHZhbHVlPSJub3QtZG9uZSIvPgogICA8c3RhdHVzUmVhc29uPgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjEwMyIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iSU1NVU5FIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJPZHBvcm5vxZvEhyIvPgogICAgICA8L2NvZGluZz4KICAgPC9zdGF0dXNSZWFzb24+CiAgIDx2YWNjaW5lQ29kZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoxLjMuMTYwIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSIwNTkwOTk5MTQ0NTU5MSIvPgogICAgICA8L2NvZGluZz4KICAgICAgPHRleHQgdmFsdWU9IlByZWZsdWNlbCIvPgogICA8L3ZhY2NpbmVDb2RlPgogICA8cGF0aWVudD4KICAgICAgPHJlZmVyZW5jZSB2YWx1ZT0iUGF0aWVudC81MTQyNTM3Ii8+CiAgICAgIDx0eXBlIHZhbHVlPSJQYXRpZW50Ii8+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjQuMzMwLjU2Ii8+CiAgICAgICAgIDx2YWx1ZSB2YWx1ZT0iVUI1MjkyNjIyIi8+CiAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgPGRpc3BsYXkgdmFsdWU9IlN5bHdlc3RlciBTZW5pb3IiLz4KICAgPC9wYXRpZW50PgogICA8b2NjdXJyZW5jZURhdGVUaW1lIHZhbHVlPSIyMDIyLTA5LTAyVDExOjQ2OjUxLjQwMiswMjowMCIvPgogICA8bG9jYXRpb24+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMyIvPgogICAgICAgICA8dmFsdWUgdmFsdWU9IjAwMDAwMDAxMjEwNi0wMDEiLz4KICAgICAgPC9pZGVudGlmaWVyPgogICA8L2xvY2F0aW9uPgogICA8bWFudWZhY3R1cmVyPgogICAgICA8ZGlzcGxheSB2YWx1ZT0idGVzdCIvPgogICA8L21hbnVmYWN0dXJlcj4KICAgPGxvdE51bWJlciB2YWx1ZT0iQUFKTjExSyIvPgogICA8c2l0ZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDEiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9IkxBIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJMZXdlIHJhbWnEmSIvPgogICAgICA8L2NvZGluZz4KICAgPC9zaXRlPgogICA8cm91dGU+CiAgICAgIDxjb2Rpbmc+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuMTAyIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSJJTSIvPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iSW5pZWtjamEgZG9tacSZxZtuaW93YSIvPgogICAgICA8L2NvZGluZz4KICAgPC9yb3V0ZT4KICAgPGRvc2VRdWFudGl0eT4KICAgICAgPHZhbHVlIHZhbHVlPSIwLjUiLz4KICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My42LjgiLz4KICAgICAgPGNvZGUgdmFsdWU9Ik1MIi8+CiAgIDwvZG9zZVF1YW50aXR5PgogICA8cGVyZm9ybWVyPgogICAgICA8YWN0b3I+CiAgICAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xLjYuMiIvPgogICAgICAgICAgICA8dmFsdWUgdmFsdWU9IjI2OTgwNDAiLz4KICAgICAgICAgPC9pZGVudGlmaWVyPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iTW9uaWthIExlY3puaWN6YSIvPgogICAgICA8L2FjdG9yPgogICA8L3BlcmZvcm1lcj4KICAgPG5vdGU+CiAgICAgIDx0ZXh0IHZhbHVlPSJOb3RlcyBvbiBhZG1pbnN0cmF0aW9uIG9mIHZhY2NpbmUiLz4KICAgPC9ub3RlPgogICA8ZnVuZGluZ1NvdXJjZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDUiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9InByaXZhdGUiLz4KICAgICAgPC9jb2Rpbmc+CiAgIDwvZnVuZGluZ1NvdXJjZT4KICAgPHByb3RvY29sQXBwbGllZD4KICAgICAgPHRhcmdldERpc2Vhc2U+CiAgICAgICAgIDxjb2Rpbmc+CiAgICAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjIuNiIvPgogICAgICAgICAgICA8Y29kZSB2YWx1ZT0iOTkuNTU3Ii8+CiAgICAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJTemN6ZXBpZW5pZSBwcnplY2l3IENPVklELTE5Ii8+CiAgICAgICAgIDwvY29kaW5nPgogICAgICA8L3RhcmdldERpc2Vhc2U+CiAgICAgIDxkb3NlTnVtYmVyUG9zaXRpdmVJbnQgdmFsdWU9IjEiLz4KICAgICAgPHNlcmllc0Rvc2VzUG9zaXRpdmVJbnQgdmFsdWU9IjIiLz4KICAgPC9wcm90b2NvbEFwcGxpZWQ+CjxkczpTaWduYXR1cmUgeG1sbnM6ZHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiIElkPSJ4bWxkc2lnLTExNzNmZjM5LTU5NmUtNGJjNi04NmYzLTRiNzg0MGEwNDM0MCI+PGRzOlNpZ25lZEluZm8+PGRzOkNhbm9uaWNhbGl6YXRpb25NZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjxkczpTaWduYXR1cmVNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjcnNhLXNoYTEiLz48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTExNzNmZjM5LTU5NmUtNGJjNi04NmYzLTRiNzg0MGEwNDM0MC1yZWYwIiBVUkk9IiI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNlbnZlbG9wZWQtc2lnbmF0dXJlIi8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5FRW1HbXRtYjdKQTNuMEJ3K0NONlIwcVVVa0U9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy0xMTczZmYzOS01OTZlLTRiYzYtODZmMy00Yjc4NDBhMDQzNDAtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+dUU1S0ZoMVZuYmV5RVFIRDJxNDdGb0JlZW5jPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PC9kczpTaWduZWRJbmZvPjxkczpTaWduYXR1cmVWYWx1ZSBJZD0ieG1sZHNpZy0xMTczZmYzOS01OTZlLTRiYzYtODZmMy00Yjc4NDBhMDQzNDAtc2lndmFsdWUiPlNxMnpzYjExbWVEUloyR1F3Rk8zUjY4ek5PZkMxRlJXWjNyVU03Qnk2ZVlzWjFYdFFKWlI2OFU3TmI0UXI3OXhSMjZzcnJlbk5yY2pyU0c0V0kyNmNyRnJ4MmxQZFVFS2JVTEZESXlYdDA0NlFMZ0FRazJPcFhsSSsrS291Y252RVBydmxDQnBVWVgzaG5wZW5sUjFvcGpoRCtKTW5QNk9iTkcwbXJ5UnUwZ1ZyNGFsMnVUcDdiZ2c0NFQ0Zk1VVWRmdlIvbE5kdXl1ZHJnd0gzeGdKRnVtZ1FuNWVRL1FiVXg0a2MwcXVnbVN3TlJhTGFROWpqL0d3RWZvb2NST1F0UXcrS3FGODM4TU04OEtiWDZIVTgwTjNGaWt4UWdrSUtVSEdEVDVVa1c0bXE3NHd0VVR3amZpTXlPM1g2RWtsRzVXM1BKNngxRWZqcDZGMFJzSm94dz09PC9kczpTaWduYXR1cmVWYWx1ZT48ZHM6S2V5SW5mbz48ZHM6WDUwOURhdGE+PGRzOlg1MDlDZXJ0aWZpY2F0ZT5NSUlGRVRDQ0F2bWdBd0lCQWdJSVd6VGtKT1BycHJVd0RRWUpLb1pJaHZjTkFRRU5CUUF3VVRFWU1CWUdBMVVFQXd3UFEwTWdVREVnVTNWaVEwRWdWMU5UTVJnd0ZnWURWUVFMREE5UU1TQkpiblJsWjNKaFkzbHFibVV4RGpBTUJnTlZCQW9NQlVOVFNVOWFNUXN3Q1FZRFZRUUdFd0pRVERBZUZ3MHlNVEV5TURNeE1URTNNekZhRncweU16RXlNRE14TVRFM016RmFNSUdFTVM0d0xBWURWUVFERENWaGMzbHpkR1Z1ZEY5cGJuUXlMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01Sc3dHUVlEVlFRRkV4SlFSVk5GVERvZ056SXhNREkyTWpneE56SXhHREFXQmdOVkJBc01EMUF4SUVsdWRHVm5jbUZqZVdwdVpURU9NQXdHQTFVRUNnd0ZRMU5KVDFveEN6QUpCZ05WQkFZVEFsQk1NSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXZsOTFQbDdjQ0NWV241NWh1dG5kbERHeE02enZUL1RxTThYVEs4TUZ2ai95UlBXdHdDalNsRzFwNDVHMkNRR0dXVUNvYWU3S013dGpGMUJvVm1CbzM0cndCY1JuY2gyYXF1SXdXUVVQUUNqdHNsUk9BenFnRGd2QUw3anduMUFSZVpNdXhpSm9zWlhLMW1iMTN1QnBDMGI3VkNpd0sveUt0WTRjL3RiWHEwU2NpZDNYMldaZGxSUmhWbUJHbWUwQkgzTzRZR2tVajZXZHl5STZaMnhNM1FabnNaMG94TEt5ZWRYY1pSNDBsbmp1TlVFc29CbkNxekpyR1BjMGdNK1QyZ3VMcHFKTktIWWptaTBVSkIwVEk2QUpuYWNDRTJxalJmQ29Vbm1qYU5KdUJQeFBqMUE3Y2o0OFo5NlhtY29DMHY4M1p5d3FjLy9nSmwwWUFuQ3p0UUlEQVFBQm80RzRNSUcxTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwakJCZ3dGb0FVWW9hQkFnYUJ0VzF6bjNiSytIUzF0NGJTT29Zd1ZRWURWUjBmQkU0d1REQktvRWlnUm9aRWFIUjBjSE02THk5cGJuUXRjREV1Wlhwa2NtOTNhV1V1WjI5MkxuQnNMMk5qY0RFdlkzSnNMME5EVURGSmJuUmxaM0poWTNscWJtVlRkV0pEUVZkVFV5NWpjbXd3SFFZRFZSME9CQllFRkc2Ylc4NnJFekRvMHM4UWlLVHlEcTZYazVlV01BNEdBMVVkRHdFQi93UUVBd0lIZ0RBTkJna3Foa2lHOXcwQkFRMEZBQU9DQWdFQXd0NlVqV3dDandEUitqZmd0QlBOazJ1SEVVNS9FRXFHYkdrY0NjNmNUU3VXelFsb1lBNFhyWVlzOFJzZlNqQ2ZUT2tZeTNWZFZxdm1Nc3ZEajJLcGJzSEZTcG1XcG5OaExrRnF1MElzaTRhNW9Cc1lPWVJuNlRvNis0bExFYmdsNUJYMDdCK0pTcXNXanZORlhYUTI4K043Ris4ekZ6U2UrSDJnb3kwV004dlhNbGFuSWlPeWtHMnpBanErdlJWdXVqVzkzaDdKSXJ1dXEra0JXY3ZqWWFtVVNqNlk3bmUvRVJxVmpmdkdicStrbmxkb2pvUzVYMURVYkZqV0pCc3U3cnFtVVFibXl2ZjI0NWdFWExocG45dGRBOEFMT29GdGMya0haY0FSY2ZLbXkxVUExQVNINmZwSG9xSWlTZ01MRThmWnFPTkFqTGtWaVFtS0NlKzBncFlyVDcrR0xkcGo0M1ZmeS9tQ0dkWFBhSEhoUHJGUVUxRjVzVGVYMjNyQXB6MEJYTUltZFBuL3daWitid20ycUFvV1VnS0F5VnJUVytGR3Q4dUJmN3NmWlN5Ny9WTS9ZaWtheGxsR2xhTERUa0RtV21oNzdMbGlvRXUwbk9yeXZDeGw2UjFDY25jZnV4dFd5YTZRMFY2TWtXSU80VVJkalJLaElBWTdrU0gvZ2xVcVIraG96a0JNRHRHQUNPSDV4M1ErWXpDbFRUeXltYXpvTm1hazJrMnhFMjNkR1NIN3VEMmJZdStxbWEyMW5xU3NSMmlxWkNUVHJQbUdLeVZ4UmVIa01GL2VOd2JOczlscEk4c2gwVFJkeTR2K09KVGpTR2RmUC9Qb2l4ODNKVXpqL1hndHd5RHJOSlBKUGxXc0VXUFRCY2d2OVdrNHlMcnQ4OFFvT1pZPTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9UEVTRUw6IDcyMTAyNjI4MTcyLGNuPWFzeXN0ZW50X2ludDItdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjY1NzIxMjg2MDMzMzQyMjM1NDE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctMTE3M2ZmMzktNTk2ZS00YmM2LTg2ZjMtNGI3ODQwYTA0MzQwIj48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy0xMTczZmYzOS01OTZlLTRiYzYtODZmMy00Yjc4NDBhMDQzNDAtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjQ2OjUyLjUwOCswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+RDdoam11VUlITXV1NFBMVDNCUExDNjcwalp3PTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj42NTcyMTI4NjAzMzM0MjIzNTQxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+SHVQdGw2TElqdDAyTngzRUJoMnRzbEtVZ25FPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+VUZQdXVVM2hwQjEzQlVLMkdyTVkvTzQ1cFZNPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+PC9JbW11bml6YXRpb24+</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationId</con:name>
              <con:value>5142539</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationResource</con:name>
              <con:value><![CDATA[<Immunization xmlns="http://hl7.org/fhir">
   <id value="5142539"/>
   <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:46:52.267+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLImmunizationSimple"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <implicitRules value="16.3.3"/>
   <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalCertificateReference">
      <extension url="paperForm">
         <valueBoolean value="true"/>
      </extension>
      <extension url="asserter">
         <valueReference>
            <identifier>
               <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
               <value value="2698040"/>
            </identifier>
            <display value="Monika Lecznicza"/>
         </valueReference>
      </extension>
      <extension url="issued">
         <valueDateTime value="2022-09-02T11:46:51.402+02:00"/>
      </extension>
   </extension>
   <status value="not-done"/>
   <statusReason>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.103"/>
         <code value="IMMUNE"/>
         <display value="Odporno"/>
      </coding>
   </statusReason>
   <vaccineCode>
      <coding>
         <system value="urn:oid:1.3.160"/>
         <code value="05909991445591"/>
      </coding>
      <text value="Preflucel"/>
   </vaccineCode>
   <patient>
      <reference value="Patient/5142537"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="UB5292622"/>
      </identifier>
      <display value="Sylwester Senior"/>
   </patient>
   <occurrenceDateTime value="2022-09-02T11:46:51.402+02:00"/>
   <location>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
         <value value="000000012106-001"/>
      </identifier>
   </location>
   <manufacturer>
      <display value="test"/>
   </manufacturer>
   <lotNumber value="AAJN11K"/>
   <site>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.101"/>
         <code value="LA"/>
         <display value="Lewe rami"/>
      </coding>
   </site>
   <route>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.102"/>
         <code value="IM"/>
         <display value="Iniekcja dominiowa"/>
      </coding>
   </route>
   <doseQuantity>
      <value value="0.5"/>
      <system value="urn:oid:2.16.840.1.113883.6.8"/>
      <code value="ML"/>
   </doseQuantity>
   <performer>
      <actor>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
            <value value="2698040"/>
         </identifier>
         <display value="Monika Lecznicza"/>
      </actor>
   </performer>
   <note>
      <text value="Notes on adminstration of vaccine"/>
   </note>
   <fundingSource>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.105"/>
         <code value="private"/>
      </coding>
   </fundingSource>
   <protocolApplied>
      <targetDisease>
         <coding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
            <code value="99.557"/>
            <display value="Szczepienie przeciw COVID-19"/>
         </coding>
      </targetDisease>
      <doseNumberPositiveInt value="1"/>
      <seriesDosesPositiveInt value="2"/>
   </protocolApplied>
</Immunization>]]></con:value>
            </con:property>
            <con:property>
              <con:name>immunizationStatus</con:name>
              <con:value>not-done</con:value>
            </con:property>
            <con:property>
              <con:name>zrodloFinansowania</con:name>
              <con:value>private</con:value>
            </con:property>
            <con:property>
              <con:name>dataSzczepienia</con:name>
              <con:value>2022-09-02T11:46:51.402+02:00</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="patientXML" id="5d854cf7-6390-4bdf-af80-ce6313fa587b">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>patient-paszport.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Patient xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPatient"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
      <value value="UB5292622"/>
   </identifier>
   <name>
      <family value="Senior"/>
      <given value="Sylwester"/>
   </name>
   <telecom>
      <system value="phone"/>
      <value value="+32475556791"/>
   </telecom>
   <gender value="male"/>
   <birthDate value="1960-06-30"/>
</Patient>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Patient" id="b546958d-3b2e-443e-98b9-4dee8c20e10b">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Patient/{id}" methodName="Zapis-patient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Patient" id="9c748457-9d7a-4eb1-8d90-bc42603ba6a6" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${patientXML#resourceRequest}</con:request>
            <con:originalUri>http://10.0.38.215/fhir/Patient</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a0ba0d9a-6ecb-4f58-9ecd-df42ec5ef5b0" name="A1 - Valid HTTP Status Codes - 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="5b6e5f13-42fa-4ca3-8f8e-8cb8be047d6a" name="A2 - id patient">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';

exists(//*:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="identifier" value=""/>
              <con:entry key="plgiven" value=""/>
              <con:entry key="birthdate" value=""/>
              <con:entry key="gender" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="_id" value=""/>
              <con:entry key="encounter" value=""/>
              <con:entry key="plfamily" value=""/>
              <con:entry key="_sort" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plfamily</con:entry>
              <con:entry>plgiven</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>gender</con:entry>
              <con:entry>birthdate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id patient" id="ea05d5d5-1410-47fe-be89-302d2e48f3b6">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="immunizationXML" id="80074e4d-6bc5-4133-ac0d-1a2f82418eb0">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>immunization-simple-statusReason.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Immunization xmlns="http://hl7.org/fhir">
    					
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLImmunizationSimple"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalCertificateReference">
		<extension url="paperForm">
			<valueBoolean value="true"/>
		</extension>
		<extension url="asserter">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
			</valueReference>
		</extension>
					<extension url="issued">
			<valueDateTime value="2022-09-02T11:46:51.402+02:00"/>
		</extension>
	</extension>
	<status value="not-done"/>
	<statusReason>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.103"/>
			<code value="IMMUNE"/>
			<display value="Odporno"/>
		</coding>
	</statusReason>	
	<vaccineCode>
		<coding>
			<system value="urn:oid:1.3.160"/>
			<code value="05909991445591"/>
		</coding>
		<text value="Preflucel"/>
	</vaccineCode>
	<patient>
		<reference value="Patient/5142537"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
			<value value="UB5292622"/>
		</identifier>
		<display value="Sylwester Senior"/>
	</patient>
	<occurrenceDateTime value="2022-09-02T11:46:51.402+02:00"/>
	<location>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
		</identifier>
	</location>
	<manufacturer>
		<display value="test"/>
	</manufacturer>
	<lotNumber value="AAJN11K"/>
	<site>	
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.101"/>
			<code value="LA"/>
			<display value="Lewe rami"/>
		</coding>
	</site>
	<route>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.102"/>
			<code value="IM"/>
			<display value="Iniekcja dominiowa"/>
		</coding>
	</route>
	<doseQuantity>
		<value value="0.5"/>
		<system value="urn:oid:2.16.840.1.113883.6.8"/>
		<code value="ML"/>
	</doseQuantity>
	<performer>
		<actor>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
		</actor>
	</performer>
	<note>
		<text value="Notes on adminstration of vaccine"/>
	</note>
	<fundingSource>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.105"/>
			<code value="private"/>
		</coding>
	</fundingSource>
	<protocolApplied>
		<targetDisease>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
				<code value="99.557"/>
				<display value="Szczepienie przeciw COVID-19"/>
			</coding>
		</targetDisease>
		<doseNumberPositiveInt value="1"/>
		<seriesDosesPositiveInt value="2"/>
	</protocolApplied>
</Immunization>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Immunization" id="608b2f3a-e5d0-4d5a-86db-25084f45922a">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Immunization/{id}" methodName="Zapis-immunization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Immunization" id="21f50763-d789-4c07-9a1a-e8fbea2e823f" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${immunizationXML#resourceRequest}</con:request>
            <con:originalUri>https://tsus.ezdrowie.gov.pl/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a6126f75-5518-4db4-be38-5bfa8870ace2" name="[A1] HTTP 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="62c10708-7c55-4a9b-8ee8-ab6530c5c8d2" name="[A2] Zwrcono zasb z ID">
              <con:configuration>
                <path>(//*:id/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="date" value=""/>
              <con:entry key="patient" value=""/>
              <con:entry key="plsubject" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="status" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>date</con:entry>
              <con:entry>status</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id immunization" id="84d2ca3d-f6d5-4b98-b942-98bcc6fd86bf">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>immunizationId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization</con:sourceStep>
            <con:sourcePath>//*:versionId/@value</con:sourcePath>
            <con:targetType>immunizationVersion</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>resource</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>immunizationResource</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Podpis zasobu Immunization" id="02261cb0-b684-49ce-83c7-0973e6fddd50">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String resource = context.expand('${dane#immunizationResource}')
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu2}');
String certPass = context.expand('${#Project#hasloCertyfikatu2}');


String podpis = PodpisKwalifikowany.podpiszDokumentDowolnymCertyfikatem(resource,certPath, certPass);
String encode = podpis.getBytes("UTF-8").encodeBase64().toString()
testRunner.testCase.testSteps['dane'].setPropertyValue("binaryPodpis",encode);
log.info(podpis)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Zapis zasobu provenance (PLPractitionerSignature)" id="ffe9424e-de92-4e10-b8e3-ea32b29859a3">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-immunization-simple.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPractitionerSignature"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Immunization/5142539"/>
		<type value="Immunization"/>
	</target>
	<recorded value="2022-09-02T11:46:51.402+02:00"/>
	<agent>
		<role>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.85"/>
				<code value="LEK"/>
			</coding>
		</role>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="5262172"/>
			</identifier>
			<display value="Adam210 Leczniczy"/>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.87"/>
			<code value="1.2.840.10065.1.12.1.6"/>
		</type>
		<when value="2022-09-02T11:46:51.402+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</who>
		<onBehalfOf>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</onBehalfOf>
		<targetFormat value="application/fhir+json"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48SW1tdW5pemF0aW9uIHhtbG5zPSJodHRwOi8vaGw3Lm9yZy9maGlyIj4KICAgPGlkIHZhbHVlPSI1MTQyNTM5Ii8+CiAgIDxtZXRhPgogICAgICA8dmVyc2lvbklkIHZhbHVlPSIxIi8+CiAgICAgIDxsYXN0VXBkYXRlZCB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0Njo1Mi4yNjcrMDI6MDAiLz4KICAgICAgPHByb2ZpbGUgdmFsdWU9Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QTEltbXVuaXphdGlvblNpbXBsZSIvPgogICAgICA8c2VjdXJpdHk+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuODMiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9Ik4iLz4KICAgICAgPC9zZWN1cml0eT4KICAgPC9tZXRhPgogICA8aW1wbGljaXRSdWxlcyB2YWx1ZT0iMTYuMy4zIi8+CiAgIDxleHRlbnNpb24gdXJsPSJodHRwczovL2V6ZHJvd2llLmdvdi5wbC9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vUExNZWRpY2FsQ2VydGlmaWNhdGVSZWZlcmVuY2UiPgogICAgICA8ZXh0ZW5zaW9uIHVybD0icGFwZXJGb3JtIj4KICAgICAgICAgPHZhbHVlQm9vbGVhbiB2YWx1ZT0idHJ1ZSIvPgogICAgICA8L2V4dGVuc2lvbj4KICAgICAgPGV4dGVuc2lvbiB1cmw9ImFzc2VydGVyIj4KICAgICAgICAgPHZhbHVlUmVmZXJlbmNlPgogICAgICAgICAgICA8aWRlbnRpZmllcj4KICAgICAgICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMS42LjIiLz4KICAgICAgICAgICAgICAgPHZhbHVlIHZhbHVlPSIyNjk4MDQwIi8+CiAgICAgICAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgICAgICAgPGRpc3BsYXkgdmFsdWU9Ik1vbmlrYSBMZWN6bmljemEiLz4KICAgICAgICAgPC92YWx1ZVJlZmVyZW5jZT4KICAgICAgPC9leHRlbnNpb24+CiAgICAgIDxleHRlbnNpb24gdXJsPSJpc3N1ZWQiPgogICAgICAgICA8dmFsdWVEYXRlVGltZSB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0Njo1MS40MDIrMDI6MDAiLz4KICAgICAgPC9leHRlbnNpb24+CiAgIDwvZXh0ZW5zaW9uPgogICA8c3RhdHVzIHZhbHVlPSJub3QtZG9uZSIvPgogICA8c3RhdHVzUmVhc29uPgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjEwMyIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iSU1NVU5FIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJPZHBvcm5vxZvEhyIvPgogICAgICA8L2NvZGluZz4KICAgPC9zdGF0dXNSZWFzb24+CiAgIDx2YWNjaW5lQ29kZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoxLjMuMTYwIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSIwNTkwOTk5MTQ0NTU5MSIvPgogICAgICA8L2NvZGluZz4KICAgICAgPHRleHQgdmFsdWU9IlByZWZsdWNlbCIvPgogICA8L3ZhY2NpbmVDb2RlPgogICA8cGF0aWVudD4KICAgICAgPHJlZmVyZW5jZSB2YWx1ZT0iUGF0aWVudC81MTQyNTM3Ii8+CiAgICAgIDx0eXBlIHZhbHVlPSJQYXRpZW50Ii8+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjQuMzMwLjU2Ii8+CiAgICAgICAgIDx2YWx1ZSB2YWx1ZT0iVUI1MjkyNjIyIi8+CiAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgPGRpc3BsYXkgdmFsdWU9IlN5bHdlc3RlciBTZW5pb3IiLz4KICAgPC9wYXRpZW50PgogICA8b2NjdXJyZW5jZURhdGVUaW1lIHZhbHVlPSIyMDIyLTA5LTAyVDExOjQ2OjUxLjQwMiswMjowMCIvPgogICA8bG9jYXRpb24+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMyIvPgogICAgICAgICA8dmFsdWUgdmFsdWU9IjAwMDAwMDAxMjEwNi0wMDEiLz4KICAgICAgPC9pZGVudGlmaWVyPgogICA8L2xvY2F0aW9uPgogICA8bWFudWZhY3R1cmVyPgogICAgICA8ZGlzcGxheSB2YWx1ZT0idGVzdCIvPgogICA8L21hbnVmYWN0dXJlcj4KICAgPGxvdE51bWJlciB2YWx1ZT0iQUFKTjExSyIvPgogICA8c2l0ZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDEiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9IkxBIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJMZXdlIHJhbWnEmSIvPgogICAgICA8L2NvZGluZz4KICAgPC9zaXRlPgogICA8cm91dGU+CiAgICAgIDxjb2Rpbmc+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuMTAyIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSJJTSIvPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iSW5pZWtjamEgZG9tacSZxZtuaW93YSIvPgogICAgICA8L2NvZGluZz4KICAgPC9yb3V0ZT4KICAgPGRvc2VRdWFudGl0eT4KICAgICAgPHZhbHVlIHZhbHVlPSIwLjUiLz4KICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My42LjgiLz4KICAgICAgPGNvZGUgdmFsdWU9Ik1MIi8+CiAgIDwvZG9zZVF1YW50aXR5PgogICA8cGVyZm9ybWVyPgogICAgICA8YWN0b3I+CiAgICAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xLjYuMiIvPgogICAgICAgICAgICA8dmFsdWUgdmFsdWU9IjI2OTgwNDAiLz4KICAgICAgICAgPC9pZGVudGlmaWVyPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iTW9uaWthIExlY3puaWN6YSIvPgogICAgICA8L2FjdG9yPgogICA8L3BlcmZvcm1lcj4KICAgPG5vdGU+CiAgICAgIDx0ZXh0IHZhbHVlPSJOb3RlcyBvbiBhZG1pbnN0cmF0aW9uIG9mIHZhY2NpbmUiLz4KICAgPC9ub3RlPgogICA8ZnVuZGluZ1NvdXJjZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDUiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9InByaXZhdGUiLz4KICAgICAgPC9jb2Rpbmc+CiAgIDwvZnVuZGluZ1NvdXJjZT4KICAgPHByb3RvY29sQXBwbGllZD4KICAgICAgPHRhcmdldERpc2Vhc2U+CiAgICAgICAgIDxjb2Rpbmc+CiAgICAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjIuNiIvPgogICAgICAgICAgICA8Y29kZSB2YWx1ZT0iOTkuNTU3Ii8+CiAgICAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJTemN6ZXBpZW5pZSBwcnplY2l3IENPVklELTE5Ii8+CiAgICAgICAgIDwvY29kaW5nPgogICAgICA8L3RhcmdldERpc2Vhc2U+CiAgICAgIDxkb3NlTnVtYmVyUG9zaXRpdmVJbnQgdmFsdWU9IjEiLz4KICAgICAgPHNlcmllc0Rvc2VzUG9zaXRpdmVJbnQgdmFsdWU9IjIiLz4KICAgPC9wcm90b2NvbEFwcGxpZWQ+CjxkczpTaWduYXR1cmUgeG1sbnM6ZHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiIElkPSJ4bWxkc2lnLTExNzNmZjM5LTU5NmUtNGJjNi04NmYzLTRiNzg0MGEwNDM0MCI+PGRzOlNpZ25lZEluZm8+PGRzOkNhbm9uaWNhbGl6YXRpb25NZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjxkczpTaWduYXR1cmVNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjcnNhLXNoYTEiLz48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTExNzNmZjM5LTU5NmUtNGJjNi04NmYzLTRiNzg0MGEwNDM0MC1yZWYwIiBVUkk9IiI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNlbnZlbG9wZWQtc2lnbmF0dXJlIi8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5FRW1HbXRtYjdKQTNuMEJ3K0NONlIwcVVVa0U9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy0xMTczZmYzOS01OTZlLTRiYzYtODZmMy00Yjc4NDBhMDQzNDAtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+dUU1S0ZoMVZuYmV5RVFIRDJxNDdGb0JlZW5jPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PC9kczpTaWduZWRJbmZvPjxkczpTaWduYXR1cmVWYWx1ZSBJZD0ieG1sZHNpZy0xMTczZmYzOS01OTZlLTRiYzYtODZmMy00Yjc4NDBhMDQzNDAtc2lndmFsdWUiPlNxMnpzYjExbWVEUloyR1F3Rk8zUjY4ek5PZkMxRlJXWjNyVU03Qnk2ZVlzWjFYdFFKWlI2OFU3TmI0UXI3OXhSMjZzcnJlbk5yY2pyU0c0V0kyNmNyRnJ4MmxQZFVFS2JVTEZESXlYdDA0NlFMZ0FRazJPcFhsSSsrS291Y252RVBydmxDQnBVWVgzaG5wZW5sUjFvcGpoRCtKTW5QNk9iTkcwbXJ5UnUwZ1ZyNGFsMnVUcDdiZ2c0NFQ0Zk1VVWRmdlIvbE5kdXl1ZHJnd0gzeGdKRnVtZ1FuNWVRL1FiVXg0a2MwcXVnbVN3TlJhTGFROWpqL0d3RWZvb2NST1F0UXcrS3FGODM4TU04OEtiWDZIVTgwTjNGaWt4UWdrSUtVSEdEVDVVa1c0bXE3NHd0VVR3amZpTXlPM1g2RWtsRzVXM1BKNngxRWZqcDZGMFJzSm94dz09PC9kczpTaWduYXR1cmVWYWx1ZT48ZHM6S2V5SW5mbz48ZHM6WDUwOURhdGE+PGRzOlg1MDlDZXJ0aWZpY2F0ZT5NSUlGRVRDQ0F2bWdBd0lCQWdJSVd6VGtKT1BycHJVd0RRWUpLb1pJaHZjTkFRRU5CUUF3VVRFWU1CWUdBMVVFQXd3UFEwTWdVREVnVTNWaVEwRWdWMU5UTVJnd0ZnWURWUVFMREE5UU1TQkpiblJsWjNKaFkzbHFibVV4RGpBTUJnTlZCQW9NQlVOVFNVOWFNUXN3Q1FZRFZRUUdFd0pRVERBZUZ3MHlNVEV5TURNeE1URTNNekZhRncweU16RXlNRE14TVRFM016RmFNSUdFTVM0d0xBWURWUVFERENWaGMzbHpkR1Z1ZEY5cGJuUXlMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01Sc3dHUVlEVlFRRkV4SlFSVk5GVERvZ056SXhNREkyTWpneE56SXhHREFXQmdOVkJBc01EMUF4SUVsdWRHVm5jbUZqZVdwdVpURU9NQXdHQTFVRUNnd0ZRMU5KVDFveEN6QUpCZ05WQkFZVEFsQk1NSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXZsOTFQbDdjQ0NWV241NWh1dG5kbERHeE02enZUL1RxTThYVEs4TUZ2ai95UlBXdHdDalNsRzFwNDVHMkNRR0dXVUNvYWU3S013dGpGMUJvVm1CbzM0cndCY1JuY2gyYXF1SXdXUVVQUUNqdHNsUk9BenFnRGd2QUw3anduMUFSZVpNdXhpSm9zWlhLMW1iMTN1QnBDMGI3VkNpd0sveUt0WTRjL3RiWHEwU2NpZDNYMldaZGxSUmhWbUJHbWUwQkgzTzRZR2tVajZXZHl5STZaMnhNM1FabnNaMG94TEt5ZWRYY1pSNDBsbmp1TlVFc29CbkNxekpyR1BjMGdNK1QyZ3VMcHFKTktIWWptaTBVSkIwVEk2QUpuYWNDRTJxalJmQ29Vbm1qYU5KdUJQeFBqMUE3Y2o0OFo5NlhtY29DMHY4M1p5d3FjLy9nSmwwWUFuQ3p0UUlEQVFBQm80RzRNSUcxTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwakJCZ3dGb0FVWW9hQkFnYUJ0VzF6bjNiSytIUzF0NGJTT29Zd1ZRWURWUjBmQkU0d1REQktvRWlnUm9aRWFIUjBjSE02THk5cGJuUXRjREV1Wlhwa2NtOTNhV1V1WjI5MkxuQnNMMk5qY0RFdlkzSnNMME5EVURGSmJuUmxaM0poWTNscWJtVlRkV0pEUVZkVFV5NWpjbXd3SFFZRFZSME9CQllFRkc2Ylc4NnJFekRvMHM4UWlLVHlEcTZYazVlV01BNEdBMVVkRHdFQi93UUVBd0lIZ0RBTkJna3Foa2lHOXcwQkFRMEZBQU9DQWdFQXd0NlVqV3dDandEUitqZmd0QlBOazJ1SEVVNS9FRXFHYkdrY0NjNmNUU3VXelFsb1lBNFhyWVlzOFJzZlNqQ2ZUT2tZeTNWZFZxdm1Nc3ZEajJLcGJzSEZTcG1XcG5OaExrRnF1MElzaTRhNW9Cc1lPWVJuNlRvNis0bExFYmdsNUJYMDdCK0pTcXNXanZORlhYUTI4K043Ris4ekZ6U2UrSDJnb3kwV004dlhNbGFuSWlPeWtHMnpBanErdlJWdXVqVzkzaDdKSXJ1dXEra0JXY3ZqWWFtVVNqNlk3bmUvRVJxVmpmdkdicStrbmxkb2pvUzVYMURVYkZqV0pCc3U3cnFtVVFibXl2ZjI0NWdFWExocG45dGRBOEFMT29GdGMya0haY0FSY2ZLbXkxVUExQVNINmZwSG9xSWlTZ01MRThmWnFPTkFqTGtWaVFtS0NlKzBncFlyVDcrR0xkcGo0M1ZmeS9tQ0dkWFBhSEhoUHJGUVUxRjVzVGVYMjNyQXB6MEJYTUltZFBuL3daWitid20ycUFvV1VnS0F5VnJUVytGR3Q4dUJmN3NmWlN5Ny9WTS9ZaWtheGxsR2xhTERUa0RtV21oNzdMbGlvRXUwbk9yeXZDeGw2UjFDY25jZnV4dFd5YTZRMFY2TWtXSU80VVJkalJLaElBWTdrU0gvZ2xVcVIraG96a0JNRHRHQUNPSDV4M1ErWXpDbFRUeXltYXpvTm1hazJrMnhFMjNkR1NIN3VEMmJZdStxbWEyMW5xU3NSMmlxWkNUVHJQbUdLeVZ4UmVIa01GL2VOd2JOczlscEk4c2gwVFJkeTR2K09KVGpTR2RmUC9Qb2l4ODNKVXpqL1hndHd5RHJOSlBKUGxXc0VXUFRCY2d2OVdrNHlMcnQ4OFFvT1pZPTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9UEVTRUw6IDcyMTAyNjI4MTcyLGNuPWFzeXN0ZW50X2ludDItdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjY1NzIxMjg2MDMzMzQyMjM1NDE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctMTE3M2ZmMzktNTk2ZS00YmM2LTg2ZjMtNGI3ODQwYTA0MzQwIj48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy0xMTczZmYzOS01OTZlLTRiYzYtODZmMy00Yjc4NDBhMDQzNDAtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjQ2OjUyLjUwOCswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+RDdoam11VUlITXV1NFBMVDNCUExDNjcwalp3PTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj42NTcyMTI4NjAzMzM0MjIzNTQxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+SHVQdGw2TElqdDAyTngzRUJoMnRzbEtVZ25FPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+VUZQdXVVM2hwQjEzQlVLMkdyTVkvTzQ1cFZNPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+PC9JbW11bml6YXRpb24+"/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance (PLPractitionerSignature)" id="fbbd966e-bb7a-48f4-b875-1e04d0c05879">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance (PLPractitionerSignature)" id="fe9ba9cb-5a81-4394-a6b2-89737fc8f47f" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${Zapis zasobu provenance (PLPractitionerSignature)#resourceRequest}</con:request>
            <con:originalUri>https://tsus.ezdrowie.gov.pl/fhir/Provenance/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="c65069ab-e206-41f3-8f19-3e34ac605715" name="[A1] HTTP 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f8db0a4b-3289-4675-81da-9eec7a68c73a" name="[A2] Zwrcono zasb z ID">
              <con:configuration>
                <path>(//*:id/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="_id" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>rok</con:name>
          <con:value>2020</con:value>
        </con:property>
        <con:property>
          <con:name>miesiac</con:name>
          <con:value>12</con:value>
        </con:property>
        <con:property>
          <con:name>czas</con:name>
          <con:value>2020-12-03T12:32:38.458+0100</con:value>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase id="e673c39c-3377-48f0-b96c-8bb489e8e866" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Zapis danych o kwalifikacji medycznej pacjenta na szczepienie" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Generuj token" id="65e561f3-c976-4afa-9bdf-99239d02e798">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych" id="88964e02-567f-4554-8ad9-38065b1adff4">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

String identyfikatorZdarzenia = java.util.UUID.randomUUID().toString()
String korelacjaIdentyfikator = java.util.UUID.randomUUID().toString()
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString()

def formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
def teraz = ZonedDateTime.now()
String data1 = teraz.minusHours(6).format(formatter)
String data2 = teraz.format(formatter)
String data3 = teraz.minusHours(3).format(formatter)

def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("zdarzenieDataPoczatek", data1)
dane.setPropertyValue("locationStart", data1)
dane.setPropertyValue("locationEnd", data3)
dane.setPropertyValue("przepustkaDataPoczatek", data3)
dane.setPropertyValue("przepustkaDataKoniec", data2)
dane.setPropertyValue("locationStart1", data2)
dane.setPropertyValue("podpisData", data2)
dane.setPropertyValue("identyfikatorZdarzenia", identyfikatorZdarzenia)
dane.setPropertyValue("korelacjaIdentyfikator", korelacjaIdentyfikator)
dane.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
dane.setPropertyValue("proceduraDataPoczatek", data1)
dane.setPropertyValue("proceduraDataKoniec", data2)
dane.setPropertyValue("rozpoznanieData", data2)
log.info(identyfikatorZdarzenia)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="65d136b8-3951-4996-b778-288aa3b45cee">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T05:46:58.567+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:46:58.567+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>b81fbc67-beec-4638-8d3e-5fb389db63dd</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>b385f6b3-0806-4d0b-8a1f-b002d485c776</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>40010151673</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>540</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>71c01e66-457a-4de1-a1f8-90165fff8c81</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>Senior</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>Sylwester</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>Sylwester Senior</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart</con:name>
              <con:value>2022-09-02T05:46:58.567+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart1</con:name>
              <con:value>2022-09-02T11:46:58.567+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>przepustkaDataPoczatek</con:name>
              <con:value>2022-09-02T08:46:58.567+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>przepustkaDataKoniec</con:name>
              <con:value>2022-09-02T11:46:58.567+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationEnd</con:name>
              <con:value>2022-09-02T08:46:58.567+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataPoczatek</con:name>
              <con:value>2022-09-02T05:46:58.567+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataKoniec</con:name>
              <con:value>2022-09-02T11:46:58.567+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>rozpoznanieData</con:name>
              <con:value>2022-09-02T11:46:58.567+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>4360</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2020-12-03T14:09:26.193+01:00</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48T2JzZXJ2YXRpb24geG1sbnM9Imh0dHA6Ly9obDcub3JnL2ZoaXIiPgogICA8aWQgdmFsdWU9IjUxNDI1NDUiLz4KICAgPG1ldGE+CiAgICAgIDx2ZXJzaW9uSWQgdmFsdWU9IjEiLz4KICAgICAgPGxhc3RVcGRhdGVkIHZhbHVlPSIyMDIyLTA5LTAyVDExOjQ3OjAzLjg4OCswMjowMCIvPgogICAgICA8cHJvZmlsZSB2YWx1ZT0iaHR0cHM6Ly9lemRyb3dpZS5nb3YucGwvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL1BMTWVkaWNhbENlcnRpZmljYXRlIi8+CiAgICAgIDxzZWN1cml0eT4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS44MyIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iTiIvPgogICAgICA8L3NlY3VyaXR5PgogICA8L21ldGE+CiAgIDxpbXBsaWNpdFJ1bGVzIHZhbHVlPSIxNi4zLjMiLz4KICAgPGV4dGVuc2lvbiB1cmw9Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QTExvY2F0aW9uIj4KICAgICAgPHZhbHVlSWRlbnRpZmllcj4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMi4zLjMiLz4KICAgICAgICAgPHZhbHVlIHZhbHVlPSIwMDAwMDAwMTIxMDYtMDAxIi8+CiAgICAgIDwvdmFsdWVJZGVudGlmaWVyPgogICA8L2V4dGVuc2lvbj4KICAgPGV4dGVuc2lvbiB1cmw9Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QTE1lZGljYWxDZXJ0aWZpY2F0ZVB1cnBvc2UiPgogICAgICA8dmFsdWVDb2Rpbmc+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjIuNiIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iOTkuNTU3Ii8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJTemN6ZXBpZW5pZSBwcnplY2l3IENPVklELTE5Ii8+CiAgICAgIDwvdmFsdWVDb2Rpbmc+CiAgIDwvZXh0ZW5zaW9uPgogICA8c3RhdHVzIHZhbHVlPSJmaW5hbCIvPgogICA8Y29kZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMTQiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9Im1lZGljYWxfZXhhbWluYXRpb25fZm9yX3ZhY2NpbmF0aW9uIi8+CiAgICAgIDwvY29kaW5nPgogICA8L2NvZGU+CiAgIDxzdWJqZWN0PgogICAgICA8cmVmZXJlbmNlIHZhbHVlPSJQYXRpZW50LzU0MCIvPgogICAgICA8dHlwZSB2YWx1ZT0iUGF0aWVudCIvPgogICAgICA8aWRlbnRpZmllcj4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMS4xLjYxNiIvPgogICAgICAgICA8dmFsdWUgdmFsdWU9IjQwMDEwMTUxNjczIi8+CiAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgPGRpc3BsYXkgdmFsdWU9IlN5bHdlc3RlciBTZW5pb3IiLz4KICAgPC9zdWJqZWN0PgogICA8aXNzdWVkIHZhbHVlPSIyMDE5LTA4LTI2VDE2OjAwOjAwKzAyOjAwIi8+CiAgIDxwZXJmb3JtZXI+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xLjYuMiIvPgogICAgICAgICA8dmFsdWUgdmFsdWU9IjI2OTgwNDAiLz4KICAgICAgPC9pZGVudGlmaWVyPgogICAgICA8ZGlzcGxheSB2YWx1ZT0iTW9uaWthIExlY3puaWN6YSIvPgogICA8L3BlcmZvcm1lcj4KICAgPHZhbHVlQ29kZWFibGVDb25jZXB0PgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjExMyIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0icXVhbGlmaWVkIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJaYWt3YWxpZmlrb3dhbnkiLz4KICAgICAgPC9jb2Rpbmc+CiAgIDwvdmFsdWVDb2RlYWJsZUNvbmNlcHQ+CiAgIDxub3RlPgogICAgICA8dGV4dCB2YWx1ZT0iTm90ZXMgb24gYWRtaW5zdHJhdGlvbiBvZiB2YWNjaW5lIi8+CiAgIDwvbm90ZT4KPGRzOlNpZ25hdHVyZSB4bWxuczpkcz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyIgSWQ9InhtbGRzaWctYTA2MGYyNzMtNjlkNi00MDdkLWExNjMtNDhiODNiNzgyZWE0Ij48ZHM6U2lnbmVkSW5mbz48ZHM6Q2Fub25pY2FsaXphdGlvbk1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PGRzOlNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYTA2MGYyNzMtNjlkNi00MDdkLWExNjMtNDhiODNiNzgyZWE0LXJlZjAiIFVSST0iIj48ZHM6VHJhbnNmb3Jtcz48ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI2VudmVsb3BlZC1zaWduYXR1cmUiLz48L2RzOlRyYW5zZm9ybXM+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIi8+PGRzOkRpZ2VzdFZhbHVlPjQ0VEpOMVJhN0tRTXJtcHl1N2dZTTRHQTFuTT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLWEwNjBmMjczLTY5ZDYtNDA3ZC1hMTYzLTQ4YjgzYjc4MmVhNC1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5TeWYyUGdySWJmYlh3LzBnYytuRWZzRlV5bnc9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLWEwNjBmMjczLTY5ZDYtNDA3ZC1hMTYzLTQ4YjgzYjc4MmVhNC1zaWd2YWx1ZSI+Tlp2b3lFbWhzLy8vUWRaM2d3WUxlaWJVUk9QdkFIRVZuQXAzSTZwaHE5MncvNXl1cHVRQlJ1ZHRnN2hjOS9NSXk2Q0VHSWtROTdHTXllZ2dLai9FME4rYmdMc3lDblU5RTFWMVpHcjhOL2g0anNKMFdQY3BrODc3V2s2VWYwdFRSdE51dUpzK1Z5SXB2cGxOQzVTeUh2b3ZCVWhtQWh6eVh4VFg3cDhhT2I0L0dvYUpHRk9BZDBYck5oU0lpRDllWWpiSkZxMEdsWmtKVUxBVkFES2Y5VkswR2ZoYUpTK2R0NkljWUM4NWR0YTV1dmpjN0ljZnFTQ3NIN3lOMm1zUzZFODJFdW9mZE94bW41ZFdwTzd2cTFGYzE4Q1QvcXJnK0lOWHVTbFhIMmZFcWUrSUdHRGgwZzU4THZrbnh2dlhFaGVTdWo2QWhwRUh4VDQwNkhsbjJ3PT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZFVENDQXZtZ0F3SUJBZ0lJV3pUa0pPUHJwclV3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1URXlNRE14TVRFM016RmFGdzB5TXpFeU1ETXhNVEUzTXpGYU1JR0VNUzR3TEFZRFZRUUREQ1ZoYzNsemRHVnVkRjlwYm5ReUxYVjNhV1Z5ZW5sMFpXeHVhV1Z1YVdVZ1pHRnVlV05vTVJzd0dRWURWUVFGRXhKUVJWTkZURG9nTnpJeE1ESTJNamd4TnpJeEdEQVdCZ05WQkFzTUQxQXhJRWx1ZEdWbmNtRmplV3B1WlRFT01Bd0dBMVVFQ2d3RlExTkpUMW94Q3pBSkJnTlZCQVlUQWxCTU1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdmw5MVBsN2NDQ1ZXbjU1aHV0bmRsREd4TTZ6dlQvVHFNOFhUSzhNRnZqL3lSUFd0d0NqU2xHMXA0NUcyQ1FHR1dVQ29hZTdLTXd0akYxQm9WbUJvMzRyd0JjUm5jaDJhcXVJd1dRVVBRQ2p0c2xST0F6cWdEZ3ZBTDdqd24xQVJlWk11eGlKb3NaWEsxbWIxM3VCcEMwYjdWQ2l3Sy95S3RZNGMvdGJYcTBTY2lkM1gyV1pkbFJSaFZtQkdtZTBCSDNPNFlHa1VqNldkeXlJNloyeE0zUVpuc1owb3hMS3llZFhjWlI0MGxuanVOVUVzb0JuQ3F6SnJHUGMwZ00rVDJndUxwcUpOS0hZam1pMFVKQjBUSTZBSm5hY0NFMnFqUmZDb1VubWphTkp1QlB4UGoxQTdjajQ4Wjk2WG1jb0MwdjgzWnl3cWMvL2dKbDBZQW5DenRRSURBUUFCbzRHNE1JRzFNQXdHQTFVZEV3RUIvd1FDTUFBd0h3WURWUjBqQkJnd0ZvQVVZb2FCQWdhQnRXMXpuM2JLK0hTMXQ0YlNPb1l3VlFZRFZSMGZCRTR3VERCS29FaWdSb1pFYUhSMGNITTZMeTlwYm5RdGNERXVaWHBrY205M2FXVXVaMjkyTG5Cc0wyTmpjREV2WTNKc0wwTkRVREZKYm5SbFozSmhZM2xxYm1WVGRXSkRRVmRUVXk1amNtd3dIUVlEVlIwT0JCWUVGRzZiVzg2ckV6RG8wczhRaUtUeURxNlhrNWVXTUE0R0ExVWREd0VCL3dRRUF3SUhnREFOQmdrcWhraUc5dzBCQVEwRkFBT0NBZ0VBd3Q2VWpXd0Nqd0RSK2pmZ3RCUE5rMnVIRVU1L0VFcUdiR2tjQ2M2Y1RTdVd6UWxvWUE0WHJZWXM4UnNmU2pDZlRPa1l5M1ZkVnF2bU1zdkRqMktwYnNIRlNwbVdwbk5oTGtGcXUwSXNpNGE1b0JzWU9ZUm42VG82KzRsTEViZ2w1QlgwN0IrSlNxc1dqdk5GWFhRMjgrTjdGKzh6RnpTZStIMmdveTBXTTh2WE1sYW5JaU95a0cyekFqcSt2UlZ1dWpXOTNoN0pJcnV1cStrQldjdmpZYW1VU2o2WTduZS9FUnFWamZ2R2JxK2tubGRvam9TNVgxRFViRmpXSkJzdTdycW1VUWJteXZmMjQ1Z0VYTGhwbjl0ZEE4QUxPb0Z0YzJrSFpjQVJjZktteTFVQTFBU0g2ZnBIb3FJaVNnTUxFOGZacU9OQWpMa1ZpUW1LQ2UrMGdwWXJUNytHTGRwajQzVmZ5L21DR2RYUGFISGhQckZRVTFGNXNUZVgyM3JBcHowQlhNSW1kUG4vd1paK2J3bTJxQW9XVWdLQXlWclRXK0ZHdDh1QmY3c2ZaU3k3L1ZNL1lpa2F4bGxHbGFMRFRrRG1XbWg3N0xsaW9FdTBuT3J5dkN4bDZSMUNjbmNmdXh0V3lhNlEwVjZNa1dJTzRVUmRqUktoSUFZN2tTSC9nbFVxUitob3prQk1EdEdBQ09INXgzUStZekNsVFR5eW1hem9ObWFrMmsyeEUyM2RHU0g3dUQyYll1K3FtYTIxbnFTc1IyaXFaQ1RUclBtR0t5VnhSZUhrTUYvZU53Yk5zOWxwSThzaDBUUmR5NHYrT0pUalNHZGZQL1BvaXg4M0pVemovWGd0d3lEck5KUEpQbFdzRVdQVEJjZ3Y5V2s0eUxydDg4UW9PWlk9PC9kczpYNTA5Q2VydGlmaWNhdGU+PGRzOlg1MDlTdWJqZWN0TmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLHNlcmlhbE51bWJlcj1QRVNFTDogNzIxMDI2MjgxNzIsY249YXN5c3RlbnRfaW50Mi11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+NjU3MjEyODYwMzMzNDIyMzU0MTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy1hMDYwZjI3My02OWQ2LTQwN2QtYTE2My00OGI4M2I3ODJlYTQiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLWEwNjBmMjczLTY5ZDYtNDA3ZC1hMTYzLTQ4YjgzYjc4MmVhNC1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDc6MDQuMTEwKzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5EN2hqbXVVSUhNdXU0UExUM0JQTEM2NzBqWnc9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjY1NzIxMjg2MDMzMzQyMjM1NDE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5IdVB0bDZMSWp0MDJOeDNFQmgydHNsS1VnbkU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjMxNDE3MDA3ODg2MTc5MzQzMTQ8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5VRlB1dVUzaHBCMTNCVUsyR3JNWS9PNDVwVk09PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT48L09ic2VydmF0aW9uPg==</con:value>
            </con:property>
            <con:property>
              <con:name>observationId</con:name>
              <con:value>5142545</con:value>
            </con:property>
            <con:property>
              <con:name>observationVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>observationResource</con:name>
              <con:value><![CDATA[<Observation xmlns="http://hl7.org/fhir">
   <id value="5142545"/>
   <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:47:03.888+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalCertificate"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <implicitRules value="16.3.3"/>
   <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLLocation">
      <valueIdentifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
         <value value="000000012106-001"/>
      </valueIdentifier>
   </extension>
   <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalCertificatePurpose">
      <valueCoding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
         <code value="99.557"/>
         <display value="Szczepienie przeciw COVID-19"/>
      </valueCoding>
   </extension>
   <status value="final"/>
   <code>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.114"/>
         <code value="medical_examination_for_vaccination"/>
      </coding>
   </code>
   <subject>
      <reference value="Patient/540"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
         <value value="40010151673"/>
      </identifier>
      <display value="Sylwester Senior"/>
   </subject>
   <issued value="2019-08-26T16:00:00+02:00"/>
   <performer>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
         <value value="2698040"/>
      </identifier>
      <display value="Monika Lecznicza"/>
   </performer>
   <valueCodeableConcept>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.113"/>
         <code value="qualified"/>
         <display value="Zakwalifikowany"/>
      </coding>
   </valueCodeableConcept>
   <note>
      <text value="Notes on adminstration of vaccine"/>
   </note>
</Observation>]]></con:value>
            </con:property>
            <con:property>
              <con:name>pacjentDisplay</con:name>
              <con:value>Sylwester Senior</con:value>
            </con:property>
            <con:property>
              <con:name>locationIdentyfikator</con:name>
              <con:value>000000012106-001</con:value>
            </con:property>
            <con:property>
              <con:name>provenanceId</con:name>
              <con:value>191931</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Patient" id="50faae54-5207-4d2d-ad58-b1e5fb96957e">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>48d1bd54-39e7-4f92-a587-b4df08704d3a</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>40010151673</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>Senior</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>Sylwester</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value/>
            </con:property>
            <con:property>
              <con:name>-----------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>540</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>4360</con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>patientId</con:entry>
            <con:entry>patientVersion</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id patient" id="b03fb319-15c2-4240-95e6-d34ca33acdfd">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false">
            <con:name>id</con:name>
            <con:sourceType>patientId</con:sourceType>
            <con:sourceStep>Patient</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false">
            <con:name>version</con:name>
            <con:sourceType>patientVersion</con:sourceType>
            <con:sourceStep>Patient</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="observationXML" id="eb57d4a3-2525-40a5-a81e-acb3473a0918">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>observation-kwalifikacja.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Observation xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalCertificate"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
	  </security>
	</meta>
	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLLocation">
		<valueIdentifier>	
					<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
					<value value="000000012106-001"/>
		</valueIdentifier>	
	</extension>
	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalCertificatePurpose">
			<valueCoding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
				<code value="99.557"/>
				<display value="Szczepienie przeciw COVID-19"/>
			</valueCoding>
	</extension>
	<status value="final"/>
	<code>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.114"/>
			<code value="medical_examination_for_vaccination"/>
		</coding>
	</code>
	<subject>
		<reference value="Patient/540"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="40010151673"/>
		</identifier>
		<display value="Sylwester Senior"/>
	</subject>
	<issued value="2019-08-26T16:00:00+02:00"/>
	<performer>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
	</performer>
	<valueCodeableConcept>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.113"/>
			<code value="qualified"/>
			<display value="Zakwalifikowany"/>
		</coding>
	</valueCodeableConcept>
	<note>
		<text value="Notes on adminstration of vaccine"/>
	</note>
</Observation>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Observation" id="ebf9e2ca-a3d1-447f-b5f8-adc5f9dca027">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Observation/{id}" methodName="POST Observation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Observation" id="060f119d-bfe7-4ca7-8c93-065148c8732c" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${observationXML#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a6524ca3-7c8e-4caf-ac18-03b9706ebbe4" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="id" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id" id="db3e57f7-7c22-407b-9f49-bef6f80439b7">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>observationId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation</con:sourceStep>
            <con:sourcePath>//*:versionId/@value</con:sourcePath>
            <con:targetType>observationVersion</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>resource</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Observation</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>observationResource</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Podpis zasobu Observation" id="3871018d-5301-4a2b-a2bc-44243fe4931c">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String resource = context.expand('${dane#observationResource}')
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu2}');
String certPass = context.expand('${#Project#hasloCertyfikatu2}');


String podpis = PodpisKwalifikowany.podpiszDokumentDowolnymCertyfikatem(resource,certPath, certPass);
String encode = podpis.getBytes("UTF-8").encodeBase64().toString()
testRunner.testCase.testSteps['dane'].setPropertyValue("binaryPodpis",encode);
log.info(podpis)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Zapis zasobu provenance (PLPractitionerSignature)" id="a6cc2446-ed07-4876-9dc4-6ad135abeb6e">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-observation-simple.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPractitionerSignature"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Observation/5142545"/>
		<type value="Observation"/>
	</target>
	<recorded value="2022-09-02T11:46:58.567+02:00"/>
	<agent>
		<role>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.85"/>
				<code value="LEK"/>
			</coding>
		</role>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="5262172"/>
			</identifier>
			<display value="Adam210 Leczniczy"/>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.87"/>
			<code value="1.2.840.10065.1.12.1.6"/>
		</type>
		<when value="2022-09-02T11:46:58.567+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
				<value value="72102628172"/>
			</identifier>
			<display value="Adam210 Leczniczy"/>
		</who>
		<onBehalfOf>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</onBehalfOf>
		<targetFormat value="application/fhir+json"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48T2JzZXJ2YXRpb24geG1sbnM9Imh0dHA6Ly9obDcub3JnL2ZoaXIiPgogICA8aWQgdmFsdWU9IjUxNDI1NDUiLz4KICAgPG1ldGE+CiAgICAgIDx2ZXJzaW9uSWQgdmFsdWU9IjEiLz4KICAgICAgPGxhc3RVcGRhdGVkIHZhbHVlPSIyMDIyLTA5LTAyVDExOjQ3OjAzLjg4OCswMjowMCIvPgogICAgICA8cHJvZmlsZSB2YWx1ZT0iaHR0cHM6Ly9lemRyb3dpZS5nb3YucGwvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL1BMTWVkaWNhbENlcnRpZmljYXRlIi8+CiAgICAgIDxzZWN1cml0eT4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS44MyIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iTiIvPgogICAgICA8L3NlY3VyaXR5PgogICA8L21ldGE+CiAgIDxpbXBsaWNpdFJ1bGVzIHZhbHVlPSIxNi4zLjMiLz4KICAgPGV4dGVuc2lvbiB1cmw9Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QTExvY2F0aW9uIj4KICAgICAgPHZhbHVlSWRlbnRpZmllcj4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMi4zLjMiLz4KICAgICAgICAgPHZhbHVlIHZhbHVlPSIwMDAwMDAwMTIxMDYtMDAxIi8+CiAgICAgIDwvdmFsdWVJZGVudGlmaWVyPgogICA8L2V4dGVuc2lvbj4KICAgPGV4dGVuc2lvbiB1cmw9Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QTE1lZGljYWxDZXJ0aWZpY2F0ZVB1cnBvc2UiPgogICAgICA8dmFsdWVDb2Rpbmc+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjIuNiIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iOTkuNTU3Ii8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJTemN6ZXBpZW5pZSBwcnplY2l3IENPVklELTE5Ii8+CiAgICAgIDwvdmFsdWVDb2Rpbmc+CiAgIDwvZXh0ZW5zaW9uPgogICA8c3RhdHVzIHZhbHVlPSJmaW5hbCIvPgogICA8Y29kZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMTQiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9Im1lZGljYWxfZXhhbWluYXRpb25fZm9yX3ZhY2NpbmF0aW9uIi8+CiAgICAgIDwvY29kaW5nPgogICA8L2NvZGU+CiAgIDxzdWJqZWN0PgogICAgICA8cmVmZXJlbmNlIHZhbHVlPSJQYXRpZW50LzU0MCIvPgogICAgICA8dHlwZSB2YWx1ZT0iUGF0aWVudCIvPgogICAgICA8aWRlbnRpZmllcj4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMS4xLjYxNiIvPgogICAgICAgICA8dmFsdWUgdmFsdWU9IjQwMDEwMTUxNjczIi8+CiAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgPGRpc3BsYXkgdmFsdWU9IlN5bHdlc3RlciBTZW5pb3IiLz4KICAgPC9zdWJqZWN0PgogICA8aXNzdWVkIHZhbHVlPSIyMDE5LTA4LTI2VDE2OjAwOjAwKzAyOjAwIi8+CiAgIDxwZXJmb3JtZXI+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xLjYuMiIvPgogICAgICAgICA8dmFsdWUgdmFsdWU9IjI2OTgwNDAiLz4KICAgICAgPC9pZGVudGlmaWVyPgogICAgICA8ZGlzcGxheSB2YWx1ZT0iTW9uaWthIExlY3puaWN6YSIvPgogICA8L3BlcmZvcm1lcj4KICAgPHZhbHVlQ29kZWFibGVDb25jZXB0PgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjExMyIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0icXVhbGlmaWVkIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJaYWt3YWxpZmlrb3dhbnkiLz4KICAgICAgPC9jb2Rpbmc+CiAgIDwvdmFsdWVDb2RlYWJsZUNvbmNlcHQ+CiAgIDxub3RlPgogICAgICA8dGV4dCB2YWx1ZT0iTm90ZXMgb24gYWRtaW5zdHJhdGlvbiBvZiB2YWNjaW5lIi8+CiAgIDwvbm90ZT4KPGRzOlNpZ25hdHVyZSB4bWxuczpkcz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyIgSWQ9InhtbGRzaWctYTA2MGYyNzMtNjlkNi00MDdkLWExNjMtNDhiODNiNzgyZWE0Ij48ZHM6U2lnbmVkSW5mbz48ZHM6Q2Fub25pY2FsaXphdGlvbk1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PGRzOlNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctYTA2MGYyNzMtNjlkNi00MDdkLWExNjMtNDhiODNiNzgyZWE0LXJlZjAiIFVSST0iIj48ZHM6VHJhbnNmb3Jtcz48ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI2VudmVsb3BlZC1zaWduYXR1cmUiLz48L2RzOlRyYW5zZm9ybXM+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIi8+PGRzOkRpZ2VzdFZhbHVlPjQ0VEpOMVJhN0tRTXJtcHl1N2dZTTRHQTFuTT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLWEwNjBmMjczLTY5ZDYtNDA3ZC1hMTYzLTQ4YjgzYjc4MmVhNC1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5TeWYyUGdySWJmYlh3LzBnYytuRWZzRlV5bnc9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLWEwNjBmMjczLTY5ZDYtNDA3ZC1hMTYzLTQ4YjgzYjc4MmVhNC1zaWd2YWx1ZSI+Tlp2b3lFbWhzLy8vUWRaM2d3WUxlaWJVUk9QdkFIRVZuQXAzSTZwaHE5MncvNXl1cHVRQlJ1ZHRnN2hjOS9NSXk2Q0VHSWtROTdHTXllZ2dLai9FME4rYmdMc3lDblU5RTFWMVpHcjhOL2g0anNKMFdQY3BrODc3V2s2VWYwdFRSdE51dUpzK1Z5SXB2cGxOQzVTeUh2b3ZCVWhtQWh6eVh4VFg3cDhhT2I0L0dvYUpHRk9BZDBYck5oU0lpRDllWWpiSkZxMEdsWmtKVUxBVkFES2Y5VkswR2ZoYUpTK2R0NkljWUM4NWR0YTV1dmpjN0ljZnFTQ3NIN3lOMm1zUzZFODJFdW9mZE94bW41ZFdwTzd2cTFGYzE4Q1QvcXJnK0lOWHVTbFhIMmZFcWUrSUdHRGgwZzU4THZrbnh2dlhFaGVTdWo2QWhwRUh4VDQwNkhsbjJ3PT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZFVENDQXZtZ0F3SUJBZ0lJV3pUa0pPUHJwclV3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1URXlNRE14TVRFM016RmFGdzB5TXpFeU1ETXhNVEUzTXpGYU1JR0VNUzR3TEFZRFZRUUREQ1ZoYzNsemRHVnVkRjlwYm5ReUxYVjNhV1Z5ZW5sMFpXeHVhV1Z1YVdVZ1pHRnVlV05vTVJzd0dRWURWUVFGRXhKUVJWTkZURG9nTnpJeE1ESTJNamd4TnpJeEdEQVdCZ05WQkFzTUQxQXhJRWx1ZEdWbmNtRmplV3B1WlRFT01Bd0dBMVVFQ2d3RlExTkpUMW94Q3pBSkJnTlZCQVlUQWxCTU1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdmw5MVBsN2NDQ1ZXbjU1aHV0bmRsREd4TTZ6dlQvVHFNOFhUSzhNRnZqL3lSUFd0d0NqU2xHMXA0NUcyQ1FHR1dVQ29hZTdLTXd0akYxQm9WbUJvMzRyd0JjUm5jaDJhcXVJd1dRVVBRQ2p0c2xST0F6cWdEZ3ZBTDdqd24xQVJlWk11eGlKb3NaWEsxbWIxM3VCcEMwYjdWQ2l3Sy95S3RZNGMvdGJYcTBTY2lkM1gyV1pkbFJSaFZtQkdtZTBCSDNPNFlHa1VqNldkeXlJNloyeE0zUVpuc1owb3hMS3llZFhjWlI0MGxuanVOVUVzb0JuQ3F6SnJHUGMwZ00rVDJndUxwcUpOS0hZam1pMFVKQjBUSTZBSm5hY0NFMnFqUmZDb1VubWphTkp1QlB4UGoxQTdjajQ4Wjk2WG1jb0MwdjgzWnl3cWMvL2dKbDBZQW5DenRRSURBUUFCbzRHNE1JRzFNQXdHQTFVZEV3RUIvd1FDTUFBd0h3WURWUjBqQkJnd0ZvQVVZb2FCQWdhQnRXMXpuM2JLK0hTMXQ0YlNPb1l3VlFZRFZSMGZCRTR3VERCS29FaWdSb1pFYUhSMGNITTZMeTlwYm5RdGNERXVaWHBrY205M2FXVXVaMjkyTG5Cc0wyTmpjREV2WTNKc0wwTkRVREZKYm5SbFozSmhZM2xxYm1WVGRXSkRRVmRUVXk1amNtd3dIUVlEVlIwT0JCWUVGRzZiVzg2ckV6RG8wczhRaUtUeURxNlhrNWVXTUE0R0ExVWREd0VCL3dRRUF3SUhnREFOQmdrcWhraUc5dzBCQVEwRkFBT0NBZ0VBd3Q2VWpXd0Nqd0RSK2pmZ3RCUE5rMnVIRVU1L0VFcUdiR2tjQ2M2Y1RTdVd6UWxvWUE0WHJZWXM4UnNmU2pDZlRPa1l5M1ZkVnF2bU1zdkRqMktwYnNIRlNwbVdwbk5oTGtGcXUwSXNpNGE1b0JzWU9ZUm42VG82KzRsTEViZ2w1QlgwN0IrSlNxc1dqdk5GWFhRMjgrTjdGKzh6RnpTZStIMmdveTBXTTh2WE1sYW5JaU95a0cyekFqcSt2UlZ1dWpXOTNoN0pJcnV1cStrQldjdmpZYW1VU2o2WTduZS9FUnFWamZ2R2JxK2tubGRvam9TNVgxRFViRmpXSkJzdTdycW1VUWJteXZmMjQ1Z0VYTGhwbjl0ZEE4QUxPb0Z0YzJrSFpjQVJjZktteTFVQTFBU0g2ZnBIb3FJaVNnTUxFOGZacU9OQWpMa1ZpUW1LQ2UrMGdwWXJUNytHTGRwajQzVmZ5L21DR2RYUGFISGhQckZRVTFGNXNUZVgyM3JBcHowQlhNSW1kUG4vd1paK2J3bTJxQW9XVWdLQXlWclRXK0ZHdDh1QmY3c2ZaU3k3L1ZNL1lpa2F4bGxHbGFMRFRrRG1XbWg3N0xsaW9FdTBuT3J5dkN4bDZSMUNjbmNmdXh0V3lhNlEwVjZNa1dJTzRVUmRqUktoSUFZN2tTSC9nbFVxUitob3prQk1EdEdBQ09INXgzUStZekNsVFR5eW1hem9ObWFrMmsyeEUyM2RHU0g3dUQyYll1K3FtYTIxbnFTc1IyaXFaQ1RUclBtR0t5VnhSZUhrTUYvZU53Yk5zOWxwSThzaDBUUmR5NHYrT0pUalNHZGZQL1BvaXg4M0pVemovWGd0d3lEck5KUEpQbFdzRVdQVEJjZ3Y5V2s0eUxydDg4UW9PWlk9PC9kczpYNTA5Q2VydGlmaWNhdGU+PGRzOlg1MDlTdWJqZWN0TmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLHNlcmlhbE51bWJlcj1QRVNFTDogNzIxMDI2MjgxNzIsY249YXN5c3RlbnRfaW50Mi11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+NjU3MjEyODYwMzMzNDIyMzU0MTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy1hMDYwZjI3My02OWQ2LTQwN2QtYTE2My00OGI4M2I3ODJlYTQiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLWEwNjBmMjczLTY5ZDYtNDA3ZC1hMTYzLTQ4YjgzYjc4MmVhNC1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDc6MDQuMTEwKzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5EN2hqbXVVSUhNdXU0UExUM0JQTEM2NzBqWnc9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjY1NzIxMjg2MDMzMzQyMjM1NDE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5IdVB0bDZMSWp0MDJOeDNFQmgydHNsS1VnbkU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjMxNDE3MDA3ODg2MTc5MzQzMTQ8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5VRlB1dVUzaHBCMTNCVUsyR3JNWS9PNDVwVk09PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT48L09ic2VydmF0aW9uPg=="/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance (PLPractitionerSignature)" id="bedea288-ac31-44e6-ab64-d07514e938f6">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance (PLPractitionerSignature)" id="fe9ba9cb-5a81-4394-a6b2-89737fc8f47f" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${Zapis zasobu provenance (PLPractitionerSignature)#resourceRequest}</con:request>
            <con:originalUri>https://tsus.ezdrowie.gov.pl/fhir/Provenance/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="c65069ab-e206-41f3-8f19-3e34ac605715" name="[A1] HTTP 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f8db0a4b-3289-4675-81da-9eec7a68c73a" name="[A2] Zwrcono zasb z ID">
              <con:configuration>
                <path>(//*:id/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="_id" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>rok</con:name>
          <con:value>2020</con:value>
        </con:property>
        <con:property>
          <con:name>miesiac</con:name>
          <con:value>12</con:value>
        </con:property>
        <con:property>
          <con:name>czas</con:name>
          <con:value>2020-12-03T12:32:38.458+0100</con:value>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase id="8008a891-1e2b-4c48-b14b-e341858c057b" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Zapis danych o szczepieniach pacjenta wprowadzonych na podstawie Karty Szczepie" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Generuj token" id="6ebb7aa9-6ec3-4f90-a381-0353ecd10019">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych" id="b9db3f1f-d9c0-4b11-801d-a96c2884eb07">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

String identyfikatorZdarzenia = java.util.UUID.randomUUID().toString()
String korelacjaIdentyfikator = java.util.UUID.randomUUID().toString()
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString()

def formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
def teraz = ZonedDateTime.now()
String data1 = teraz.minusHours(6).format(formatter)
String data2 = teraz.format(formatter)
String data3 = teraz.minusHours(3).format(formatter)

def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("zdarzenieDataPoczatek", data1)
dane.setPropertyValue("locationStart", data1)
dane.setPropertyValue("locationEnd", data3)
dane.setPropertyValue("przepustkaDataPoczatek", data3)
dane.setPropertyValue("przepustkaDataKoniec", data2)
dane.setPropertyValue("locationStart1", data2)
dane.setPropertyValue("podpisData", data2)
dane.setPropertyValue("identyfikatorZdarzenia", identyfikatorZdarzenia)
dane.setPropertyValue("korelacjaIdentyfikator", korelacjaIdentyfikator)
dane.setPropertyValue("skierowanieIdentyfikator", skierowanieIdentyfikator)
dane.setPropertyValue("proceduraDataPoczatek", data1)
dane.setPropertyValue("proceduraDataKoniec", data2)
dane.setPropertyValue("rozpoznanieData", data2)
log.info(identyfikatorZdarzenia)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="c4d4fc28-ec5d-4f19-856f-73cc0bdd918a">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>zdarzenieDataPoczatek</con:name>
              <con:value>2022-09-02T05:47:06.164+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:47:06.164+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorZdarzenia</con:name>
              <con:value>b9e3f2d2-ed3a-416a-b2c1-6dd8ce7b0156</con:value>
            </con:property>
            <con:property>
              <con:name>korelacjaIdentyfikator</con:name>
              <con:value>28b50b83-00ec-4e29-b243-65403d1d1942</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>40010151673</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>encounterId</con:name>
              <con:value>52433</con:value>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>864</con:value>
            </con:property>
            <con:property>
              <con:name>skierowanieIdentyfikator</con:name>
              <con:value>dfc70a47-45de-4b34-829a-b5e0770d9e11</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>Senior</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>Sylwester</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart</con:name>
              <con:value>2022-09-02T05:47:06.164+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart1</con:name>
              <con:value>2022-09-02T11:47:06.164+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>Sylwester Senior</con:value>
            </con:property>
            <con:property>
              <con:name>przepustkaDataPoczatek</con:name>
              <con:value>2022-09-02T08:47:06.164+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>przepustkaDataKoniec</con:name>
              <con:value>2022-09-02T11:47:06.164+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationEnd</con:name>
              <con:value>2022-09-02T08:47:06.164+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataPoczatek</con:name>
              <con:value>2022-09-02T05:47:06.164+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>proceduraDataKoniec</con:name>
              <con:value>2022-09-02T11:47:06.164+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>rozpoznanieData</con:name>
              <con:value>2022-09-02T11:47:06.164+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1291</con:value>
            </con:property>
            <con:property>
              <con:name>zdarzenieDataKoniec</con:name>
              <con:value>2020-12-03T14:09:26.193+01:00</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48SW1tdW5pemF0aW9uIHhtbG5zPSJodHRwOi8vaGw3Lm9yZy9maGlyIj4KICAgPGlkIHZhbHVlPSI1MTQyNTQ5Ii8+CiAgIDxtZXRhPgogICAgICA8dmVyc2lvbklkIHZhbHVlPSIxIi8+CiAgICAgIDxsYXN0VXBkYXRlZCB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0NzowNy4wMjYrMDI6MDAiLz4KICAgICAgPHByb2ZpbGUgdmFsdWU9Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QTEltbXVuaXphdGlvbkhpc3RvcmljYWwiLz4KICAgICAgPHNlY3VyaXR5PgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjgzIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSJOIi8+CiAgICAgIDwvc2VjdXJpdHk+CiAgIDwvbWV0YT4KICAgPGltcGxpY2l0UnVsZXMgdmFsdWU9IjE2LjMuMyIvPgogICA8ZXh0ZW5zaW9uIHVybD0iaHR0cHM6Ly9lemRyb3dpZS5nb3YucGwvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL1BMQXNzZXJ0ZXIiPgogICAgICA8dmFsdWVSZWZlcmVuY2U+CiAgICAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xLjYuMiIvPgogICAgICAgICAgICA8dmFsdWUgdmFsdWU9IjI2OTgwNDAiLz4KICAgICAgICAgPC9pZGVudGlmaWVyPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iTW9uaWthIExlY3puaWN6YSIvPgogICAgICA8L3ZhbHVlUmVmZXJlbmNlPgogICA8L2V4dGVuc2lvbj4KICAgPHN0YXR1cyB2YWx1ZT0iY29tcGxldGVkIi8+CiAgIDx2YWNjaW5lQ29kZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoxLjIuMzYuMS4yMDAxLjEwMDUuMTciLz4KICAgICAgICAgPGNvZGUgdmFsdWU9IjA1OTA5OTkxNDQ1NTkxIi8+CiAgICAgIDwvY29kaW5nPgogICAgICA8dGV4dCB2YWx1ZT0iUHJlZmx1Y2VsIi8+CiAgIDwvdmFjY2luZUNvZGU+CiAgIDxwYXRpZW50PgogICAgICA8cmVmZXJlbmNlIHZhbHVlPSJQYXRpZW50Lzg2NCIvPgogICAgICA8dHlwZSB2YWx1ZT0iUGF0aWVudCIvPgogICAgICA8aWRlbnRpZmllcj4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMS4xLjYxNiIvPgogICAgICAgICA8dmFsdWUgdmFsdWU9IjQwMDEwMTUxNjczIi8+CiAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgPGRpc3BsYXkgdmFsdWU9IlN5bHdlc3RlciBTZW5pb3IiLz4KICAgPC9wYXRpZW50PgogICA8b2NjdXJyZW5jZURhdGVUaW1lIHZhbHVlPSIyMDIwLTExLTI3Ii8+CiAgIDxyZWNvcmRlZCB2YWx1ZT0iMjAyMC0xMS0yNyIvPgogICA8cmVwb3J0T3JpZ2luPgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjExNiIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0icmVjb3JkIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJQcnpla2F6YW5lIHogIGRva3VtZW50dSIvPgogICAgICA8L2NvZGluZz4KICAgPC9yZXBvcnRPcmlnaW4+CiAgIDxsb3ROdW1iZXIgdmFsdWU9IkFBSk4xMUsiLz4KICAgPG5vdGU+CiAgICAgIDx0ZXh0IHZhbHVlPSJOb3RlcyBvbiBhZG1pbnN0cmF0aW9uIG9mIHZhY2NpbmUiLz4KICAgPC9ub3RlPgogICA8cHJvdG9jb2xBcHBsaWVkPgogICAgICA8dGFyZ2V0RGlzZWFzZT4KICAgICAgICAgPGNvZGluZz4KICAgICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMi42Ii8+CiAgICAgICAgICAgIDxjb2RlIHZhbHVlPSI5OS41NTciLz4KICAgICAgICAgICAgPGRpc3BsYXkgdmFsdWU9IlN6Y3plcGllbmllIHByemVjaXcgQ09WSUQtMTkiLz4KICAgICAgICAgPC9jb2Rpbmc+CiAgICAgIDwvdGFyZ2V0RGlzZWFzZT4KICAgICAgPGRvc2VOdW1iZXJQb3NpdGl2ZUludCB2YWx1ZT0iMSIvPgogICAgICA8c2VyaWVzRG9zZXNQb3NpdGl2ZUludCB2YWx1ZT0iMiIvPgogICA8L3Byb3RvY29sQXBwbGllZD4KPGRzOlNpZ25hdHVyZSB4bWxuczpkcz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyIgSWQ9InhtbGRzaWctZjUxNzZlODEtYTFlNS00N2QxLTg1MTUtNzlhYzExNjIzYzRjIj48ZHM6U2lnbmVkSW5mbz48ZHM6Q2Fub25pY2FsaXphdGlvbk1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PGRzOlNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZjUxNzZlODEtYTFlNS00N2QxLTg1MTUtNzlhYzExNjIzYzRjLXJlZjAiIFVSST0iIj48ZHM6VHJhbnNmb3Jtcz48ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI2VudmVsb3BlZC1zaWduYXR1cmUiLz48L2RzOlRyYW5zZm9ybXM+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIi8+PGRzOkRpZ2VzdFZhbHVlPnhRM2dwcG5ZNTBJaXFZSDlqT0NVNHN5b2hYQT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLWY1MTc2ZTgxLWExZTUtNDdkMS04NTE1LTc5YWMxMTYyM2M0Yy1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5ZVklHRHdINElSSlNrblJMeTVPOGFTY2djaUU9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLWY1MTc2ZTgxLWExZTUtNDdkMS04NTE1LTc5YWMxMTYyM2M0Yy1zaWd2YWx1ZSI+ZGJVNzRYb0dpcnlseGxGTlArWW4vV0I3Vkg0UlU4YVI1bkdVYTdUcGUxN01ya2tHTERWK3c1bzRTSk1CQitKaFNXRUxUUTRmekpZa2YvVmY1SmErbEJWcDNlaHdCZUZrVUM2NGEvNkNvS1dLaXpvcHJFTDRqZFlycGNlVVNSUE5SRDZlWUlZOU1DMFNKL3h0blhuMGREL1VGWU5QeVdtK3ZXR1RISkcrbHlkbXpUQm8rcTczWE9Db25odEQzYWp4ZjNBUm1tYUlVbWZJYkZaMDBjV1h3MS8zSTgxaEZ1Mk9kdVcweWZ4YzNVNGsvdXBESk5EOXRlT0xWOCtKYWp1bFM1M1l0UllnN3lDZlUxMElIc1BMR1ZCdDhxNGVxL0dBZ2E5VExyNStHNy9YTm9XUmw2ekVRdFkxQ3pKWTRYbkM1R1c2YmtGcHpLYnRJajVTc1VDeE1BPT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZFVENDQXZtZ0F3SUJBZ0lJV3pUa0pPUHJwclV3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1URXlNRE14TVRFM016RmFGdzB5TXpFeU1ETXhNVEUzTXpGYU1JR0VNUzR3TEFZRFZRUUREQ1ZoYzNsemRHVnVkRjlwYm5ReUxYVjNhV1Z5ZW5sMFpXeHVhV1Z1YVdVZ1pHRnVlV05vTVJzd0dRWURWUVFGRXhKUVJWTkZURG9nTnpJeE1ESTJNamd4TnpJeEdEQVdCZ05WQkFzTUQxQXhJRWx1ZEdWbmNtRmplV3B1WlRFT01Bd0dBMVVFQ2d3RlExTkpUMW94Q3pBSkJnTlZCQVlUQWxCTU1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdmw5MVBsN2NDQ1ZXbjU1aHV0bmRsREd4TTZ6dlQvVHFNOFhUSzhNRnZqL3lSUFd0d0NqU2xHMXA0NUcyQ1FHR1dVQ29hZTdLTXd0akYxQm9WbUJvMzRyd0JjUm5jaDJhcXVJd1dRVVBRQ2p0c2xST0F6cWdEZ3ZBTDdqd24xQVJlWk11eGlKb3NaWEsxbWIxM3VCcEMwYjdWQ2l3Sy95S3RZNGMvdGJYcTBTY2lkM1gyV1pkbFJSaFZtQkdtZTBCSDNPNFlHa1VqNldkeXlJNloyeE0zUVpuc1owb3hMS3llZFhjWlI0MGxuanVOVUVzb0JuQ3F6SnJHUGMwZ00rVDJndUxwcUpOS0hZam1pMFVKQjBUSTZBSm5hY0NFMnFqUmZDb1VubWphTkp1QlB4UGoxQTdjajQ4Wjk2WG1jb0MwdjgzWnl3cWMvL2dKbDBZQW5DenRRSURBUUFCbzRHNE1JRzFNQXdHQTFVZEV3RUIvd1FDTUFBd0h3WURWUjBqQkJnd0ZvQVVZb2FCQWdhQnRXMXpuM2JLK0hTMXQ0YlNPb1l3VlFZRFZSMGZCRTR3VERCS29FaWdSb1pFYUhSMGNITTZMeTlwYm5RdGNERXVaWHBrY205M2FXVXVaMjkyTG5Cc0wyTmpjREV2WTNKc0wwTkRVREZKYm5SbFozSmhZM2xxYm1WVGRXSkRRVmRUVXk1amNtd3dIUVlEVlIwT0JCWUVGRzZiVzg2ckV6RG8wczhRaUtUeURxNlhrNWVXTUE0R0ExVWREd0VCL3dRRUF3SUhnREFOQmdrcWhraUc5dzBCQVEwRkFBT0NBZ0VBd3Q2VWpXd0Nqd0RSK2pmZ3RCUE5rMnVIRVU1L0VFcUdiR2tjQ2M2Y1RTdVd6UWxvWUE0WHJZWXM4UnNmU2pDZlRPa1l5M1ZkVnF2bU1zdkRqMktwYnNIRlNwbVdwbk5oTGtGcXUwSXNpNGE1b0JzWU9ZUm42VG82KzRsTEViZ2w1QlgwN0IrSlNxc1dqdk5GWFhRMjgrTjdGKzh6RnpTZStIMmdveTBXTTh2WE1sYW5JaU95a0cyekFqcSt2UlZ1dWpXOTNoN0pJcnV1cStrQldjdmpZYW1VU2o2WTduZS9FUnFWamZ2R2JxK2tubGRvam9TNVgxRFViRmpXSkJzdTdycW1VUWJteXZmMjQ1Z0VYTGhwbjl0ZEE4QUxPb0Z0YzJrSFpjQVJjZktteTFVQTFBU0g2ZnBIb3FJaVNnTUxFOGZacU9OQWpMa1ZpUW1LQ2UrMGdwWXJUNytHTGRwajQzVmZ5L21DR2RYUGFISGhQckZRVTFGNXNUZVgyM3JBcHowQlhNSW1kUG4vd1paK2J3bTJxQW9XVWdLQXlWclRXK0ZHdDh1QmY3c2ZaU3k3L1ZNL1lpa2F4bGxHbGFMRFRrRG1XbWg3N0xsaW9FdTBuT3J5dkN4bDZSMUNjbmNmdXh0V3lhNlEwVjZNa1dJTzRVUmRqUktoSUFZN2tTSC9nbFVxUitob3prQk1EdEdBQ09INXgzUStZekNsVFR5eW1hem9ObWFrMmsyeEUyM2RHU0g3dUQyYll1K3FtYTIxbnFTc1IyaXFaQ1RUclBtR0t5VnhSZUhrTUYvZU53Yk5zOWxwSThzaDBUUmR5NHYrT0pUalNHZGZQL1BvaXg4M0pVemovWGd0d3lEck5KUEpQbFdzRVdQVEJjZ3Y5V2s0eUxydDg4UW9PWlk9PC9kczpYNTA5Q2VydGlmaWNhdGU+PGRzOlg1MDlTdWJqZWN0TmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLHNlcmlhbE51bWJlcj1QRVNFTDogNzIxMDI2MjgxNzIsY249YXN5c3RlbnRfaW50Mi11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+NjU3MjEyODYwMzMzNDIyMzU0MTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy1mNTE3NmU4MS1hMWU1LTQ3ZDEtODUxNS03OWFjMTE2MjNjNGMiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLWY1MTc2ZTgxLWExZTUtNDdkMS04NTE1LTc5YWMxMTYyM2M0Yy1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDc6MDcuMjc3KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5EN2hqbXVVSUhNdXU0UExUM0JQTEM2NzBqWnc9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjY1NzIxMjg2MDMzMzQyMjM1NDE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5IdVB0bDZMSWp0MDJOeDNFQmgydHNsS1VnbkU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjMxNDE3MDA3ODg2MTc5MzQzMTQ8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5VRlB1dVUzaHBCMTNCVUsyR3JNWS9PNDVwVk09PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT48L0ltbXVuaXphdGlvbj4=</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationId</con:name>
              <con:value>5142549</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationResource</con:name>
              <con:value><![CDATA[<Immunization xmlns="http://hl7.org/fhir">
   <id value="5142549"/>
   <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:47:07.026+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLImmunizationHistorical"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <implicitRules value="16.3.3"/>
   <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLAsserter">
      <valueReference>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
            <value value="2698040"/>
         </identifier>
         <display value="Monika Lecznicza"/>
      </valueReference>
   </extension>
   <status value="completed"/>
   <vaccineCode>
      <coding>
         <system value="urn:oid:1.2.36.1.2001.1005.17"/>
         <code value="05909991445591"/>
      </coding>
      <text value="Preflucel"/>
   </vaccineCode>
   <patient>
      <reference value="Patient/864"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
         <value value="40010151673"/>
      </identifier>
      <display value="Sylwester Senior"/>
   </patient>
   <occurrenceDateTime value="2020-11-27"/>
   <recorded value="2020-11-27"/>
   <reportOrigin>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.116"/>
         <code value="record"/>
         <display value="Przekazane z  dokumentu"/>
      </coding>
   </reportOrigin>
   <lotNumber value="AAJN11K"/>
   <note>
      <text value="Notes on adminstration of vaccine"/>
   </note>
   <protocolApplied>
      <targetDisease>
         <coding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
            <code value="99.557"/>
            <display value="Szczepienie przeciw COVID-19"/>
         </coding>
      </targetDisease>
      <doseNumberPositiveInt value="1"/>
      <seriesDosesPositiveInt value="2"/>
   </protocolApplied>
</Immunization>]]></con:value>
            </con:property>
            <con:property>
              <con:name>immunizationStatus</con:name>
              <con:value>completed</con:value>
            </con:property>
            <con:property>
              <con:name>zrodloFinansowania</con:name>
              <con:value>private</con:value>
            </con:property>
            <con:property>
              <con:name>provenanceId</con:name>
              <con:value>192255</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Patient" id="d922dadd-4ec2-4c1f-813d-cd0683238a42">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>48d1bd54-39e7-4f92-a587-b4df08704d3a</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>12300509785</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>ANNA</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>1960-06-30</con:value>
            </con:property>
            <con:property>
              <con:name>-----------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>864</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1291</con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>patientId</con:entry>
            <con:entry>patientVersion</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id patient" id="e8a00187-30fe-4c6e-aa13-f24537499442">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false">
            <con:name>id</con:name>
            <con:sourceType>patientId</con:sourceType>
            <con:sourceStep>Patient</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false">
            <con:name>version</con:name>
            <con:sourceType>patientVersion</con:sourceType>
            <con:sourceStep>Patient</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="immunizationXML" id="faba5dfb-6fd2-48e9-876b-824f7287f759">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>immunization_historical.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Immunization xmlns="http://hl7.org/fhir">
	<meta>
		<versionId value="1"/>
		<lastUpdated value="2020-02-27T11:13:50.697+00:00"/>
		<source value="#FqZxUen1ZPGJtbMg"/>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLImmunizationHistorical"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<implicitRules value="13.1.3-SNAPSHOT"/>
	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLAsserter">
		<valueReference>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</valueReference>
	</extension>
	<status value="completed"/>
	<vaccineCode>
		<coding>
			<system value="urn:oid:1.2.36.1.2001.1005.17"/>
			<code value="05909991445591"/>
		</coding>
		<text value="Preflucel"/>
	</vaccineCode>
	<patient>
		<reference value="Patient/864"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
			<value value="40010151673"/>
		</identifier>
		<display value="Sylwester Senior"/>
	</patient>
	<occurrenceDateTime value="2020-11-27"/>
	<recorded value="2020-11-27"/>
	<reportOrigin>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.116"/>
			<code value="record"/>
			<display value="Przekazane z  dokumentu"/>
		</coding>
	</reportOrigin>
	<lotNumber value="AAJN11K"/>
	<note>
		<text value="Notes on adminstration of vaccine"/>
	</note>
	<protocolApplied>
		<targetDisease>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
				<code value="99.557"/>
				<display value="Szczepienie przeciw COVID-19"/>
			</coding>
		</targetDisease>
		<doseNumberPositiveInt value="1"/>
		<seriesDosesPositiveInt value="2"/>
	</protocolApplied>
</Immunization>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Immunization" id="c39289c5-145d-4fd8-ae81-f629f193f297">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Immunization/{id}" methodName="Zapis-immunization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Immunization" id="21f50763-d789-4c07-9a1a-e8fbea2e823f" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${immunizationXML#resourceRequest}</con:request>
            <con:originalUri>https://tsus.ezdrowie.gov.pl/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a6126f75-5518-4db4-be38-5bfa8870ace2" name="[A1] HTTP 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="62c10708-7c55-4a9b-8ee8-ab6530c5c8d2" name="[A2] Zwrcono zasb z ID">
              <con:configuration>
                <path>(//*:id/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="date" value=""/>
              <con:entry key="patient" value=""/>
              <con:entry key="plsubject" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="status" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>date</con:entry>
              <con:entry>status</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id" id="dbc281d1-f866-40ef-99eb-0946765257f7">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>immunizationId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization</con:sourceStep>
            <con:sourcePath>//*:versionId/@value</con:sourcePath>
            <con:targetType>immunizationVersion</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>resource</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>immunizationResource</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Podpis zasobu Immunization" id="da21b6da-e9e2-43ad-8eb0-3979ef6585a0">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String resource = context.expand('${dane#immunizationResource}')
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu2}');
String certPass = context.expand('${#Project#hasloCertyfikatu2}');


String podpis = PodpisKwalifikowany.podpiszDokumentDowolnymCertyfikatem(resource,certPath, certPass);
String encode = podpis.getBytes("UTF-8").encodeBase64().toString()
testRunner.testCase.testSteps['dane'].setPropertyValue("binaryPodpis",encode);
log.info(podpis)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Zapis zasobu provenance (PLPractitionerSignature)" id="97f81218-9ebd-4edf-9bab-71308d87b5c0">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-immunization-simple.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPractitionerSignature"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Immunization/5142549"/>
		<type value="Immunization"/>
	</target>
	<recorded value="2022-09-02T11:47:06.164+02:00"/>
	<agent>
		<role>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.85"/>
				<code value="LEK"/>
			</coding>
		</role>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="5262172"/>
			</identifier>
			<display value="Adam210 Leczniczy"/>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.87"/>
			<code value="1.2.840.10065.1.12.1.6"/>
		</type>
		<when value="2022-09-02T11:47:06.164+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</who>
		<onBehalfOf>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</onBehalfOf>
		<targetFormat value="application/fhir+json"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48SW1tdW5pemF0aW9uIHhtbG5zPSJodHRwOi8vaGw3Lm9yZy9maGlyIj4KICAgPGlkIHZhbHVlPSI1MTQyNTQ5Ii8+CiAgIDxtZXRhPgogICAgICA8dmVyc2lvbklkIHZhbHVlPSIxIi8+CiAgICAgIDxsYXN0VXBkYXRlZCB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0NzowNy4wMjYrMDI6MDAiLz4KICAgICAgPHByb2ZpbGUgdmFsdWU9Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QTEltbXVuaXphdGlvbkhpc3RvcmljYWwiLz4KICAgICAgPHNlY3VyaXR5PgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjgzIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSJOIi8+CiAgICAgIDwvc2VjdXJpdHk+CiAgIDwvbWV0YT4KICAgPGltcGxpY2l0UnVsZXMgdmFsdWU9IjE2LjMuMyIvPgogICA8ZXh0ZW5zaW9uIHVybD0iaHR0cHM6Ly9lemRyb3dpZS5nb3YucGwvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL1BMQXNzZXJ0ZXIiPgogICAgICA8dmFsdWVSZWZlcmVuY2U+CiAgICAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xLjYuMiIvPgogICAgICAgICAgICA8dmFsdWUgdmFsdWU9IjI2OTgwNDAiLz4KICAgICAgICAgPC9pZGVudGlmaWVyPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iTW9uaWthIExlY3puaWN6YSIvPgogICAgICA8L3ZhbHVlUmVmZXJlbmNlPgogICA8L2V4dGVuc2lvbj4KICAgPHN0YXR1cyB2YWx1ZT0iY29tcGxldGVkIi8+CiAgIDx2YWNjaW5lQ29kZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoxLjIuMzYuMS4yMDAxLjEwMDUuMTciLz4KICAgICAgICAgPGNvZGUgdmFsdWU9IjA1OTA5OTkxNDQ1NTkxIi8+CiAgICAgIDwvY29kaW5nPgogICAgICA8dGV4dCB2YWx1ZT0iUHJlZmx1Y2VsIi8+CiAgIDwvdmFjY2luZUNvZGU+CiAgIDxwYXRpZW50PgogICAgICA8cmVmZXJlbmNlIHZhbHVlPSJQYXRpZW50Lzg2NCIvPgogICAgICA8dHlwZSB2YWx1ZT0iUGF0aWVudCIvPgogICAgICA8aWRlbnRpZmllcj4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMS4xLjYxNiIvPgogICAgICAgICA8dmFsdWUgdmFsdWU9IjQwMDEwMTUxNjczIi8+CiAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgPGRpc3BsYXkgdmFsdWU9IlN5bHdlc3RlciBTZW5pb3IiLz4KICAgPC9wYXRpZW50PgogICA8b2NjdXJyZW5jZURhdGVUaW1lIHZhbHVlPSIyMDIwLTExLTI3Ii8+CiAgIDxyZWNvcmRlZCB2YWx1ZT0iMjAyMC0xMS0yNyIvPgogICA8cmVwb3J0T3JpZ2luPgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjExNiIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0icmVjb3JkIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJQcnpla2F6YW5lIHogIGRva3VtZW50dSIvPgogICAgICA8L2NvZGluZz4KICAgPC9yZXBvcnRPcmlnaW4+CiAgIDxsb3ROdW1iZXIgdmFsdWU9IkFBSk4xMUsiLz4KICAgPG5vdGU+CiAgICAgIDx0ZXh0IHZhbHVlPSJOb3RlcyBvbiBhZG1pbnN0cmF0aW9uIG9mIHZhY2NpbmUiLz4KICAgPC9ub3RlPgogICA8cHJvdG9jb2xBcHBsaWVkPgogICAgICA8dGFyZ2V0RGlzZWFzZT4KICAgICAgICAgPGNvZGluZz4KICAgICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMi42Ii8+CiAgICAgICAgICAgIDxjb2RlIHZhbHVlPSI5OS41NTciLz4KICAgICAgICAgICAgPGRpc3BsYXkgdmFsdWU9IlN6Y3plcGllbmllIHByemVjaXcgQ09WSUQtMTkiLz4KICAgICAgICAgPC9jb2Rpbmc+CiAgICAgIDwvdGFyZ2V0RGlzZWFzZT4KICAgICAgPGRvc2VOdW1iZXJQb3NpdGl2ZUludCB2YWx1ZT0iMSIvPgogICAgICA8c2VyaWVzRG9zZXNQb3NpdGl2ZUludCB2YWx1ZT0iMiIvPgogICA8L3Byb3RvY29sQXBwbGllZD4KPGRzOlNpZ25hdHVyZSB4bWxuczpkcz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyIgSWQ9InhtbGRzaWctZjUxNzZlODEtYTFlNS00N2QxLTg1MTUtNzlhYzExNjIzYzRjIj48ZHM6U2lnbmVkSW5mbz48ZHM6Q2Fub25pY2FsaXphdGlvbk1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PGRzOlNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSIvPjxkczpSZWZlcmVuY2UgSWQ9InhtbGRzaWctZjUxNzZlODEtYTFlNS00N2QxLTg1MTUtNzlhYzExNjIzYzRjLXJlZjAiIFVSST0iIj48ZHM6VHJhbnNmb3Jtcz48ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI2VudmVsb3BlZC1zaWduYXR1cmUiLz48L2RzOlRyYW5zZm9ybXM+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIi8+PGRzOkRpZ2VzdFZhbHVlPnhRM2dwcG5ZNTBJaXFZSDlqT0NVNHN5b2hYQT08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjxkczpSZWZlcmVuY2UgVHlwZT0iaHR0cDovL3VyaS5ldHNpLm9yZy8wMTkwMyNTaWduZWRQcm9wZXJ0aWVzIiBVUkk9IiN4bWxkc2lnLWY1MTc2ZTgxLWExZTUtNDdkMS04NTE1LTc5YWMxMTYyM2M0Yy1zaWduZWRwcm9wcyI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ii8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5ZVklHRHdINElSSlNrblJMeTVPOGFTY2djaUU9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlIElkPSJ4bWxkc2lnLWY1MTc2ZTgxLWExZTUtNDdkMS04NTE1LTc5YWMxMTYyM2M0Yy1zaWd2YWx1ZSI+ZGJVNzRYb0dpcnlseGxGTlArWW4vV0I3Vkg0UlU4YVI1bkdVYTdUcGUxN01ya2tHTERWK3c1bzRTSk1CQitKaFNXRUxUUTRmekpZa2YvVmY1SmErbEJWcDNlaHdCZUZrVUM2NGEvNkNvS1dLaXpvcHJFTDRqZFlycGNlVVNSUE5SRDZlWUlZOU1DMFNKL3h0blhuMGREL1VGWU5QeVdtK3ZXR1RISkcrbHlkbXpUQm8rcTczWE9Db25odEQzYWp4ZjNBUm1tYUlVbWZJYkZaMDBjV1h3MS8zSTgxaEZ1Mk9kdVcweWZ4YzNVNGsvdXBESk5EOXRlT0xWOCtKYWp1bFM1M1l0UllnN3lDZlUxMElIc1BMR1ZCdDhxNGVxL0dBZ2E5VExyNStHNy9YTm9XUmw2ekVRdFkxQ3pKWTRYbkM1R1c2YmtGcHpLYnRJajVTc1VDeE1BPT08L2RzOlNpZ25hdHVyZVZhbHVlPjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUZFVENDQXZtZ0F3SUJBZ0lJV3pUa0pPUHJwclV3RFFZSktvWklodmNOQVFFTkJRQXdVVEVZTUJZR0ExVUVBd3dQUTBNZ1VERWdVM1ZpUTBFZ1YxTlRNUmd3RmdZRFZRUUxEQTlRTVNCSmJuUmxaM0poWTNscWJtVXhEakFNQmdOVkJBb01CVU5UU1U5YU1Rc3dDUVlEVlFRR0V3SlFUREFlRncweU1URXlNRE14TVRFM016RmFGdzB5TXpFeU1ETXhNVEUzTXpGYU1JR0VNUzR3TEFZRFZRUUREQ1ZoYzNsemRHVnVkRjlwYm5ReUxYVjNhV1Z5ZW5sMFpXeHVhV1Z1YVdVZ1pHRnVlV05vTVJzd0dRWURWUVFGRXhKUVJWTkZURG9nTnpJeE1ESTJNamd4TnpJeEdEQVdCZ05WQkFzTUQxQXhJRWx1ZEdWbmNtRmplV3B1WlRFT01Bd0dBMVVFQ2d3RlExTkpUMW94Q3pBSkJnTlZCQVlUQWxCTU1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdmw5MVBsN2NDQ1ZXbjU1aHV0bmRsREd4TTZ6dlQvVHFNOFhUSzhNRnZqL3lSUFd0d0NqU2xHMXA0NUcyQ1FHR1dVQ29hZTdLTXd0akYxQm9WbUJvMzRyd0JjUm5jaDJhcXVJd1dRVVBRQ2p0c2xST0F6cWdEZ3ZBTDdqd24xQVJlWk11eGlKb3NaWEsxbWIxM3VCcEMwYjdWQ2l3Sy95S3RZNGMvdGJYcTBTY2lkM1gyV1pkbFJSaFZtQkdtZTBCSDNPNFlHa1VqNldkeXlJNloyeE0zUVpuc1owb3hMS3llZFhjWlI0MGxuanVOVUVzb0JuQ3F6SnJHUGMwZ00rVDJndUxwcUpOS0hZam1pMFVKQjBUSTZBSm5hY0NFMnFqUmZDb1VubWphTkp1QlB4UGoxQTdjajQ4Wjk2WG1jb0MwdjgzWnl3cWMvL2dKbDBZQW5DenRRSURBUUFCbzRHNE1JRzFNQXdHQTFVZEV3RUIvd1FDTUFBd0h3WURWUjBqQkJnd0ZvQVVZb2FCQWdhQnRXMXpuM2JLK0hTMXQ0YlNPb1l3VlFZRFZSMGZCRTR3VERCS29FaWdSb1pFYUhSMGNITTZMeTlwYm5RdGNERXVaWHBrY205M2FXVXVaMjkyTG5Cc0wyTmpjREV2WTNKc0wwTkRVREZKYm5SbFozSmhZM2xxYm1WVGRXSkRRVmRUVXk1amNtd3dIUVlEVlIwT0JCWUVGRzZiVzg2ckV6RG8wczhRaUtUeURxNlhrNWVXTUE0R0ExVWREd0VCL3dRRUF3SUhnREFOQmdrcWhraUc5dzBCQVEwRkFBT0NBZ0VBd3Q2VWpXd0Nqd0RSK2pmZ3RCUE5rMnVIRVU1L0VFcUdiR2tjQ2M2Y1RTdVd6UWxvWUE0WHJZWXM4UnNmU2pDZlRPa1l5M1ZkVnF2bU1zdkRqMktwYnNIRlNwbVdwbk5oTGtGcXUwSXNpNGE1b0JzWU9ZUm42VG82KzRsTEViZ2w1QlgwN0IrSlNxc1dqdk5GWFhRMjgrTjdGKzh6RnpTZStIMmdveTBXTTh2WE1sYW5JaU95a0cyekFqcSt2UlZ1dWpXOTNoN0pJcnV1cStrQldjdmpZYW1VU2o2WTduZS9FUnFWamZ2R2JxK2tubGRvam9TNVgxRFViRmpXSkJzdTdycW1VUWJteXZmMjQ1Z0VYTGhwbjl0ZEE4QUxPb0Z0YzJrSFpjQVJjZktteTFVQTFBU0g2ZnBIb3FJaVNnTUxFOGZacU9OQWpMa1ZpUW1LQ2UrMGdwWXJUNytHTGRwajQzVmZ5L21DR2RYUGFISGhQckZRVTFGNXNUZVgyM3JBcHowQlhNSW1kUG4vd1paK2J3bTJxQW9XVWdLQXlWclRXK0ZHdDh1QmY3c2ZaU3k3L1ZNL1lpa2F4bGxHbGFMRFRrRG1XbWg3N0xsaW9FdTBuT3J5dkN4bDZSMUNjbmNmdXh0V3lhNlEwVjZNa1dJTzRVUmRqUktoSUFZN2tTSC9nbFVxUitob3prQk1EdEdBQ09INXgzUStZekNsVFR5eW1hem9ObWFrMmsyeEUyM2RHU0g3dUQyYll1K3FtYTIxbnFTc1IyaXFaQ1RUclBtR0t5VnhSZUhrTUYvZU53Yk5zOWxwSThzaDBUUmR5NHYrT0pUalNHZGZQL1BvaXg4M0pVemovWGd0d3lEck5KUEpQbFdzRVdQVEJjZ3Y5V2s0eUxydDg4UW9PWlk9PC9kczpYNTA5Q2VydGlmaWNhdGU+PGRzOlg1MDlTdWJqZWN0TmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLHNlcmlhbE51bWJlcj1QRVNFTDogNzIxMDI2MjgxNzIsY249YXN5c3RlbnRfaW50Mi11d2llcnp5dGVsbmllbmllIGRhbnljaDwvZHM6WDUwOVN1YmplY3ROYW1lPjxkczpYNTA5SXNzdWVyU2VyaWFsPjxkczpYNTA5SXNzdWVyTmFtZT5jPVBMLG89Q1NJT1osb3U9UDEgSW50ZWdyYWN5am5lLGNuPUNDIFAxIFN1YkNBIFdTUzwvZHM6WDUwOUlzc3Vlck5hbWU+PGRzOlg1MDlTZXJpYWxOdW1iZXI+NjU3MjEyODYwMzMzNDIyMzU0MTwvZHM6WDUwOVNlcmlhbE51bWJlcj48L2RzOlg1MDlJc3N1ZXJTZXJpYWw+PC9kczpYNTA5RGF0YT48L2RzOktleUluZm8+PGRzOk9iamVjdD48eGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXMgeG1sbnM6eGFkZXM9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuMy4yIyIgeG1sbnM6eGFkZXMxNDE9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMvdjEuNC4xIyIgVGFyZ2V0PSIjeG1sZHNpZy1mNTE3NmU4MS1hMWU1LTQ3ZDEtODUxNS03OWFjMTE2MjNjNGMiPjx4YWRlczpTaWduZWRQcm9wZXJ0aWVzIElkPSJ4bWxkc2lnLWY1MTc2ZTgxLWExZTUtNDdkMS04NTE1LTc5YWMxMTYyM2M0Yy1zaWduZWRwcm9wcyI+PHhhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PHhhZGVzOlNpZ25pbmdUaW1lPjIwMjItMDktMDJUMTE6NDc6MDcuMjc3KzAyOjAwPC94YWRlczpTaWduaW5nVGltZT48eGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5EN2hqbXVVSUhNdXU0UExUM0JQTEM2NzBqWnc9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjY1NzIxMjg2MDMzMzQyMjM1NDE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5IdVB0bDZMSWp0MDJOeDNFQmgydHNsS1VnbkU9PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjMxNDE3MDA3ODg2MTc5MzQzMTQ8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0Pjx4YWRlczpDZXJ0Pjx4YWRlczpDZXJ0RGlnZXN0PjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5VRlB1dVUzaHBCMTNCVUsyR3JNWS9PNDVwVk09PC9kczpEaWdlc3RWYWx1ZT48L3hhZGVzOkNlcnREaWdlc3Q+PHhhZGVzOklzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBSb290Q0E8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjc1ODE4Nzk3MjA2MzA2NjAyMjY8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC94YWRlczpJc3N1ZXJTZXJpYWw+PC94YWRlczpDZXJ0PjwveGFkZXM6U2lnbmluZ0NlcnRpZmljYXRlPjwveGFkZXM6U2lnbmVkU2lnbmF0dXJlUHJvcGVydGllcz48L3hhZGVzOlNpZ25lZFByb3BlcnRpZXM+PC94YWRlczpRdWFsaWZ5aW5nUHJvcGVydGllcz48L2RzOk9iamVjdD48L2RzOlNpZ25hdHVyZT48L0ltbXVuaXphdGlvbj4="/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance (PLPractitionerSignature)" id="0a8d46ea-ffc9-4d2d-9936-c6cdb3b0d023">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance (PLPractitionerSignature)" id="fe9ba9cb-5a81-4394-a6b2-89737fc8f47f" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${Zapis zasobu provenance (PLPractitionerSignature)#resourceRequest}</con:request>
            <con:originalUri>https://tsus.ezdrowie.gov.pl/fhir/Provenance/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="c65069ab-e206-41f3-8f19-3e34ac605715" name="[A1] HTTP 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f8db0a4b-3289-4675-81da-9eec7a68c73a" name="[A2] Zwrcono zasb z ID">
              <con:configuration>
                <path>(//*:id/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="_id" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>rok</con:name>
          <con:value>2020</con:value>
        </con:property>
        <con:property>
          <con:name>miesiac</con:name>
          <con:value>12</con:value>
        </con:property>
        <con:property>
          <con:name>czas</con:name>
          <con:value>2020-12-03T12:32:38.458+0100</con:value>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase id="c1979103-344e-45fa-a53f-3f4b9c541b17" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Zapis danych o szczepieniach pacjenta przeciw COVID" searchProperties="true">
      <con:settings/>
      <con:testStep type="calltestcase" name="Generuj token" id="330b3a0d-b690-4294-a8a7-59e049fdcbcc">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>92cc5403-bf6c-44a6-8388-827245eada19</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>isOtherSystem</con:name>
            </con:property>
            <con:property>
              <con:name>purpose</con:name>
            </con:property>
          </con:properties>
          <con:returnProperties/>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generowanie danych" id="ed96119b-1036-4881-aa87-da60a0b26799">
        <con:settings/>
        <con:config>
          <script>import java.time.ZonedDateTime
import java.time.format.DateTimeFormatter

String paszportSeria = org.apache.commons.lang.RandomStringUtils.random(2, true, false)
String paszportNum = org.apache.commons.lang.RandomStringUtils.random(7, false, true)
testRunner.testCase.getTestStepByName("dane").setPropertyValue("identyfikatorPacjenta", paszportSeria.toUpperCase()+paszportNum)

String identyfikatorZdarzenia = java.util.UUID.randomUUID().toString()
String korelacjaIdentyfikator = java.util.UUID.randomUUID().toString()
String skierowanieIdentyfikator = java.util.UUID.randomUUID().toString()

def formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS[XXX]")
def teraz = ZonedDateTime.now()
String data1 = teraz.minusDays(201).format(formatter)
String data2 = teraz.minusDays(181).format(formatter)
String data3 = teraz.format(formatter)

def dawka1 = testRunner.testCase.testSteps['szczepienie1dawka']
dawka1.setPropertyValue("podpisData", data3)
dawka1.setPropertyValue("dataSzczepienia", data1)
//dane.setPropertyValue("locationStart", data1)
//dane.setPropertyValue("locationEnd", data3)
//dane.setPropertyValue("locationStart1", data2)

def dawka2 = testRunner.testCase.testSteps['szczepienie2dawka']
dawka2.setPropertyValue("podpisData", data3)
dawka2.setPropertyValue("dataSzczepienia", data2)

def booster = testRunner.testCase.testSteps['szczepienieBooster']
booster.setPropertyValue("podpisData", data3)
booster.setPropertyValue("dataSzczepienia", data3)

log.info(identyfikatorZdarzenia)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="dane" id="8d0baa1f-d23a-48c5-bfbb-2781e73a1f20">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>patientId</con:name>
              <con:value>5142553</con:value>
            </con:property>
            <con:property>
              <con:name>patientVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.4.330.56</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>JW7937996</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>Senior</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>Sylwester</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart</con:name>
              <con:value>2021-11-10T08:07:57.533+01:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart1</con:name>
              <con:value>2021-11-10T14:07:57.533+01:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationEnd</con:name>
              <con:value>2021-11-10T11:07:57.533+01:00</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="szczepienie1dawka" id="90f32631-599a-4fc9-8736-cde3585b712b">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:47:12.424+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>provenanceId</con:name>
              <con:value>192048</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart</con:name>
              <con:value>2021-11-10T08:07:57.533+01:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart1</con:name>
              <con:value>2021-11-10T14:07:57.533+01:00</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>Sylwester Senior</con:value>
            </con:property>
            <con:property>
              <con:name>locationEnd</con:name>
              <con:value>2021-11-10T11:07:57.533+01:00</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48SW1tdW5pemF0aW9uIHhtbG5zPSJodHRwOi8vaGw3Lm9yZy9maGlyIj4KICAgPGlkIHZhbHVlPSI1MTQyNTU1Ii8+CiAgIDxtZXRhPgogICAgICA8dmVyc2lvbklkIHZhbHVlPSIxIi8+CiAgICAgIDxsYXN0VXBkYXRlZCB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0NzoxNy4zODcrMDI6MDAiLz4KICAgICAgPHByb2ZpbGUgdmFsdWU9Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QTEltbXVuaXphdGlvblNpbXBsZSIvPgogICAgICA8c2VjdXJpdHk+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuODMiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9Ik4iLz4KICAgICAgPC9zZWN1cml0eT4KICAgPC9tZXRhPgogICA8aW1wbGljaXRSdWxlcyB2YWx1ZT0iMTYuMy4zIi8+CiAgIDxleHRlbnNpb24gdXJsPSJodHRwczovL2V6ZHJvd2llLmdvdi5wbC9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vUExNZWRpY2FsQ2VydGlmaWNhdGVSZWZlcmVuY2UiPgogICAgICA8ZXh0ZW5zaW9uIHVybD0icGFwZXJGb3JtIj4KICAgICAgICAgPHZhbHVlQm9vbGVhbiB2YWx1ZT0idHJ1ZSIvPgogICAgICA8L2V4dGVuc2lvbj4KICAgICAgPGV4dGVuc2lvbiB1cmw9ImFzc2VydGVyIj4KICAgICAgICAgPHZhbHVlUmVmZXJlbmNlPgogICAgICAgICAgICA8aWRlbnRpZmllcj4KICAgICAgICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMS42LjIiLz4KICAgICAgICAgICAgICAgPHZhbHVlIHZhbHVlPSIyNjk4MDQwIi8+CiAgICAgICAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgICAgICAgPGRpc3BsYXkgdmFsdWU9Ik1vbmlrYSBMZWN6bmljemEiLz4KICAgICAgICAgPC92YWx1ZVJlZmVyZW5jZT4KICAgICAgPC9leHRlbnNpb24+CiAgICAgIDxleHRlbnNpb24gdXJsPSJpc3N1ZWQiPgogICAgICAgICA8dmFsdWVEYXRlVGltZSB2YWx1ZT0iMjAyMi0wMi0xM1QxMTo0NzoxMi40MjQrMDE6MDAiLz4KICAgICAgPC9leHRlbnNpb24+CiAgIDwvZXh0ZW5zaW9uPgogICA8c3RhdHVzIHZhbHVlPSJub3QtZG9uZSIvPgogICA8c3RhdHVzUmVhc29uPgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjEwMyIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iSU1NVU5FIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJPZHBvcm5vxZvEhyIvPgogICAgICA8L2NvZGluZz4KICAgPC9zdGF0dXNSZWFzb24+CiAgIDx2YWNjaW5lQ29kZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoxLjMuMTYwIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSIwNTkwOTk5MTQ0NTU5MSIvPgogICAgICA8L2NvZGluZz4KICAgICAgPHRleHQgdmFsdWU9IlByZWZsdWNlbCIvPgogICA8L3ZhY2NpbmVDb2RlPgogICA8cGF0aWVudD4KICAgICAgPHJlZmVyZW5jZSB2YWx1ZT0iUGF0aWVudC81MTQyNTUzIi8+CiAgICAgIDx0eXBlIHZhbHVlPSJQYXRpZW50Ii8+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjQuMzMwLjU2Ii8+CiAgICAgICAgIDx2YWx1ZSB2YWx1ZT0iSlc3OTM3OTk2Ii8+CiAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgPGRpc3BsYXkgdmFsdWU9IlN5bHdlc3RlciBTZW5pb3IiLz4KICAgPC9wYXRpZW50PgogICA8b2NjdXJyZW5jZURhdGVUaW1lIHZhbHVlPSIyMDIyLTAyLTEzVDExOjQ3OjEyLjQyNCswMTowMCIvPgogICA8bG9jYXRpb24+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMyIvPgogICAgICAgICA8dmFsdWUgdmFsdWU9IjAwMDAwMDAxMjEwNi0wMDEiLz4KICAgICAgPC9pZGVudGlmaWVyPgogICA8L2xvY2F0aW9uPgogICA8bWFudWZhY3R1cmVyPgogICAgICA8ZGlzcGxheSB2YWx1ZT0idGVzdCIvPgogICA8L21hbnVmYWN0dXJlcj4KICAgPGxvdE51bWJlciB2YWx1ZT0iQUFKTjExSyIvPgogICA8c2l0ZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDEiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9IkxBIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJMZXdlIHJhbWnEmSIvPgogICAgICA8L2NvZGluZz4KICAgPC9zaXRlPgogICA8cm91dGU+CiAgICAgIDxjb2Rpbmc+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuMTAyIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSJJTSIvPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iSW5pZWtjamEgZG9tacSZxZtuaW93YSIvPgogICAgICA8L2NvZGluZz4KICAgPC9yb3V0ZT4KICAgPGRvc2VRdWFudGl0eT4KICAgICAgPHZhbHVlIHZhbHVlPSIwLjUiLz4KICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My42LjgiLz4KICAgICAgPGNvZGUgdmFsdWU9Ik1MIi8+CiAgIDwvZG9zZVF1YW50aXR5PgogICA8cGVyZm9ybWVyPgogICAgICA8YWN0b3I+CiAgICAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xLjYuMiIvPgogICAgICAgICAgICA8dmFsdWUgdmFsdWU9IjI2OTgwNDAiLz4KICAgICAgICAgPC9pZGVudGlmaWVyPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iTW9uaWthIExlY3puaWN6YSIvPgogICAgICA8L2FjdG9yPgogICA8L3BlcmZvcm1lcj4KICAgPG5vdGU+CiAgICAgIDx0ZXh0IHZhbHVlPSJOb3RlcyBvbiBhZG1pbnN0cmF0aW9uIG9mIHZhY2NpbmUiLz4KICAgPC9ub3RlPgogICA8ZnVuZGluZ1NvdXJjZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDUiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9InByaXZhdGUiLz4KICAgICAgPC9jb2Rpbmc+CiAgIDwvZnVuZGluZ1NvdXJjZT4KICAgPHByb3RvY29sQXBwbGllZD4KICAgICAgPHRhcmdldERpc2Vhc2U+CiAgICAgICAgIDxjb2Rpbmc+CiAgICAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjIuNiIvPgogICAgICAgICAgICA8Y29kZSB2YWx1ZT0iOTkuNTU3Ii8+CiAgICAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJTemN6ZXBpZW5pZSBwcnplY2l3IENPVklELTE5Ii8+CiAgICAgICAgIDwvY29kaW5nPgogICAgICA8L3RhcmdldERpc2Vhc2U+CiAgICAgIDxkb3NlTnVtYmVyUG9zaXRpdmVJbnQgdmFsdWU9IjEiLz4KICAgICAgPHNlcmllc0Rvc2VzUG9zaXRpdmVJbnQgdmFsdWU9IjIiLz4KICAgPC9wcm90b2NvbEFwcGxpZWQ+CjxkczpTaWduYXR1cmUgeG1sbnM6ZHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiIElkPSJ4bWxkc2lnLTNlYTI4YjVmLTljNGMtNDZiNy04MGQ0LTMxNDFjMWUyMDhkNSI+PGRzOlNpZ25lZEluZm8+PGRzOkNhbm9uaWNhbGl6YXRpb25NZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjxkczpTaWduYXR1cmVNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjcnNhLXNoYTEiLz48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTNlYTI4YjVmLTljNGMtNDZiNy04MGQ0LTMxNDFjMWUyMDhkNS1yZWYwIiBVUkk9IiI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNlbnZlbG9wZWQtc2lnbmF0dXJlIi8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5VVGJ5eVJpekFrVHBhOWJvbjZ2cncyOHlGYjA9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy0zZWEyOGI1Zi05YzRjLTQ2YjctODBkNC0zMTQxYzFlMjA4ZDUtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+Z2swN0FRTE9Fam43bEpmdzdHaExGMUxQcDFnPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PC9kczpTaWduZWRJbmZvPjxkczpTaWduYXR1cmVWYWx1ZSBJZD0ieG1sZHNpZy0zZWEyOGI1Zi05YzRjLTQ2YjctODBkNC0zMTQxYzFlMjA4ZDUtc2lndmFsdWUiPmxmNEM4V0UzblNKRlNZL1VsRTU3cTEvMHBEQWxSekV5eXZnNDltWWZYMnhScXdsT1JXL21GZmViNjZQZjlXVm9ycEZ5YVhndkdiQkx2KzN1R3k0SXRLUW95SFdnSUdxTnZlcE1naWtrS3VHSG9pOTIvbHlxSWVaT0RLQ0hwSnI2ZXF4dTlIQ3dGeTdvb0ZFSFkzQ2ZZV3AyL1hCTDUvRnpwSlpma0F4S1FrRW9RdGtqWjliYjBraEh0Z0ZhMCtGSTR1cEpVNTdsR25rL29FSmFCVVU5Z29nZUYzRzZ0VVFFRlRacWpaQVdGYXdodGdGMitaSUIzb2VMaFd0OVNkR2ZTUWFhVlp0aERWNGdscFQzelNDTjAza3dZbk5zZ09JVzNVUk9qQUpoZFNHY1dUTk16MHRzbWRhWUxSV1h4enc4dUp6VFArVithZXBpNXF0V0xla1cxZz09PC9kczpTaWduYXR1cmVWYWx1ZT48ZHM6S2V5SW5mbz48ZHM6WDUwOURhdGE+PGRzOlg1MDlDZXJ0aWZpY2F0ZT5NSUlGRVRDQ0F2bWdBd0lCQWdJSVd6VGtKT1BycHJVd0RRWUpLb1pJaHZjTkFRRU5CUUF3VVRFWU1CWUdBMVVFQXd3UFEwTWdVREVnVTNWaVEwRWdWMU5UTVJnd0ZnWURWUVFMREE5UU1TQkpiblJsWjNKaFkzbHFibVV4RGpBTUJnTlZCQW9NQlVOVFNVOWFNUXN3Q1FZRFZRUUdFd0pRVERBZUZ3MHlNVEV5TURNeE1URTNNekZhRncweU16RXlNRE14TVRFM016RmFNSUdFTVM0d0xBWURWUVFERENWaGMzbHpkR1Z1ZEY5cGJuUXlMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01Sc3dHUVlEVlFRRkV4SlFSVk5GVERvZ056SXhNREkyTWpneE56SXhHREFXQmdOVkJBc01EMUF4SUVsdWRHVm5jbUZqZVdwdVpURU9NQXdHQTFVRUNnd0ZRMU5KVDFveEN6QUpCZ05WQkFZVEFsQk1NSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXZsOTFQbDdjQ0NWV241NWh1dG5kbERHeE02enZUL1RxTThYVEs4TUZ2ai95UlBXdHdDalNsRzFwNDVHMkNRR0dXVUNvYWU3S013dGpGMUJvVm1CbzM0cndCY1JuY2gyYXF1SXdXUVVQUUNqdHNsUk9BenFnRGd2QUw3anduMUFSZVpNdXhpSm9zWlhLMW1iMTN1QnBDMGI3VkNpd0sveUt0WTRjL3RiWHEwU2NpZDNYMldaZGxSUmhWbUJHbWUwQkgzTzRZR2tVajZXZHl5STZaMnhNM1FabnNaMG94TEt5ZWRYY1pSNDBsbmp1TlVFc29CbkNxekpyR1BjMGdNK1QyZ3VMcHFKTktIWWptaTBVSkIwVEk2QUpuYWNDRTJxalJmQ29Vbm1qYU5KdUJQeFBqMUE3Y2o0OFo5NlhtY29DMHY4M1p5d3FjLy9nSmwwWUFuQ3p0UUlEQVFBQm80RzRNSUcxTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwakJCZ3dGb0FVWW9hQkFnYUJ0VzF6bjNiSytIUzF0NGJTT29Zd1ZRWURWUjBmQkU0d1REQktvRWlnUm9aRWFIUjBjSE02THk5cGJuUXRjREV1Wlhwa2NtOTNhV1V1WjI5MkxuQnNMMk5qY0RFdlkzSnNMME5EVURGSmJuUmxaM0poWTNscWJtVlRkV0pEUVZkVFV5NWpjbXd3SFFZRFZSME9CQllFRkc2Ylc4NnJFekRvMHM4UWlLVHlEcTZYazVlV01BNEdBMVVkRHdFQi93UUVBd0lIZ0RBTkJna3Foa2lHOXcwQkFRMEZBQU9DQWdFQXd0NlVqV3dDandEUitqZmd0QlBOazJ1SEVVNS9FRXFHYkdrY0NjNmNUU3VXelFsb1lBNFhyWVlzOFJzZlNqQ2ZUT2tZeTNWZFZxdm1Nc3ZEajJLcGJzSEZTcG1XcG5OaExrRnF1MElzaTRhNW9Cc1lPWVJuNlRvNis0bExFYmdsNUJYMDdCK0pTcXNXanZORlhYUTI4K043Ris4ekZ6U2UrSDJnb3kwV004dlhNbGFuSWlPeWtHMnpBanErdlJWdXVqVzkzaDdKSXJ1dXEra0JXY3ZqWWFtVVNqNlk3bmUvRVJxVmpmdkdicStrbmxkb2pvUzVYMURVYkZqV0pCc3U3cnFtVVFibXl2ZjI0NWdFWExocG45dGRBOEFMT29GdGMya0haY0FSY2ZLbXkxVUExQVNINmZwSG9xSWlTZ01MRThmWnFPTkFqTGtWaVFtS0NlKzBncFlyVDcrR0xkcGo0M1ZmeS9tQ0dkWFBhSEhoUHJGUVUxRjVzVGVYMjNyQXB6MEJYTUltZFBuL3daWitid20ycUFvV1VnS0F5VnJUVytGR3Q4dUJmN3NmWlN5Ny9WTS9ZaWtheGxsR2xhTERUa0RtV21oNzdMbGlvRXUwbk9yeXZDeGw2UjFDY25jZnV4dFd5YTZRMFY2TWtXSU80VVJkalJLaElBWTdrU0gvZ2xVcVIraG96a0JNRHRHQUNPSDV4M1ErWXpDbFRUeXltYXpvTm1hazJrMnhFMjNkR1NIN3VEMmJZdStxbWEyMW5xU3NSMmlxWkNUVHJQbUdLeVZ4UmVIa01GL2VOd2JOczlscEk4c2gwVFJkeTR2K09KVGpTR2RmUC9Qb2l4ODNKVXpqL1hndHd5RHJOSlBKUGxXc0VXUFRCY2d2OVdrNHlMcnQ4OFFvT1pZPTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9UEVTRUw6IDcyMTAyNjI4MTcyLGNuPWFzeXN0ZW50X2ludDItdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjY1NzIxMjg2MDMzMzQyMjM1NDE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctM2VhMjhiNWYtOWM0Yy00NmI3LTgwZDQtMzE0MWMxZTIwOGQ1Ij48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy0zZWEyOGI1Zi05YzRjLTQ2YjctODBkNC0zMTQxYzFlMjA4ZDUtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjQ3OjE3LjYyMCswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+RDdoam11VUlITXV1NFBMVDNCUExDNjcwalp3PTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj42NTcyMTI4NjAzMzM0MjIzNTQxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+SHVQdGw2TElqdDAyTngzRUJoMnRzbEtVZ25FPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+VUZQdXVVM2hwQjEzQlVLMkdyTVkvTzQ1cFZNPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+PC9JbW11bml6YXRpb24+</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationId</con:name>
              <con:value>5142555</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationResource</con:name>
              <con:value><![CDATA[<Immunization xmlns="http://hl7.org/fhir">
   <id value="5142555"/>
   <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:47:17.387+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLImmunizationSimple"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <implicitRules value="16.3.3"/>
   <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalCertificateReference">
      <extension url="paperForm">
         <valueBoolean value="true"/>
      </extension>
      <extension url="asserter">
         <valueReference>
            <identifier>
               <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
               <value value="2698040"/>
            </identifier>
            <display value="Monika Lecznicza"/>
         </valueReference>
      </extension>
      <extension url="issued">
         <valueDateTime value="2022-02-13T11:47:12.424+01:00"/>
      </extension>
   </extension>
   <status value="not-done"/>
   <statusReason>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.103"/>
         <code value="IMMUNE"/>
         <display value="Odporno"/>
      </coding>
   </statusReason>
   <vaccineCode>
      <coding>
         <system value="urn:oid:1.3.160"/>
         <code value="05909991445591"/>
      </coding>
      <text value="Preflucel"/>
   </vaccineCode>
   <patient>
      <reference value="Patient/5142553"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="JW7937996"/>
      </identifier>
      <display value="Sylwester Senior"/>
   </patient>
   <occurrenceDateTime value="2022-02-13T11:47:12.424+01:00"/>
   <location>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
         <value value="000000012106-001"/>
      </identifier>
   </location>
   <manufacturer>
      <display value="test"/>
   </manufacturer>
   <lotNumber value="AAJN11K"/>
   <site>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.101"/>
         <code value="LA"/>
         <display value="Lewe rami"/>
      </coding>
   </site>
   <route>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.102"/>
         <code value="IM"/>
         <display value="Iniekcja dominiowa"/>
      </coding>
   </route>
   <doseQuantity>
      <value value="0.5"/>
      <system value="urn:oid:2.16.840.1.113883.6.8"/>
      <code value="ML"/>
   </doseQuantity>
   <performer>
      <actor>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
            <value value="2698040"/>
         </identifier>
         <display value="Monika Lecznicza"/>
      </actor>
   </performer>
   <note>
      <text value="Notes on adminstration of vaccine"/>
   </note>
   <fundingSource>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.105"/>
         <code value="private"/>
      </coding>
   </fundingSource>
   <protocolApplied>
      <targetDisease>
         <coding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
            <code value="99.557"/>
            <display value="Szczepienie przeciw COVID-19"/>
         </coding>
      </targetDisease>
      <doseNumberPositiveInt value="1"/>
      <seriesDosesPositiveInt value="2"/>
   </protocolApplied>
</Immunization>]]></con:value>
            </con:property>
            <con:property>
              <con:name>immunizationStatus</con:name>
              <con:value>not-done</con:value>
            </con:property>
            <con:property>
              <con:name>dataSzczepienia</con:name>
              <con:value>2022-02-13T11:47:12.424+01:00</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="szczepienie2dawka" id="5d8c057f-610b-4f5b-9d54-f7ece96f8ac6">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:47:12.424+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>provenanceId</con:name>
              <con:value>192048</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart</con:name>
              <con:value>2021-11-10T08:07:57.533+01:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart1</con:name>
              <con:value>2021-11-10T14:07:57.533+01:00</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>Sylwester Senior</con:value>
            </con:property>
            <con:property>
              <con:name>locationEnd</con:name>
              <con:value>2021-11-10T11:07:57.533+01:00</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48SW1tdW5pemF0aW9uIHhtbG5zPSJodHRwOi8vaGw3Lm9yZy9maGlyIj4KICAgPGlkIHZhbHVlPSI1MTQyNTU5Ii8+CiAgIDxtZXRhPgogICAgICA8dmVyc2lvbklkIHZhbHVlPSIxIi8+CiAgICAgIDxsYXN0VXBkYXRlZCB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0NzoxOS45MDMrMDI6MDAiLz4KICAgICAgPHByb2ZpbGUgdmFsdWU9Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QTEltbXVuaXphdGlvblNpbXBsZSIvPgogICAgICA8c2VjdXJpdHk+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuODMiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9Ik4iLz4KICAgICAgPC9zZWN1cml0eT4KICAgPC9tZXRhPgogICA8aW1wbGljaXRSdWxlcyB2YWx1ZT0iMTYuMy4zIi8+CiAgIDxleHRlbnNpb24gdXJsPSJodHRwczovL2V6ZHJvd2llLmdvdi5wbC9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vUExNZWRpY2FsQ2VydGlmaWNhdGVSZWZlcmVuY2UiPgogICAgICA8ZXh0ZW5zaW9uIHVybD0icGFwZXJGb3JtIj4KICAgICAgICAgPHZhbHVlQm9vbGVhbiB2YWx1ZT0idHJ1ZSIvPgogICAgICA8L2V4dGVuc2lvbj4KICAgICAgPGV4dGVuc2lvbiB1cmw9ImFzc2VydGVyIj4KICAgICAgICAgPHZhbHVlUmVmZXJlbmNlPgogICAgICAgICAgICA8aWRlbnRpZmllcj4KICAgICAgICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMS42LjIiLz4KICAgICAgICAgICAgICAgPHZhbHVlIHZhbHVlPSIyNjk4MDQwIi8+CiAgICAgICAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgICAgICAgPGRpc3BsYXkgdmFsdWU9Ik1vbmlrYSBMZWN6bmljemEiLz4KICAgICAgICAgPC92YWx1ZVJlZmVyZW5jZT4KICAgICAgPC9leHRlbnNpb24+CiAgICAgIDxleHRlbnNpb24gdXJsPSJpc3N1ZWQiPgogICAgICAgICA8dmFsdWVEYXRlVGltZSB2YWx1ZT0iMjAyMi0wMy0wNVQxMTo0NzoxMi40MjQrMDE6MDAiLz4KICAgICAgPC9leHRlbnNpb24+CiAgIDwvZXh0ZW5zaW9uPgogICA8c3RhdHVzIHZhbHVlPSJub3QtZG9uZSIvPgogICA8c3RhdHVzUmVhc29uPgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjEwMyIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iSU1NVU5FIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJPZHBvcm5vxZvEhyIvPgogICAgICA8L2NvZGluZz4KICAgPC9zdGF0dXNSZWFzb24+CiAgIDx2YWNjaW5lQ29kZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoxLjMuMTYwIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSIwNTkwOTk5MTQ0NTU5MSIvPgogICAgICA8L2NvZGluZz4KICAgICAgPHRleHQgdmFsdWU9IlByZWZsdWNlbCIvPgogICA8L3ZhY2NpbmVDb2RlPgogICA8cGF0aWVudD4KICAgICAgPHJlZmVyZW5jZSB2YWx1ZT0iUGF0aWVudC81MTQyNTUzIi8+CiAgICAgIDx0eXBlIHZhbHVlPSJQYXRpZW50Ii8+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjQuMzMwLjU2Ii8+CiAgICAgICAgIDx2YWx1ZSB2YWx1ZT0iSlc3OTM3OTk2Ii8+CiAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgPGRpc3BsYXkgdmFsdWU9IlN5bHdlc3RlciBTZW5pb3IiLz4KICAgPC9wYXRpZW50PgogICA8b2NjdXJyZW5jZURhdGVUaW1lIHZhbHVlPSIyMDIyLTAzLTA1VDExOjQ3OjEyLjQyNCswMTowMCIvPgogICA8bG9jYXRpb24+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMyIvPgogICAgICAgICA8dmFsdWUgdmFsdWU9IjAwMDAwMDAxMjEwNi0wMDEiLz4KICAgICAgPC9pZGVudGlmaWVyPgogICA8L2xvY2F0aW9uPgogICA8bWFudWZhY3R1cmVyPgogICAgICA8ZGlzcGxheSB2YWx1ZT0idGVzdCIvPgogICA8L21hbnVmYWN0dXJlcj4KICAgPGxvdE51bWJlciB2YWx1ZT0iQUFKTjExSyIvPgogICA8c2l0ZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDEiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9IkxBIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJMZXdlIHJhbWnEmSIvPgogICAgICA8L2NvZGluZz4KICAgPC9zaXRlPgogICA8cm91dGU+CiAgICAgIDxjb2Rpbmc+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuMTAyIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSJJTSIvPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iSW5pZWtjamEgZG9tacSZxZtuaW93YSIvPgogICAgICA8L2NvZGluZz4KICAgPC9yb3V0ZT4KICAgPGRvc2VRdWFudGl0eT4KICAgICAgPHZhbHVlIHZhbHVlPSIwLjUiLz4KICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My42LjgiLz4KICAgICAgPGNvZGUgdmFsdWU9Ik1MIi8+CiAgIDwvZG9zZVF1YW50aXR5PgogICA8cGVyZm9ybWVyPgogICAgICA8YWN0b3I+CiAgICAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xLjYuMiIvPgogICAgICAgICAgICA8dmFsdWUgdmFsdWU9IjI2OTgwNDAiLz4KICAgICAgICAgPC9pZGVudGlmaWVyPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iTW9uaWthIExlY3puaWN6YSIvPgogICAgICA8L2FjdG9yPgogICA8L3BlcmZvcm1lcj4KICAgPG5vdGU+CiAgICAgIDx0ZXh0IHZhbHVlPSJOb3RlcyBvbiBhZG1pbnN0cmF0aW9uIG9mIHZhY2NpbmUiLz4KICAgPC9ub3RlPgogICA8ZnVuZGluZ1NvdXJjZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDUiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9InByaXZhdGUiLz4KICAgICAgPC9jb2Rpbmc+CiAgIDwvZnVuZGluZ1NvdXJjZT4KICAgPHByb3RvY29sQXBwbGllZD4KICAgICAgPHRhcmdldERpc2Vhc2U+CiAgICAgICAgIDxjb2Rpbmc+CiAgICAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjIuNiIvPgogICAgICAgICAgICA8Y29kZSB2YWx1ZT0iOTkuNTU3Ii8+CiAgICAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJTemN6ZXBpZW5pZSBwcnplY2l3IENPVklELTE5Ii8+CiAgICAgICAgIDwvY29kaW5nPgogICAgICA8L3RhcmdldERpc2Vhc2U+CiAgICAgIDxkb3NlTnVtYmVyUG9zaXRpdmVJbnQgdmFsdWU9IjEiLz4KICAgICAgPHNlcmllc0Rvc2VzUG9zaXRpdmVJbnQgdmFsdWU9IjIiLz4KICAgPC9wcm90b2NvbEFwcGxpZWQ+CjxkczpTaWduYXR1cmUgeG1sbnM6ZHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiIElkPSJ4bWxkc2lnLTBkNjk2ZTM3LWU2NTUtNDA3Zi04MDhjLTc2ODcyZmZjMzc2YiI+PGRzOlNpZ25lZEluZm8+PGRzOkNhbm9uaWNhbGl6YXRpb25NZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjxkczpTaWduYXR1cmVNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjcnNhLXNoYTEiLz48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTBkNjk2ZTM3LWU2NTUtNDA3Zi04MDhjLTc2ODcyZmZjMzc2Yi1yZWYwIiBVUkk9IiI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNlbnZlbG9wZWQtc2lnbmF0dXJlIi8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT50V0k0OWVGaEpRRVZXa3FrRmM5Um8rS3BwVHc9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy0wZDY5NmUzNy1lNjU1LTQwN2YtODA4Yy03Njg3MmZmYzM3NmItc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+VDBnV2VVV29jYVJhWGlJdmFJR1gvV1NTMlNnPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PC9kczpTaWduZWRJbmZvPjxkczpTaWduYXR1cmVWYWx1ZSBJZD0ieG1sZHNpZy0wZDY5NmUzNy1lNjU1LTQwN2YtODA4Yy03Njg3MmZmYzM3NmItc2lndmFsdWUiPktNNjg3c1J5RTZTSjAzTkxjdmplRGhCdGhuMFFDcDlvaTFsMXdLMFJjTkNtOVpQdE0xMjc3cGtPK0RpakdLRmtPVkh5OGFRQUhlVkxaWExFWTlWOEFTc3FPcGdKancxcUJRaW5MdG1Yamd3SmJURFVpRUFpVHVOSktJQ3g5c3ZWY3FOVWhuRHpRaTR0VWtTL3BwVDRqeTJCTFNjU2tibkROYkhDby9CZ0U5cUMvVHFLdTlNU1BxbXBCMkk0Mzl4MkxRVnczcmllK05VZEVCMTROV1VqVUpMRFlMTGtkaFkyN1FtK2xEdCtLMk92NlRHNkRGM1VxTG1pdkhiaXRCczV0Ti9YZUd0Mkh2ellUdXI5aUJKT1pCT1lNU1FkTkpIdnp2ZndpMUZBbndkMWROWUYwY0dEMVVveWJaSGthYUNyY3F3T3lkSWVkb29LZlR5OUsyVWlGdz09PC9kczpTaWduYXR1cmVWYWx1ZT48ZHM6S2V5SW5mbz48ZHM6WDUwOURhdGE+PGRzOlg1MDlDZXJ0aWZpY2F0ZT5NSUlGRVRDQ0F2bWdBd0lCQWdJSVd6VGtKT1BycHJVd0RRWUpLb1pJaHZjTkFRRU5CUUF3VVRFWU1CWUdBMVVFQXd3UFEwTWdVREVnVTNWaVEwRWdWMU5UTVJnd0ZnWURWUVFMREE5UU1TQkpiblJsWjNKaFkzbHFibVV4RGpBTUJnTlZCQW9NQlVOVFNVOWFNUXN3Q1FZRFZRUUdFd0pRVERBZUZ3MHlNVEV5TURNeE1URTNNekZhRncweU16RXlNRE14TVRFM016RmFNSUdFTVM0d0xBWURWUVFERENWaGMzbHpkR1Z1ZEY5cGJuUXlMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01Sc3dHUVlEVlFRRkV4SlFSVk5GVERvZ056SXhNREkyTWpneE56SXhHREFXQmdOVkJBc01EMUF4SUVsdWRHVm5jbUZqZVdwdVpURU9NQXdHQTFVRUNnd0ZRMU5KVDFveEN6QUpCZ05WQkFZVEFsQk1NSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXZsOTFQbDdjQ0NWV241NWh1dG5kbERHeE02enZUL1RxTThYVEs4TUZ2ai95UlBXdHdDalNsRzFwNDVHMkNRR0dXVUNvYWU3S013dGpGMUJvVm1CbzM0cndCY1JuY2gyYXF1SXdXUVVQUUNqdHNsUk9BenFnRGd2QUw3anduMUFSZVpNdXhpSm9zWlhLMW1iMTN1QnBDMGI3VkNpd0sveUt0WTRjL3RiWHEwU2NpZDNYMldaZGxSUmhWbUJHbWUwQkgzTzRZR2tVajZXZHl5STZaMnhNM1FabnNaMG94TEt5ZWRYY1pSNDBsbmp1TlVFc29CbkNxekpyR1BjMGdNK1QyZ3VMcHFKTktIWWptaTBVSkIwVEk2QUpuYWNDRTJxalJmQ29Vbm1qYU5KdUJQeFBqMUE3Y2o0OFo5NlhtY29DMHY4M1p5d3FjLy9nSmwwWUFuQ3p0UUlEQVFBQm80RzRNSUcxTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwakJCZ3dGb0FVWW9hQkFnYUJ0VzF6bjNiSytIUzF0NGJTT29Zd1ZRWURWUjBmQkU0d1REQktvRWlnUm9aRWFIUjBjSE02THk5cGJuUXRjREV1Wlhwa2NtOTNhV1V1WjI5MkxuQnNMMk5qY0RFdlkzSnNMME5EVURGSmJuUmxaM0poWTNscWJtVlRkV0pEUVZkVFV5NWpjbXd3SFFZRFZSME9CQllFRkc2Ylc4NnJFekRvMHM4UWlLVHlEcTZYazVlV01BNEdBMVVkRHdFQi93UUVBd0lIZ0RBTkJna3Foa2lHOXcwQkFRMEZBQU9DQWdFQXd0NlVqV3dDandEUitqZmd0QlBOazJ1SEVVNS9FRXFHYkdrY0NjNmNUU3VXelFsb1lBNFhyWVlzOFJzZlNqQ2ZUT2tZeTNWZFZxdm1Nc3ZEajJLcGJzSEZTcG1XcG5OaExrRnF1MElzaTRhNW9Cc1lPWVJuNlRvNis0bExFYmdsNUJYMDdCK0pTcXNXanZORlhYUTI4K043Ris4ekZ6U2UrSDJnb3kwV004dlhNbGFuSWlPeWtHMnpBanErdlJWdXVqVzkzaDdKSXJ1dXEra0JXY3ZqWWFtVVNqNlk3bmUvRVJxVmpmdkdicStrbmxkb2pvUzVYMURVYkZqV0pCc3U3cnFtVVFibXl2ZjI0NWdFWExocG45dGRBOEFMT29GdGMya0haY0FSY2ZLbXkxVUExQVNINmZwSG9xSWlTZ01MRThmWnFPTkFqTGtWaVFtS0NlKzBncFlyVDcrR0xkcGo0M1ZmeS9tQ0dkWFBhSEhoUHJGUVUxRjVzVGVYMjNyQXB6MEJYTUltZFBuL3daWitid20ycUFvV1VnS0F5VnJUVytGR3Q4dUJmN3NmWlN5Ny9WTS9ZaWtheGxsR2xhTERUa0RtV21oNzdMbGlvRXUwbk9yeXZDeGw2UjFDY25jZnV4dFd5YTZRMFY2TWtXSU80VVJkalJLaElBWTdrU0gvZ2xVcVIraG96a0JNRHRHQUNPSDV4M1ErWXpDbFRUeXltYXpvTm1hazJrMnhFMjNkR1NIN3VEMmJZdStxbWEyMW5xU3NSMmlxWkNUVHJQbUdLeVZ4UmVIa01GL2VOd2JOczlscEk4c2gwVFJkeTR2K09KVGpTR2RmUC9Qb2l4ODNKVXpqL1hndHd5RHJOSlBKUGxXc0VXUFRCY2d2OVdrNHlMcnQ4OFFvT1pZPTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9UEVTRUw6IDcyMTAyNjI4MTcyLGNuPWFzeXN0ZW50X2ludDItdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjY1NzIxMjg2MDMzMzQyMjM1NDE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctMGQ2OTZlMzctZTY1NS00MDdmLTgwOGMtNzY4NzJmZmMzNzZiIj48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy0wZDY5NmUzNy1lNjU1LTQwN2YtODA4Yy03Njg3MmZmYzM3NmItc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjQ3OjIwLjExNiswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+RDdoam11VUlITXV1NFBMVDNCUExDNjcwalp3PTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj42NTcyMTI4NjAzMzM0MjIzNTQxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+SHVQdGw2TElqdDAyTngzRUJoMnRzbEtVZ25FPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+VUZQdXVVM2hwQjEzQlVLMkdyTVkvTzQ1cFZNPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+PC9JbW11bml6YXRpb24+</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationId</con:name>
              <con:value>5142559</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationResource</con:name>
              <con:value><![CDATA[<Immunization xmlns="http://hl7.org/fhir">
   <id value="5142559"/>
   <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:47:19.903+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLImmunizationSimple"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <implicitRules value="16.3.3"/>
   <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalCertificateReference">
      <extension url="paperForm">
         <valueBoolean value="true"/>
      </extension>
      <extension url="asserter">
         <valueReference>
            <identifier>
               <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
               <value value="2698040"/>
            </identifier>
            <display value="Monika Lecznicza"/>
         </valueReference>
      </extension>
      <extension url="issued">
         <valueDateTime value="2022-03-05T11:47:12.424+01:00"/>
      </extension>
   </extension>
   <status value="not-done"/>
   <statusReason>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.103"/>
         <code value="IMMUNE"/>
         <display value="Odporno"/>
      </coding>
   </statusReason>
   <vaccineCode>
      <coding>
         <system value="urn:oid:1.3.160"/>
         <code value="05909991445591"/>
      </coding>
      <text value="Preflucel"/>
   </vaccineCode>
   <patient>
      <reference value="Patient/5142553"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="JW7937996"/>
      </identifier>
      <display value="Sylwester Senior"/>
   </patient>
   <occurrenceDateTime value="2022-03-05T11:47:12.424+01:00"/>
   <location>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
         <value value="000000012106-001"/>
      </identifier>
   </location>
   <manufacturer>
      <display value="test"/>
   </manufacturer>
   <lotNumber value="AAJN11K"/>
   <site>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.101"/>
         <code value="LA"/>
         <display value="Lewe rami"/>
      </coding>
   </site>
   <route>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.102"/>
         <code value="IM"/>
         <display value="Iniekcja dominiowa"/>
      </coding>
   </route>
   <doseQuantity>
      <value value="0.5"/>
      <system value="urn:oid:2.16.840.1.113883.6.8"/>
      <code value="ML"/>
   </doseQuantity>
   <performer>
      <actor>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
            <value value="2698040"/>
         </identifier>
         <display value="Monika Lecznicza"/>
      </actor>
   </performer>
   <note>
      <text value="Notes on adminstration of vaccine"/>
   </note>
   <fundingSource>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.105"/>
         <code value="private"/>
      </coding>
   </fundingSource>
   <protocolApplied>
      <targetDisease>
         <coding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
            <code value="99.557"/>
            <display value="Szczepienie przeciw COVID-19"/>
         </coding>
      </targetDisease>
      <doseNumberPositiveInt value="1"/>
      <seriesDosesPositiveInt value="2"/>
   </protocolApplied>
</Immunization>]]></con:value>
            </con:property>
            <con:property>
              <con:name>immunizationStatus</con:name>
              <con:value>not-done</con:value>
            </con:property>
            <con:property>
              <con:name>dataSzczepienia</con:name>
              <con:value>2022-03-05T11:47:12.424+01:00</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="properties" name="szczepienieBooster" id="32657040-05d3-482e-a845-57f062b5ebc6">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>podpisData</con:name>
              <con:value>2022-09-02T11:47:12.424+02:00</con:value>
            </con:property>
            <con:property>
              <con:name>provenanceId</con:name>
              <con:value>192048</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart</con:name>
              <con:value>2021-11-10T08:07:57.533+01:00</con:value>
            </con:property>
            <con:property>
              <con:name>locationStart1</con:name>
              <con:value>2021-11-10T14:07:57.533+01:00</con:value>
            </con:property>
            <con:property>
              <con:name>imieNazwiskoPacjenta</con:name>
              <con:value>Sylwester Senior</con:value>
            </con:property>
            <con:property>
              <con:name>locationEnd</con:name>
              <con:value>2021-11-10T11:07:57.533+01:00</con:value>
            </con:property>
            <con:property>
              <con:name>binaryPodpis</con:name>
              <con:value>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48SW1tdW5pemF0aW9uIHhtbG5zPSJodHRwOi8vaGw3Lm9yZy9maGlyIj4KICAgPGlkIHZhbHVlPSI1MTQyNTYzIi8+CiAgIDxtZXRhPgogICAgICA8dmVyc2lvbklkIHZhbHVlPSIxIi8+CiAgICAgIDxsYXN0VXBkYXRlZCB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0NzoyMi4yMjErMDI6MDAiLz4KICAgICAgPHByb2ZpbGUgdmFsdWU9Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QTEltbXVuaXphdGlvblNpbXBsZSIvPgogICAgICA8c2VjdXJpdHk+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuODMiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9Ik4iLz4KICAgICAgPC9zZWN1cml0eT4KICAgPC9tZXRhPgogICA8aW1wbGljaXRSdWxlcyB2YWx1ZT0iMTYuMy4zIi8+CiAgIDxleHRlbnNpb24gdXJsPSJodHRwczovL2V6ZHJvd2llLmdvdi5wbC9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vUExNZWRpY2FsQ2VydGlmaWNhdGVSZWZlcmVuY2UiPgogICAgICA8ZXh0ZW5zaW9uIHVybD0icGFwZXJGb3JtIj4KICAgICAgICAgPHZhbHVlQm9vbGVhbiB2YWx1ZT0idHJ1ZSIvPgogICAgICA8L2V4dGVuc2lvbj4KICAgICAgPGV4dGVuc2lvbiB1cmw9ImFzc2VydGVyIj4KICAgICAgICAgPHZhbHVlUmVmZXJlbmNlPgogICAgICAgICAgICA8aWRlbnRpZmllcj4KICAgICAgICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMS42LjIiLz4KICAgICAgICAgICAgICAgPHZhbHVlIHZhbHVlPSIyNjk4MDQwIi8+CiAgICAgICAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgICAgICAgPGRpc3BsYXkgdmFsdWU9Ik1vbmlrYSBMZWN6bmljemEiLz4KICAgICAgICAgPC92YWx1ZVJlZmVyZW5jZT4KICAgICAgPC9leHRlbnNpb24+CiAgICAgIDxleHRlbnNpb24gdXJsPSJpc3N1ZWQiPgogICAgICAgICA8dmFsdWVEYXRlVGltZSB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0NzoxMi40MjQrMDI6MDAiLz4KICAgICAgPC9leHRlbnNpb24+CiAgIDwvZXh0ZW5zaW9uPgogICA8c3RhdHVzIHZhbHVlPSJub3QtZG9uZSIvPgogICA8c3RhdHVzUmVhc29uPgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjEwMyIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iSU1NVU5FIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJPZHBvcm5vxZvEhyIvPgogICAgICA8L2NvZGluZz4KICAgPC9zdGF0dXNSZWFzb24+CiAgIDx2YWNjaW5lQ29kZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoxLjMuMTYwIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSIwNTkwOTk5MTQ0NTU5MSIvPgogICAgICA8L2NvZGluZz4KICAgICAgPHRleHQgdmFsdWU9IlByZWZsdWNlbCIvPgogICA8L3ZhY2NpbmVDb2RlPgogICA8cGF0aWVudD4KICAgICAgPHJlZmVyZW5jZSB2YWx1ZT0iUGF0aWVudC81MTQyNTUzIi8+CiAgICAgIDx0eXBlIHZhbHVlPSJQYXRpZW50Ii8+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjQuMzMwLjU2Ii8+CiAgICAgICAgIDx2YWx1ZSB2YWx1ZT0iSlc3OTM3OTk2Ii8+CiAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgPGRpc3BsYXkgdmFsdWU9IlN5bHdlc3RlciBTZW5pb3IiLz4KICAgPC9wYXRpZW50PgogICA8b2NjdXJyZW5jZURhdGVUaW1lIHZhbHVlPSIyMDIyLTA5LTAyVDExOjQ3OjEyLjQyNCswMjowMCIvPgogICA8bG9jYXRpb24+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMyIvPgogICAgICAgICA8dmFsdWUgdmFsdWU9IjAwMDAwMDAxMjEwNi0wMDEiLz4KICAgICAgPC9pZGVudGlmaWVyPgogICA8L2xvY2F0aW9uPgogICA8bWFudWZhY3R1cmVyPgogICAgICA8ZGlzcGxheSB2YWx1ZT0idGVzdCIvPgogICA8L21hbnVmYWN0dXJlcj4KICAgPGxvdE51bWJlciB2YWx1ZT0iQUFKTjExSyIvPgogICA8c2l0ZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDEiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9IkxBIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJMZXdlIHJhbWnEmSIvPgogICAgICA8L2NvZGluZz4KICAgPC9zaXRlPgogICA8cm91dGU+CiAgICAgIDxjb2Rpbmc+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuMTAyIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSJJTSIvPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iSW5pZWtjamEgZG9tacSZxZtuaW93YSIvPgogICAgICA8L2NvZGluZz4KICAgPC9yb3V0ZT4KICAgPGRvc2VRdWFudGl0eT4KICAgICAgPHZhbHVlIHZhbHVlPSIwLjUiLz4KICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My42LjgiLz4KICAgICAgPGNvZGUgdmFsdWU9Ik1MIi8+CiAgIDwvZG9zZVF1YW50aXR5PgogICA8cGVyZm9ybWVyPgogICAgICA8YWN0b3I+CiAgICAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xLjYuMiIvPgogICAgICAgICAgICA8dmFsdWUgdmFsdWU9IjI2OTgwNDAiLz4KICAgICAgICAgPC9pZGVudGlmaWVyPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iTW9uaWthIExlY3puaWN6YSIvPgogICAgICA8L2FjdG9yPgogICA8L3BlcmZvcm1lcj4KICAgPG5vdGU+CiAgICAgIDx0ZXh0IHZhbHVlPSJOb3RlcyBvbiBhZG1pbnN0cmF0aW9uIG9mIHZhY2NpbmUiLz4KICAgPC9ub3RlPgogICA8ZnVuZGluZ1NvdXJjZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDUiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9InByaXZhdGUiLz4KICAgICAgPC9jb2Rpbmc+CiAgIDwvZnVuZGluZ1NvdXJjZT4KICAgPHByb3RvY29sQXBwbGllZD4KICAgICAgPHRhcmdldERpc2Vhc2U+CiAgICAgICAgIDxjb2Rpbmc+CiAgICAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjIuNiIvPgogICAgICAgICAgICA8Y29kZSB2YWx1ZT0iOTkuNTU3Ii8+CiAgICAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJTemN6ZXBpZW5pZSBwcnplY2l3IENPVklELTE5Ii8+CiAgICAgICAgIDwvY29kaW5nPgogICAgICA8L3RhcmdldERpc2Vhc2U+CiAgICAgIDxkb3NlTnVtYmVyUG9zaXRpdmVJbnQgdmFsdWU9IjEiLz4KICAgICAgPHNlcmllc0Rvc2VzUG9zaXRpdmVJbnQgdmFsdWU9IjIiLz4KICAgPC9wcm90b2NvbEFwcGxpZWQ+CjxkczpTaWduYXR1cmUgeG1sbnM6ZHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiIElkPSJ4bWxkc2lnLTI2NDRmODlmLTZlYWEtNDgwZS1hNjRjLTM3NmU1YTBkY2FmMCI+PGRzOlNpZ25lZEluZm8+PGRzOkNhbm9uaWNhbGl6YXRpb25NZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjxkczpTaWduYXR1cmVNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjcnNhLXNoYTEiLz48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTI2NDRmODlmLTZlYWEtNDgwZS1hNjRjLTM3NmU1YTBkY2FmMC1yZWYwIiBVUkk9IiI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNlbnZlbG9wZWQtc2lnbmF0dXJlIi8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5ycGFON3JOclYxSkEwZU1yeUoyN25VZVNFZUU9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy0yNjQ0Zjg5Zi02ZWFhLTQ4MGUtYTY0Yy0zNzZlNWEwZGNhZjAtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+c2RRTTlyRjY2VGtqVUpmclpmNllEUW1vNGlzPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PC9kczpTaWduZWRJbmZvPjxkczpTaWduYXR1cmVWYWx1ZSBJZD0ieG1sZHNpZy0yNjQ0Zjg5Zi02ZWFhLTQ4MGUtYTY0Yy0zNzZlNWEwZGNhZjAtc2lndmFsdWUiPllQWEdERVFtN0FsV3hGeFpqM0s2V0Ixc1JNd0wyNlBBVXZmWFJ0bkw4dWF1VjNVZUpvdXh0V1J2bnZLQmdOYTNZWW9DNFFrZ0g4YkNjZ2hHZ3FuRUg5YzBMeS9TYVdOYTVqbExzS0JYYUxQKzd4STJOb3JoOG52M1pTbWtkVEJyVk1Ndlcvd0FiRWVMaUFDY3Qwa2hXTjBIUkUvYXpEL3BPTTlTaHo3UDdqNDdHUmh4VjB5ajZLYmVBekRGaHdXWmY3dGtHU2JPZ3VPU1UzREh3S21LSGpYc3ZmNzNLWnMvSlptanlnaDNKcXB0QjVVZFdMVmtIS2lRM2pXYUlvNGxmeUluOVl1ZWR4MzQ1ekRJL0c5azN6TC80amVCQ1ArMmxNTXlDZzhiZ1JFSWs4bEloc2ZyNkpUVG9MZ2Y4U1ZicjdBQjE1ME9kbXVMQWxmMjNNMk8xQT09PC9kczpTaWduYXR1cmVWYWx1ZT48ZHM6S2V5SW5mbz48ZHM6WDUwOURhdGE+PGRzOlg1MDlDZXJ0aWZpY2F0ZT5NSUlGRVRDQ0F2bWdBd0lCQWdJSVd6VGtKT1BycHJVd0RRWUpLb1pJaHZjTkFRRU5CUUF3VVRFWU1CWUdBMVVFQXd3UFEwTWdVREVnVTNWaVEwRWdWMU5UTVJnd0ZnWURWUVFMREE5UU1TQkpiblJsWjNKaFkzbHFibVV4RGpBTUJnTlZCQW9NQlVOVFNVOWFNUXN3Q1FZRFZRUUdFd0pRVERBZUZ3MHlNVEV5TURNeE1URTNNekZhRncweU16RXlNRE14TVRFM016RmFNSUdFTVM0d0xBWURWUVFERENWaGMzbHpkR1Z1ZEY5cGJuUXlMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01Sc3dHUVlEVlFRRkV4SlFSVk5GVERvZ056SXhNREkyTWpneE56SXhHREFXQmdOVkJBc01EMUF4SUVsdWRHVm5jbUZqZVdwdVpURU9NQXdHQTFVRUNnd0ZRMU5KVDFveEN6QUpCZ05WQkFZVEFsQk1NSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXZsOTFQbDdjQ0NWV241NWh1dG5kbERHeE02enZUL1RxTThYVEs4TUZ2ai95UlBXdHdDalNsRzFwNDVHMkNRR0dXVUNvYWU3S013dGpGMUJvVm1CbzM0cndCY1JuY2gyYXF1SXdXUVVQUUNqdHNsUk9BenFnRGd2QUw3anduMUFSZVpNdXhpSm9zWlhLMW1iMTN1QnBDMGI3VkNpd0sveUt0WTRjL3RiWHEwU2NpZDNYMldaZGxSUmhWbUJHbWUwQkgzTzRZR2tVajZXZHl5STZaMnhNM1FabnNaMG94TEt5ZWRYY1pSNDBsbmp1TlVFc29CbkNxekpyR1BjMGdNK1QyZ3VMcHFKTktIWWptaTBVSkIwVEk2QUpuYWNDRTJxalJmQ29Vbm1qYU5KdUJQeFBqMUE3Y2o0OFo5NlhtY29DMHY4M1p5d3FjLy9nSmwwWUFuQ3p0UUlEQVFBQm80RzRNSUcxTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwakJCZ3dGb0FVWW9hQkFnYUJ0VzF6bjNiSytIUzF0NGJTT29Zd1ZRWURWUjBmQkU0d1REQktvRWlnUm9aRWFIUjBjSE02THk5cGJuUXRjREV1Wlhwa2NtOTNhV1V1WjI5MkxuQnNMMk5qY0RFdlkzSnNMME5EVURGSmJuUmxaM0poWTNscWJtVlRkV0pEUVZkVFV5NWpjbXd3SFFZRFZSME9CQllFRkc2Ylc4NnJFekRvMHM4UWlLVHlEcTZYazVlV01BNEdBMVVkRHdFQi93UUVBd0lIZ0RBTkJna3Foa2lHOXcwQkFRMEZBQU9DQWdFQXd0NlVqV3dDandEUitqZmd0QlBOazJ1SEVVNS9FRXFHYkdrY0NjNmNUU3VXelFsb1lBNFhyWVlzOFJzZlNqQ2ZUT2tZeTNWZFZxdm1Nc3ZEajJLcGJzSEZTcG1XcG5OaExrRnF1MElzaTRhNW9Cc1lPWVJuNlRvNis0bExFYmdsNUJYMDdCK0pTcXNXanZORlhYUTI4K043Ris4ekZ6U2UrSDJnb3kwV004dlhNbGFuSWlPeWtHMnpBanErdlJWdXVqVzkzaDdKSXJ1dXEra0JXY3ZqWWFtVVNqNlk3bmUvRVJxVmpmdkdicStrbmxkb2pvUzVYMURVYkZqV0pCc3U3cnFtVVFibXl2ZjI0NWdFWExocG45dGRBOEFMT29GdGMya0haY0FSY2ZLbXkxVUExQVNINmZwSG9xSWlTZ01MRThmWnFPTkFqTGtWaVFtS0NlKzBncFlyVDcrR0xkcGo0M1ZmeS9tQ0dkWFBhSEhoUHJGUVUxRjVzVGVYMjNyQXB6MEJYTUltZFBuL3daWitid20ycUFvV1VnS0F5VnJUVytGR3Q4dUJmN3NmWlN5Ny9WTS9ZaWtheGxsR2xhTERUa0RtV21oNzdMbGlvRXUwbk9yeXZDeGw2UjFDY25jZnV4dFd5YTZRMFY2TWtXSU80VVJkalJLaElBWTdrU0gvZ2xVcVIraG96a0JNRHRHQUNPSDV4M1ErWXpDbFRUeXltYXpvTm1hazJrMnhFMjNkR1NIN3VEMmJZdStxbWEyMW5xU3NSMmlxWkNUVHJQbUdLeVZ4UmVIa01GL2VOd2JOczlscEk4c2gwVFJkeTR2K09KVGpTR2RmUC9Qb2l4ODNKVXpqL1hndHd5RHJOSlBKUGxXc0VXUFRCY2d2OVdrNHlMcnQ4OFFvT1pZPTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9UEVTRUw6IDcyMTAyNjI4MTcyLGNuPWFzeXN0ZW50X2ludDItdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjY1NzIxMjg2MDMzMzQyMjM1NDE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctMjY0NGY4OWYtNmVhYS00ODBlLWE2NGMtMzc2ZTVhMGRjYWYwIj48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy0yNjQ0Zjg5Zi02ZWFhLTQ4MGUtYTY0Yy0zNzZlNWEwZGNhZjAtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjQ3OjIyLjQ3NyswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+RDdoam11VUlITXV1NFBMVDNCUExDNjcwalp3PTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj42NTcyMTI4NjAzMzM0MjIzNTQxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+SHVQdGw2TElqdDAyTngzRUJoMnRzbEtVZ25FPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+VUZQdXVVM2hwQjEzQlVLMkdyTVkvTzQ1cFZNPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+PC9JbW11bml6YXRpb24+</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationId</con:name>
              <con:value>5142563</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationVersion</con:name>
              <con:value>1</con:value>
            </con:property>
            <con:property>
              <con:name>immunizationResource</con:name>
              <con:value><![CDATA[<Immunization xmlns="http://hl7.org/fhir">
   <id value="5142563"/>
   <meta>
      <versionId value="1"/>
      <lastUpdated value="2022-09-02T11:47:22.221+02:00"/>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLImmunizationSimple"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <implicitRules value="16.3.3"/>
   <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalCertificateReference">
      <extension url="paperForm">
         <valueBoolean value="true"/>
      </extension>
      <extension url="asserter">
         <valueReference>
            <identifier>
               <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
               <value value="2698040"/>
            </identifier>
            <display value="Monika Lecznicza"/>
         </valueReference>
      </extension>
      <extension url="issued">
         <valueDateTime value="2022-09-02T11:47:12.424+02:00"/>
      </extension>
   </extension>
   <status value="not-done"/>
   <statusReason>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.103"/>
         <code value="IMMUNE"/>
         <display value="Odporno"/>
      </coding>
   </statusReason>
   <vaccineCode>
      <coding>
         <system value="urn:oid:1.3.160"/>
         <code value="05909991445591"/>
      </coding>
      <text value="Preflucel"/>
   </vaccineCode>
   <patient>
      <reference value="Patient/5142553"/>
      <type value="Patient"/>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
         <value value="JW7937996"/>
      </identifier>
      <display value="Sylwester Senior"/>
   </patient>
   <occurrenceDateTime value="2022-09-02T11:47:12.424+02:00"/>
   <location>
      <identifier>
         <system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
         <value value="000000012106-001"/>
      </identifier>
   </location>
   <manufacturer>
      <display value="test"/>
   </manufacturer>
   <lotNumber value="AAJN11K"/>
   <site>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.101"/>
         <code value="LA"/>
         <display value="Lewe rami"/>
      </coding>
   </site>
   <route>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.102"/>
         <code value="IM"/>
         <display value="Iniekcja dominiowa"/>
      </coding>
   </route>
   <doseQuantity>
      <value value="0.5"/>
      <system value="urn:oid:2.16.840.1.113883.6.8"/>
      <code value="ML"/>
   </doseQuantity>
   <performer>
      <actor>
         <identifier>
            <system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
            <value value="2698040"/>
         </identifier>
         <display value="Monika Lecznicza"/>
      </actor>
   </performer>
   <note>
      <text value="Notes on adminstration of vaccine"/>
   </note>
   <fundingSource>
      <coding>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.105"/>
         <code value="private"/>
      </coding>
   </fundingSource>
   <protocolApplied>
      <targetDisease>
         <coding>
            <system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
            <code value="99.557"/>
            <display value="Szczepienie przeciw COVID-19"/>
         </coding>
      </targetDisease>
      <doseNumberPositiveInt value="1"/>
      <seriesDosesPositiveInt value="2"/>
   </protocolApplied>
</Immunization>]]></con:value>
            </con:property>
            <con:property>
              <con:name>immunizationStatus</con:name>
              <con:value>not-done</con:value>
            </con:property>
            <con:property>
              <con:name>dataSzczepienia</con:name>
              <con:value>2022-09-02T11:47:12.424+02:00</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="patientXML" id="ae24af7f-4c47-4eec-bce0-2163a9dabac0">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>patient-paszport.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Patient xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPatient"/>
      <security>
         <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
         <code value="N"/>
      </security>
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.4.330.56"/>
      <value value="JW7937996"/>
   </identifier>
   <name>
      <family value="Senior"/>
      <given value="Sylwester"/>
   </name>
   <telecom>
      <system value="phone"/>
      <value value="+32475556791"/>
   </telecom>
   <gender value="male"/>
   <birthDate value="1960-06-30"/>
</Patient>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Patient" id="71fc9f54-d019-4381-82c2-dd992cc78fc8">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Patient/{id}" methodName="Zapis-patient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Patient" id="9c748457-9d7a-4eb1-8d90-bc42603ba6a6" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${patientXML#resourceRequest}</con:request>
            <con:originalUri>http://10.0.38.215/fhir/Patient</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a0ba0d9a-6ecb-4f58-9ecd-df42ec5ef5b0" name="A1 - Valid HTTP Status Codes - 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="5b6e5f13-42fa-4ca3-8f8e-8cb8be047d6a" name="A2 - id patient">
              <con:configuration>
                <path>declare namespace ns1='http://hl7.org/fhir';

exists(//*:id/@value)</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="identifier" value=""/>
              <con:entry key="plgiven" value=""/>
              <con:entry key="birthdate" value=""/>
              <con:entry key="gender" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="_id" value=""/>
              <con:entry key="encounter" value=""/>
              <con:entry key="plfamily" value=""/>
              <con:entry key="_sort" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>plfamily</con:entry>
              <con:entry>plgiven</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>gender</con:entry>
              <con:entry>birthdate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id patient" id="be3eb3c5-607e-438b-bad4-d3db6ad84d3a">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Patient</con:sourceStep>
            <con:sourcePath>//*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>dane</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="immunizationXML" id="7f08bc50-197f-46a7-a89c-3d391b5024a0">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, szczepienie1dawka</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>immunization-simple-statusReason.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Immunization xmlns="http://hl7.org/fhir">
    					
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLImmunizationSimple"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalCertificateReference">
		<extension url="paperForm">
			<valueBoolean value="true"/>
		</extension>
		<extension url="asserter">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
			</valueReference>
		</extension>
					<extension url="issued">
			<valueDateTime value="2022-02-13T11:47:12.424+01:00"/>
		</extension>
	</extension>
	<status value="not-done"/>
	<statusReason>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.103"/>
			<code value="IMMUNE"/>
			<display value="Odporno"/>
		</coding>
	</statusReason>	
	<vaccineCode>
		<coding>
			<system value="urn:oid:1.3.160"/>
			<code value="05909991445591"/>
		</coding>
		<text value="Preflucel"/>
	</vaccineCode>
	<patient>
		<reference value="Patient/5142553"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
			<value value="JW7937996"/>
		</identifier>
		<display value="Sylwester Senior"/>
	</patient>
	<occurrenceDateTime value="2022-02-13T11:47:12.424+01:00"/>
	<location>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
		</identifier>
	</location>
	<manufacturer>
		<display value="test"/>
	</manufacturer>
	<lotNumber value="AAJN11K"/>
	<site>	
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.101"/>
			<code value="LA"/>
			<display value="Lewe rami"/>
		</coding>
	</site>
	<route>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.102"/>
			<code value="IM"/>
			<display value="Iniekcja dominiowa"/>
		</coding>
	</route>
	<doseQuantity>
		<value value="0.5"/>
		<system value="urn:oid:2.16.840.1.113883.6.8"/>
		<code value="ML"/>
	</doseQuantity>
	<performer>
		<actor>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
		</actor>
	</performer>
	<note>
		<text value="Notes on adminstration of vaccine"/>
	</note>
	<fundingSource>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.105"/>
			<code value="private"/>
		</coding>
	</fundingSource>
	<protocolApplied>
		<targetDisease>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
				<code value="99.557"/>
				<display value="Szczepienie przeciw COVID-19"/>
			</coding>
		</targetDisease>
		<doseNumberPositiveInt value="1"/>
		<seriesDosesPositiveInt value="2"/>
	</protocolApplied>
</Immunization>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Immunization 1/2" id="ad9d32d0-c518-41f1-be97-405de7eabaa3">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Immunization/{id}" methodName="Zapis-immunization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Immunization 1/2" id="21f50763-d789-4c07-9a1a-e8fbea2e823f" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${immunizationXML#resourceRequest}</con:request>
            <con:originalUri>https://tsus.ezdrowie.gov.pl/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a6126f75-5518-4db4-be38-5bfa8870ace2" name="[A1] HTTP 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="62c10708-7c55-4a9b-8ee8-ab6530c5c8d2" name="[A2] Zwrcono zasb z ID">
              <con:configuration>
                <path>(//*:id/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="date" value=""/>
              <con:entry key="patient" value=""/>
              <con:entry key="plsubject" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="status" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>date</con:entry>
              <con:entry>status</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id immunization" id="f9882322-4cea-41b5-8fb2-796563c7af6f">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization 1/2</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>immunizationId</con:targetType>
            <con:targetStep>szczepienie1dawka</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization 1/2</con:sourceStep>
            <con:sourcePath>//*:versionId/@value</con:sourcePath>
            <con:targetType>immunizationVersion</con:targetType>
            <con:targetStep>szczepienie1dawka</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>resource</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization 1/2</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>immunizationResource</con:targetType>
            <con:targetStep>szczepienie1dawka</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Podpis zasobu Immunization" id="dceac468-e378-4e0d-8694-e1b44382302e">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String resource = context.expand('${szczepienie1dawka#immunizationResource}')
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu2}');
String certPass = context.expand('${#Project#hasloCertyfikatu2}');


String podpis = PodpisKwalifikowany.podpiszDokumentDowolnymCertyfikatem(resource,certPath, certPass);
String encode = podpis.getBytes("UTF-8").encodeBase64().toString()
testRunner.testCase.testSteps['szczepienie1dawka'].setPropertyValue("binaryPodpis",encode);
log.info(podpis)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Zapis zasobu provenance (PLPractitionerSignature)" id="48a979f3-3024-4c63-8349-9f52aa96714b">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane,szczepienie1dawka</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-immunization-simple.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPractitionerSignature"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Immunization/5142555"/>
		<type value="Immunization"/>
	</target>
	<recorded value="2022-09-02T11:47:12.424+02:00"/>
	<agent>
		<role>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.85"/>
				<code value="LEK"/>
			</coding>
		</role>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="5262172"/>
			</identifier>
			<display value="Adam210 Leczniczy"/>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.87"/>
			<code value="1.2.840.10065.1.12.1.6"/>
		</type>
		<when value="2022-09-02T11:47:12.424+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</who>
		<onBehalfOf>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</onBehalfOf>
		<targetFormat value="application/fhir+json"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48SW1tdW5pemF0aW9uIHhtbG5zPSJodHRwOi8vaGw3Lm9yZy9maGlyIj4KICAgPGlkIHZhbHVlPSI1MTQyNTU1Ii8+CiAgIDxtZXRhPgogICAgICA8dmVyc2lvbklkIHZhbHVlPSIxIi8+CiAgICAgIDxsYXN0VXBkYXRlZCB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0NzoxNy4zODcrMDI6MDAiLz4KICAgICAgPHByb2ZpbGUgdmFsdWU9Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QTEltbXVuaXphdGlvblNpbXBsZSIvPgogICAgICA8c2VjdXJpdHk+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuODMiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9Ik4iLz4KICAgICAgPC9zZWN1cml0eT4KICAgPC9tZXRhPgogICA8aW1wbGljaXRSdWxlcyB2YWx1ZT0iMTYuMy4zIi8+CiAgIDxleHRlbnNpb24gdXJsPSJodHRwczovL2V6ZHJvd2llLmdvdi5wbC9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vUExNZWRpY2FsQ2VydGlmaWNhdGVSZWZlcmVuY2UiPgogICAgICA8ZXh0ZW5zaW9uIHVybD0icGFwZXJGb3JtIj4KICAgICAgICAgPHZhbHVlQm9vbGVhbiB2YWx1ZT0idHJ1ZSIvPgogICAgICA8L2V4dGVuc2lvbj4KICAgICAgPGV4dGVuc2lvbiB1cmw9ImFzc2VydGVyIj4KICAgICAgICAgPHZhbHVlUmVmZXJlbmNlPgogICAgICAgICAgICA8aWRlbnRpZmllcj4KICAgICAgICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMS42LjIiLz4KICAgICAgICAgICAgICAgPHZhbHVlIHZhbHVlPSIyNjk4MDQwIi8+CiAgICAgICAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgICAgICAgPGRpc3BsYXkgdmFsdWU9Ik1vbmlrYSBMZWN6bmljemEiLz4KICAgICAgICAgPC92YWx1ZVJlZmVyZW5jZT4KICAgICAgPC9leHRlbnNpb24+CiAgICAgIDxleHRlbnNpb24gdXJsPSJpc3N1ZWQiPgogICAgICAgICA8dmFsdWVEYXRlVGltZSB2YWx1ZT0iMjAyMi0wMi0xM1QxMTo0NzoxMi40MjQrMDE6MDAiLz4KICAgICAgPC9leHRlbnNpb24+CiAgIDwvZXh0ZW5zaW9uPgogICA8c3RhdHVzIHZhbHVlPSJub3QtZG9uZSIvPgogICA8c3RhdHVzUmVhc29uPgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjEwMyIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iSU1NVU5FIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJPZHBvcm5vxZvEhyIvPgogICAgICA8L2NvZGluZz4KICAgPC9zdGF0dXNSZWFzb24+CiAgIDx2YWNjaW5lQ29kZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoxLjMuMTYwIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSIwNTkwOTk5MTQ0NTU5MSIvPgogICAgICA8L2NvZGluZz4KICAgICAgPHRleHQgdmFsdWU9IlByZWZsdWNlbCIvPgogICA8L3ZhY2NpbmVDb2RlPgogICA8cGF0aWVudD4KICAgICAgPHJlZmVyZW5jZSB2YWx1ZT0iUGF0aWVudC81MTQyNTUzIi8+CiAgICAgIDx0eXBlIHZhbHVlPSJQYXRpZW50Ii8+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjQuMzMwLjU2Ii8+CiAgICAgICAgIDx2YWx1ZSB2YWx1ZT0iSlc3OTM3OTk2Ii8+CiAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgPGRpc3BsYXkgdmFsdWU9IlN5bHdlc3RlciBTZW5pb3IiLz4KICAgPC9wYXRpZW50PgogICA8b2NjdXJyZW5jZURhdGVUaW1lIHZhbHVlPSIyMDIyLTAyLTEzVDExOjQ3OjEyLjQyNCswMTowMCIvPgogICA8bG9jYXRpb24+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMyIvPgogICAgICAgICA8dmFsdWUgdmFsdWU9IjAwMDAwMDAxMjEwNi0wMDEiLz4KICAgICAgPC9pZGVudGlmaWVyPgogICA8L2xvY2F0aW9uPgogICA8bWFudWZhY3R1cmVyPgogICAgICA8ZGlzcGxheSB2YWx1ZT0idGVzdCIvPgogICA8L21hbnVmYWN0dXJlcj4KICAgPGxvdE51bWJlciB2YWx1ZT0iQUFKTjExSyIvPgogICA8c2l0ZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDEiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9IkxBIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJMZXdlIHJhbWnEmSIvPgogICAgICA8L2NvZGluZz4KICAgPC9zaXRlPgogICA8cm91dGU+CiAgICAgIDxjb2Rpbmc+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuMTAyIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSJJTSIvPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iSW5pZWtjamEgZG9tacSZxZtuaW93YSIvPgogICAgICA8L2NvZGluZz4KICAgPC9yb3V0ZT4KICAgPGRvc2VRdWFudGl0eT4KICAgICAgPHZhbHVlIHZhbHVlPSIwLjUiLz4KICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My42LjgiLz4KICAgICAgPGNvZGUgdmFsdWU9Ik1MIi8+CiAgIDwvZG9zZVF1YW50aXR5PgogICA8cGVyZm9ybWVyPgogICAgICA8YWN0b3I+CiAgICAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xLjYuMiIvPgogICAgICAgICAgICA8dmFsdWUgdmFsdWU9IjI2OTgwNDAiLz4KICAgICAgICAgPC9pZGVudGlmaWVyPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iTW9uaWthIExlY3puaWN6YSIvPgogICAgICA8L2FjdG9yPgogICA8L3BlcmZvcm1lcj4KICAgPG5vdGU+CiAgICAgIDx0ZXh0IHZhbHVlPSJOb3RlcyBvbiBhZG1pbnN0cmF0aW9uIG9mIHZhY2NpbmUiLz4KICAgPC9ub3RlPgogICA8ZnVuZGluZ1NvdXJjZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDUiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9InByaXZhdGUiLz4KICAgICAgPC9jb2Rpbmc+CiAgIDwvZnVuZGluZ1NvdXJjZT4KICAgPHByb3RvY29sQXBwbGllZD4KICAgICAgPHRhcmdldERpc2Vhc2U+CiAgICAgICAgIDxjb2Rpbmc+CiAgICAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjIuNiIvPgogICAgICAgICAgICA8Y29kZSB2YWx1ZT0iOTkuNTU3Ii8+CiAgICAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJTemN6ZXBpZW5pZSBwcnplY2l3IENPVklELTE5Ii8+CiAgICAgICAgIDwvY29kaW5nPgogICAgICA8L3RhcmdldERpc2Vhc2U+CiAgICAgIDxkb3NlTnVtYmVyUG9zaXRpdmVJbnQgdmFsdWU9IjEiLz4KICAgICAgPHNlcmllc0Rvc2VzUG9zaXRpdmVJbnQgdmFsdWU9IjIiLz4KICAgPC9wcm90b2NvbEFwcGxpZWQ+CjxkczpTaWduYXR1cmUgeG1sbnM6ZHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiIElkPSJ4bWxkc2lnLTNlYTI4YjVmLTljNGMtNDZiNy04MGQ0LTMxNDFjMWUyMDhkNSI+PGRzOlNpZ25lZEluZm8+PGRzOkNhbm9uaWNhbGl6YXRpb25NZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjxkczpTaWduYXR1cmVNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjcnNhLXNoYTEiLz48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTNlYTI4YjVmLTljNGMtNDZiNy04MGQ0LTMxNDFjMWUyMDhkNS1yZWYwIiBVUkk9IiI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNlbnZlbG9wZWQtc2lnbmF0dXJlIi8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5VVGJ5eVJpekFrVHBhOWJvbjZ2cncyOHlGYjA9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy0zZWEyOGI1Zi05YzRjLTQ2YjctODBkNC0zMTQxYzFlMjA4ZDUtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+Z2swN0FRTE9Fam43bEpmdzdHaExGMUxQcDFnPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PC9kczpTaWduZWRJbmZvPjxkczpTaWduYXR1cmVWYWx1ZSBJZD0ieG1sZHNpZy0zZWEyOGI1Zi05YzRjLTQ2YjctODBkNC0zMTQxYzFlMjA4ZDUtc2lndmFsdWUiPmxmNEM4V0UzblNKRlNZL1VsRTU3cTEvMHBEQWxSekV5eXZnNDltWWZYMnhScXdsT1JXL21GZmViNjZQZjlXVm9ycEZ5YVhndkdiQkx2KzN1R3k0SXRLUW95SFdnSUdxTnZlcE1naWtrS3VHSG9pOTIvbHlxSWVaT0RLQ0hwSnI2ZXF4dTlIQ3dGeTdvb0ZFSFkzQ2ZZV3AyL1hCTDUvRnpwSlpma0F4S1FrRW9RdGtqWjliYjBraEh0Z0ZhMCtGSTR1cEpVNTdsR25rL29FSmFCVVU5Z29nZUYzRzZ0VVFFRlRacWpaQVdGYXdodGdGMitaSUIzb2VMaFd0OVNkR2ZTUWFhVlp0aERWNGdscFQzelNDTjAza3dZbk5zZ09JVzNVUk9qQUpoZFNHY1dUTk16MHRzbWRhWUxSV1h4enc4dUp6VFArVithZXBpNXF0V0xla1cxZz09PC9kczpTaWduYXR1cmVWYWx1ZT48ZHM6S2V5SW5mbz48ZHM6WDUwOURhdGE+PGRzOlg1MDlDZXJ0aWZpY2F0ZT5NSUlGRVRDQ0F2bWdBd0lCQWdJSVd6VGtKT1BycHJVd0RRWUpLb1pJaHZjTkFRRU5CUUF3VVRFWU1CWUdBMVVFQXd3UFEwTWdVREVnVTNWaVEwRWdWMU5UTVJnd0ZnWURWUVFMREE5UU1TQkpiblJsWjNKaFkzbHFibVV4RGpBTUJnTlZCQW9NQlVOVFNVOWFNUXN3Q1FZRFZRUUdFd0pRVERBZUZ3MHlNVEV5TURNeE1URTNNekZhRncweU16RXlNRE14TVRFM016RmFNSUdFTVM0d0xBWURWUVFERENWaGMzbHpkR1Z1ZEY5cGJuUXlMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01Sc3dHUVlEVlFRRkV4SlFSVk5GVERvZ056SXhNREkyTWpneE56SXhHREFXQmdOVkJBc01EMUF4SUVsdWRHVm5jbUZqZVdwdVpURU9NQXdHQTFVRUNnd0ZRMU5KVDFveEN6QUpCZ05WQkFZVEFsQk1NSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXZsOTFQbDdjQ0NWV241NWh1dG5kbERHeE02enZUL1RxTThYVEs4TUZ2ai95UlBXdHdDalNsRzFwNDVHMkNRR0dXVUNvYWU3S013dGpGMUJvVm1CbzM0cndCY1JuY2gyYXF1SXdXUVVQUUNqdHNsUk9BenFnRGd2QUw3anduMUFSZVpNdXhpSm9zWlhLMW1iMTN1QnBDMGI3VkNpd0sveUt0WTRjL3RiWHEwU2NpZDNYMldaZGxSUmhWbUJHbWUwQkgzTzRZR2tVajZXZHl5STZaMnhNM1FabnNaMG94TEt5ZWRYY1pSNDBsbmp1TlVFc29CbkNxekpyR1BjMGdNK1QyZ3VMcHFKTktIWWptaTBVSkIwVEk2QUpuYWNDRTJxalJmQ29Vbm1qYU5KdUJQeFBqMUE3Y2o0OFo5NlhtY29DMHY4M1p5d3FjLy9nSmwwWUFuQ3p0UUlEQVFBQm80RzRNSUcxTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwakJCZ3dGb0FVWW9hQkFnYUJ0VzF6bjNiSytIUzF0NGJTT29Zd1ZRWURWUjBmQkU0d1REQktvRWlnUm9aRWFIUjBjSE02THk5cGJuUXRjREV1Wlhwa2NtOTNhV1V1WjI5MkxuQnNMMk5qY0RFdlkzSnNMME5EVURGSmJuUmxaM0poWTNscWJtVlRkV0pEUVZkVFV5NWpjbXd3SFFZRFZSME9CQllFRkc2Ylc4NnJFekRvMHM4UWlLVHlEcTZYazVlV01BNEdBMVVkRHdFQi93UUVBd0lIZ0RBTkJna3Foa2lHOXcwQkFRMEZBQU9DQWdFQXd0NlVqV3dDandEUitqZmd0QlBOazJ1SEVVNS9FRXFHYkdrY0NjNmNUU3VXelFsb1lBNFhyWVlzOFJzZlNqQ2ZUT2tZeTNWZFZxdm1Nc3ZEajJLcGJzSEZTcG1XcG5OaExrRnF1MElzaTRhNW9Cc1lPWVJuNlRvNis0bExFYmdsNUJYMDdCK0pTcXNXanZORlhYUTI4K043Ris4ekZ6U2UrSDJnb3kwV004dlhNbGFuSWlPeWtHMnpBanErdlJWdXVqVzkzaDdKSXJ1dXEra0JXY3ZqWWFtVVNqNlk3bmUvRVJxVmpmdkdicStrbmxkb2pvUzVYMURVYkZqV0pCc3U3cnFtVVFibXl2ZjI0NWdFWExocG45dGRBOEFMT29GdGMya0haY0FSY2ZLbXkxVUExQVNINmZwSG9xSWlTZ01MRThmWnFPTkFqTGtWaVFtS0NlKzBncFlyVDcrR0xkcGo0M1ZmeS9tQ0dkWFBhSEhoUHJGUVUxRjVzVGVYMjNyQXB6MEJYTUltZFBuL3daWitid20ycUFvV1VnS0F5VnJUVytGR3Q4dUJmN3NmWlN5Ny9WTS9ZaWtheGxsR2xhTERUa0RtV21oNzdMbGlvRXUwbk9yeXZDeGw2UjFDY25jZnV4dFd5YTZRMFY2TWtXSU80VVJkalJLaElBWTdrU0gvZ2xVcVIraG96a0JNRHRHQUNPSDV4M1ErWXpDbFRUeXltYXpvTm1hazJrMnhFMjNkR1NIN3VEMmJZdStxbWEyMW5xU3NSMmlxWkNUVHJQbUdLeVZ4UmVIa01GL2VOd2JOczlscEk4c2gwVFJkeTR2K09KVGpTR2RmUC9Qb2l4ODNKVXpqL1hndHd5RHJOSlBKUGxXc0VXUFRCY2d2OVdrNHlMcnQ4OFFvT1pZPTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9UEVTRUw6IDcyMTAyNjI4MTcyLGNuPWFzeXN0ZW50X2ludDItdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjY1NzIxMjg2MDMzMzQyMjM1NDE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctM2VhMjhiNWYtOWM0Yy00NmI3LTgwZDQtMzE0MWMxZTIwOGQ1Ij48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy0zZWEyOGI1Zi05YzRjLTQ2YjctODBkNC0zMTQxYzFlMjA4ZDUtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjQ3OjE3LjYyMCswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+RDdoam11VUlITXV1NFBMVDNCUExDNjcwalp3PTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj42NTcyMTI4NjAzMzM0MjIzNTQxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+SHVQdGw2TElqdDAyTngzRUJoMnRzbEtVZ25FPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+VUZQdXVVM2hwQjEzQlVLMkdyTVkvTzQ1cFZNPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+PC9JbW11bml6YXRpb24+"/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance (PLPractitionerSignature)" id="ab9184af-1201-415d-95c8-c002fd94ff69">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance (PLPractitionerSignature)" id="fe9ba9cb-5a81-4394-a6b2-89737fc8f47f" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${Zapis zasobu provenance (PLPractitionerSignature)#resourceRequest}</con:request>
            <con:originalUri>https://tsus.ezdrowie.gov.pl/fhir/Provenance/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="c65069ab-e206-41f3-8f19-3e34ac605715" name="[A1] HTTP 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f8db0a4b-3289-4675-81da-9eec7a68c73a" name="[A2] Zwrcono zasb z ID">
              <con:configuration>
                <path>(//*:id/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="_id" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="immunizationXML2" id="6fb5a277-f45a-42a0-89ae-14f8912430f0">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, szczepienie2dawka</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>immunization-simple-statusReason.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Immunization xmlns="http://hl7.org/fhir">
    					
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLImmunizationSimple"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalCertificateReference">
		<extension url="paperForm">
			<valueBoolean value="true"/>
		</extension>
		<extension url="asserter">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
			</valueReference>
		</extension>
					<extension url="issued">
			<valueDateTime value="2022-03-05T11:47:12.424+01:00"/>
		</extension>
	</extension>
	<status value="not-done"/>
	<statusReason>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.103"/>
			<code value="IMMUNE"/>
			<display value="Odporno"/>
		</coding>
	</statusReason>	
	<vaccineCode>
		<coding>
			<system value="urn:oid:1.3.160"/>
			<code value="05909991445591"/>
		</coding>
		<text value="Preflucel"/>
	</vaccineCode>
	<patient>
		<reference value="Patient/5142553"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
			<value value="JW7937996"/>
		</identifier>
		<display value="Sylwester Senior"/>
	</patient>
	<occurrenceDateTime value="2022-03-05T11:47:12.424+01:00"/>
	<location>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
		</identifier>
	</location>
	<manufacturer>
		<display value="test"/>
	</manufacturer>
	<lotNumber value="AAJN11K"/>
	<site>	
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.101"/>
			<code value="LA"/>
			<display value="Lewe rami"/>
		</coding>
	</site>
	<route>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.102"/>
			<code value="IM"/>
			<display value="Iniekcja dominiowa"/>
		</coding>
	</route>
	<doseQuantity>
		<value value="0.5"/>
		<system value="urn:oid:2.16.840.1.113883.6.8"/>
		<code value="ML"/>
	</doseQuantity>
	<performer>
		<actor>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
		</actor>
	</performer>
	<note>
		<text value="Notes on adminstration of vaccine"/>
	</note>
	<fundingSource>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.105"/>
			<code value="private"/>
		</coding>
	</fundingSource>
	<protocolApplied>
		<targetDisease>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
				<code value="99.557"/>
				<display value="Szczepienie przeciw COVID-19"/>
			</coding>
		</targetDisease>
		<doseNumberPositiveInt value="1"/>
		<seriesDosesPositiveInt value="2"/>
	</protocolApplied>
</Immunization>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Immunization 2/2" id="5a49bfdf-2194-4cc7-a66a-a5f9f6d211ef">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Immunization/{id}" methodName="Zapis-immunization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Immunization 2/2" id="21f50763-d789-4c07-9a1a-e8fbea2e823f" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${immunizationXML2#resourceRequest}</con:request>
            <con:originalUri>https://tsus.ezdrowie.gov.pl/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a6126f75-5518-4db4-be38-5bfa8870ace2" name="[A1] HTTP 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="62c10708-7c55-4a9b-8ee8-ab6530c5c8d2" name="[A2] Zwrcono zasb z ID">
              <con:configuration>
                <path>(//*:id/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="date" value=""/>
              <con:entry key="patient" value=""/>
              <con:entry key="plsubject" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="status" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>date</con:entry>
              <con:entry>status</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id immunization2" id="2f8a0269-4386-403f-bd75-b371c018eda1">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization 2/2</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>immunizationId</con:targetType>
            <con:targetStep>szczepienie2dawka</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization 2/2</con:sourceStep>
            <con:sourcePath>//*:versionId/@value</con:sourcePath>
            <con:targetType>immunizationVersion</con:targetType>
            <con:targetStep>szczepienie2dawka</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>resource</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization 2/2</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>immunizationResource</con:targetType>
            <con:targetStep>szczepienie2dawka</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Podpis zasobu Immunization2" id="5c15ccba-b8a0-4703-bec7-b50a0d812ef2">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String resource = context.expand('${szczepienie2dawka#immunizationResource}')
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu2}');
String certPass = context.expand('${#Project#hasloCertyfikatu2}');


String podpis = PodpisKwalifikowany.podpiszDokumentDowolnymCertyfikatem(resource,certPath, certPass);
String encode = podpis.getBytes("UTF-8").encodeBase64().toString()
testRunner.testCase.testSteps['szczepienie2dawka'].setPropertyValue("binaryPodpis",encode);
log.info(podpis)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Zapis zasobu provenance (PLPractitionerSignature)2" id="96d877ee-7ac5-4c54-b606-af7764c5e1fd">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane,szczepienie2dawka</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-immunization-simple.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPractitionerSignature"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Immunization/5142559"/>
		<type value="Immunization"/>
	</target>
	<recorded value="2022-09-02T11:47:12.424+02:00"/>
	<agent>
		<role>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.85"/>
				<code value="LEK"/>
			</coding>
		</role>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="5262172"/>
			</identifier>
			<display value="Adam210 Leczniczy"/>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.87"/>
			<code value="1.2.840.10065.1.12.1.6"/>
		</type>
		<when value="2022-09-02T11:47:12.424+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</who>
		<onBehalfOf>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</onBehalfOf>
		<targetFormat value="application/fhir+json"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48SW1tdW5pemF0aW9uIHhtbG5zPSJodHRwOi8vaGw3Lm9yZy9maGlyIj4KICAgPGlkIHZhbHVlPSI1MTQyNTU5Ii8+CiAgIDxtZXRhPgogICAgICA8dmVyc2lvbklkIHZhbHVlPSIxIi8+CiAgICAgIDxsYXN0VXBkYXRlZCB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0NzoxOS45MDMrMDI6MDAiLz4KICAgICAgPHByb2ZpbGUgdmFsdWU9Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QTEltbXVuaXphdGlvblNpbXBsZSIvPgogICAgICA8c2VjdXJpdHk+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuODMiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9Ik4iLz4KICAgICAgPC9zZWN1cml0eT4KICAgPC9tZXRhPgogICA8aW1wbGljaXRSdWxlcyB2YWx1ZT0iMTYuMy4zIi8+CiAgIDxleHRlbnNpb24gdXJsPSJodHRwczovL2V6ZHJvd2llLmdvdi5wbC9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vUExNZWRpY2FsQ2VydGlmaWNhdGVSZWZlcmVuY2UiPgogICAgICA8ZXh0ZW5zaW9uIHVybD0icGFwZXJGb3JtIj4KICAgICAgICAgPHZhbHVlQm9vbGVhbiB2YWx1ZT0idHJ1ZSIvPgogICAgICA8L2V4dGVuc2lvbj4KICAgICAgPGV4dGVuc2lvbiB1cmw9ImFzc2VydGVyIj4KICAgICAgICAgPHZhbHVlUmVmZXJlbmNlPgogICAgICAgICAgICA8aWRlbnRpZmllcj4KICAgICAgICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMS42LjIiLz4KICAgICAgICAgICAgICAgPHZhbHVlIHZhbHVlPSIyNjk4MDQwIi8+CiAgICAgICAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgICAgICAgPGRpc3BsYXkgdmFsdWU9Ik1vbmlrYSBMZWN6bmljemEiLz4KICAgICAgICAgPC92YWx1ZVJlZmVyZW5jZT4KICAgICAgPC9leHRlbnNpb24+CiAgICAgIDxleHRlbnNpb24gdXJsPSJpc3N1ZWQiPgogICAgICAgICA8dmFsdWVEYXRlVGltZSB2YWx1ZT0iMjAyMi0wMy0wNVQxMTo0NzoxMi40MjQrMDE6MDAiLz4KICAgICAgPC9leHRlbnNpb24+CiAgIDwvZXh0ZW5zaW9uPgogICA8c3RhdHVzIHZhbHVlPSJub3QtZG9uZSIvPgogICA8c3RhdHVzUmVhc29uPgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjEwMyIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iSU1NVU5FIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJPZHBvcm5vxZvEhyIvPgogICAgICA8L2NvZGluZz4KICAgPC9zdGF0dXNSZWFzb24+CiAgIDx2YWNjaW5lQ29kZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoxLjMuMTYwIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSIwNTkwOTk5MTQ0NTU5MSIvPgogICAgICA8L2NvZGluZz4KICAgICAgPHRleHQgdmFsdWU9IlByZWZsdWNlbCIvPgogICA8L3ZhY2NpbmVDb2RlPgogICA8cGF0aWVudD4KICAgICAgPHJlZmVyZW5jZSB2YWx1ZT0iUGF0aWVudC81MTQyNTUzIi8+CiAgICAgIDx0eXBlIHZhbHVlPSJQYXRpZW50Ii8+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjQuMzMwLjU2Ii8+CiAgICAgICAgIDx2YWx1ZSB2YWx1ZT0iSlc3OTM3OTk2Ii8+CiAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgPGRpc3BsYXkgdmFsdWU9IlN5bHdlc3RlciBTZW5pb3IiLz4KICAgPC9wYXRpZW50PgogICA8b2NjdXJyZW5jZURhdGVUaW1lIHZhbHVlPSIyMDIyLTAzLTA1VDExOjQ3OjEyLjQyNCswMTowMCIvPgogICA8bG9jYXRpb24+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMyIvPgogICAgICAgICA8dmFsdWUgdmFsdWU9IjAwMDAwMDAxMjEwNi0wMDEiLz4KICAgICAgPC9pZGVudGlmaWVyPgogICA8L2xvY2F0aW9uPgogICA8bWFudWZhY3R1cmVyPgogICAgICA8ZGlzcGxheSB2YWx1ZT0idGVzdCIvPgogICA8L21hbnVmYWN0dXJlcj4KICAgPGxvdE51bWJlciB2YWx1ZT0iQUFKTjExSyIvPgogICA8c2l0ZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDEiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9IkxBIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJMZXdlIHJhbWnEmSIvPgogICAgICA8L2NvZGluZz4KICAgPC9zaXRlPgogICA8cm91dGU+CiAgICAgIDxjb2Rpbmc+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuMTAyIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSJJTSIvPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iSW5pZWtjamEgZG9tacSZxZtuaW93YSIvPgogICAgICA8L2NvZGluZz4KICAgPC9yb3V0ZT4KICAgPGRvc2VRdWFudGl0eT4KICAgICAgPHZhbHVlIHZhbHVlPSIwLjUiLz4KICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My42LjgiLz4KICAgICAgPGNvZGUgdmFsdWU9Ik1MIi8+CiAgIDwvZG9zZVF1YW50aXR5PgogICA8cGVyZm9ybWVyPgogICAgICA8YWN0b3I+CiAgICAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xLjYuMiIvPgogICAgICAgICAgICA8dmFsdWUgdmFsdWU9IjI2OTgwNDAiLz4KICAgICAgICAgPC9pZGVudGlmaWVyPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iTW9uaWthIExlY3puaWN6YSIvPgogICAgICA8L2FjdG9yPgogICA8L3BlcmZvcm1lcj4KICAgPG5vdGU+CiAgICAgIDx0ZXh0IHZhbHVlPSJOb3RlcyBvbiBhZG1pbnN0cmF0aW9uIG9mIHZhY2NpbmUiLz4KICAgPC9ub3RlPgogICA8ZnVuZGluZ1NvdXJjZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDUiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9InByaXZhdGUiLz4KICAgICAgPC9jb2Rpbmc+CiAgIDwvZnVuZGluZ1NvdXJjZT4KICAgPHByb3RvY29sQXBwbGllZD4KICAgICAgPHRhcmdldERpc2Vhc2U+CiAgICAgICAgIDxjb2Rpbmc+CiAgICAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjIuNiIvPgogICAgICAgICAgICA8Y29kZSB2YWx1ZT0iOTkuNTU3Ii8+CiAgICAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJTemN6ZXBpZW5pZSBwcnplY2l3IENPVklELTE5Ii8+CiAgICAgICAgIDwvY29kaW5nPgogICAgICA8L3RhcmdldERpc2Vhc2U+CiAgICAgIDxkb3NlTnVtYmVyUG9zaXRpdmVJbnQgdmFsdWU9IjEiLz4KICAgICAgPHNlcmllc0Rvc2VzUG9zaXRpdmVJbnQgdmFsdWU9IjIiLz4KICAgPC9wcm90b2NvbEFwcGxpZWQ+CjxkczpTaWduYXR1cmUgeG1sbnM6ZHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiIElkPSJ4bWxkc2lnLTBkNjk2ZTM3LWU2NTUtNDA3Zi04MDhjLTc2ODcyZmZjMzc2YiI+PGRzOlNpZ25lZEluZm8+PGRzOkNhbm9uaWNhbGl6YXRpb25NZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjxkczpTaWduYXR1cmVNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjcnNhLXNoYTEiLz48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTBkNjk2ZTM3LWU2NTUtNDA3Zi04MDhjLTc2ODcyZmZjMzc2Yi1yZWYwIiBVUkk9IiI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNlbnZlbG9wZWQtc2lnbmF0dXJlIi8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT50V0k0OWVGaEpRRVZXa3FrRmM5Um8rS3BwVHc9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy0wZDY5NmUzNy1lNjU1LTQwN2YtODA4Yy03Njg3MmZmYzM3NmItc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+VDBnV2VVV29jYVJhWGlJdmFJR1gvV1NTMlNnPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PC9kczpTaWduZWRJbmZvPjxkczpTaWduYXR1cmVWYWx1ZSBJZD0ieG1sZHNpZy0wZDY5NmUzNy1lNjU1LTQwN2YtODA4Yy03Njg3MmZmYzM3NmItc2lndmFsdWUiPktNNjg3c1J5RTZTSjAzTkxjdmplRGhCdGhuMFFDcDlvaTFsMXdLMFJjTkNtOVpQdE0xMjc3cGtPK0RpakdLRmtPVkh5OGFRQUhlVkxaWExFWTlWOEFTc3FPcGdKancxcUJRaW5MdG1Yamd3SmJURFVpRUFpVHVOSktJQ3g5c3ZWY3FOVWhuRHpRaTR0VWtTL3BwVDRqeTJCTFNjU2tibkROYkhDby9CZ0U5cUMvVHFLdTlNU1BxbXBCMkk0Mzl4MkxRVnczcmllK05VZEVCMTROV1VqVUpMRFlMTGtkaFkyN1FtK2xEdCtLMk92NlRHNkRGM1VxTG1pdkhiaXRCczV0Ti9YZUd0Mkh2ellUdXI5aUJKT1pCT1lNU1FkTkpIdnp2ZndpMUZBbndkMWROWUYwY0dEMVVveWJaSGthYUNyY3F3T3lkSWVkb29LZlR5OUsyVWlGdz09PC9kczpTaWduYXR1cmVWYWx1ZT48ZHM6S2V5SW5mbz48ZHM6WDUwOURhdGE+PGRzOlg1MDlDZXJ0aWZpY2F0ZT5NSUlGRVRDQ0F2bWdBd0lCQWdJSVd6VGtKT1BycHJVd0RRWUpLb1pJaHZjTkFRRU5CUUF3VVRFWU1CWUdBMVVFQXd3UFEwTWdVREVnVTNWaVEwRWdWMU5UTVJnd0ZnWURWUVFMREE5UU1TQkpiblJsWjNKaFkzbHFibVV4RGpBTUJnTlZCQW9NQlVOVFNVOWFNUXN3Q1FZRFZRUUdFd0pRVERBZUZ3MHlNVEV5TURNeE1URTNNekZhRncweU16RXlNRE14TVRFM016RmFNSUdFTVM0d0xBWURWUVFERENWaGMzbHpkR1Z1ZEY5cGJuUXlMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01Sc3dHUVlEVlFRRkV4SlFSVk5GVERvZ056SXhNREkyTWpneE56SXhHREFXQmdOVkJBc01EMUF4SUVsdWRHVm5jbUZqZVdwdVpURU9NQXdHQTFVRUNnd0ZRMU5KVDFveEN6QUpCZ05WQkFZVEFsQk1NSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXZsOTFQbDdjQ0NWV241NWh1dG5kbERHeE02enZUL1RxTThYVEs4TUZ2ai95UlBXdHdDalNsRzFwNDVHMkNRR0dXVUNvYWU3S013dGpGMUJvVm1CbzM0cndCY1JuY2gyYXF1SXdXUVVQUUNqdHNsUk9BenFnRGd2QUw3anduMUFSZVpNdXhpSm9zWlhLMW1iMTN1QnBDMGI3VkNpd0sveUt0WTRjL3RiWHEwU2NpZDNYMldaZGxSUmhWbUJHbWUwQkgzTzRZR2tVajZXZHl5STZaMnhNM1FabnNaMG94TEt5ZWRYY1pSNDBsbmp1TlVFc29CbkNxekpyR1BjMGdNK1QyZ3VMcHFKTktIWWptaTBVSkIwVEk2QUpuYWNDRTJxalJmQ29Vbm1qYU5KdUJQeFBqMUE3Y2o0OFo5NlhtY29DMHY4M1p5d3FjLy9nSmwwWUFuQ3p0UUlEQVFBQm80RzRNSUcxTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwakJCZ3dGb0FVWW9hQkFnYUJ0VzF6bjNiSytIUzF0NGJTT29Zd1ZRWURWUjBmQkU0d1REQktvRWlnUm9aRWFIUjBjSE02THk5cGJuUXRjREV1Wlhwa2NtOTNhV1V1WjI5MkxuQnNMMk5qY0RFdlkzSnNMME5EVURGSmJuUmxaM0poWTNscWJtVlRkV0pEUVZkVFV5NWpjbXd3SFFZRFZSME9CQllFRkc2Ylc4NnJFekRvMHM4UWlLVHlEcTZYazVlV01BNEdBMVVkRHdFQi93UUVBd0lIZ0RBTkJna3Foa2lHOXcwQkFRMEZBQU9DQWdFQXd0NlVqV3dDandEUitqZmd0QlBOazJ1SEVVNS9FRXFHYkdrY0NjNmNUU3VXelFsb1lBNFhyWVlzOFJzZlNqQ2ZUT2tZeTNWZFZxdm1Nc3ZEajJLcGJzSEZTcG1XcG5OaExrRnF1MElzaTRhNW9Cc1lPWVJuNlRvNis0bExFYmdsNUJYMDdCK0pTcXNXanZORlhYUTI4K043Ris4ekZ6U2UrSDJnb3kwV004dlhNbGFuSWlPeWtHMnpBanErdlJWdXVqVzkzaDdKSXJ1dXEra0JXY3ZqWWFtVVNqNlk3bmUvRVJxVmpmdkdicStrbmxkb2pvUzVYMURVYkZqV0pCc3U3cnFtVVFibXl2ZjI0NWdFWExocG45dGRBOEFMT29GdGMya0haY0FSY2ZLbXkxVUExQVNINmZwSG9xSWlTZ01MRThmWnFPTkFqTGtWaVFtS0NlKzBncFlyVDcrR0xkcGo0M1ZmeS9tQ0dkWFBhSEhoUHJGUVUxRjVzVGVYMjNyQXB6MEJYTUltZFBuL3daWitid20ycUFvV1VnS0F5VnJUVytGR3Q4dUJmN3NmWlN5Ny9WTS9ZaWtheGxsR2xhTERUa0RtV21oNzdMbGlvRXUwbk9yeXZDeGw2UjFDY25jZnV4dFd5YTZRMFY2TWtXSU80VVJkalJLaElBWTdrU0gvZ2xVcVIraG96a0JNRHRHQUNPSDV4M1ErWXpDbFRUeXltYXpvTm1hazJrMnhFMjNkR1NIN3VEMmJZdStxbWEyMW5xU3NSMmlxWkNUVHJQbUdLeVZ4UmVIa01GL2VOd2JOczlscEk4c2gwVFJkeTR2K09KVGpTR2RmUC9Qb2l4ODNKVXpqL1hndHd5RHJOSlBKUGxXc0VXUFRCY2d2OVdrNHlMcnQ4OFFvT1pZPTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9UEVTRUw6IDcyMTAyNjI4MTcyLGNuPWFzeXN0ZW50X2ludDItdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjY1NzIxMjg2MDMzMzQyMjM1NDE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctMGQ2OTZlMzctZTY1NS00MDdmLTgwOGMtNzY4NzJmZmMzNzZiIj48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy0wZDY5NmUzNy1lNjU1LTQwN2YtODA4Yy03Njg3MmZmYzM3NmItc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjQ3OjIwLjExNiswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+RDdoam11VUlITXV1NFBMVDNCUExDNjcwalp3PTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj42NTcyMTI4NjAzMzM0MjIzNTQxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+SHVQdGw2TElqdDAyTngzRUJoMnRzbEtVZ25FPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+VUZQdXVVM2hwQjEzQlVLMkdyTVkvTzQ1cFZNPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+PC9JbW11bml6YXRpb24+"/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance (PLPractitionerSignature)2" id="c73fc1e5-c8e2-4eaa-b840-231881a82ea5">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance (PLPractitionerSignature)2" id="fe9ba9cb-5a81-4394-a6b2-89737fc8f47f" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${Zapis zasobu provenance (PLPractitionerSignature)2#resourceRequest}</con:request>
            <con:originalUri>https://tsus.ezdrowie.gov.pl/fhir/Provenance/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="c65069ab-e206-41f3-8f19-3e34ac605715" name="[A1] HTTP 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f8db0a4b-3289-4675-81da-9eec7a68c73a" name="[A2] Zwrcono zasb z ID">
              <con:configuration>
                <path>(//*:id/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="_id" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="immunizationXML3" id="2a374962-d4af-4cb8-8a9b-a4b692930dc8">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane, szczepienieBooster</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>immunization-simple-statusReason.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Immunization xmlns="http://hl7.org/fhir">
    					
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLImmunizationSimple"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLMedicalCertificateReference">
		<extension url="paperForm">
			<valueBoolean value="true"/>
		</extension>
		<extension url="asserter">
			<valueReference>
				<identifier>
					<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
			</valueReference>
		</extension>
					<extension url="issued">
			<valueDateTime value="2022-09-02T11:47:12.424+02:00"/>
		</extension>
	</extension>
	<status value="not-done"/>
	<statusReason>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.103"/>
			<code value="IMMUNE"/>
			<display value="Odporno"/>
		</coding>
	</statusReason>	
	<vaccineCode>
		<coding>
			<system value="urn:oid:1.3.160"/>
			<code value="05909991445591"/>
		</coding>
		<text value="Preflucel"/>
	</vaccineCode>
	<patient>
		<reference value="Patient/5142553"/>
		<type value="Patient"/>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.4.330.56"/>
			<value value="JW7937996"/>
		</identifier>
		<display value="Sylwester Senior"/>
	</patient>
	<occurrenceDateTime value="2022-09-02T11:47:12.424+02:00"/>
	<location>
		<identifier>
			<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.3"/>
			<value value="000000012106-001"/>
		</identifier>
	</location>
	<manufacturer>
		<display value="test"/>
	</manufacturer>
	<lotNumber value="AAJN11K"/>
	<site>	
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.101"/>
			<code value="LA"/>
			<display value="Lewe rami"/>
		</coding>
	</site>
	<route>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.102"/>
			<code value="IM"/>
			<display value="Iniekcja dominiowa"/>
		</coding>
	</route>
	<doseQuantity>
		<value value="0.5"/>
		<system value="urn:oid:2.16.840.1.113883.6.8"/>
		<code value="ML"/>
	</doseQuantity>
	<performer>
		<actor>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
			<value value="2698040"/>
		</identifier>
		<display value="Monika Lecznicza"/>
		</actor>
	</performer>
	<note>
		<text value="Notes on adminstration of vaccine"/>
	</note>
	<fundingSource>
		<coding>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.105"/>
			<code value="private"/>
		</coding>
	</fundingSource>
	<protocolApplied>
		<targetDisease>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.2.6"/>
				<code value="99.557"/>
				<display value="Szczepienie przeciw COVID-19"/>
			</coding>
		</targetDisease>
		<doseNumberPositiveInt value="1"/>
		<seriesDosesPositiveInt value="2"/>
	</protocolApplied>
</Immunization>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Immunization booster" id="da1a1afb-45cf-4757-9c23-45fc16979988">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Immunization/{id}" methodName="Zapis-immunization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Immunization booster" id="21f50763-d789-4c07-9a1a-e8fbea2e823f" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${immunizationXML3#resourceRequest}</con:request>
            <con:originalUri>https://tsus.ezdrowie.gov.pl/fhir/Observation</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a6126f75-5518-4db4-be38-5bfa8870ace2" name="[A1] HTTP 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="62c10708-7c55-4a9b-8ee8-ab6530c5c8d2" name="[A2] Zwrcono zasb z ID">
              <con:configuration>
                <path>(//*:id/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="date" value=""/>
              <con:entry key="patient" value=""/>
              <con:entry key="plsubject" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="status" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>date</con:entry>
              <con:entry>status</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id immunization3" id="99296164-68a1-4dd1-bdae-0734fdc37200">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization booster</con:sourceStep>
            <con:sourcePath>//*:id/@value</con:sourcePath>
            <con:targetType>immunizationId</con:targetType>
            <con:targetStep>szczepienieBooster</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization booster</con:sourceStep>
            <con:sourcePath>//*:versionId/@value</con:sourcePath>
            <con:targetType>immunizationVersion</con:targetType>
            <con:targetStep>szczepienieBooster</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>resource</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Immunization booster</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>immunizationResource</con:targetType>
            <con:targetStep>szczepienieBooster</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Podpis zasobu Immunization3" id="72ff4f2c-cd69-423a-b8f0-509db8196b0c">
        <con:settings/>
        <con:config>
          <script>import pl.gov.csioz.p1.recepta.PodpisKwalifikowany;
import java.util.*;

String resource = context.expand('${szczepienieBooster#immunizationResource}')
String certPath = context.expand('${projectDir}') + "//klucze//" + context.expand('${#Project#plikCertyfikatu2}');
String certPass = context.expand('${#Project#hasloCertyfikatu2}');


String podpis = PodpisKwalifikowany.podpiszDokumentDowolnymCertyfikatem(resource,certPath, certPass);
String encode = podpis.getBytes("UTF-8").encodeBase64().toString()
testRunner.testCase.testSteps['szczepienieBooster'].setPropertyValue("binaryPodpis",encode);
log.info(podpis)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="Zapis zasobu provenance (PLPractitionerSignature)3" id="ff4eb32e-79ed-484a-b7d4-f9bdad65dd63">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane,szczepienieBooster</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>provenance-immunization-simple.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPractitionerSignature"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Immunization/5142563"/>
		<type value="Immunization"/>
	</target>
	<recorded value="2022-09-02T11:47:12.424+02:00"/>
	<agent>
		<role>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.85"/>
				<code value="LEK"/>
			</coding>
		</role>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="5262172"/>
			</identifier>
			<display value="Adam210 Leczniczy"/>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.87"/>
			<code value="1.2.840.10065.1.12.1.6"/>
		</type>
		<when value="2022-09-02T11:47:12.424+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</who>
		<onBehalfOf>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</onBehalfOf>
		<targetFormat value="application/fhir+json"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48SW1tdW5pemF0aW9uIHhtbG5zPSJodHRwOi8vaGw3Lm9yZy9maGlyIj4KICAgPGlkIHZhbHVlPSI1MTQyNTYzIi8+CiAgIDxtZXRhPgogICAgICA8dmVyc2lvbklkIHZhbHVlPSIxIi8+CiAgICAgIDxsYXN0VXBkYXRlZCB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0NzoyMi4yMjErMDI6MDAiLz4KICAgICAgPHByb2ZpbGUgdmFsdWU9Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QTEltbXVuaXphdGlvblNpbXBsZSIvPgogICAgICA8c2VjdXJpdHk+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuODMiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9Ik4iLz4KICAgICAgPC9zZWN1cml0eT4KICAgPC9tZXRhPgogICA8aW1wbGljaXRSdWxlcyB2YWx1ZT0iMTYuMy4zIi8+CiAgIDxleHRlbnNpb24gdXJsPSJodHRwczovL2V6ZHJvd2llLmdvdi5wbC9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vUExNZWRpY2FsQ2VydGlmaWNhdGVSZWZlcmVuY2UiPgogICAgICA8ZXh0ZW5zaW9uIHVybD0icGFwZXJGb3JtIj4KICAgICAgICAgPHZhbHVlQm9vbGVhbiB2YWx1ZT0idHJ1ZSIvPgogICAgICA8L2V4dGVuc2lvbj4KICAgICAgPGV4dGVuc2lvbiB1cmw9ImFzc2VydGVyIj4KICAgICAgICAgPHZhbHVlUmVmZXJlbmNlPgogICAgICAgICAgICA8aWRlbnRpZmllcj4KICAgICAgICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMS42LjIiLz4KICAgICAgICAgICAgICAgPHZhbHVlIHZhbHVlPSIyNjk4MDQwIi8+CiAgICAgICAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgICAgICAgPGRpc3BsYXkgdmFsdWU9Ik1vbmlrYSBMZWN6bmljemEiLz4KICAgICAgICAgPC92YWx1ZVJlZmVyZW5jZT4KICAgICAgPC9leHRlbnNpb24+CiAgICAgIDxleHRlbnNpb24gdXJsPSJpc3N1ZWQiPgogICAgICAgICA8dmFsdWVEYXRlVGltZSB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0NzoxMi40MjQrMDI6MDAiLz4KICAgICAgPC9leHRlbnNpb24+CiAgIDwvZXh0ZW5zaW9uPgogICA8c3RhdHVzIHZhbHVlPSJub3QtZG9uZSIvPgogICA8c3RhdHVzUmVhc29uPgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjEwMyIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iSU1NVU5FIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJPZHBvcm5vxZvEhyIvPgogICAgICA8L2NvZGluZz4KICAgPC9zdGF0dXNSZWFzb24+CiAgIDx2YWNjaW5lQ29kZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoxLjMuMTYwIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSIwNTkwOTk5MTQ0NTU5MSIvPgogICAgICA8L2NvZGluZz4KICAgICAgPHRleHQgdmFsdWU9IlByZWZsdWNlbCIvPgogICA8L3ZhY2NpbmVDb2RlPgogICA8cGF0aWVudD4KICAgICAgPHJlZmVyZW5jZSB2YWx1ZT0iUGF0aWVudC81MTQyNTUzIi8+CiAgICAgIDx0eXBlIHZhbHVlPSJQYXRpZW50Ii8+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjQuMzMwLjU2Ii8+CiAgICAgICAgIDx2YWx1ZSB2YWx1ZT0iSlc3OTM3OTk2Ii8+CiAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgPGRpc3BsYXkgdmFsdWU9IlN5bHdlc3RlciBTZW5pb3IiLz4KICAgPC9wYXRpZW50PgogICA8b2NjdXJyZW5jZURhdGVUaW1lIHZhbHVlPSIyMDIyLTA5LTAyVDExOjQ3OjEyLjQyNCswMjowMCIvPgogICA8bG9jYXRpb24+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMyIvPgogICAgICAgICA8dmFsdWUgdmFsdWU9IjAwMDAwMDAxMjEwNi0wMDEiLz4KICAgICAgPC9pZGVudGlmaWVyPgogICA8L2xvY2F0aW9uPgogICA8bWFudWZhY3R1cmVyPgogICAgICA8ZGlzcGxheSB2YWx1ZT0idGVzdCIvPgogICA8L21hbnVmYWN0dXJlcj4KICAgPGxvdE51bWJlciB2YWx1ZT0iQUFKTjExSyIvPgogICA8c2l0ZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDEiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9IkxBIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJMZXdlIHJhbWnEmSIvPgogICAgICA8L2NvZGluZz4KICAgPC9zaXRlPgogICA8cm91dGU+CiAgICAgIDxjb2Rpbmc+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuMTAyIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSJJTSIvPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iSW5pZWtjamEgZG9tacSZxZtuaW93YSIvPgogICAgICA8L2NvZGluZz4KICAgPC9yb3V0ZT4KICAgPGRvc2VRdWFudGl0eT4KICAgICAgPHZhbHVlIHZhbHVlPSIwLjUiLz4KICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My42LjgiLz4KICAgICAgPGNvZGUgdmFsdWU9Ik1MIi8+CiAgIDwvZG9zZVF1YW50aXR5PgogICA8cGVyZm9ybWVyPgogICAgICA8YWN0b3I+CiAgICAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xLjYuMiIvPgogICAgICAgICAgICA8dmFsdWUgdmFsdWU9IjI2OTgwNDAiLz4KICAgICAgICAgPC9pZGVudGlmaWVyPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iTW9uaWthIExlY3puaWN6YSIvPgogICAgICA8L2FjdG9yPgogICA8L3BlcmZvcm1lcj4KICAgPG5vdGU+CiAgICAgIDx0ZXh0IHZhbHVlPSJOb3RlcyBvbiBhZG1pbnN0cmF0aW9uIG9mIHZhY2NpbmUiLz4KICAgPC9ub3RlPgogICA8ZnVuZGluZ1NvdXJjZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDUiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9InByaXZhdGUiLz4KICAgICAgPC9jb2Rpbmc+CiAgIDwvZnVuZGluZ1NvdXJjZT4KICAgPHByb3RvY29sQXBwbGllZD4KICAgICAgPHRhcmdldERpc2Vhc2U+CiAgICAgICAgIDxjb2Rpbmc+CiAgICAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjIuNiIvPgogICAgICAgICAgICA8Y29kZSB2YWx1ZT0iOTkuNTU3Ii8+CiAgICAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJTemN6ZXBpZW5pZSBwcnplY2l3IENPVklELTE5Ii8+CiAgICAgICAgIDwvY29kaW5nPgogICAgICA8L3RhcmdldERpc2Vhc2U+CiAgICAgIDxkb3NlTnVtYmVyUG9zaXRpdmVJbnQgdmFsdWU9IjEiLz4KICAgICAgPHNlcmllc0Rvc2VzUG9zaXRpdmVJbnQgdmFsdWU9IjIiLz4KICAgPC9wcm90b2NvbEFwcGxpZWQ+CjxkczpTaWduYXR1cmUgeG1sbnM6ZHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiIElkPSJ4bWxkc2lnLTI2NDRmODlmLTZlYWEtNDgwZS1hNjRjLTM3NmU1YTBkY2FmMCI+PGRzOlNpZ25lZEluZm8+PGRzOkNhbm9uaWNhbGl6YXRpb25NZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjxkczpTaWduYXR1cmVNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjcnNhLXNoYTEiLz48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTI2NDRmODlmLTZlYWEtNDgwZS1hNjRjLTM3NmU1YTBkY2FmMC1yZWYwIiBVUkk9IiI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNlbnZlbG9wZWQtc2lnbmF0dXJlIi8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5ycGFON3JOclYxSkEwZU1yeUoyN25VZVNFZUU9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy0yNjQ0Zjg5Zi02ZWFhLTQ4MGUtYTY0Yy0zNzZlNWEwZGNhZjAtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+c2RRTTlyRjY2VGtqVUpmclpmNllEUW1vNGlzPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PC9kczpTaWduZWRJbmZvPjxkczpTaWduYXR1cmVWYWx1ZSBJZD0ieG1sZHNpZy0yNjQ0Zjg5Zi02ZWFhLTQ4MGUtYTY0Yy0zNzZlNWEwZGNhZjAtc2lndmFsdWUiPllQWEdERVFtN0FsV3hGeFpqM0s2V0Ixc1JNd0wyNlBBVXZmWFJ0bkw4dWF1VjNVZUpvdXh0V1J2bnZLQmdOYTNZWW9DNFFrZ0g4YkNjZ2hHZ3FuRUg5YzBMeS9TYVdOYTVqbExzS0JYYUxQKzd4STJOb3JoOG52M1pTbWtkVEJyVk1Ndlcvd0FiRWVMaUFDY3Qwa2hXTjBIUkUvYXpEL3BPTTlTaHo3UDdqNDdHUmh4VjB5ajZLYmVBekRGaHdXWmY3dGtHU2JPZ3VPU1UzREh3S21LSGpYc3ZmNzNLWnMvSlptanlnaDNKcXB0QjVVZFdMVmtIS2lRM2pXYUlvNGxmeUluOVl1ZWR4MzQ1ekRJL0c5azN6TC80amVCQ1ArMmxNTXlDZzhiZ1JFSWs4bEloc2ZyNkpUVG9MZ2Y4U1ZicjdBQjE1ME9kbXVMQWxmMjNNMk8xQT09PC9kczpTaWduYXR1cmVWYWx1ZT48ZHM6S2V5SW5mbz48ZHM6WDUwOURhdGE+PGRzOlg1MDlDZXJ0aWZpY2F0ZT5NSUlGRVRDQ0F2bWdBd0lCQWdJSVd6VGtKT1BycHJVd0RRWUpLb1pJaHZjTkFRRU5CUUF3VVRFWU1CWUdBMVVFQXd3UFEwTWdVREVnVTNWaVEwRWdWMU5UTVJnd0ZnWURWUVFMREE5UU1TQkpiblJsWjNKaFkzbHFibVV4RGpBTUJnTlZCQW9NQlVOVFNVOWFNUXN3Q1FZRFZRUUdFd0pRVERBZUZ3MHlNVEV5TURNeE1URTNNekZhRncweU16RXlNRE14TVRFM016RmFNSUdFTVM0d0xBWURWUVFERENWaGMzbHpkR1Z1ZEY5cGJuUXlMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01Sc3dHUVlEVlFRRkV4SlFSVk5GVERvZ056SXhNREkyTWpneE56SXhHREFXQmdOVkJBc01EMUF4SUVsdWRHVm5jbUZqZVdwdVpURU9NQXdHQTFVRUNnd0ZRMU5KVDFveEN6QUpCZ05WQkFZVEFsQk1NSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXZsOTFQbDdjQ0NWV241NWh1dG5kbERHeE02enZUL1RxTThYVEs4TUZ2ai95UlBXdHdDalNsRzFwNDVHMkNRR0dXVUNvYWU3S013dGpGMUJvVm1CbzM0cndCY1JuY2gyYXF1SXdXUVVQUUNqdHNsUk9BenFnRGd2QUw3anduMUFSZVpNdXhpSm9zWlhLMW1iMTN1QnBDMGI3VkNpd0sveUt0WTRjL3RiWHEwU2NpZDNYMldaZGxSUmhWbUJHbWUwQkgzTzRZR2tVajZXZHl5STZaMnhNM1FabnNaMG94TEt5ZWRYY1pSNDBsbmp1TlVFc29CbkNxekpyR1BjMGdNK1QyZ3VMcHFKTktIWWptaTBVSkIwVEk2QUpuYWNDRTJxalJmQ29Vbm1qYU5KdUJQeFBqMUE3Y2o0OFo5NlhtY29DMHY4M1p5d3FjLy9nSmwwWUFuQ3p0UUlEQVFBQm80RzRNSUcxTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwakJCZ3dGb0FVWW9hQkFnYUJ0VzF6bjNiSytIUzF0NGJTT29Zd1ZRWURWUjBmQkU0d1REQktvRWlnUm9aRWFIUjBjSE02THk5cGJuUXRjREV1Wlhwa2NtOTNhV1V1WjI5MkxuQnNMMk5qY0RFdlkzSnNMME5EVURGSmJuUmxaM0poWTNscWJtVlRkV0pEUVZkVFV5NWpjbXd3SFFZRFZSME9CQllFRkc2Ylc4NnJFekRvMHM4UWlLVHlEcTZYazVlV01BNEdBMVVkRHdFQi93UUVBd0lIZ0RBTkJna3Foa2lHOXcwQkFRMEZBQU9DQWdFQXd0NlVqV3dDandEUitqZmd0QlBOazJ1SEVVNS9FRXFHYkdrY0NjNmNUU3VXelFsb1lBNFhyWVlzOFJzZlNqQ2ZUT2tZeTNWZFZxdm1Nc3ZEajJLcGJzSEZTcG1XcG5OaExrRnF1MElzaTRhNW9Cc1lPWVJuNlRvNis0bExFYmdsNUJYMDdCK0pTcXNXanZORlhYUTI4K043Ris4ekZ6U2UrSDJnb3kwV004dlhNbGFuSWlPeWtHMnpBanErdlJWdXVqVzkzaDdKSXJ1dXEra0JXY3ZqWWFtVVNqNlk3bmUvRVJxVmpmdkdicStrbmxkb2pvUzVYMURVYkZqV0pCc3U3cnFtVVFibXl2ZjI0NWdFWExocG45dGRBOEFMT29GdGMya0haY0FSY2ZLbXkxVUExQVNINmZwSG9xSWlTZ01MRThmWnFPTkFqTGtWaVFtS0NlKzBncFlyVDcrR0xkcGo0M1ZmeS9tQ0dkWFBhSEhoUHJGUVUxRjVzVGVYMjNyQXB6MEJYTUltZFBuL3daWitid20ycUFvV1VnS0F5VnJUVytGR3Q4dUJmN3NmWlN5Ny9WTS9ZaWtheGxsR2xhTERUa0RtV21oNzdMbGlvRXUwbk9yeXZDeGw2UjFDY25jZnV4dFd5YTZRMFY2TWtXSU80VVJkalJLaElBWTdrU0gvZ2xVcVIraG96a0JNRHRHQUNPSDV4M1ErWXpDbFRUeXltYXpvTm1hazJrMnhFMjNkR1NIN3VEMmJZdStxbWEyMW5xU3NSMmlxWkNUVHJQbUdLeVZ4UmVIa01GL2VOd2JOczlscEk4c2gwVFJkeTR2K09KVGpTR2RmUC9Qb2l4ODNKVXpqL1hndHd5RHJOSlBKUGxXc0VXUFRCY2d2OVdrNHlMcnQ4OFFvT1pZPTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9UEVTRUw6IDcyMTAyNjI4MTcyLGNuPWFzeXN0ZW50X2ludDItdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjY1NzIxMjg2MDMzMzQyMjM1NDE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctMjY0NGY4OWYtNmVhYS00ODBlLWE2NGMtMzc2ZTVhMGRjYWYwIj48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy0yNjQ0Zjg5Zi02ZWFhLTQ4MGUtYTY0Yy0zNzZlNWEwZGNhZjAtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjQ3OjIyLjQ3NyswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+RDdoam11VUlITXV1NFBMVDNCUExDNjcwalp3PTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj42NTcyMTI4NjAzMzM0MjIzNTQxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+SHVQdGw2TElqdDAyTngzRUJoMnRzbEtVZ25FPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+VUZQdXVVM2hwQjEzQlVLMkdyTVkvTzQ1cFZNPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+PC9JbW11bml6YXRpb24+"/>
	</signature>
</Provenance>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>SINGLETON_AND_WAIT</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Provenance (PLPractitionerSignature)3" id="d5d42f13-eb98-41c1-8eba-790ef1dd483a">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Provenance/{id}" methodName="Zapis-provenance" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Provenance (PLPractitionerSignature)3" id="fe9ba9cb-5a81-4394-a6b2-89737fc8f47f" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${Zapis zasobu provenance (PLPractitionerSignature)3#resourceRequest}</con:request>
            <con:originalUri>https://tsus.ezdrowie.gov.pl/fhir/Provenance/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="c65069ab-e206-41f3-8f19-3e34ac605715" name="[A1] HTTP 201">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="f8db0a4b-3289-4675-81da-9eec7a68c73a" name="[A2] Zwrcono zasb z ID">
              <con:configuration>
                <path>(//*:id/@value)>0</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="_id" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="target" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>target</con:entry>
              <con:entry>id</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>rok</con:name>
          <con:value>2020</con:value>
        </con:property>
        <con:property>
          <con:name>miesiac</con:name>
          <con:value>12</con:value>
        </con:property>
        <con:property>
          <con:name>czas</con:name>
          <con:value>2020-12-03T12:32:38.458+0100</con:value>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:properties>
      <con:property>
        <con:name>identyfikatorZdarzenia</con:name>
        <con:value>fcfe82e2-1f81-4d7a-bc8c-47104e88a3ae</con:value>
      </con:property>
      <con:property>
        <con:name>korelacjaIdentyfikator</con:name>
        <con:value>db8aaae4-6be2-435c-a068-1fe53bc9f6b8</con:value>
      </con:property>
      <con:property>
        <con:name>identyfikatorPacjenta</con:name>
        <con:value>IJ5360410</con:value>
      </con:property>
      <con:property>
        <con:name>identyfikatorPacjentaOID</con:name>
        <con:value>urn:oid:2.16.840.1.113883.4.330.56</con:value>
      </con:property>
      <con:property>
        <con:name>immunizationStatus</con:name>
        <con:value>not-done</con:value>
      </con:property>
      <con:property>
        <con:name>immunizationId</con:name>
        <con:value>177288</con:value>
      </con:property>
      <con:property>
        <con:name>provenanceId</con:name>
        <con:value>177291</con:value>
      </con:property>
      <con:property>
        <con:name>immunizationData</con:name>
        <con:value>ge2021-02-09T14:06:19</con:value>
      </con:property>
      <con:property>
        <con:name>immunizationDate</con:name>
        <con:value>ge2021-03-09T13:46:07</con:value>
      </con:property>
      <con:property>
        <con:name>identyfikatorZdarzenia</con:name>
        <con:value>2288d257-9c2f-4ee1-9ce7-ee812dae44be</con:value>
      </con:property>
      <con:property>
        <con:name>korelacjaIdentyfikator</con:name>
        <con:value>a0363c6f-4505-4dfc-ba16-1314d36e098e</con:value>
      </con:property>
      <con:property>
        <con:name>identyfikatorPacjenta</con:name>
        <con:value>YE1026285</con:value>
      </con:property>
      <con:property>
        <con:name>identyfikatorPacjentaOID</con:name>
        <con:value>urn:oid:2.16.840.1.113883.4.330.56</con:value>
      </con:property>
    </con:properties>
  </con:testSuite>
  <con:testSuite id="e6249244-aca6-4853-bce3-14c47d826a2d" name="Generowanie tokenu SAML" disabled="true">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase id="c12669be-18b5-4cae-a904-834be9b4b4d0" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Generowanie tokenu" searchProperties="true">
      <con:settings/>
      <con:testStep type="request" name="generujToken1" id="49674203-42e3-4d38-8e00-456322f87bcf">
        <con:settings/>
        <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:interface>GenerowanieTokenuSAMLWS</con:interface>
          <con:operation>generujToken</con:operation>
          <con:request name="generujToken1" id="718c2cb7-146d-49d4-9305-fce120909279" outgoingWss="PodmiotSGZ">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
              <con:setting id="WsdlSettings@pretty-print-response-xml">false</con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#GenerowanieTokenuSAML.service.address}</con:endpoint>
            <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns:wst="http://docs.oasis-open.org/ws-sx/ws-trust/200512/" xmlns:saml="urn:oasis:names:tc:SAML:2.0:assertion">
   <soapenv:Body>
      <wst:RequestSecurityToken>
         <wst:RequestType>http://docs.oasis-open.org/ws-sx/ws-trust/200512/Issue</wst:RequestType>
         <saml:AuthnStatement AuthnInstant="${=new Date().format( "yyyy-MM-dd'T'HH:mm:ss'Z'")}">
            <saml:AuthnContext>
               <saml:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport</saml:AuthnContextClassRef>
            </saml:AuthnContext>
         </saml:AuthnStatement>
         <saml:AttributeStatement xmlns:xacmlprof="urn:oasis:names:tc:SAML:2.0:profiles:attribute:XACML" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <saml:Attribute NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" Name="urn:oasis:names:tc:SAML:attribute:subject-id" xacmlprof:DataType="http://www.w3.org/2001/XMLSchema#anyURI">
               <saml:AttributeValue xsi:type="xs:anyURI">2.16.840.1.113883.3.4424.1.6.2#22334455</saml:AttributeValue>
            </saml:Attribute>
            <saml:Attribute NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" Name="urn:oasis:names:tc:xspa:1.0:subject:organization-id" xacmlprof:DataType="http://www.w3.org/2001/XMLSchema#anyURI">
               <saml:AttributeValue xsi:type="xs:anyURI">2.16.840.1.113883.3.4424.2.3.1#${#Project#idPodmiotu}</saml:AttributeValue>
            </saml:Attribute>
            <saml:Attribute NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" Name="urn:oasis:names:tc:xacml:1.0:resource:resource-id" xacmlprof:DataType="http://www.w3.org/2001/XMLSchema#anyURI">
               <saml:AttributeValue xsi:type="xs:anyURI">2.16.840.1.113883.3.4424.1.6.4#94071712351</saml:AttributeValue>
            </saml:Attribute>
            <saml:Attribute NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified" Name="urn:oasis:names:tc:xspa:1.0:subject:functional-role" xacmlprof:DataType="http://www.w3.org/2001/XMLSchema#string">
               <saml:AttributeValue xsi:type="xs:string">medical doctor</saml:AttributeValue>
            </saml:Attribute>
            <saml:Attribute NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified" Name="urn:oasis:names:tc:xacml:1.0:action:action-id" xacmlprof:DataType="http://www.w3.org/2001/XMLSchema#string">
               <saml:AttributeValue xsi:type="xs:string">READ</saml:AttributeValue>
            </saml:Attribute>
            <saml:Attribute NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified" Name="urn:oasis:names:tc:xacml:2.0:action:purpose" xacmlprof:DataType="http://www.w3.org/2001/XMLSchema#string">
               <saml:AttributeValue xsi:type="xs:string">RECORDMGT</saml:AttributeValue>
            </saml:Attribute>
         </saml:AttributeStatement>
      </wst:RequestSecurityToken>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
            <con:assertion type="SOAP Response" id="aac5c82e-ed09-4c50-888f-7bbbe97cfd47"/>
            <con:assertion type="Simple Contains" id="349135c5-e48a-4296-a8f3-f32448bb52fe" name="Contains" disabled="true">
              <con:configuration>
                <token>//*:Body//*:RequestSecurityTokenResponse/*:RequestedSecurityToken/*:Assertion</token>
                <ignoreCase>false</ignoreCase>
                <useRegEx>false</useRegEx>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>Basic</con:selectedAuthProfile>
              <con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
              <con:authType>Global HTTP Settings</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:wsaConfig mustUnderstand="NONE" version="200508"/>
            <con:wsrmConfig version="1.2"/>
          </con:request>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis tokenu" id="241a8915-2abf-4aeb-a879-a39c2ad799c3">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="false" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>token</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>generujToken1</con:sourceStep>
            <con:sourcePath>//*:Body//*:RequestSecurityTokenResponse/*:RequestedSecurityToken/*:Assertion</con:sourcePath>
            <con:targetType>tokenSAML</con:targetType>
            <con:targetStep>#Project#</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>organization-local-id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>generujToken1</con:sourceStep>
            <con:sourcePath>//*:AttributeStatement/*:Attribute[@Name='urn:p1:organization-local-id']/*:AttributeValue/text()</con:sourcePath>
            <con:targetType>organizationLocalId</con:targetType>
            <con:targetStep>#Project#</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:properties/>
  </con:testSuite>
  <con:testSuite id="068c59c8-4df4-4f80-9220-897d769a0f18" name="Utils" disabled="true">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase id="1e04b9d0-fd96-44cd-9a0c-8decd59f5e01" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Parametryzacja" searchProperties="true">
      <con:settings/>
      <con:testStep type="groovy" name="Parametryzowanie" id="ae218dc2-fe63-41e0-b77c-dcf5ff6af79b">
        <con:settings/>
        <con:config>
          <script>import groovy.util.GroovyScriptEngine
def inputDataNames = testRunner.testCase.getPropertyValue("resourceData")
def stringParams = ''
def listAllParams = [:]
if (inputDataNames?.trim()) {
    // Jeeli przekazano kilka list parametrw wejciowych to zlcz ja w jedna
    for (inputDataName in inputDataNames.split(',')) {
        def InputParams =  context.getProperty("#CallingTestCaseRunner#").testCase.getTestStepByName(inputDataName.trim()).getProperties()
        listAllParams &lt;&lt; InputParams
    }
}
def sciezkaDoSkryptu = new File( context.expand( '${projectDir}')).getAbsolutePath() + "/" + testRunner.testCase.testSuite.project.getPropertyValue( "scriptFolder")
def skrypt = new GroovyScriptEngine(sciezkaDoSkryptu).loadScriptByName(testRunner.testCase.testSuite.project.getPropertyValue( "parametrizeScriptFileName")).newInstance(testRunner, context)
def objFolder = testRunner.testCase.getPropertyValue("folderXML")

def resourceXML = testRunner.testCase.getPropertyValue("resourceXML")
String resourceRequest = ''
if (resourceXML?.trim()) {
    resourceRequest = skrypt.zbudujXML(objFolder, resourceXML, listAllParams).tresc
}
testRunner.testCase.setPropertyValue("resourceRequest", resourceRequest)</script>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>resourceData</con:name>
          <con:value>dane,szczepienieBooster</con:value>
        </con:property>
        <con:property>
          <con:name>resourceXML</con:name>
          <con:value>provenance-immunization-simple.xml</con:value>
        </con:property>
        <con:property>
          <con:name>folderXML</con:name>
          <con:value>/parametryzacja/obiekty/</con:value>
        </con:property>
        <con:property>
          <con:name>------------------------</con:name>
          <con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
        </con:property>
        <con:property>
          <con:name>resourceRequest</con:name>
          <con:value><![CDATA[<Provenance xmlns="http://hl7.org/fhir">
	<meta>
		<profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPractitionerSignature"/>
		<security>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
			<code value="N"/>
		</security>
	</meta>
	<target>
		<reference value="Immunization/5142563"/>
		<type value="Immunization"/>
	</target>
	<recorded value="2022-09-02T11:47:12.424+02:00"/>
	<agent>
		<role>
			<coding>
				<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.85"/>
				<code value="LEK"/>
			</coding>
		</role>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="5262172"/>
			</identifier>
			<display value="Adam210 Leczniczy"/>
		</who>
	</agent>
	<signature>
		<type>
			<system value="urn:oid:2.16.840.1.113883.3.4424.11.1.87"/>
			<code value="1.2.840.10065.1.12.1.6"/>
		</type>
		<when value="2022-09-02T11:47:12.424+02:00"/>
		<who>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.1.6.2"/>
				<value value="2698040"/>
			</identifier>
			<display value="Monika Lecznicza"/>
		</who>
		<onBehalfOf>
			<identifier>
				<system value="urn:oid:2.16.840.1.113883.3.4424.2.3.1"/>
				<value value="000000012106"/>
			</identifier>
		</onBehalfOf>
		<targetFormat value="application/fhir+json"/>
		<sigFormat value="application/signature+xml"/>
		<data value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48SW1tdW5pemF0aW9uIHhtbG5zPSJodHRwOi8vaGw3Lm9yZy9maGlyIj4KICAgPGlkIHZhbHVlPSI1MTQyNTYzIi8+CiAgIDxtZXRhPgogICAgICA8dmVyc2lvbklkIHZhbHVlPSIxIi8+CiAgICAgIDxsYXN0VXBkYXRlZCB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0NzoyMi4yMjErMDI6MDAiLz4KICAgICAgPHByb2ZpbGUgdmFsdWU9Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QTEltbXVuaXphdGlvblNpbXBsZSIvPgogICAgICA8c2VjdXJpdHk+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuODMiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9Ik4iLz4KICAgICAgPC9zZWN1cml0eT4KICAgPC9tZXRhPgogICA8aW1wbGljaXRSdWxlcyB2YWx1ZT0iMTYuMy4zIi8+CiAgIDxleHRlbnNpb24gdXJsPSJodHRwczovL2V6ZHJvd2llLmdvdi5wbC9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vUExNZWRpY2FsQ2VydGlmaWNhdGVSZWZlcmVuY2UiPgogICAgICA8ZXh0ZW5zaW9uIHVybD0icGFwZXJGb3JtIj4KICAgICAgICAgPHZhbHVlQm9vbGVhbiB2YWx1ZT0idHJ1ZSIvPgogICAgICA8L2V4dGVuc2lvbj4KICAgICAgPGV4dGVuc2lvbiB1cmw9ImFzc2VydGVyIj4KICAgICAgICAgPHZhbHVlUmVmZXJlbmNlPgogICAgICAgICAgICA8aWRlbnRpZmllcj4KICAgICAgICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMS42LjIiLz4KICAgICAgICAgICAgICAgPHZhbHVlIHZhbHVlPSIyNjk4MDQwIi8+CiAgICAgICAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgICAgICAgPGRpc3BsYXkgdmFsdWU9Ik1vbmlrYSBMZWN6bmljemEiLz4KICAgICAgICAgPC92YWx1ZVJlZmVyZW5jZT4KICAgICAgPC9leHRlbnNpb24+CiAgICAgIDxleHRlbnNpb24gdXJsPSJpc3N1ZWQiPgogICAgICAgICA8dmFsdWVEYXRlVGltZSB2YWx1ZT0iMjAyMi0wOS0wMlQxMTo0NzoxMi40MjQrMDI6MDAiLz4KICAgICAgPC9leHRlbnNpb24+CiAgIDwvZXh0ZW5zaW9uPgogICA8c3RhdHVzIHZhbHVlPSJub3QtZG9uZSIvPgogICA8c3RhdHVzUmVhc29uPgogICAgICA8Y29kaW5nPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMS4xLjEwMyIvPgogICAgICAgICA8Y29kZSB2YWx1ZT0iSU1NVU5FIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJPZHBvcm5vxZvEhyIvPgogICAgICA8L2NvZGluZz4KICAgPC9zdGF0dXNSZWFzb24+CiAgIDx2YWNjaW5lQ29kZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoxLjMuMTYwIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSIwNTkwOTk5MTQ0NTU5MSIvPgogICAgICA8L2NvZGluZz4KICAgICAgPHRleHQgdmFsdWU9IlByZWZsdWNlbCIvPgogICA8L3ZhY2NpbmVDb2RlPgogICA8cGF0aWVudD4KICAgICAgPHJlZmVyZW5jZSB2YWx1ZT0iUGF0aWVudC81MTQyNTUzIi8+CiAgICAgIDx0eXBlIHZhbHVlPSJQYXRpZW50Ii8+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjQuMzMwLjU2Ii8+CiAgICAgICAgIDx2YWx1ZSB2YWx1ZT0iSlc3OTM3OTk2Ii8+CiAgICAgIDwvaWRlbnRpZmllcj4KICAgICAgPGRpc3BsYXkgdmFsdWU9IlN5bHdlc3RlciBTZW5pb3IiLz4KICAgPC9wYXRpZW50PgogICA8b2NjdXJyZW5jZURhdGVUaW1lIHZhbHVlPSIyMDIyLTA5LTAyVDExOjQ3OjEyLjQyNCswMjowMCIvPgogICA8bG9jYXRpb24+CiAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMyIvPgogICAgICAgICA8dmFsdWUgdmFsdWU9IjAwMDAwMDAxMjEwNi0wMDEiLz4KICAgICAgPC9pZGVudGlmaWVyPgogICA8L2xvY2F0aW9uPgogICA8bWFudWZhY3R1cmVyPgogICAgICA8ZGlzcGxheSB2YWx1ZT0idGVzdCIvPgogICA8L21hbnVmYWN0dXJlcj4KICAgPGxvdE51bWJlciB2YWx1ZT0iQUFKTjExSyIvPgogICA8c2l0ZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDEiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9IkxBIi8+CiAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJMZXdlIHJhbWnEmSIvPgogICAgICA8L2NvZGluZz4KICAgPC9zaXRlPgogICA8cm91dGU+CiAgICAgIDxjb2Rpbmc+CiAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjEuMTAyIi8+CiAgICAgICAgIDxjb2RlIHZhbHVlPSJJTSIvPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iSW5pZWtjamEgZG9tacSZxZtuaW93YSIvPgogICAgICA8L2NvZGluZz4KICAgPC9yb3V0ZT4KICAgPGRvc2VRdWFudGl0eT4KICAgICAgPHZhbHVlIHZhbHVlPSIwLjUiLz4KICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My42LjgiLz4KICAgICAgPGNvZGUgdmFsdWU9Ik1MIi8+CiAgIDwvZG9zZVF1YW50aXR5PgogICA8cGVyZm9ybWVyPgogICAgICA8YWN0b3I+CiAgICAgICAgIDxpZGVudGlmaWVyPgogICAgICAgICAgICA8c3lzdGVtIHZhbHVlPSJ1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xLjYuMiIvPgogICAgICAgICAgICA8dmFsdWUgdmFsdWU9IjI2OTgwNDAiLz4KICAgICAgICAgPC9pZGVudGlmaWVyPgogICAgICAgICA8ZGlzcGxheSB2YWx1ZT0iTW9uaWthIExlY3puaWN6YSIvPgogICAgICA8L2FjdG9yPgogICA8L3BlcmZvcm1lcj4KICAgPG5vdGU+CiAgICAgIDx0ZXh0IHZhbHVlPSJOb3RlcyBvbiBhZG1pbnN0cmF0aW9uIG9mIHZhY2NpbmUiLz4KICAgPC9ub3RlPgogICA8ZnVuZGluZ1NvdXJjZT4KICAgICAgPGNvZGluZz4KICAgICAgICAgPHN5c3RlbSB2YWx1ZT0idXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMTEuMS4xMDUiLz4KICAgICAgICAgPGNvZGUgdmFsdWU9InByaXZhdGUiLz4KICAgICAgPC9jb2Rpbmc+CiAgIDwvZnVuZGluZ1NvdXJjZT4KICAgPHByb3RvY29sQXBwbGllZD4KICAgICAgPHRhcmdldERpc2Vhc2U+CiAgICAgICAgIDxjb2Rpbmc+CiAgICAgICAgICAgIDxzeXN0ZW0gdmFsdWU9InVybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjExLjIuNiIvPgogICAgICAgICAgICA8Y29kZSB2YWx1ZT0iOTkuNTU3Ii8+CiAgICAgICAgICAgIDxkaXNwbGF5IHZhbHVlPSJTemN6ZXBpZW5pZSBwcnplY2l3IENPVklELTE5Ii8+CiAgICAgICAgIDwvY29kaW5nPgogICAgICA8L3RhcmdldERpc2Vhc2U+CiAgICAgIDxkb3NlTnVtYmVyUG9zaXRpdmVJbnQgdmFsdWU9IjEiLz4KICAgICAgPHNlcmllc0Rvc2VzUG9zaXRpdmVJbnQgdmFsdWU9IjIiLz4KICAgPC9wcm90b2NvbEFwcGxpZWQ+CjxkczpTaWduYXR1cmUgeG1sbnM6ZHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiIElkPSJ4bWxkc2lnLTI2NDRmODlmLTZlYWEtNDgwZS1hNjRjLTM3NmU1YTBkY2FmMCI+PGRzOlNpZ25lZEluZm8+PGRzOkNhbm9uaWNhbGl6YXRpb25NZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjxkczpTaWduYXR1cmVNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjcnNhLXNoYTEiLz48ZHM6UmVmZXJlbmNlIElkPSJ4bWxkc2lnLTI2NDRmODlmLTZlYWEtNDgwZS1hNjRjLTM3NmU1YTBkY2FmMC1yZWYwIiBVUkk9IiI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNlbnZlbG9wZWQtc2lnbmF0dXJlIi8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5ycGFON3JOclYxSkEwZU1yeUoyN25VZVNFZUU9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48ZHM6UmVmZXJlbmNlIFR5cGU9Imh0dHA6Ly91cmkuZXRzaS5vcmcvMDE5MDMjU2lnbmVkUHJvcGVydGllcyIgVVJJPSIjeG1sZHNpZy0yNjQ0Zjg5Zi02ZWFhLTQ4MGUtYTY0Yy0zNzZlNWEwZGNhZjAtc2lnbmVkcHJvcHMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy14bWwtYzE0bi0yMDAxMDMxNSIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+c2RRTTlyRjY2VGtqVUpmclpmNllEUW1vNGlzPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PC9kczpTaWduZWRJbmZvPjxkczpTaWduYXR1cmVWYWx1ZSBJZD0ieG1sZHNpZy0yNjQ0Zjg5Zi02ZWFhLTQ4MGUtYTY0Yy0zNzZlNWEwZGNhZjAtc2lndmFsdWUiPllQWEdERVFtN0FsV3hGeFpqM0s2V0Ixc1JNd0wyNlBBVXZmWFJ0bkw4dWF1VjNVZUpvdXh0V1J2bnZLQmdOYTNZWW9DNFFrZ0g4YkNjZ2hHZ3FuRUg5YzBMeS9TYVdOYTVqbExzS0JYYUxQKzd4STJOb3JoOG52M1pTbWtkVEJyVk1Ndlcvd0FiRWVMaUFDY3Qwa2hXTjBIUkUvYXpEL3BPTTlTaHo3UDdqNDdHUmh4VjB5ajZLYmVBekRGaHdXWmY3dGtHU2JPZ3VPU1UzREh3S21LSGpYc3ZmNzNLWnMvSlptanlnaDNKcXB0QjVVZFdMVmtIS2lRM2pXYUlvNGxmeUluOVl1ZWR4MzQ1ekRJL0c5azN6TC80amVCQ1ArMmxNTXlDZzhiZ1JFSWs4bEloc2ZyNkpUVG9MZ2Y4U1ZicjdBQjE1ME9kbXVMQWxmMjNNMk8xQT09PC9kczpTaWduYXR1cmVWYWx1ZT48ZHM6S2V5SW5mbz48ZHM6WDUwOURhdGE+PGRzOlg1MDlDZXJ0aWZpY2F0ZT5NSUlGRVRDQ0F2bWdBd0lCQWdJSVd6VGtKT1BycHJVd0RRWUpLb1pJaHZjTkFRRU5CUUF3VVRFWU1CWUdBMVVFQXd3UFEwTWdVREVnVTNWaVEwRWdWMU5UTVJnd0ZnWURWUVFMREE5UU1TQkpiblJsWjNKaFkzbHFibVV4RGpBTUJnTlZCQW9NQlVOVFNVOWFNUXN3Q1FZRFZRUUdFd0pRVERBZUZ3MHlNVEV5TURNeE1URTNNekZhRncweU16RXlNRE14TVRFM016RmFNSUdFTVM0d0xBWURWUVFERENWaGMzbHpkR1Z1ZEY5cGJuUXlMWFYzYVdWeWVubDBaV3h1YVdWdWFXVWdaR0Z1ZVdOb01Sc3dHUVlEVlFRRkV4SlFSVk5GVERvZ056SXhNREkyTWpneE56SXhHREFXQmdOVkJBc01EMUF4SUVsdWRHVm5jbUZqZVdwdVpURU9NQXdHQTFVRUNnd0ZRMU5KVDFveEN6QUpCZ05WQkFZVEFsQk1NSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXZsOTFQbDdjQ0NWV241NWh1dG5kbERHeE02enZUL1RxTThYVEs4TUZ2ai95UlBXdHdDalNsRzFwNDVHMkNRR0dXVUNvYWU3S013dGpGMUJvVm1CbzM0cndCY1JuY2gyYXF1SXdXUVVQUUNqdHNsUk9BenFnRGd2QUw3anduMUFSZVpNdXhpSm9zWlhLMW1iMTN1QnBDMGI3VkNpd0sveUt0WTRjL3RiWHEwU2NpZDNYMldaZGxSUmhWbUJHbWUwQkgzTzRZR2tVajZXZHl5STZaMnhNM1FabnNaMG94TEt5ZWRYY1pSNDBsbmp1TlVFc29CbkNxekpyR1BjMGdNK1QyZ3VMcHFKTktIWWptaTBVSkIwVEk2QUpuYWNDRTJxalJmQ29Vbm1qYU5KdUJQeFBqMUE3Y2o0OFo5NlhtY29DMHY4M1p5d3FjLy9nSmwwWUFuQ3p0UUlEQVFBQm80RzRNSUcxTUF3R0ExVWRFd0VCL3dRQ01BQXdId1lEVlIwakJCZ3dGb0FVWW9hQkFnYUJ0VzF6bjNiSytIUzF0NGJTT29Zd1ZRWURWUjBmQkU0d1REQktvRWlnUm9aRWFIUjBjSE02THk5cGJuUXRjREV1Wlhwa2NtOTNhV1V1WjI5MkxuQnNMMk5qY0RFdlkzSnNMME5EVURGSmJuUmxaM0poWTNscWJtVlRkV0pEUVZkVFV5NWpjbXd3SFFZRFZSME9CQllFRkc2Ylc4NnJFekRvMHM4UWlLVHlEcTZYazVlV01BNEdBMVVkRHdFQi93UUVBd0lIZ0RBTkJna3Foa2lHOXcwQkFRMEZBQU9DQWdFQXd0NlVqV3dDandEUitqZmd0QlBOazJ1SEVVNS9FRXFHYkdrY0NjNmNUU3VXelFsb1lBNFhyWVlzOFJzZlNqQ2ZUT2tZeTNWZFZxdm1Nc3ZEajJLcGJzSEZTcG1XcG5OaExrRnF1MElzaTRhNW9Cc1lPWVJuNlRvNis0bExFYmdsNUJYMDdCK0pTcXNXanZORlhYUTI4K043Ris4ekZ6U2UrSDJnb3kwV004dlhNbGFuSWlPeWtHMnpBanErdlJWdXVqVzkzaDdKSXJ1dXEra0JXY3ZqWWFtVVNqNlk3bmUvRVJxVmpmdkdicStrbmxkb2pvUzVYMURVYkZqV0pCc3U3cnFtVVFibXl2ZjI0NWdFWExocG45dGRBOEFMT29GdGMya0haY0FSY2ZLbXkxVUExQVNINmZwSG9xSWlTZ01MRThmWnFPTkFqTGtWaVFtS0NlKzBncFlyVDcrR0xkcGo0M1ZmeS9tQ0dkWFBhSEhoUHJGUVUxRjVzVGVYMjNyQXB6MEJYTUltZFBuL3daWitid20ycUFvV1VnS0F5VnJUVytGR3Q4dUJmN3NmWlN5Ny9WTS9ZaWtheGxsR2xhTERUa0RtV21oNzdMbGlvRXUwbk9yeXZDeGw2UjFDY25jZnV4dFd5YTZRMFY2TWtXSU80VVJkalJLaElBWTdrU0gvZ2xVcVIraG96a0JNRHRHQUNPSDV4M1ErWXpDbFRUeXltYXpvTm1hazJrMnhFMjNkR1NIN3VEMmJZdStxbWEyMW5xU3NSMmlxWkNUVHJQbUdLeVZ4UmVIa01GL2VOd2JOczlscEk4c2gwVFJkeTR2K09KVGpTR2RmUC9Qb2l4ODNKVXpqL1hndHd5RHJOSlBKUGxXc0VXUFRCY2d2OVdrNHlMcnQ4OFFvT1pZPTwvZHM6WDUwOUNlcnRpZmljYXRlPjxkczpYNTA5U3ViamVjdE5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxzZXJpYWxOdW1iZXI9UEVTRUw6IDcyMTAyNjI4MTcyLGNuPWFzeXN0ZW50X2ludDItdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2g8L2RzOlg1MDlTdWJqZWN0TmFtZT48ZHM6WDUwOUlzc3VlclNlcmlhbD48ZHM6WDUwOUlzc3Vlck5hbWU+Yz1QTCxvPUNTSU9aLG91PVAxIEludGVncmFjeWpuZSxjbj1DQyBQMSBTdWJDQSBXU1M8L2RzOlg1MDlJc3N1ZXJOYW1lPjxkczpYNTA5U2VyaWFsTnVtYmVyPjY1NzIxMjg2MDMzMzQyMjM1NDE8L2RzOlg1MDlTZXJpYWxOdW1iZXI+PC9kczpYNTA5SXNzdWVyU2VyaWFsPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjxkczpPYmplY3Q+PHhhZGVzOlF1YWxpZnlpbmdQcm9wZXJ0aWVzIHhtbG5zOnhhZGVzPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjMuMiMiIHhtbG5zOnhhZGVzMTQxPSJodHRwOi8vdXJpLmV0c2kub3JnLzAxOTAzL3YxLjQuMSMiIFRhcmdldD0iI3htbGRzaWctMjY0NGY4OWYtNmVhYS00ODBlLWE2NGMtMzc2ZTVhMGRjYWYwIj48eGFkZXM6U2lnbmVkUHJvcGVydGllcyBJZD0ieG1sZHNpZy0yNjQ0Zjg5Zi02ZWFhLTQ4MGUtYTY0Yy0zNzZlNWEwZGNhZjAtc2lnbmVkcHJvcHMiPjx4YWRlczpTaWduZWRTaWduYXR1cmVQcm9wZXJ0aWVzPjx4YWRlczpTaWduaW5nVGltZT4yMDIyLTA5LTAyVDExOjQ3OjIyLjQ3NyswMjowMDwveGFkZXM6U2lnbmluZ1RpbWU+PHhhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+RDdoam11VUlITXV1NFBMVDNCUExDNjcwalp3PTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgU3ViQ0EgV1NTPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj42NTcyMTI4NjAzMzM0MjIzNTQxPC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+SHVQdGw2TElqdDAyTngzRUJoMnRzbEtVZ25FPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj4zMTQxNzAwNzg4NjE3OTM0MzE0PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48eGFkZXM6Q2VydD48eGFkZXM6Q2VydERpZ2VzdD48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+VUZQdXVVM2hwQjEzQlVLMkdyTVkvTzQ1cFZNPTwvZHM6RGlnZXN0VmFsdWU+PC94YWRlczpDZXJ0RGlnZXN0Pjx4YWRlczpJc3N1ZXJTZXJpYWw+PGRzOlg1MDlJc3N1ZXJOYW1lPmM9UEwsbz1DU0lPWixvdT1QMSBJbnRlZ3JhY3lqbmUsY249Q0MgUDEgUm9vdENBPC9kczpYNTA5SXNzdWVyTmFtZT48ZHM6WDUwOVNlcmlhbE51bWJlcj43NTgxODc5NzIwNjMwNjYwMjI2PC9kczpYNTA5U2VyaWFsTnVtYmVyPjwveGFkZXM6SXNzdWVyU2VyaWFsPjwveGFkZXM6Q2VydD48L3hhZGVzOlNpZ25pbmdDZXJ0aWZpY2F0ZT48L3hhZGVzOlNpZ25lZFNpZ25hdHVyZVByb3BlcnRpZXM+PC94YWRlczpTaWduZWRQcm9wZXJ0aWVzPjwveGFkZXM6UXVhbGlmeWluZ1Byb3BlcnRpZXM+PC9kczpPYmplY3Q+PC9kczpTaWduYXR1cmU+PC9JbW11bml6YXRpb24+"/>
	</signature>
</Provenance>]]></con:value>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase id="48d1bd54-39e7-4f92-a587-b4df08704d3a" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Patient ID" searchProperties="true">
      <con:settings/>
      <con:testStep type="properties" name="dane" id="ce7817b0-7c38-4dcc-b9a6-4ba68511d866">
        <con:settings/>
        <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:properties>
            <con:property>
              <con:name>identyfikatorPacjentaOID</con:name>
              <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
            </con:property>
            <con:property>
              <con:name>identyfikatorPacjenta</con:name>
              <con:value>12300509785</con:value>
            </con:property>
            <con:property>
              <con:name>nazwisko</con:name>
              <con:value>KASINA</con:value>
            </con:property>
            <con:property>
              <con:name>imie</con:name>
              <con:value>ANNA</con:value>
            </con:property>
            <con:property>
              <con:name>dataUrodzenia</con:name>
              <con:value>1960-06-30</con:value>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="przekazanie danych" id="df61bcd2-fffc-40ad-af84-aace9a7fe281">
        <con:settings/>
        <con:config>
          <script>def dane = testRunner.testCase.testSteps['dane']
dane.setPropertyValue("identyfikatorPacjentaOID", context.expand( '${#TestCase#identyfikatorPacjentaOID}' ))
dane.setPropertyValue("identyfikatorPacjenta", context.expand( '${#TestCase#identyfikatorPacjenta}' ))
dane.setPropertyValue("nazwisko", context.expand( '${#TestCase#nazwisko}' ))
dane.setPropertyValue("imie", context.expand( '${#TestCase#imie}' ))
dane.setPropertyValue("dataUrodzenia", context.expand( '${#TestCase#dataUrodzenia}' ))</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Patient" id="ef3e0de5-277c-4a8b-bf1c-2b2fcd6966f3">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Patient/{id}" methodName="Wyszukanie-patient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Patient" id="5d990b5b-0f97-4c2c-92e4-083e58e5c572" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/xml"/>
  &lt;con:entry key="Cache-control" value="no-cache"/>
&lt;/xml-fragment></con:setting>
            </con:settings>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Patient/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="5e9dfe98-c4b9-4dd0-b822-cd8abbcfc347" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="plgiven" value="${#TestCase#imie}"/>
              <con:entry key="birthdate" value=""/>
              <con:entry key="plpatient" value="${#TestCase#identyfikatorPacjentaOID}|${#TestCase#identyfikatorPacjenta}"/>
              <con:entry key="_id" value=""/>
              <con:entry key="encounter" value=""/>
              <con:entry key="plfamily" value="${#TestCase#nazwisko}"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>plfamily</con:entry>
              <con:entry>plgiven</con:entry>
              <con:entry>gender</con:entry>
              <con:entry>birthdate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="goto" name="warunek" id="81627ca4-c39f-4b97-a552-4de1969593cb">
        <con:settings/>
        <con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:condition>
            <con:name>Patient</con:name>
            <con:type>XPATH</con:type>
            <con:expression>exists(//*:resource/*:Patient)</con:expression>
            <con:targetStep>GET Patient 2</con:targetStep>
          </con:condition>
        </con:config>
      </con:testStep>
      <con:testStep type="calltestcase" name="patientXML" id="045553de-d796-46fd-9c15-b911622f8ec1">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>1e04b9d0-fd96-44cd-9a0c-8decd59f5e01</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>resourceData</con:name>
              <con:value>dane</con:value>
            </con:property>
            <con:property>
              <con:name>resourceXML</con:name>
              <con:value>patient.xml</con:value>
            </con:property>
            <con:property>
              <con:name>folderXML</con:name>
              <con:value>${#Project#resourceFolder}</con:value>
            </con:property>
            <con:property>
              <con:name>------------------------</con:name>
            </con:property>
            <con:property>
              <con:name>resourceRequest</con:name>
              <con:value><![CDATA[<Patient xmlns="http://hl7.org/fhir">
   <meta>
      <profile value="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLPatient"/>
       <security>
           <system value="urn:oid:2.16.840.1.113883.3.4424.11.1.83"/>
           <code value="N"/>
       </security>
   </meta>
   <identifier>
      <system value="urn:oid:2.16.840.1.113883.3.4424.1.1.616"/>
      <value value="40010175826"/>
   </identifier>
   <name>
      <family value="Seniorka"/>
      <given value="Sylwia"/>
   </name>
   <telecom>
      <system value="phone"/>
      <value value="+48666666666"/>
   </telecom>   
   <telecom>
      <system value="email"/>
      <value value="anna@example.com"/>
   </telecom>
   <gender value="male"/>
   <birthDate value="1960-06-30"/>
    <address>
        <extension url="https://ezdrowie.gov.pl/fhir/StructureDefinition/PLTerritorialDivisionCode">
            <valueCode value="1465108"/>
        </extension>
        <line value="ul. Stanisawa Dubois 5A"/>
        <city value="Warszawa"/>
        <postalCode value="00-184"/>
        <country value="PL"/>
    </address>  
</Patient>]]></con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>resourceRequest</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Patient" id="ca42d8cd-6cb7-4e89-9546-e65275e8d7b3">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Patient/{id}" methodName="Zapis-patient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Patient" id="257de20c-ed41-4105-8944-573230866441" mediaType="application/xml" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request>${patientXML#resourceRequest}</con:request>
            <con:originalUri>http://10.0.58.10/fhir/Patient/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a5f73c0b-160a-44e0-8c49-d0bdb4baa8f8" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>201</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="identifier" value=""/>
              <con:entry key="plgiven" value=""/>
              <con:entry key="birthdate" value=""/>
              <con:entry key="gender" value=""/>
              <con:entry key="plpatient" value=""/>
              <con:entry key="_id" value=""/>
              <con:entry key="encounter" value=""/>
              <con:entry key="plfamily" value=""/>
              <con:entry key="_sort" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>plfamily</con:entry>
              <con:entry>plgiven</con:entry>
              <con:entry>gender</con:entry>
              <con:entry>birthdate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Patient 2" id="253007fd-c48d-489e-a2fe-c888984deaad">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/fhir/Patient/{id}" methodName="Wyszukanie-patient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Patient 2" id="5d990b5b-0f97-4c2c-92e4-083e58e5c572" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#tokenDostepowy}"/>
  &lt;con:entry key="Accept" value="application/xml"/>
  &lt;con:entry key="Cache-control" value="no-cache"/>
&lt;/xml-fragment></con:setting>
            </con:settings>
            <con:endpoint>${#Project#ObslugaZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/fhir/Patient/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="5e9dfe98-c4b9-4dd0-b822-cd8abbcfc347" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="plgiven" value="${#TestCase#imie}"/>
              <con:entry key="birthdate" value=""/>
              <con:entry key="gender" value=""/>
              <con:entry key="plpatient" value="${#TestCase#identyfikatorPacjentaOID}|${#TestCase#identyfikatorPacjenta}"/>
              <con:entry key="_id" value=""/>
              <con:entry key="encounter" value=""/>
              <con:entry key="plfamily" value="${#TestCase#nazwisko}"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>id</con:entry>
              <con:entry>_id</con:entry>
              <con:entry>encounter</con:entry>
              <con:entry>identifier</con:entry>
              <con:entry>_sort</con:entry>
              <con:entry>plpatient</con:entry>
              <con:entry>plfamily</con:entry>
              <con:entry>plgiven</con:entry>
              <con:entry>gender</con:entry>
              <con:entry>birthdate</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="zapis id pacjenta" id="fecc9267-2aab-4cff-921e-e9274c39d610">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>id</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>GET Patient 2</con:sourceStep>
            <con:sourcePath>//*:Patient/*:id/@value</con:sourcePath>
            <con:targetType>patientId</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>version</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>GET Patient 2</con:sourceStep>
            <con:sourcePath>//*:Patient/*:meta/*:versionId/@value</con:sourcePath>
            <con:targetType>patientVersion</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>identyfikatorPacjentaOID</con:name>
          <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
        </con:property>
        <con:property>
          <con:name>identyfikatorPacjenta</con:name>
          <con:value>12300509785</con:value>
        </con:property>
        <con:property>
          <con:name>nazwisko</con:name>
          <con:value>KASINA</con:value>
        </con:property>
        <con:property>
          <con:name>imie</con:name>
          <con:value>ANNA</con:value>
        </con:property>
        <con:property>
          <con:name>dataUrodzenia</con:name>
          <con:value>1960-06-30</con:value>
        </con:property>
        <con:property>
          <con:name>-----------------------------</con:name>
          <con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
        </con:property>
        <con:property>
          <con:name>patientId</con:name>
          <con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">864</con:value>
        </con:property>
        <con:property>
          <con:name>patientVersion</con:name>
          <con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">1291</con:value>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:properties/>
  </con:testSuite>
  <con:testSuite id="45a007c5-ebe8-42da-87d9-632d8c49d6ed" name="Generowanie tokenu JWT" disabled="true">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase id="92cc5403-bf6c-44a6-8388-827245eada19" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Generowanie tokenu" searchProperties="true">
      <con:settings/>
      <con:testStep type="groovy" name="Generowanie tokenu uwierzytelniajcego" id="06acb9c7-54a0-4ad1-afc0-210f53178fe2">
        <con:settings/>
        <con:config>
          <script>import java.io.FileInputStream;
import java.io.InputStream;
import java.security.*;
import java.time.ZonedDateTime
import java.util.Collections;
import java.util.Map;
import java.util.HashMap;
import io.jsonwebtoken.Jwts;
import io.jsonwebtoken.SignatureAlgorithm;

def projectDir = context.expand( '${projectDir}')
String alias = testRunner.testCase.testSuite.project.getPropertyValue("aliasCertyfikatu")
String haslo = testRunner.testCase.testSuite.project.getPropertyValue("hasloCertyfikatu")
String plik = testRunner.testCase.testSuite.project.getPropertyValue("plikCertyfikatu")
String sciezkaDoCertyfikatu = projectDir+'/klucze/'+plik

def project = testRunner.testCase.testSuite.project

String iss = context.expand('${#Project#iss}')
String sub = context.expand('${#Project#sub}')
String userId = context.expand('${#Project#userId}')
String userRole = context.expand('${#Project#userRole}')
String aud = context.expand('${#Project#aud}')
String child_organization = context.expand('${#Project#child_organization}')
String jti = UUID.randomUUID().toString()
String exp = ZonedDateTime.now().plusMinutes(5).toEpochSecond().toString()

Boolean isOtherSystem =  testRunner.testCase.getPropertyValue( "isOtherSystem")
String purpose =  testRunner.testCase.getPropertyValue( "purpose")

if(isOtherSystem) {
	sub = project.getPropertyValue("sub2")
	iss = project.getPropertyValue("iss2")
	alias = testRunner.testCase.testSuite.project.getPropertyValue("aliasCertyfikatu2")
	haslo = testRunner.testCase.testSuite.project.getPropertyValue("hasloCertyfikatu2")
	plik = testRunner.testCase.testSuite.project.getPropertyValue("plikCertyfikatu2")
	sciezkaDoCertyfikatu = projectDir+'/klucze/'+plik
}

// utworzenie zmiennej claims, ktra jest map
Map&lt;String, Object> claims = new HashMap&lt;>();

//przypisanie do mapy, klucza i wartoci
if(purpose == "BTG") {
	claims.put("purpose", "BTG");
}
if(purpose == "CONTT") {
	claims.put("purpose", "CONTT");
}

claims.put("iss", iss);
claims.put("sub", sub);
claims.put("aud", aud);
claims.put("child_organization", child_organization);
claims.put("jti", jti);
claims.put("exp", exp);
claims.put("user_id", userId);
claims.put("user_role", userRole);

String tokenJwt = generujToken(sciezkaDoCertyfikatu, alias, haslo, claims)
project.setPropertyValue("tokenKlienta", tokenJwt)

public String generujToken(String sciezkaCertyfikatu, String aliasCertyfikatu, String hasloCertyfikatu, Map&lt;String, Object> claims) {
try {
		InputStream input = new FileInputStream(sciezkaCertyfikatu);
		haslo = "1234567890"
		char[] haslo = hasloCertyfikatu.toCharArray();
		Map&lt;String, Object> headers = new HashMap&lt;>();
		headers.put("typ", "JWT")
		KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());
		keyStore.load(input, haslo);
		Key privateKey = keyStore.getKey(aliasCertyfikatu, haslo);
		String token = Jwts.builder()
		.signWith(SignatureAlgorithm.RS256, privateKey)
		.setHeader(headers)
		.setClaims(claims)
		.compact();
		return token;
	} catch (Exception e) {
		log.error(e.getMessage());
		testRunner.fail("Token nie zosta wygenerowany");
	return null;
}
}</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Token" id="eae9cccd-11aa-4b28-95d3-d08dd2be6de3">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/token" methodName="token" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Token" id="583fccfd-8156-438f-92c7-4446576c391f" mediaType="application/x-www-form-urlencoded" postQueryString="true">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
              <con:setting id="WsdlSettings@pretty-print-response-xml">false</con:setting>
            </con:settings>
            <con:endpoint>${#Project#UwierzytelnianieZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/token</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="bdc4a737-008b-43bc-a415-892598ab8f8d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath RegEx Match" id="ec15b677-2b44-4cef-9033-1e04f5bad379" name="JsonPath RegEx Match">
              <con:configuration>
                <path>$.accessToken</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
                <regEx>^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$</regEx>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="client_assertion_type" value="${#Project#assertionTypeParam}"/>
              <con:entry key="grant_type" value="${#Project#grantTypeParam}"/>
              <con:entry key="scope" value="${#Project#scopeParam}"/>
              <con:entry key="client_assertion" value="${#Project#tokenKlienta}"/>
            </con:parameters>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Zapis tokenu" id="86842c67-9025-4b63-bbe3-251d594c38b7">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>token</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Token</con:sourceStep>
            <con:sourcePath>$.accessToken</con:sourcePath>
            <con:targetType>tokenDostepowy</con:targetType>
            <con:targetStep>#Project#</con:targetStep>
            <con:type>JSONPATH</con:type>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>isOtherSystem</con:name>
          <con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
        </con:property>
        <con:property>
          <con:name>purpose</con:name>
          <con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase id="c28f2a89-94f9-41c4-be3c-9c8aec1df02e" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Generowanie tokenu rola PM" searchProperties="true">
      <con:settings/>
      <con:testStep type="groovy" name="Generowanie tokenu uwierzytelniajcego" id="883e2c94-a11c-4485-a67d-60c2d1a9c717">
        <con:settings/>
        <con:config>
          <script>import java.io.FileInputStream;
import java.io.InputStream;
import java.security.*;
import java.time.ZonedDateTime
import java.util.Collections;
import java.util.Map;
import java.util.HashMap;
import io.jsonwebtoken.Jwts;
import io.jsonwebtoken.SignatureAlgorithm;

def projectDir = context.expand( '${projectDir}')
String alias = testRunner.testCase.testSuite.project.getPropertyValue("aliasCertyfikatu")
String haslo = testRunner.testCase.testSuite.project.getPropertyValue("hasloCertyfikatu")
String plik = testRunner.testCase.testSuite.project.getPropertyValue("plikCertyfikatu")
String sciezkaDoCertyfikatu = projectDir+'/klucze/'+plik

def project = testRunner.testCase.testSuite.project
def testCase = testRunner.testCase

String iss = context.expand('${#Project#iss}')
String sub = context.expand('${#Project#sub}')
String userId = context.expand('${#Project#userId}')
String userRole = context.expand('${#Project#userRole}')
String aud = context.expand('${#Project#aud}')
String child_organization = context.expand('${#Project#child_organization}')
String jti = UUID.randomUUID().toString()
String exp = ZonedDateTime.now().plusMinutes(5).toEpochSecond().toString()
log.info userRole
Boolean isOtherSystem =  testRunner.testCase.getPropertyValue( "isOtherSystem")
String purpose =  testRunner.testCase.getPropertyValue( "purpose")

if(isOtherSystem) {
	sub = project.getPropertyValue("sub2")
	iss = project.getPropertyValue("iss2")
	alias = testRunner.testCase.testSuite.project.getPropertyValue("aliasCertyfikatu2")
	haslo = testRunner.testCase.testSuite.project.getPropertyValue("hasloCertyfikatu2")
	plik = testRunner.testCase.testSuite.project.getPropertyValue("plikCertyfikatu2")
	sciezkaDoCertyfikatu = projectDir+'/klucze/'+plik
}

// utworzenie zmiennej claims, ktra jest map
Map&lt;String, Object> claims = new HashMap&lt;>();

//przypisanie do mapy, klucza i wartoci
if(purpose == "BTG") {
	claims.put("purpose", "BTG");
}
if(purpose == "CONTT") {
	claims.put("purpose", "CONTT");
}

claims.put("iss", iss);
claims.put("sub", sub);
claims.put("aud", aud);
claims.put("child_organization", child_organization);
claims.put("jti", jti);
claims.put("exp", exp);
claims.put("user_id", userId);
claims.put("user_role", userRole);
log.info userRole
String tokenJwt = generujToken(sciezkaDoCertyfikatu, alias, haslo, claims)
project.setPropertyValue("tokenKlienta", tokenJwt)
log.info tokenJwt
public String generujToken(String sciezkaCertyfikatu, String aliasCertyfikatu, String hasloCertyfikatu, Map&lt;String, Object> claims) {
try {
		InputStream input = new FileInputStream(sciezkaCertyfikatu);
		haslo = "1234567890"
		char[] haslo = hasloCertyfikatu.toCharArray();
		Map&lt;String, Object> headers = new HashMap&lt;>();
		headers.put("typ", "JWT")
		KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());
		keyStore.load(input, haslo);
		Key privateKey = keyStore.getKey(aliasCertyfikatu, haslo);
		String token = Jwts.builder()
		.signWith(SignatureAlgorithm.RS256, privateKey)
		.setHeader(headers)
		.setClaims(claims)
		.compact();
		return token;
	} catch (Exception e) {
		log.error(e.getMessage());
		testRunner.fail("Token nie zosta wygenerowany");
	return null;
}
}</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Token" id="2ee76f69-47e1-4e36-bc3e-654ce483bd50">
        <con:settings/>
        <con:config service="ObslugaZdarzenMedycznych.service.address" resourcePath="/token" methodName="token" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Token" id="583fccfd-8156-438f-92c7-4446576c391f" mediaType="application/x-www-form-urlencoded" postQueryString="true">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
              <con:setting id="WsdlSettings@pretty-print-response-xml">false</con:setting>
            </con:settings>
            <con:endpoint>${#Project#UwierzytelnianieZdarzenMedycznych.service.address}</con:endpoint>
            <con:request/>
            <con:originalUri>http://10.0.58.10/token</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="bdc4a737-008b-43bc-a415-892598ab8f8d" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath RegEx Match" id="ec15b677-2b44-4cef-9033-1e04f5bad379" name="JsonPath RegEx Match">
              <con:configuration>
                <path>$.accessToken</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
                <regEx>^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$</regEx>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="client_assertion_type" value="${#Project#assertionTypeParam}"/>
              <con:entry key="grant_type" value="${#Project#grantTypeParam}"/>
              <con:entry key="scope" value="${#Project#scopeParam}"/>
              <con:entry key="client_assertion" value="${#Project#tokenKlienta}"/>
            </con:parameters>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Zapis tokenu" id="08885f29-26fa-4e4c-85fd-30b3f437cfc3">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>token</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>POST Token</con:sourceStep>
            <con:sourcePath>$.accessToken</con:sourcePath>
            <con:targetType>tokenDostepowyRolaPm</con:targetType>
            <con:targetStep>#Project#</con:targetStep>
            <con:type>JSONPATH</con:type>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>isOtherSystem</con:name>
          <con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
        </con:property>
        <con:property>
          <con:name>purpose</con:name>
          <con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
        </con:property>
        <con:property>
          <con:name>user_role</con:name>
          <con:value>PROF</con:value>
        </con:property>
        <con:property>
          <con:name>userId</con:name>
          <con:value/>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:properties/>
  </con:testSuite>
  <con:testSuite id="df2248c4-d51a-4979-9c04-3a5f25342535" name="Dane testowe" disabled="true">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase id="f5f51b2f-8ae6-4496-8d06-4be33f1a3c16" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Generator" searchProperties="true">
      <con:settings/>
      <con:testStep type="groovy" name="Groovy Script" id="10f3cd32-a7be-4e47-83d6-f6fa9c35b006">
        <con:settings/>
        <con:config>
          <script>def input_organization_local_id = context.expand('${#Project#organizationLocalId}')
//uzywane do budowania DocumentEntryUniqueID
if(!input_organization_local_id) log.info 'WARNING: project#organization_local_id is empty'

def DocumentEntryUniqueID1  = "${input_organization_local_id}^" + (new Random().nextInt(9999999)+1) + '.' + (new Random().nextInt(9999999)+1)
def DocumentEntryUniqueID2  = "${input_organization_local_id}^" + (new Random().nextInt(9999999)+1) + '.' + (new Random().nextInt(9999999)+1)
def RegistryPackageID =  'urn:uuid:' + java.util.UUID.randomUUID().toString()
def SubmissionSetLID = 'urn:uuid:' + java.util.UUID.randomUUID().toString()
def SubmissionSetUniqueID =  '1.2.42.' + System.currentTimeMillis() + '.' + (new Random().nextInt(999999)+1)
def PatientID =  'P' + (new Random().nextInt(89999999)+10000000) + '^^^&amp;amp;1.3.6.1.4.1.21367.13.20.1000&amp;amp;ISO'
def DocumentEntryEntryUUID1 = 'urn:uuid:' + java.util.UUID.randomUUID().toString()
def DocumentEntryEntryUUID2 = 'urn:uuid:' + java.util.UUID.randomUUID().toString()
def DocumentEntryLID1 = 'urn:uuid:' + java.util.UUID.randomUUID().toString()
def DocumentEntryLID2 = 'urn:uuid:' + java.util.UUID.randomUUID().toString()
def CreationTime = new Date().format( 'yyyyMMddHHmmss' )
def XDSFolderUniqueID1 = '1.3.6.1.4.1.' + System.currentTimeMillis() + '.' + (new Random().nextInt(999999)+1)
def XDSFolderUniqueID2 = '1.3.6.1.4.1.' + System.currentTimeMillis() + '.' + (new Random().nextInt(999999)+1)
def XDSFolderUID1 = 'urn:uuid:' + java.util.UUID.randomUUID().toString()
def XDSFolderUID2 = 'urn:uuid:' + java.util.UUID.randomUUID().toString()
def XDSFolderLID1 = 'urn:uuid:' + java.util.UUID.randomUUID().toString()
def XDSFolderLID2 = 'urn:uuid:' + java.util.UUID.randomUUID().toString()
def XDSAssociationID1_SSHM ='urn:uuid:' + java.util.UUID.randomUUID().toString()
def XDSAssociationID2_SSHM ='urn:uuid:' + java.util.UUID.randomUUID().toString()
def XDSAssociationID1_FDDE ='urn:uuid:' + java.util.UUID.randomUUID().toString()
def XDSAssociationID2_FDDE ='urn:uuid:' + java.util.UUID.randomUUID().toString()
def XDSAssociationID1_SSDE ='urn:uuid:' + java.util.UUID.randomUUID().toString()
def XDSAssociationID2_SSDE ='urn:uuid:' + java.util.UUID.randomUUID().toString()
def XDSAssociationID1_SSFD ='urn:uuid:' + java.util.UUID.randomUUID().toString()
def XDSAssociationID2_SSFD ='urn:uuid:' + java.util.UUID.randomUUID().toString()
def XDSAssociationID1_Status ='urn:uuid:' + java.util.UUID.randomUUID().toString()
def XDSAssociationID1_SSDE_upd ='urn:uuid:' + java.util.UUID.randomUUID().toString()


testRunner.testCase.setPropertyValue("SubmitObjectsRequestID",  RegistryPackageID)
testRunner.testCase.setPropertyValue("SubmissionSetLID",  SubmissionSetLID)
testRunner.testCase.setPropertyValue("XDSSubmissionSet.uniqueId",  SubmissionSetUniqueID)
testRunner.testCase.setPropertyValue("XDSDocumentEntry.uniqueId1",  DocumentEntryUniqueID1)
testRunner.testCase.setPropertyValue("XDSDocumentEntry.uniqueId2",  DocumentEntryUniqueID2)
testRunner.testCase.setPropertyValue("PatientID",  PatientID)
testRunner.testCase.setPropertyValue("DocumentEntryEntryUUID1",  DocumentEntryEntryUUID1)
testRunner.testCase.setPropertyValue("DocumentEntryEntryUUID2",  DocumentEntryEntryUUID2)
testRunner.testCase.setPropertyValue("DocumentEntryLID1",  DocumentEntryLID1)
testRunner.testCase.setPropertyValue("DocumentEntryLID2",  DocumentEntryLID2)		
testRunner.testCase.setPropertyValue("CreationTime",  CreationTime)
testRunner.testCase.setPropertyValue("XDSFolder1.uniqueId",  XDSFolderUniqueID1)
testRunner.testCase.setPropertyValue("XDSFolder2.uniqueId",  XDSFolderUniqueID2)
testRunner.testCase.setPropertyValue("FolderUUID1",  XDSFolderUID1)
testRunner.testCase.setPropertyValue("FolderUUID2",  XDSFolderUID2)
testRunner.testCase.setPropertyValue("FolderLID1",  XDSFolderLID1)
testRunner.testCase.setPropertyValue("FolderLID2",  XDSFolderLID2)
testRunner.testCase.setPropertyValue("XDSAssociationID1_SSHM",  XDSAssociationID1_SSHM)
testRunner.testCase.setPropertyValue("XDSAssociationID2_SSHM",  XDSAssociationID2_SSHM)
testRunner.testCase.setPropertyValue("XDSAssociationID1_FDDE",  XDSAssociationID1_FDDE)
testRunner.testCase.setPropertyValue("XDSAssociationID2_FDDE",  XDSAssociationID2_FDDE)
testRunner.testCase.setPropertyValue("XDSAssociationID1_SSDE",  XDSAssociationID1_SSDE)
testRunner.testCase.setPropertyValue("XDSAssociationID2_SSDE",  XDSAssociationID2_SSDE)
testRunner.testCase.setPropertyValue("XDSAssociationID1_SSFD",  XDSAssociationID1_SSFD)
testRunner.testCase.setPropertyValue("XDSAssociationID2_SSFD",  XDSAssociationID2_SSFD)
testRunner.testCase.setPropertyValue("XDSAssociationID1_Status",  XDSAssociationID1_Status)
testRunner.testCase.setPropertyValue("XDSAssociationID1_SSDE_upd",  XDSAssociationID1_SSDE_upd)

testRunner.testCase.testSuite.setPropertyValue("XDSAssociationID1_SSDE_upd",  XDSAssociationID1_SSDE_upd)</script>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>SubmitObjectsRequestID</con:name>
          <con:value>urn:uuid:f927d21b-411d-4094-8880-966b89cdd3ee</con:value>
        </con:property>
        <con:property>
          <con:name>SubmissionSetLID</con:name>
          <con:value>urn:uuid:79525bd6-2dce-4de0-94dc-9cedddeb5d27</con:value>
        </con:property>
        <con:property>
          <con:name>XDSSubmissionSet.uniqueId</con:name>
          <con:value>1.2.42.1585315251518.494173</con:value>
        </con:property>
        <con:property>
          <con:name>PatientID</con:name>
          <con:value>P49780898^^^&amp;amp;1.3.6.1.4.1.21367.13.20.1000&amp;amp;ISO</con:value>
        </con:property>
        <con:property>
          <con:name>CreationTime</con:name>
          <con:value>20200327142051</con:value>
        </con:property>
        <con:property>
          <con:name>XDSDocumentEntry.uniqueId1</con:name>
          <con:value>2.16.840.1.113883.3.4424.2.7.778^9979961.2559462</con:value>
        </con:property>
        <con:property>
          <con:name>XDSDocumentEntry.uniqueId2</con:name>
          <con:value>2.16.840.1.113883.3.4424.2.7.778^8346062.4222953</con:value>
        </con:property>
        <con:property>
          <con:name>DocumentEntryEntryUUID1</con:name>
          <con:value>urn:uuid:80b088ee-cbab-424f-be52-d0e7955fbace</con:value>
        </con:property>
        <con:property>
          <con:name>DocumentEntryEntryUUID2</con:name>
          <con:value>urn:uuid:297ef6d4-f668-4cb6-9795-c17136d6ddba</con:value>
        </con:property>
        <con:property>
          <con:name>DocumentEntryLID1</con:name>
          <con:value>urn:uuid:acfe9c4a-a025-4529-b166-fe4b313b7759</con:value>
        </con:property>
        <con:property>
          <con:name>DocumentEntryLID2</con:name>
          <con:value>urn:uuid:8217f44e-5688-4197-bcb5-cbc2474f1129</con:value>
        </con:property>
        <con:property>
          <con:name>XDSFolder1.uniqueId</con:name>
          <con:value>1.3.6.1.4.1.1585315251519.325750</con:value>
        </con:property>
        <con:property>
          <con:name>XDSFolder2.uniqueId</con:name>
          <con:value>1.3.6.1.4.1.1585315251519.143735</con:value>
        </con:property>
        <con:property>
          <con:name>FolderUUID1</con:name>
          <con:value>urn:uuid:78fa60da-06ad-4942-aa33-232b37376d4e</con:value>
        </con:property>
        <con:property>
          <con:name>FolderUUID2</con:name>
          <con:value>urn:uuid:975f1a70-4a0e-4ec5-91b7-998982413912</con:value>
        </con:property>
        <con:property>
          <con:name>FolderLID1</con:name>
          <con:value>urn:uuid:79f961a8-0f4a-4506-91be-6008776a4732</con:value>
        </con:property>
        <con:property>
          <con:name>FolderLID2</con:name>
          <con:value>urn:uuid:6f5b6568-f64f-47fb-9968-21229c6225e4</con:value>
        </con:property>
        <con:property>
          <con:name>XDSAssociationID1_SSHM</con:name>
          <con:value>urn:uuid:c4f3c8d5-3438-446c-a209-091167e63d41</con:value>
        </con:property>
        <con:property>
          <con:name>XDSAssociationID2_SSHM</con:name>
          <con:value>urn:uuid:d5ee3c1a-953c-4aca-861f-2b09be8ca607</con:value>
        </con:property>
        <con:property>
          <con:name>XDSAssociationID1_FDDE</con:name>
          <con:value>urn:uuid:3a917c57-817e-4920-b314-466ac4a730c4</con:value>
        </con:property>
        <con:property>
          <con:name>XDSAssociationID2_FDDE</con:name>
          <con:value>urn:uuid:a65c3722-d5fd-48ac-b792-293a39a0340c</con:value>
        </con:property>
        <con:property>
          <con:name>XDSAssociationID1_SSDE</con:name>
          <con:value>urn:uuid:f5c1b4d8-535c-4958-8fa7-431c9aa4116b</con:value>
        </con:property>
        <con:property>
          <con:name>XDSAssociationID2_SSDE</con:name>
          <con:value>urn:uuid:f0fc0d34-5b39-4408-806a-969df7f321db</con:value>
        </con:property>
        <con:property>
          <con:name>XDSAssociationID1_SSFD</con:name>
          <con:value>urn:uuid:49aac57a-d7a8-41dd-a481-a81007263cef</con:value>
        </con:property>
        <con:property>
          <con:name>XDSAssociationID2_SSFD</con:name>
          <con:value>urn:uuid:494d1a8e-900e-4981-863e-77fcb4ab7aef</con:value>
        </con:property>
        <con:property>
          <con:name>XDSAssociationID1_Status</con:name>
          <con:value>urn:uuid:81958872-ff24-4522-8a57-8de1478d0834</con:value>
        </con:property>
        <con:property>
          <con:name>XDSAssociationID1_SSDE_upd</con:name>
          <con:value>urn:uuid:aae5d94e-1a62-4452-9480-2a6f594eb3e6</con:value>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:properties>
      <con:property>
        <con:name>XDSAssociationID1_SSDE_upd</con:name>
        <con:value>urn:uuid:8a576481-3d00-4b13-bad0-166e9665f4f5</con:value>
      </con:property>
    </con:properties>
  </con:testSuite>
  <con:testSuite id="934f1d7e-399f-491a-bfa3-3f2e971ac64c" name="ITI-42 RegisterDocumentSet-b" disabled="true">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase id="d70cbf1a-9922-4e09-896b-8b0143a12e12" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Przygotuj obiekty" searchProperties="true">
      <con:settings/>
      <con:testStep type="groovy" name="Parametryzowanie" id="b43e3be3-a178-4c87-b982-17934303de6c">
        <con:settings/>
        <con:config>
          <script>import groovy.util.GroovyScriptEngine
def inputDataNames = testRunner.testCase.getPropertyValue("input_params")
def stringParams = ''
def listAllParams = [:]
if (inputDataNames?.trim()) {
    // Jeeli przekazano kilka list parametrw wejciowych to zlcz ja w jedna
    for (inputDataName in inputDataNames.split(',')) {
        def InputParams =  context.getProperty("#CallingTestCaseRunner#").testCase.getTestStepByName(inputDataName.trim()).getProperties()
        listAllParams &lt;&lt; InputParams
    }
}

def sciezkaDoSkryptu = new File( context.expand( '${projectDir}')).getAbsolutePath() + "/" + testRunner.testCase.testSuite.project.getPropertyValue( "scriptFolder")
log.info sciezkaDoSkryptu
def skrypt = new GroovyScriptEngine(sciezkaDoSkryptu).loadScriptByName(testRunner.testCase.testSuite.project.getPropertyValue( "parametrizeScriptFileName")).newInstance(testRunner, context)
// Sparametryzuj XDSDocumentEntryRequest 
def fileXDSDocumentEntryXML = testRunner.testCase.getPropertyValue("input_XDSDocumentEntryXML")
String XDSDocumentEntryRequest = ''
if (fileXDSDocumentEntryXML?.trim()) {
    XDSDocumentEntryRequest = skrypt.zbudujXML(testRunner.testCase.testSuite.project.getPropertyValue("resourceFolder"), fileXDSDocumentEntryXML, listAllParams).tresc
}
testRunner.testCase.setPropertyValue("XDSDocumentEntryRequest", XDSDocumentEntryRequest)
// Sparametryzuj XDSSubmissionSetRequest 
def fileXDSSubmissionSetXML = testRunner.testCase.getPropertyValue("input_XDSSubmissionSetXML")
String XDSSubmissionSetRequest = ''
if (fileXDSSubmissionSetXML?.trim()) {
    XDSSubmissionSetRequest = skrypt.zbudujXML(testRunner.testCase.testSuite.project.getPropertyValue( "resourceFolder"), fileXDSSubmissionSetXML, listAllParams).tresc
}
testRunner.testCase.setPropertyValue("XDSSubmissionSetRequest", XDSSubmissionSetRequest)
// Sparametryzuj XDSFolderRequest 
def filesXDSFolderXML = testRunner.testCase.getPropertyValue("input_XDSFolderXML")
String XDSFolderRequest =''
if (filesXDSFolderXML?.trim()) {
    // Obslu wszystkie przekazane asocjacje
    for (fileXDSFolderXML in filesXDSFolderXML.split(',')) {
        def folderReqObj = skrypt.zbudujXML(testRunner.testCase.testSuite.project.getPropertyValue( "resourceFolder"), fileXDSFolderXML.trim(), listAllParams).tresc
        XDSFolderRequest += folderReqObj
    }
}
testRunner.testCase.setPropertyValue("XDSFolderRequest", XDSFolderRequest)
// Sparametryzuj XDSAssociationRequest 
def filesXDSAssociationXML = testRunner.testCase.getPropertyValue("input_XDSAssociationXML")
String XDSAssociationRequest =''
if (filesXDSAssociationXML?.trim()) {
    // Obslu wszystkie przekazane asocjacje
    for (fileXDSAssociationXML in filesXDSAssociationXML.split(',')) {
        def associationReqObj = skrypt.zbudujXML(testRunner.testCase.testSuite.project.getPropertyValue( "resourceFolder"), fileXDSAssociationXML.trim(), listAllParams).tresc
        XDSAssociationRequest += associationReqObj
    }
}
testRunner.testCase.setPropertyValue("XDSAssociationRequest", XDSAssociationRequest)</script>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>input_params</con:name>
          <con:value>generator_danych, dane</con:value>
        </con:property>
        <con:property>
          <con:name>input_XDSDocumentEntryXML</con:name>
          <con:value>XDSDocumentEntry2.xml</con:value>
        </con:property>
        <con:property>
          <con:name>input_XDSSubmissionSetXML</con:name>
          <con:value>XDSSubmissionSet1.xml</con:value>
        </con:property>
        <con:property>
          <con:name>input_XDSFolderXML</con:name>
          <con:value>XDSFolder1.xml</con:value>
        </con:property>
        <con:property>
          <con:name>input_XDSAssociationXML</con:name>
          <con:value>XDSAssoc1_full.xml</con:value>
        </con:property>
        <con:property>
          <con:name>----------------------------</con:name>
          <con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
        </con:property>
        <con:property>
          <con:name>XDSDocumentEntryRequest</con:name>
          <con:value><![CDATA[<!-- Gwny element indeksu dokumentu medycznego -->
				<rim:ExtrinsicObject id="Dokument_1" 
									 lid="urn:uuid:278c90b1-eff6-44bc-9b27-247b068260e9"
									 objectType="urn:uuid:7edca82f-054d-47f2-a032-9b2a5b5186c1" 
									 mimeType="text/plain" 
									 status="urn:oasis:names:tc:ebxml-regrep:StatusType:Approved">
					<rim:VersionInfo versionName="1"/>
					<!-- Data wystawienia dokumentu -->
					<rim:Slot name="creationTime">
						<rim:ValueList>
							<rim:Value>20200214123952</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Kustosz dokumentacji -->
					<rim:Slot name="repositoryUniqueId">
						<rim:ValueList>
							<rim:Value>1.19.6.24.109.42.1</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Status dostpnoci dokumentu -->
					<rim:Slot name="documentAvailability">
					  <rim:ValueList>
						<rim:Value>urn:ihe:iti:2010:DocumentAvailability:Online</rim:Value>
					  </rim:ValueList>
					</rim:Slot>
					<!-- Kod jzyka dokumentu -->
					<rim:Slot name="languageCode">
						<rim:ValueList>
							<rim:Value>pl-PL</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Rozmiar dokumentu -->
					<rim:Slot name="size">
						<rim:ValueList>
							<rim:Value>4</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Skrt dokumentu -->
					<rim:Slot name="hash">
						<rim:ValueList>
							<rim:Value>da39a3ee5e6b4b0d3255bfef95601890afd80709</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- rozszerzenie PL - Kategoria brakowania dokumentu - KKM -->
					<rim:Slot name="urn:extpl:SlotName:StorageCategory">
						<rim:ValueList>
							<rim:Value>2020</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- rozszerzenie PL - Identyfikator zdarzenia medycznego - KKM -->
					<rim:Slot name="urn:extpl:SlotName:MedicalEventId">
						<rim:ValueList>
							<rim:Value>0123456789012345678901234567890123456342345^^^&amp;2.16.840.1.113883.3.4424.2.7.98765.15.1&amp;ISO^urn:ihe:iti:xds:2015:encounterId</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Nazwa pliku dokumentu medycznego -->
					<rim:Slot name="URI">
						<rim:ValueList>
							<rim:Value>Badanie.xml</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Czas rozpoczcia procedury -->
					<rim:Slot name="serviceStartTime">
						<rim:ValueList>
							<rim:Value>201901130930</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Czas zakoczenia procedury -->
					<rim:Slot name="serviceStopTime">
						<rim:ValueList>
							<rim:Value>201901131000</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Identyfikator pacjenta w systemie usugodawcy -->
					<rim:Slot name="sourcePatientId">
						<rim:ValueList>
							<rim:Value>P11132435^^^&amp;1.3.6.1.4.1.21367.13.20.1000&amp;ISO</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Dane osobowe pacjenta -->
					<rim:Slot name="sourcePatientInfo">
						<rim:ValueList>
							<rim:Value>PID-5|Malinowski^Andrzej^^^^^^</rim:Value>
							<rim:Value>PID-7|19560527</rim:Value>
							<rim:Value>PID-8|M</rim:Value>
							<rim:Value>PID-11|Warszawa</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Wystawca dokumentu -->
					<rim:Slot name="legalAuthenticator"> 
						<rim:ValueList> 
							<rim:Value>22334455^Kleofas^Wasaty^^^Lek. med.^^^&amp;2.16.840.1.113883.3.4424.1.6.2&amp;ISO</rim:Value> 
						</rim:ValueList> 
					</rim:Slot>
					<rim:Name>
						<rim:LocalizedString value="Physical"/>
					</rim:Name>
					<rim:Description/>
					<!-- Autor dokumentu - KKM -->
					<rim:Classification classifiedObject="Dokument_1" 
										nodeRepresentation="" 
										classificationScheme="urn:uuid:93606bcf-9494-43ec-9b4e-a7748d1a838d" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_1">
						<!-- Dane osobowe autora -->
						<rim:Slot name="authorPerson">
							<rim:ValueList>
								<rim:Value>22334455^Brzczek^Szymon^^^Lek. med.^^^&amp;2.16.840.1.113883.3.4424.1.6.2&amp;ISO</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<!-- Instytucja, ktr autor reprezentuje -->
						<rim:Slot name="authorInstitution">
							<rim:ValueList>
								<rim:Value>Szpital Bielaski^^^^^&amp;2.16.840.1.113883.3.4424.2.3.1&amp;ISO^^^^000000001027</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<!-- Role autora -->
						<rim:Slot name="authorRole">
							<rim:ValueList>
								<rim:Value>Administrator</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<!-- Specjalizacje autora -->
						<rim:Slot name="authorSpecialty">
							<rim:ValueList>
								<rim:Value>Chirurgia</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<!-- Dane kontaktowe autora -->
						<rim:Slot name="authorTelecommunication">
							<rim:ValueList>
								<rim:Value>^EMR^PH^^^^^^^^^693112233</rim:Value>
							</rim:ValueList>
						</rim:Slot>						
					</rim:Classification>
					<!-- Typ dokumentu wg sownika P1 -->
					<rim:Classification classifiedObject="Dokument_1" 
										nodeRepresentation="04.01" 
										classificationScheme="urn:uuid:41a5887f-8865-4c09-adf7-e362475b143a" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_2">
						<!-- Nazwa sownika -->
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>Typy dokumentw P1</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString value="Karta informacyjna leczenia szpitalnego"/>
						</rim:Name>
					</rim:Classification>
					<!-- Procedury, w wyniku wykonania ktrych powsta dokument -->
					<rim:Classification classifiedObject="Dokument_1" 
										nodeRepresentation="00.03" 
										classificationScheme="urn:uuid:2c6b8cb7-8b2a-4051-b291-b1ae6a575ef4" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_3">
						<!-- Nazwa sownika -->
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>ICD-9 PL</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString value="DENY ACCESS TO ALL POLICY"/>
						</rim:Name>
					</rim:Classification>
					<!-- Poziom poufnoci -->
					<rim:Classification classifiedObject="Dokument_1" 
										nodeRepresentation="N"
										classificationScheme="urn:uuid:f4f85eac-e6cb-4883-b524-f2705394840f" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_4">
						<!-- Nazwa sownika -->
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>2.16.840.1.113883.5.25</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString value="normal"/>
						</rim:Name>
					</rim:Classification>
					<!-- Format dokumentu -->
					<rim:Classification classifiedObject="Dokument_1" 
										nodeRepresentation="urn:extPL:pl-cda" 
										classificationScheme="urn:uuid:a09d5840-386c-46f2-b5ad-9c3699a4309d" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_5">
						<!-- Nazwa sownika -->
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>Kody formatw P1</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString value="PIK HL7 CDA"/>
						</rim:Name>
					</rim:Classification>
					<!-- Specjalno komrki organizacyjnej -->
					<rim:Classification classifiedObject="Dokument_1" 
										nodeRepresentation="1008" 
										classificationScheme="urn:uuid:f33fb8ac-18af-42cc-ae0e-ed0b0bdb91e1" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_6">
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>Specjalno komrki organizacyjnej</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString value="Szpital uzdrowiskowy dla dzieci"/>
						</rim:Name>
					</rim:Classification>
					<!-- Dziedzina medyczna usugodawcy -->
					<rim:Classification classifiedObject="Dokument_1" 
										nodeRepresentation="05" 
										classificationScheme="urn:uuid:cccf5598-8b07-4b77-a05e-ae952c785ead" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_7">
						<!-- Nazwa sownika -->
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>Dziedzina medyczna</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString value="Chirurgia oglna"/>
						</rim:Name>
					</rim:Classification>
					<!-- Typ dokumentu wg sownika LOINC -->
					<rim:Classification classifiedObject="Dokument_1" 
										nodeRepresentation="10006-5" 
										classificationScheme="urn:uuid:f0306f51-975f-434e-a61c-c59651d33983" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_8">
						<!-- Nazwa sownika -->
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>LOINC</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString charset="UTF-8" value="Conference Evaluation Note" xml:lang="pl-PL"/>
						</rim:Name>
					</rim:Classification>
					<!-- Dane usugobiorcy - identyfikator -->
					<rim:ExternalIdentifier value="P11132435^^^&amp;1.3.6.1.4.1.21367.13.20.1000&amp;ISO" 
											identificationScheme="urn:uuid:58a6f841-87b3-4a3e-92fd-a8ffeff98427" 
											objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier" 
											id="id_9" 
											registryObject="Dokument_1">
						<rim:Name>
							<rim:LocalizedString value="XDSDocumentEntry.patientId"/>
						</rim:Name>
					</rim:ExternalIdentifier>
					<!-- Identyfikator zaindeksowanego dokumentu -->
					<rim:ExternalIdentifier value="2.16.840.1.113883.3.4424.2.7.778^9806215.9177806" 
											identificationScheme="urn:uuid:2e82c1f6-a085-4c72-9da3-8640a32e42ab" 
											objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier" 
											id="id_10" 
											registryObject="Dokument_1">
						<rim:Name>
							<rim:LocalizedString value="XDSDocumentEntry.uniqueId"/>
						</rim:Name>
					</rim:ExternalIdentifier>
				</rim:ExtrinsicObject>

				<!-- Gwny element indeksu dokumentu medycznego -->
				<rim:ExtrinsicObject id="Dokument_2" 
									 lid="urn:uuid:64d2cb6f-9113-4106-8a68-268df26d0daa"
									 objectType="urn:uuid:7edca82f-054d-47f2-a032-9b2a5b5186c1" 
									 mimeType="text/plain" 
									 status="urn:oasis:names:tc:ebxml-regrep:StatusType:Approved">
					<rim:VersionInfo versionName="1"/>
					<!-- Data wystawienia dokumentu -->
					<rim:Slot name="creationTime">
						<rim:ValueList>
							<rim:Value>20200214123952</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Kustosz dokumentacji -->
					<rim:Slot name="repositoryUniqueId">
						<rim:ValueList>
							<rim:Value>1.19.6.24.109.42.1</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Status dostpnoci dokumentu -->
					<rim:Slot name="documentAvailability">
					  <rim:ValueList>
						<rim:Value>urn:ihe:iti:2010:DocumentAvailability:Online</rim:Value>
					  </rim:ValueList>
					</rim:Slot>
					<!-- Kod jzyka dokumentu -->
					<rim:Slot name="languageCode">
						<rim:ValueList>
							<rim:Value>pl-PL</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Rozmiar dokumentu -->
					<rim:Slot name="size">
						<rim:ValueList>
							<rim:Value>4</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Skrt dokumentu -->
					<rim:Slot name="hash">
						<rim:ValueList>
							<rim:Value>da39a3ee5e6b4b0d3255bfef95601890afd80709</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- rozszerzenie PL - Kategoria brakowania dokumentu - KKM -->
					<rim:Slot name="urn:extpl:SlotName:StorageCategory">
						<rim:ValueList>
							<rim:Value>2020</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- rozszerzenie PL - Identyfikator zdarzenia medycznego - KKM -->
					<rim:Slot name="urn:extpl:SlotName:MedicalEventId">
						<rim:ValueList>
							<rim:Value>0123456789012345678901234567890123456342345^^^&amp;2.16.840.1.113883.3.4424.2.7.98765.15.1&amp;ISO^urn:ihe:iti:xds:2015:encounterId</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Nazwa pliku dokumentu medycznego -->
					<rim:Slot name="URI">
						<rim:ValueList>
							<rim:Value>Badanie_2.xml</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Czas rozpoczcia procedury -->
					<rim:Slot name="serviceStartTime">
						<rim:ValueList>
							<rim:Value>201901130930</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Czas zakoczenia procedury -->
					<rim:Slot name="serviceStopTime">
						<rim:ValueList>
							<rim:Value>201901131000</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Identyfikator pacjenta w systemie usugodawcy -->
					<rim:Slot name="sourcePatientId">
						<rim:ValueList>
							<rim:Value>P11132435^^^&amp;1.3.6.1.4.1.21367.13.20.1000&amp;ISO</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Dane osobowe pacjenta -->
					<rim:Slot name="sourcePatientInfo">
						<rim:ValueList>
							<rim:Value>PID-5|Malinowski^Andrzej^^^^^^</rim:Value>
							<rim:Value>PID-7|19560527</rim:Value>
							<rim:Value>PID-8|M</rim:Value>
							<rim:Value>PID-11|Warszawa</rim:Value>							
						</rim:ValueList>
					</rim:Slot>
					<!-- Wystawca dokumentu -->
					<rim:Slot name="legalAuthenticator"> 
						<rim:ValueList> 
							<rim:Value>66778899^Kleofas^Wasaty2^^^Lek. med.^^^&amp;2.16.840.1.113883.3.4424.1.6.2&amp;ISO</rim:Value> 
						</rim:ValueList> 
					</rim:Slot>
					<rim:Name>
						<rim:LocalizedString value="Physical"/>
					</rim:Name>
					<rim:Description/>
					<!-- Autor dokumentu - KKM -->
					<rim:Classification classifiedObject="Dokument_2" 
										nodeRepresentation="" 
										classificationScheme="urn:uuid:93606bcf-9494-43ec-9b4e-a7748d1a838d" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_1">
						<!-- Dane osobowe autora -->
						<rim:Slot name="authorPerson">
							<rim:ValueList>
								<rim:Value>22334455^Sokoowska^Marta^^^Lek. med.^^^&amp;2.16.840.1.113883.3.4424.1.6.2&amp;ISO</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<!-- Instytucja, ktr autor reprezentuje -->
						<rim:Slot name="authorInstitution">
							<rim:ValueList>
								<rim:Value>Szpital Bielaski^^^^^&amp;2.16.840.1.113883.3.4424.2.3.1&amp;ISO^^^^000000001688</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<!-- Role autora -->
						<rim:Slot name="authorRole">
							<rim:ValueList>
								<rim:Value>Administrator</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<!-- Specjalizacje autora -->
						<rim:Slot name="authorSpecialty">
							<rim:ValueList>
								<rim:Value>Chirurgia</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<!-- Dane kontaktowe autora -->
						<rim:Slot name="authorTelecommunication">
							<rim:ValueList>
								<rim:Value>^EMR^PH^^^^^^^^^693112234</rim:Value>
							</rim:ValueList>
						</rim:Slot>						
					</rim:Classification>
					<!-- Typ dokumentu wg sownika P1 -->
					<rim:Classification classifiedObject="Dokument_2" 
										nodeRepresentation="04.01" 
										classificationScheme="urn:uuid:41a5887f-8865-4c09-adf7-e362475b143a" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_2">
						<!-- Nazwa sownika -->
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>Typy dokumentw P1</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString value="Karta informacyjna leczenia szpitalnego"/>
						</rim:Name>
					</rim:Classification>
					<!-- Procedury, w wyniku wykonania ktrych powsta dokument -->
					<rim:Classification classifiedObject="Dokument_2" 
										nodeRepresentation="00.03" 
										classificationScheme="urn:uuid:2c6b8cb7-8b2a-4051-b291-b1ae6a575ef4" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_3">
						<!-- Nazwa sownika -->
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>ICD-9 PL</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString value="DENY ACCESS TO ALL POLICY"/>
						</rim:Name>
					</rim:Classification>
					<!-- Poziom poufnoci -->
					<rim:Classification classifiedObject="Dokument_2" 
										nodeRepresentation="N" 
										classificationScheme="urn:uuid:f4f85eac-e6cb-4883-b524-f2705394840f" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_4">
						<!-- Nazwa sownika -->
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>2.16.840.1.113883.5.25</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString value="normal"/>
						</rim:Name>
					</rim:Classification>
					<!-- Format dokumentu -->
					<rim:Classification classifiedObject="Dokument_2" 
										nodeRepresentation="urn:extPL:pl-cda" 
										classificationScheme="urn:uuid:a09d5840-386c-46f2-b5ad-9c3699a4309d" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_5">
						<!-- Nazwa sownika -->
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>Kody formatw P1</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString value="PIK HL7 CDA"/>
						</rim:Name>
					</rim:Classification>
					<!-- Specjalno komrki organizacyjnej -->
					<rim:Classification classifiedObject="Dokument_2" 
										nodeRepresentation="1008" 
										classificationScheme="urn:uuid:f33fb8ac-18af-42cc-ae0e-ed0b0bdb91e1" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_6">
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>Specjalno komrki organizacyjnej</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString value="Szpital uzdrowiskowy dla dzieci"/>
						</rim:Name>
					</rim:Classification>
					<!-- Dziedzina medyczna usugodawcy -->
					<rim:Classification classifiedObject="Dokument_2" 
										nodeRepresentation="05" 
										classificationScheme="urn:uuid:cccf5598-8b07-4b77-a05e-ae952c785ead" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_7">
						<!-- Nazwa sownika -->
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>Dziedzina medyczna</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString value="Chirurgia oglna"/>
						</rim:Name>
					</rim:Classification>
					<!-- Typ dokumentu wg sownika LOINC -->
					<rim:Classification classifiedObject="Dokument_2" 
										nodeRepresentation="10006-5" 
										classificationScheme="urn:uuid:f0306f51-975f-434e-a61c-c59651d33983" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_8">
						<!-- Nazwa sownika -->
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>LOINC</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString charset="UTF-8" value="Conference Evaluation Note" xml:lang="pl-PL"/>
						</rim:Name>
					</rim:Classification>
					<!-- Dane usugobiorcy - identyfikator -->
					<rim:ExternalIdentifier value="P11132435^^^&amp;1.3.6.1.4.1.21367.13.20.1000&amp;ISO" 
											identificationScheme="urn:uuid:58a6f841-87b3-4a3e-92fd-a8ffeff98427" 
											objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier" 
											id="id_9" 
											registryObject="Dokument_2">
						<rim:Name>
							<rim:LocalizedString value="XDSDocumentEntry.patientId"/>
						</rim:Name>
					</rim:ExternalIdentifier>
					<!-- Identyfikator zaindeksowanego dokumentu -->
					<rim:ExternalIdentifier value="2.16.840.1.113883.3.4424.2.7.778^3987303.4575300" 
											identificationScheme="urn:uuid:2e82c1f6-a085-4c72-9da3-8640a32e42ab" 
											objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier" 
											id="id_10" 
											registryObject="Dokument_2">
						<rim:Name>
							<rim:LocalizedString value="XDSDocumentEntry.uniqueId"/>
						</rim:Name>
					</rim:ExternalIdentifier>
				</rim:ExtrinsicObject>]]></con:value>
        </con:property>
        <con:property>
          <con:name>XDSSubmissionSetRequest</con:name>
          <con:value><![CDATA[<!-- Gwny element informacji o wysyce -->
				<rim:RegistryPackage id="urn:uuid:8c7ea412-ac94-4d88-88aa-10e9024c12f5"
									 lid="urn:uuid:94de2b98-0474-427c-9333-f64c82e49af5"
									 objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:RegistryPackage"
									 status="urn:oasis:names:tc:ebxml-regrep:StatusType:Approved">
					<!-- Data wysania dokumentu -->
					<rim:Slot name="submissionTime">
						<rim:ValueList>
							<rim:Value>20190113100339</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<rim:Name>
						<rim:LocalizedString value="Physical"/>
					</rim:Name>
					<rim:Description>
						<rim:LocalizedString value="Annual physical"/>
					</rim:Description>
					<rim:VersionInfo versionName="1"/>					
					<!-- Pracownik medyczny lub system wykonujcy wysyk -->
					<rim:Classification classifiedObject="urn:uuid:8c7ea412-ac94-4d88-88aa-10e9024c12f5" 
										nodeRepresentation="" 
										classificationScheme="urn:uuid:a7058bb9-b4e4-4307-ba5b-e3f0ab85e12d" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_11">
						<!-- Dane osobowe autora -->
						<rim:Slot name="authorPerson">
							<rim:ValueList>
								<rim:Value>22334455^Brzczek^Szymon^^^Lek. med.^^^&amp;2.16.840.1.113883.3.4424.1.6.2&amp;ISO</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<!-- Identyfikator  miejsca udzielania wiadcze -->
						<rim:Slot name="authorInstitution">
							<rim:ValueList>
								<rim:Value>Szpital Bielaski^^^^^&amp;2.16.840.1.113883.3.4424.2.3.3&amp;ISO^^^^000000001027-001</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<!-- Role autora -->
						<rim:Slot name="authorRole">
							<rim:ValueList>
								<rim:Value>Chirurg</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<!-- Specjalizacja autora -->
						<rim:Slot name="authorSpecialty">
							<rim:ValueList>
								<rim:Value>Chirurgia onkologiczna</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<!-- Dane kontaktowe autora -->
						<rim:Slot name="authorTelecommunication">
							<rim:ValueList>
								<rim:Value>^EMR^PH^^^^^^^^^693112233</rim:Value>
							</rim:ValueList>
						</rim:Slot>							
					</rim:Classification>
					<!-- Typ zawartoci wysyki -->
					<rim:Classification classifiedObject="urn:uuid:8c7ea412-ac94-4d88-88aa-10e9024c12f5" 
										nodeRepresentation="225728007" 
										classificationScheme="urn:uuid:aa543740-bdda-424e-8c96-df4873be8500" 
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
										id="id_12">
						<!-- Nazwa sownika -->
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>2.16.840.1.113883.5.25</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString value="Oddzia pogotowia ratunkowego"/>
						</rim:Name>
					</rim:Classification>
					<!-- Identyfikator wysyki nadawany przez usugodawc -->
					<rim:ExternalIdentifier value="1.2.42.1581680392348.517734" 
											identificationScheme="urn:uuid:96fdda7c-d067-4183-912e-bf5ee74998a8" 
											objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier" 
											id="id_13" 
											registryObject="urn:uuid:8c7ea412-ac94-4d88-88aa-10e9024c12f5">
						<rim:Name>
							<rim:LocalizedString value="XDSSubmissionSet.uniqueId"/>
						</rim:Name>
					</rim:ExternalIdentifier>
					<!-- Identyfikator rda wysyki -->
					<rim:ExternalIdentifier value="1.3.6.1.4.1.21367.4" 
											identificationScheme="urn:uuid:554ac39e-e3fe-47fe-b233-965d2a147832" 
											objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier" 
											id="id_14" 
											registryObject="urn:uuid:8c7ea412-ac94-4d88-88aa-10e9024c12f5">
						<rim:Name>
							<rim:LocalizedString value="XDSSubmissionSet.sourceId"/>
						</rim:Name>
					</rim:ExternalIdentifier>
					<!-- Gwny identyfikator pacjenta -->
					<rim:ExternalIdentifier value="P11132435^^^&amp;1.3.6.1.4.1.21367.13.20.1000&amp;ISO" 
											identificationScheme="urn:uuid:6b5aea1a-874d-4603-a4bc-96a0a7b38446" 
											objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier" 
											id="id_15" 
											registryObject="urn:uuid:8c7ea412-ac94-4d88-88aa-10e9024c12f5">
						<rim:Name>
							<rim:LocalizedString value="XDSSubmissionSet.patientId"/>
						</rim:Name>
					</rim:ExternalIdentifier>
				</rim:RegistryPackage>
				<!-- Typ XDSSubmissionSet biecego elementu RegistryPackage -->
				<rim:Classification classifiedObject="urn:uuid:8c7ea412-ac94-4d88-88aa-10e9024c12f5" 
									classificationNode="urn:uuid:a54d6aa5-d40d-43f9-88c5-b4633d873bdd" 
									id="ID_1135240834_1" 
									objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification"/>]]></con:value>
        </con:property>
        <con:property>
          <con:name>XDSFolderRequest</con:name>
          <con:value><![CDATA[<!-- Gwny element folderu -->
				<rim:RegistryPackage id="urn:uuid:f7387195-ee34-444b-bacb-6885b34767dc"
									lid="urn:uuid:93e9e9ca-cf17-4265-b744-f32b7e838bd8"
									objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:RegistryPackage"
									status="urn:oasis:names:tc:ebxml-regrep:StatusType:Approved">
					<rim:VersionInfo versionName="1"/>
					<!-- Czas ostatniej aktualizacji -->
					<rim:Slot name="lastUpdateTime">
						<rim:ValueList>
							<rim:Value>20190718115318</rim:Value>
						</rim:ValueList>
					</rim:Slot>
					<!-- Nazwa folderu -->
					<rim:Name>
						<rim:LocalizedString value="XDS Folder 1"/>
					</rim:Name>
					<!-- Typ folderu -->
					<rim:Classification classificationScheme="urn:uuid:1ba97051-7806-41a8-a48b-8fce7af683c5"
										classifiedObject="urn:uuid:f7387195-ee34-444b-bacb-6885b34767dc"
										id="urn:uuid:ada110e6-a3fb-4397-9469-c53a12dda85c"
										nodeRepresentation="Leczenie alergii"
										objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification">
						<!-- Nazwa sownika -->
						<rim:Slot name="codingScheme">
							<rim:ValueList>
								<rim:Value>ICD-10</rim:Value>
							</rim:ValueList>
						</rim:Slot>
						<rim:Name>
							<rim:LocalizedString value="Leczenie alergii"/>
						</rim:Name>
					</rim:Classification>
					<!-- Identyfikator folderu nadawany przez usugodawc -->
					<rim:ExternalIdentifier id="urn:uuid:dbbe520f-081a-4509-8960-3e430aa9b73e"
											identificationScheme="urn:uuid:75df8f67-9973-4fbe-a900-df66cefecc5a"
											objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier"
											registryObject="urn:uuid:f7387195-ee34-444b-bacb-6885b34767dc"
											value="1.3.6.1.4.1.1581680392348.158489">
						<rim:Name>
							<rim:LocalizedString value="XDSFolder.uniqueId"/>
						</rim:Name>
					</rim:ExternalIdentifier>
					<!-- Gwny identyfikator pacjenta-->
					<rim:ExternalIdentifier id="e1e9084d-1160-42fe-82c8-a112ef9e8bc5"
											identificationScheme="urn:uuid:f64ffdf0-4b97-4e06-b79f-a52b38ec2f8a"
											objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier"
											registryObject="urn:uuid:f7387195-ee34-444b-bacb-6885b34767dc"
											value="P11132435^^^&amp;1.3.6.1.4.1.21367.13.20.1000&amp;ISO">
						<rim:Name>
							<rim:LocalizedString value="XDSFolder.patientId"/>
						</rim:Name>
					</rim:ExternalIdentifier>
				</rim:RegistryPackage>
				<!-- Typ XDSFolder biecego elementu RegistryPackage-->
				<rim:Classification classificationNode="urn:uuid:d9d542f3-6cc4-48b6-8870-ea235fbc94c2"
                                    classifiedObject="urn:uuid:f7387195-ee34-444b-bacb-6885b34767dc"
                                    id="urn:uuid:de668360-8e70-4eb7-8283-ea950c305a4a"
                                    objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification"/>]]></con:value>
        </con:property>
        <con:property>
          <con:name>XDSAssociationRequest</con:name>
          <con:value><![CDATA[<!-- Asocjacje SubmissionSet -> DocumentEntry -->
				<rim:Association associationType="urn:oasis:names:tc:ebxml-regrep:AssociationType:HasMember"
								 id="urn:uuid:5efaa9e0-b2af-4c43-9548-9ad6b3c5cba5"
								 sourceObject="urn:uuid:8c7ea412-ac94-4d88-88aa-10e9024c12f5"
								 targetObject="Dokument_1">
					<rim:Slot name="SubmissionSetStatus">
						<rim:ValueList>
							<rim:Value>Original</rim:Value>
						</rim:ValueList>
					</rim:Slot>
				</rim:Association>
				<!-- Asocjacje SubmissionSet -> DocumentEntry -->
				<rim:Association associationType="urn:oasis:names:tc:ebxml-regrep:AssociationType:HasMember"
								 id="urn:uuid:ee3010a2-5509-41eb-9d06-0ee594c5a5dd"
								 sourceObject="urn:uuid:8c7ea412-ac94-4d88-88aa-10e9024c12f5"
								 targetObject="urn:uuid:f7387195-ee34-444b-bacb-6885b34767dc"/>
				<!-- Asocjacje Folder -> DocumentEntry -->
				<rim:Association associationType="urn:oasis:names:tc:ebxml-regrep:AssociationType:HasMember"
								 id="urn:uuid:f5404e1c-e47d-4074-b4e7-eb5a6f41ea4a"
								 sourceObject="urn:uuid:f7387195-ee34-444b-bacb-6885b34767dc"
								 targetObject="Dokument_1"/>
				<!-- Asocjacje SubmissionSet -> [Asocjacja Folder -> DocumentEntry] -->
				<rim:Association associationType="urn:oasis:names:tc:ebxml-regrep:AssociationType:HasMember"
								 id="urn:uuid:69152a41-ba21-4de5-ad63-72294827501b"
								 sourceObject="urn:uuid:8c7ea412-ac94-4d88-88aa-10e9024c12f5"
								 targetObject="urn:uuid:f5404e1c-e47d-4074-b4e7-eb5a6f41ea4a"/>]]></con:value>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:properties>
      <con:property>
        <con:name>scriptFolder</con:name>
        <con:value>Skrypty</con:value>
      </con:property>
      <con:property>
        <con:name>objectsFolder</con:name>
        <con:value>Obiekty/ITI-42</con:value>
      </con:property>
      <con:property>
        <con:name>parametrizeScriptFileName</con:name>
        <con:value>parametrizeSoapUI.groovy</con:value>
      </con:property>
    </con:properties>
  </con:testSuite>
  <con:properties>
    <con:property>
      <con:name>-------DANE DO UZUPENIENIA------</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>rootIdentyfikatoraPodmiotu</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>identyfikatorPodmiotu</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>rootMiejscaSwiadczenia</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>identyfikatorMiejscaSwiadczenia</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>imieNazwiskoPracownika</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>rootIdentyfikatoraUzytkownika</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>identyfikatorUzytkownika</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>userRole</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>aliasCertyfikatu</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>plikCertyfikatu</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>hasloCertyfikatu</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>------PONIEJ NIE MODYFIKOWA------</con:name>
      <con:value>------------------------------------------------</con:value>
    </con:property>
    <con:property>
      <con:name>---------Adresy usug----------</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>ObslugaEDM.service.address</con:name>
      <con:value>https://isus.ezdrowie.gov.pl/services/ObslugaEdmIti42WS</con:value>
    </con:property>
    <con:property>
      <con:name>ObslugaZdarzenSUS.service.address</con:name>
      <con:value>https://isus.ezdrowie.gov.pl</con:value>
    </con:property>
    <con:property>
      <con:name>ObslugaZdarzenMedycznych.service.address</con:name>
      <con:value>https://isus.ezdrowie.gov.pl</con:value>
    </con:property>
    <con:property>
      <con:name>GenerowanieTokenuSAML.service.address</con:name>
      <con:value>https://isus.ezdrowie.gov.pl/services/ObslugaGenerowanieTokenuSamlWS</con:value>
    </con:property>
    <con:property>
      <con:name>UwierzytelnianieZdarzenMedycznych.service.address</con:name>
      <con:value>https://isus.ezdrowie.gov.pl</con:value>
    </con:property>
    <con:property>
      <con:name>---------Dane do pobrania tokenu----------</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>tokenSAML</con:name>
      <con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><![CDATA[<saml2:Assertion ID="_e53e4246ad5913fba288882c6be7a4e9" IssueInstant="2022-09-02T09:43:00.955Z" Version="2.0" xmlns:saml2="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://docs.oasis-open.org/ws-sx/ws-trust/200512/" xmlns:ns6="http://www.w3.org/2000/09/xmldsig#" xmlns:ns5="http://schemas.xmlsoap.org/ws/2004/09/policy" xmlns:ns8="http://www.w3.org/2001/04/xmlenc#" xmlns:ns7="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:ns2="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns:ns4="http://www.w3.org/2005/08/addressing" xmlns:ns3="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><saml2:Issuer>http://p1iasgzex-aut</saml2:Issuer><ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<ds:SignedInfo>
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
<ds:SignatureMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"/>
<ds:Reference URI="#_e53e4246ad5913fba288882c6be7a4e9">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/>
<ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"><ec:InclusiveNamespaces PrefixList="xsd" xmlns:ec="http://www.w3.org/2001/10/xml-exc-c14n#"/></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha256"/>
<ds:DigestValue>hgoMTvuMn1MBh/wTGe8c+7iiIzN1iPHhhj49rj04ywY=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>
<ds:SignatureValue>
SaWi+PULU8YKzdsbIKj86SBgE4rgOjyKiJBT5VRsJQ20ohNZ4nwrJzwF46xyUCsDCEr2xNN76v+Z
tuUAdzI7f4Vj7gQt63lARDK0pMWvuk7TjRvYkudV8l8Fs6jNVdYCA1MMQAanHFPgpu/mYpC5I4Mw
y6ew3axWkZJM+ZEDfDwfdl7gSpZuFKn/S1ssaSe9HegZH1kXTATgeA9bvuazHgZnnQJWrvulcCp5
byGTBUY43Y+K1GKCTRuGeEnmS92pBVKFbyzzBgRd1IlJeO3WQtfEoVAg2mKUxKyn6kU2fwSMfEb4
jRSZ391cumsaXA3lNHwx/k6rTX178mDJEpcfeQ==
</ds:SignatureValue>
<ds:KeyInfo><ds:X509Data><ds:X509SubjectName>C=PL,O=CSIOZ,OU=P1 Integracyjne,2.5.4.5=#1321322e31362e3834302e312e3131333838332e332e343432342e31322e333a203231,CN=System P1-uwierzytelnienie danych-uwierzytelnienie danych</ds:X509SubjectName><ds:X509IssuerSerial><ds:X509IssuerName>C=PL,O=CSIOZ,OU=P1 Integracyjne,CN=CC P1 SubCA WSS</ds:X509IssuerName><ds:X509SerialNumber>8190462252251242250</ds:X509SerialNumber></ds:X509IssuerSerial><ds:X509Certificate>MIIFNDCCAxygAwIBAgIIcapeBgOuXwowDQYJKoZIhvcNAQENBQAwUTEYMBYGA1UEAwwPQ0MgUDEg
U3ViQ0EgV1NTMRgwFgYDVQQLDA9QMSBJbnRlZ3JhY3lqbmUxDjAMBgNVBAoMBUNTSU9aMQswCQYD
VQQGEwJQTDAeFw0yMTEwMDEwNjIzMjdaFw0yMzEwMDEwNjIzMjdaMIGnMUIwQAYDVQQDDDlTeXN0
ZW0gUDEtdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2gtdXdpZXJ6eXRlbG5pZW5pZSBkYW55Y2gxKjAo
BgNVBAUTITIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4xMi4zOiAyMTEYMBYGA1UECwwPUDEgSW50
ZWdyYWN5am5lMQ4wDAYDVQQKDAVDU0lPWjELMAkGA1UEBhMCUEwwggEiMA0GCSqGSIb3DQEBAQUA
A4IBDwAwggEKAoIBAQDU/QfRLnpw82ZXSx+ew8px2N9gGYrguuxho+uFVCT6ACF28pwXGfrxlVq2
8Mq5RSgOGXP+K6VgZJBRo/59vZxdb4vNGAKUJRmXDUIb/0uT4lWMxE15ZnT/v5tJxxDisH9ijTIj
CswMMZFEHSU+MKTgbnvQqgCRJPM6e1aDsUYNKHc0T3Y1hn/0EEzYkMV9G2iZMiLaUofDlneI4P0E
UZtQ5wVGVS0u8RR841VzTQJYXpmM6Kp8/aChB3Se4AJU8XexivRWhpkPBwp6VnpkmQ4XxVt+NsSx
yy3zQ7oV1KtpYTs3thNo/wgtpUBpb6Gu26eaNKrZY1U9SyArxy2BfNG5AgMBAAGjgbgwgbUwDAYD
VR0TAQH/BAIwADAfBgNVHSMEGDAWgBRihoECBoG1bXOfdsr4dLW3htI6hjBVBgNVHR8ETjBMMEqg
SKBGhkRodHRwczovL2ludC1wMS5lemRyb3dpZS5nb3YucGwvY2NwMS9jcmwvQ0NQMUludGVncmFj
eWpuZVN1YkNBV1NTLmNybDAdBgNVHQ4EFgQUGIdmKbW/iJB3rLHLCVr7xPwMzRUwDgYDVR0PAQH/
BAQDAgeAMA0GCSqGSIb3DQEBDQUAA4ICAQBScVNuYNKBgOJZSYXJieVyL+3f+oQXELOw/KHLLBGF
zQ/o3b5A1hOmXVuzpWltlbhAbAYeztegr74Gne3TqPQsqNOWSSmc3iboAblTtTRTlj4AsR9SEPqL
KnHKOOANklQ3vvrKTGu98GDJ3qL51fyxoyRhtLKu+0Nsw7izpHkI3vOL6g8iKzWw8uDDCzT84b5W
bZxfAg8cN7DqnR+Qcje7NnDJGMNigCWNw0WwS1oCYMYORyyaDpFzFTNsauhyw+lvDHvmuaP7EpXM
IPKfwxSRH+/pvaRRppnPuCjIO6c5RlM3GWlIUpMGfLItVmQTj7ku+YIe9nN03NcCagbEbzA/EkIP
JTL/udmpYdwV2iRXzeuITe0HjZHP4SzyPzHJFqAMKb0mIRBXhbOeF5CRdTo5ubHp3btzBFvSkC29
zc/+bXxOdo9YnsfhqoiuEIxy8PyBJmGI+NhaRVZ/Y0cf7DehxgcIgR9SFEwW1eWr+tonuZxrKdNh
Gi+4eky6lsLxKaZ1l7/0WHMDPtHm4MNlpSw5J3L23Cc0qG/NfCxt8eOK/R8w1l+gax/hmpIopWaX
CgihMooH+a6XJj8CooT8dNYjGV0fVaRxPGJC4lOs0dTD1BySqL8VoLY+6Vd24EWh1zAELqAnDLVZ
DK+E0WAKmlyItVtxxdydqKNjXuaPvjuOXA==</ds:X509Certificate></ds:X509Data></ds:KeyInfo></ds:Signature><saml2:Subject><saml2:NameID Format="urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified">2.16.840.1.113883.3.4424.1.6.2#22334455</saml2:NameID><saml2:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:sender-vouches"/></saml2:Subject><saml2:Conditions NotBefore="2022-09-02T09:43:00.955Z" NotOnOrAfter="2022-09-02T11:43:00.955Z"/><saml2:AuthnStatement AuthnInstant="2022-09-02T11:43:00.000Z"><saml2:AuthnContext><saml2:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport</saml2:AuthnContextClassRef></saml2:AuthnContext></saml2:AuthnStatement><saml2:AttributeStatement><saml2:Attribute Name="urn:oasis:names:tc:SAML:attribute:subject-id" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" xacmlprof:DataType="http://www.w3.org/2001/XMLSchema#anyURI" xmlns:xacmlprof="urn:oasis:names:tc:SAML:2.0:profiles:attribute:XACML"><saml2:AttributeValue xsi:type="xsd:anyURI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">2.16.840.1.113883.3.4424.1.6.2#22334455</saml2:AttributeValue></saml2:Attribute><saml2:Attribute Name="urn:oasis:names:tc:xspa:1.0:subject:organization-id" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" xacmlprof:DataType="http://www.w3.org/2001/XMLSchema#anyURI" xmlns:xacmlprof="urn:oasis:names:tc:SAML:2.0:profiles:attribute:XACML"><saml2:AttributeValue xsi:type="xsd:anyURI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">2.16.840.1.113883.3.4424.2.3.1#000000012106</saml2:AttributeValue></saml2:Attribute><saml2:Attribute Name="urn:oasis:names:tc:xacml:1.0:resource:resource-id" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" xacmlprof:DataType="http://www.w3.org/2001/XMLSchema#anyURI" xmlns:xacmlprof="urn:oasis:names:tc:SAML:2.0:profiles:attribute:XACML"><saml2:AttributeValue xsi:type="xsd:anyURI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">2.16.840.1.113883.3.4424.1.6.4#94071712351</saml2:AttributeValue></saml2:Attribute><saml2:Attribute Name="urn:oasis:names:tc:xspa:1.0:subject:functional-role" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified" xacmlprof:DataType="http://www.w3.org/2001/XMLSchema#string" xmlns:xacmlprof="urn:oasis:names:tc:SAML:2.0:profiles:attribute:XACML"><saml2:AttributeValue xsi:type="xsd:string" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">medical doctor</saml2:AttributeValue></saml2:Attribute><saml2:Attribute Name="urn:oasis:names:tc:xacml:1.0:action:action-id" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified" xacmlprof:DataType="http://www.w3.org/2001/XMLSchema#string" xmlns:xacmlprof="urn:oasis:names:tc:SAML:2.0:profiles:attribute:XACML"><saml2:AttributeValue xsi:type="xsd:string" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">READ</saml2:AttributeValue></saml2:Attribute><saml2:Attribute Name="urn:oasis:names:tc:xacml:2.0:action:purpose" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified" xacmlprof:DataType="http://www.w3.org/2001/XMLSchema#string" xmlns:xacmlprof="urn:oasis:names:tc:SAML:2.0:profiles:attribute:XACML"><saml2:AttributeValue xsi:type="xsd:string" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">RECORDMGT</saml2:AttributeValue></saml2:Attribute><saml2:Attribute Name="urn:p1:organization-local-id" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified" xacmlprof:DataType="http://www.w3.org/2001/XMLSchema#string" xmlns:xacmlprof="urn:oasis:names:tc:SAML:2.0:profiles:attribute:XACML"><saml2:AttributeValue xsi:type="xsd:string" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">2.16.840.1.113883.3.4424.2.7.11</saml2:AttributeValue></saml2:Attribute><saml2:Attribute Name="urn:ihe:iti:xca:2010:homeCommunityId" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri" xacmlprof:DataType="http://www.w3.org/2001/XMLSchema#anyURI" xmlns:xacmlprof="urn:oasis:names:tc:SAML:2.0:profiles:attribute:XACML"><saml2:AttributeValue xsi:type="xsd:anyURI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">2.16.840.1.113883.3.4424.15</saml2:AttributeValue></saml2:Attribute></saml2:AttributeStatement><saml2:AuthzDecisionStatement Decision="Permit" Resource="https://sus.ezdrowie.gov.pl/services/ObslugaEdmIti18WS"><saml2:Action Namespace="urn:oasis:names:tc:SAML:1.0:action:rwedc">Read</saml2:Action></saml2:AuthzDecisionStatement><saml2:AuthzDecisionStatement Decision="Permit" Resource="https://sus.ezdrowie.gov.pl/services/ObslugaEdmIti42WS"><saml2:Action Namespace="urn:oasis:names:tc:SAML:1.0:action:rwedc">Write</saml2:Action></saml2:AuthzDecisionStatement><saml2:AuthzDecisionStatement Decision="Permit" Resource="https://sus.ezdrowie.gov.pl/services/ObslugaEdmIti57WS"><saml2:Action Namespace="urn:oasis:names:tc:SAML:1.0:action:rwedc">Write</saml2:Action></saml2:AuthzDecisionStatement><saml2:AuthzDecisionStatement Decision="Permit" Resource="https://sus.ezdrowie.gov.pl/services/get-task-status"><saml2:Action Namespace="urn:oasis:names:tc:SAML:1.0:action:rwedc">Write</saml2:Action></saml2:AuthzDecisionStatement><saml2:AuthzDecisionStatement Decision="Permit" Resource="https://sus.ezdrowie.gov.pl/services/register-task"><saml2:Action Namespace="urn:oasis:names:tc:SAML:1.0:action:rwedc">Read</saml2:Action></saml2:AuthzDecisionStatement></saml2:Assertion>]]></con:value>
    </con:property>
    <con:property>
      <con:name>tokenKlienta</con:name>
      <con:value>eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMi4zLjE6MDAwMDAwMDEyMTA2IiwiYXVkIjoiaHR0cHM6Ly9lemRyb3dpZS5nb3YucGwvdG9rZW4iLCJ1c2VyX3JvbGUiOiJMRUsiLCJ1c2VyX2lkIjoiMi4xNi44NDAuMS4xMTM4ODMuMy40NDI0LjEuNi4yOjI2OTgwNDAiLCJpc3MiOiIyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMi4zLjE6MDAwMDAwMDEyMTA2IiwiZXhwIjoiMTY2MjExMjMzMiIsImNoaWxkX29yZ2FuaXphdGlvbiI6IjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMzowMDAwMDAwMTIxMDYtMDAxIiwianRpIjoiYjE1ZGRhZjctZDcwMy00YWU0LWEyYTAtZmI0MmI3ZWFhNDI1In0.SNbgfr1DfokwUkEpZrkBjRVHycGntjzVjZhrUSBVYaoONjKPbeXohfIgUthExSjBa4f8IPZtXJ3ApzSXTXmK__sNtZd08XOmkdSBfkE1tANnsNSqGpCS62kwgpzfGZrSGqRRgKbRUYFztD0-NvIFeZ159lRvKHa594BJjgLYJLbjBF-Bw6HSaqs32THRcFUOax9SgDcBVY0SgzkIy-uXo_YH5vrFzu9yjILrEEE7y5TxMoFu-KQS65JoJubD3EWzeTofHDXZXWJlsBL-c3pLoQJoGk-xqt2iiwNl9LEQdYArG1BUVKvAoyb7Ub2cNJ8tH3e8EDA_ZJUKUNVDHVa3_w</con:value>
    </con:property>
    <con:property>
      <con:name>tokenDostepowy</con:name>
      <con:value>eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMi4zLjE6MDAwMDAwMDEyMTA2IiwiYXVkIjoiaHR0cHM6Ly9lemRyb3dpZS5nb3YucGwvZmhpciIsInVzZXJfcm9sZSI6IkxFSyIsInVzZXJfaWQiOiIyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMS42LjI6MjY5ODA0MCIsImlzcyI6Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsIiwiZXhwIjoxNjYyMTEyMzMyLCJpYXQiOjE2NjIxMTIwMzIsInN1Yl9yb2xlIjpbIlNZU1RFTV9aRVdORVRSWk5ZX1BPRE1JT1RVX0xFQ1pOSUNaRUdPIiwiQURNSU5JU1RSQVRPUl9VU0xVR09EQVdDWSIsIlNZU1RFTV9aRVdORVRSWk5ZX0FETUlOSVNUUkFUT1JfRE9LVU1FTlRPVyIsIlNZU1RFTV9aRVdORVRSWk5ZX1JFUE9aWVRPUklVTSIsIlNZU1RFTV9aRVdORVRSWk5ZX1BPRE1JT1RVX1BVQkxJQ1pORUdPIl0sImp0aSI6ImQxOGMzOGRmLWYzMGEtNDlmNi05ZDBjLWUxZGUwNDM5YWE1OSIsImNoaWxkX29yZ2FuaXphdGlvbiI6IjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMzowMDAwMDAwMTIxMDYtMDAxIn0.smJY8ThK0JJfAdHYqGbmlozyzkLKssBaNune765pItaUpnl6UsCQVmggTkV2sLcZfSnIxqTIckRNaiKdf3bPwdJVrsWvbn5HjNsHc9AbsA3P4ExnH9UJcXCW0SpdZSVLB6iKqPJecqN4PofOYEO19-Vio3ptW82_y0bfm82JHbJtHSdQUg2cFXXVNLSIspcdFebNkYT5JOOhRpPvC_UcNMvVbuzOCgnGs6zY3SiPQBykLeaPV2CF7I6dGMb-LaYyyI0_K2AAIkHfjeBeP-6KBkcKe3L9ZPcOTmr94sFmiLL-s_eExJF7gwgGhQCEgI2_6f3v_ZKJJaWXSPWsrEiUqg</con:value>
    </con:property>
    <con:property>
      <con:name>grantTypeParam</con:name>
      <con:value>client_credentials</con:value>
    </con:property>
    <con:property>
      <con:name>scopeParam</con:name>
      <con:value>https://ezdrowie.gov.pl/fhir</con:value>
    </con:property>
    <con:property>
      <con:name>assertionTypeParam</con:name>
      <con:value>urn:ietf:params:oauth:client-assertion-type:jwt-bearer</con:value>
    </con:property>
    <con:property>
      <con:name>iss</con:name>
      <con:value>${#Project#rootIdentyfikatoraPodmiotu}:${#Project#identyfikatorPodmiotu}</con:value>
    </con:property>
    <con:property>
      <con:name>sub</con:name>
      <con:value>${#Project#rootIdentyfikatoraPodmiotu}:${#Project#identyfikatorPodmiotu}</con:value>
    </con:property>
    <con:property>
      <con:name>child_organization</con:name>
      <con:value>${#Project#rootMiejscaSwiadczenia}:${#Project#identyfikatorMiejscaSwiadczenia}</con:value>
    </con:property>
    <con:property>
      <con:name>userId</con:name>
      <con:value>${#Project#rootIdentyfikatoraUzytkownika}:${#Project#identyfikatorUzytkownika}</con:value>
    </con:property>
    <con:property>
      <con:name>aud</con:name>
      <con:value>https://ezdrowie.gov.pl/token</con:value>
    </con:property>
    <con:property>
      <con:name>plikCertyfikatu2</con:name>
      <con:value>Asystent.p12</con:value>
    </con:property>
    <con:property>
      <con:name>aliasCertyfikatu2</con:name>
      <con:value>asystent_int2-uwierzytelnienie danych</con:value>
    </con:property>
    <con:property>
      <con:name>hasloCertyfikatu2</con:name>
      <con:value>wezwFK7owN</con:value>
    </con:property>
    <con:property>
      <con:name>tokenDostepowyRolaPm</con:name>
      <con:value>eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMi4zLjE6MDAwMDAwMDEyMTA2IiwiYXVkIjoiaHR0cHM6Ly9lemRyb3dpZS5nb3YucGwvZmhpciIsInVzZXJfcm9sZSI6IkxFSyIsInVzZXJfaWQiOiIyLjE2Ljg0MC4xLjExMzg4My4zLjQ0MjQuMS42LjI6MjY5ODA0MCIsImlzcyI6Imh0dHBzOi8vZXpkcm93aWUuZ292LnBsIiwiZXhwIjoxNjYyMTEyMjgzLCJpYXQiOjE2NjIxMTE5ODMsInN1Yl9yb2xlIjpbIlNZU1RFTV9aRVdORVRSWk5ZX1BPRE1JT1RVX0xFQ1pOSUNaRUdPIiwiQURNSU5JU1RSQVRPUl9VU0xVR09EQVdDWSIsIlNZU1RFTV9aRVdORVRSWk5ZX0FETUlOSVNUUkFUT1JfRE9LVU1FTlRPVyIsIlNZU1RFTV9aRVdORVRSWk5ZX1JFUE9aWVRPUklVTSIsIlNZU1RFTV9aRVdORVRSWk5ZX1BPRE1JT1RVX1BVQkxJQ1pORUdPIl0sImp0aSI6Ijg3MzUyZTdjLWFjZDItNDgwMi1iMzVkLTJlYjVhMDY4YWE1ZiIsImNoaWxkX29yZ2FuaXphdGlvbiI6IjIuMTYuODQwLjEuMTEzODgzLjMuNDQyNC4yLjMuMzowMDAwMDAwMTIxMDYtMDAxIn0.PosP24qmGhg5Shedr6oyITsL1lsm9oSedIjD4djfaJ-Hml1_fQVU_KldFALBiGP_Hatn15yivm_wmOYvQMaFzzMogMV_9oqpnY156x14C9ZjizcWSxZqmxX7t8ME9RSvDLeaQ6m4QJVMU2digqGQbfaiOMmDc0K5_xX9sO0DhQrPAahP4suzTKJYUx6Cig0batX-rZlLzBd--GLCj3wt0ncELb-6azaxvhfNDC4Or5jo154y6SRrIwrg5mFWdKZo3IqlU3WJdNL1Rk1spLBT4WxnYgzew7wwTtdVKns7qqKtUPArmsyjL0m2Xxl0p2X9oHCP_dh_SbGs1rwvp5w-7g</con:value>
    </con:property>
    <con:property>
      <con:name>---------Dane do parametryzacji----------</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>resourceFolder</con:name>
      <con:value>/parametryzacja/obiekty/</con:value>
    </con:property>
    <con:property>
      <con:name>scriptFolder</con:name>
      <con:value>/parametryzacja/skrypt/</con:value>
    </con:property>
    <con:property>
      <con:name>parametrizeScriptFileName</con:name>
      <con:value>parametrizeSoapUI.groovy</con:value>
    </con:property>
    <con:property>
      <con:name>---------Dane EDM--------------</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>idPodmiotu</con:name>
      <con:value>${#Project#identyfikatorPodmiotu}</con:value>
    </con:property>
    <con:property>
      <con:name>organizationLocalId</con:name>
      <con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">2.16.840.1.113883.3.4424.2.7.11</con:value>
    </con:property>
    <con:property>
      <con:name>---------Dane testowe-----------</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>identyfikatorZdarzenia</con:name>
      <con:value>2288d257-9c2f-4ee1-9ce7-ee812dae44be</con:value>
    </con:property>
    <con:property>
      <con:name>identyfikatorZdarzeniaOID</con:name>
      <con:value>urn:oid:2.16.840.1.113883.3.4424.2.7.000000012106.15.1</con:value>
    </con:property>
    <con:property>
      <con:name>patientId</con:name>
      <con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">6923</con:value>
    </con:property>
    <con:property>
      <con:name>encounterAnulowanie</con:name>
      <con:value>23871</con:value>
    </con:property>
    <con:property>
      <con:name>condition1ID</con:name>
      <con:value>176225</con:value>
    </con:property>
    <con:property>
      <con:name>condition2ID</con:name>
      <con:value>176238</con:value>
    </con:property>
    <con:property>
      <con:name>identyfikatorPacjentaOID</con:name>
      <con:value>urn:oid:2.16.840.1.113883.3.4424.1.1.616</con:value>
    </con:property>
    <con:property>
      <con:name>identyfikatorPacjenta</con:name>
      <con:value>12300509785</con:value>
    </con:property>
    <con:property>
      <con:name>--Dane techniczne--</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>delaySeconds</con:name>
      <con:value>2</con:value>
    </con:property>
  </con:properties>
  <con:wssContainer>
    <con:crypto>
      <con:source>klucze/Podmiot_leczniczy_1-wss.p12</con:source>
      <con:password>LSQFX6aknj</con:password>
      <con:type>KEYSTORE</con:type>
    </con:crypto>
    <con:outgoing mustUnderstand="true">
      <con:name>ITI42</con:name>
      <con:entry type="Signature" username="podmiot_leczniczy_1-uwierzytelnienie danych" password="LSQFX6aknj">
        <con:configuration>
          <crypto>Podmiot_leczniczy_1-wss.p12</crypto>
          <keyIdentifierType>1</keyIdentifierType>
          <signatureAlgorithm/>
          <signatureCanonicalization/>
          <useSingleCert>true</useSingleCert>
          <prependSignature>true</prependSignature>
          <digestAlgorithm/>
          <customTokenValueType/>
          <customTokenId/>
          <signaturePart><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="name" value="Body"/>
  <con:entry key="namespace" value="http://www.w3.org/2003/05/soap-envelope"/>
  <con:entry key="id" value=""/>
  <con:entry key="enc" value="Content"/>
</xml-fragment>]]></signaturePart>
        </con:configuration>
      </con:entry>
      <con:entry type="SAML (XML)">
        <con:configuration>
          <samlAssertion>${#Project#tokenSAML}</samlAssertion>
        </con:configuration>
      </con:entry>
    </con:outgoing>
    <con:outgoing>
      <con:name>PodmiotSGZ</con:name>
      <con:entry type="Signature" username="podmiot_leczniczy_1-uwierzytelnienie danych" password="LSQFX6aknj">
        <con:configuration>
          <crypto>Podmiot_leczniczy_1-wss.p12</crypto>
          <keyIdentifierType>1</keyIdentifierType>
          <signatureAlgorithm/>
          <signatureCanonicalization/>
          <useSingleCert>true</useSingleCert>
          <prependSignature>true</prependSignature>
          <digestAlgorithm/>
          <customTokenValueType/>
          <customTokenId/>
          <signaturePart>&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="name" value="Body"/>
  &lt;con:entry key="namespace" value="http://schemas.xmlsoap.org/soap/envelope/"/>
  &lt;con:entry key="id" value=""/>
&lt;/xml-fragment></signaturePart>
        </con:configuration>
      </con:entry>
    </con:outgoing>
  </con:wssContainer>
  <con:oAuth2ProfileContainer/>
  <con:oAuth1ProfileContainer/>
  <con:sensitiveInformation/>
</con:soapui-project>