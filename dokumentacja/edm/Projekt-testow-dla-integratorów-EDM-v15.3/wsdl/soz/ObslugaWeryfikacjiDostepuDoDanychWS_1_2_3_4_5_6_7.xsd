<?xml version="1.0" encoding="UTF-8"?>
<schema attributeFormDefault="unqualified" blockDefault="substitution" elementFormDefault="unqualified" targetNamespace="urn:oasis:names:tc:SAML:2.0:protocol" version="2.0" xmlns="http://www.w3.org/2001/XMLSchema" xmlns:samlp="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:saml="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
  <annotation>
    <documentation>Document identifier: saml-schema-protocol-2.0
            Location: http://docs.oasis-open.org/security/saml/v2.0/
            Revision history:
            V1.0 (November, 2002):
              Initial Standard Schema.
            V1.1 (September, 2003):
              Updates within the same V1.0 namespace.
            V2.0 (March, 2005):
              New protocol schema based in a SAML V2.0 namespace.</documentation>
  </annotation>
  <import namespace="urn:oasis:names:tc:SAML:2.0:assertion" schemaLocation="ObslugaWeryfikacjiDostepuDoDanychWS_1.xsd"/>
  <import namespace="http://www.w3.org/2000/09/xmldsig#" schemaLocation="ObslugaWeryfikacjiDostepuDoDanychWS_1_2.xsd"/>
  <complexType abstract="true" name="RequestAbstractType">
    <sequence>
      <element minOccurs="0" ref="saml:Issuer"/>
      <element minOccurs="0" ref="ds:Signature"/>
      <element minOccurs="0" ref="samlp:Extensions"/>
    </sequence>
    <attribute name="ID" type="ID" use="required"/>
    <attribute name="Version" type="string" use="required"/>
    <attribute name="IssueInstant" type="dateTime" use="required"/>
    <attribute name="Destination" type="anyURI" use="optional"/>
    <attribute name="Consent" type="anyURI" use="optional"/>
  </complexType>
  <element name="Extensions" type="samlp:ExtensionsType"/>
  <complexType name="ExtensionsType">
    <sequence>
      <any maxOccurs="unbounded" namespace="##other" processContents="lax"/>
    </sequence>
  </complexType>
  <complexType name="StatusResponseType">
    <sequence>
      <element minOccurs="0" ref="saml:Issuer"/>
      <element minOccurs="0" ref="ds:Signature"/>
      <element minOccurs="0" ref="samlp:Extensions"/>
      <element ref="samlp:Status"/>
    </sequence>
    <attribute name="ID" type="ID" use="required"/>
    <attribute name="InResponseTo" type="NCName" use="optional"/>
    <attribute name="Version" type="string" use="required"/>
    <attribute name="IssueInstant" type="dateTime" use="required"/>
    <attribute name="Destination" type="anyURI" use="optional"/>
    <attribute name="Consent" type="anyURI" use="optional"/>
  </complexType>
  <element name="Status" type="samlp:StatusType"/>
  <complexType name="StatusType">
    <sequence>
      <element ref="samlp:StatusCode"/>
      <element minOccurs="0" ref="samlp:StatusMessage"/>
      <element minOccurs="0" ref="samlp:StatusDetail"/>
    </sequence>
  </complexType>
  <element name="StatusCode" type="samlp:StatusCodeType"/>
  <complexType name="StatusCodeType">
    <sequence>
      <element minOccurs="0" ref="samlp:StatusCode"/>
    </sequence>
    <attribute name="Value" type="anyURI" use="required"/>
  </complexType>
  <element name="StatusMessage" type="string"/>
  <element name="StatusDetail" type="samlp:StatusDetailType"/>
  <complexType name="StatusDetailType">
    <sequence>
      <any maxOccurs="unbounded" minOccurs="0" namespace="##any" processContents="lax"/>
    </sequence>
  </complexType>
  <element name="AssertionIDRequest" type="samlp:AssertionIDRequestType"/>
  <complexType name="AssertionIDRequestType">
    <complexContent>
      <extension base="samlp:RequestAbstractType">
        <sequence>
          <element maxOccurs="unbounded" ref="saml:AssertionIDRef"/>
        </sequence>
      </extension>
    </complexContent>
  </complexType>
  <element name="SubjectQuery" type="samlp:SubjectQueryAbstractType"/>
  <complexType abstract="true" name="SubjectQueryAbstractType">
    <complexContent>
      <extension base="samlp:RequestAbstractType">
        <sequence>
          <element ref="saml:Subject"/>
        </sequence>
      </extension>
    </complexContent>
  </complexType>
  <element name="AuthnQuery" type="samlp:AuthnQueryType"/>
  <complexType name="AuthnQueryType">
    <complexContent>
      <extension base="samlp:SubjectQueryAbstractType">
        <sequence>
          <element minOccurs="0" ref="samlp:RequestedAuthnContext"/>
        </sequence>
        <attribute name="SessionIndex" type="string" use="optional"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="RequestedAuthnContext" type="samlp:RequestedAuthnContextType"/>
  <complexType name="RequestedAuthnContextType">
    <choice>
      <element maxOccurs="unbounded" ref="saml:AuthnContextClassRef"/>
      <element maxOccurs="unbounded" ref="saml:AuthnContextDeclRef"/>
    </choice>
    <attribute name="Comparison" type="samlp:AuthnContextComparisonType" use="optional"/>
  </complexType>
  <simpleType name="AuthnContextComparisonType">
    <restriction base="string">
      <enumeration value="exact"/>
      <enumeration value="minimum"/>
      <enumeration value="maximum"/>
      <enumeration value="better"/>
    </restriction>
  </simpleType>
  <element name="AttributeQuery" type="samlp:AttributeQueryType"/>
  <complexType name="AttributeQueryType">
    <complexContent>
      <extension base="samlp:SubjectQueryAbstractType">
        <sequence>
          <element maxOccurs="unbounded" minOccurs="0" ref="saml:Attribute"/>
        </sequence>
      </extension>
    </complexContent>
  </complexType>
  <element name="AuthzDecisionQuery" type="samlp:AuthzDecisionQueryType"/>
  <complexType name="AuthzDecisionQueryType">
    <complexContent>
      <extension base="samlp:SubjectQueryAbstractType">
        <sequence>
          <element maxOccurs="unbounded" ref="saml:Action"/>
          <element minOccurs="0" ref="saml:Evidence"/>
        </sequence>
        <attribute name="Resource" type="anyURI" use="required"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="AuthnRequest" type="samlp:AuthnRequestType"/>
  <complexType name="AuthnRequestType">
    <complexContent>
      <extension base="samlp:RequestAbstractType">
        <sequence>
          <element minOccurs="0" ref="saml:Subject"/>
          <element minOccurs="0" ref="samlp:NameIDPolicy"/>
          <element minOccurs="0" ref="saml:Conditions"/>
          <element minOccurs="0" ref="samlp:RequestedAuthnContext"/>
          <element minOccurs="0" ref="samlp:Scoping"/>
        </sequence>
        <attribute name="ForceAuthn" type="boolean" use="optional"/>
        <attribute name="IsPassive" type="boolean" use="optional"/>
        <attribute name="ProtocolBinding" type="anyURI" use="optional"/>
        <attribute name="AssertionConsumerServiceIndex" type="unsignedShort" use="optional"/>
        <attribute name="AssertionConsumerServiceURL" type="anyURI" use="optional"/>
        <attribute name="AttributeConsumingServiceIndex" type="unsignedShort" use="optional"/>
        <attribute name="ProviderName" type="string" use="optional"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="NameIDPolicy" type="samlp:NameIDPolicyType"/>
  <complexType name="NameIDPolicyType">
    <attribute name="Format" type="anyURI" use="optional"/>
    <attribute name="SPNameQualifier" type="string" use="optional"/>
    <attribute name="AllowCreate" type="boolean" use="optional"/>
  </complexType>
  <element name="Scoping" type="samlp:ScopingType"/>
  <complexType name="ScopingType">
    <sequence>
      <element minOccurs="0" ref="samlp:IDPList"/>
      <element maxOccurs="unbounded" minOccurs="0" ref="samlp:RequesterID"/>
    </sequence>
    <attribute name="ProxyCount" type="nonNegativeInteger" use="optional"/>
  </complexType>
  <element name="RequesterID" type="anyURI"/>
  <element name="IDPList" type="samlp:IDPListType"/>
  <complexType name="IDPListType">
    <sequence>
      <element maxOccurs="unbounded" ref="samlp:IDPEntry"/>
      <element minOccurs="0" ref="samlp:GetComplete"/>
    </sequence>
  </complexType>
  <element name="IDPEntry" type="samlp:IDPEntryType"/>
  <complexType name="IDPEntryType">
    <attribute name="ProviderID" type="anyURI" use="required"/>
    <attribute name="Name" type="string" use="optional"/>
    <attribute name="Loc" type="anyURI" use="optional"/>
  </complexType>
  <element name="GetComplete" type="anyURI"/>
  <element name="Response" type="samlp:ResponseType"/>
  <complexType name="ResponseType">
    <complexContent>
      <extension base="samlp:StatusResponseType">
        <choice maxOccurs="unbounded" minOccurs="0">
          <element ref="saml:Assertion"/>
          <element ref="saml:EncryptedAssertion"/>
        </choice>
      </extension>
    </complexContent>
  </complexType>
  <element name="ArtifactResolve" type="samlp:ArtifactResolveType"/>
  <complexType name="ArtifactResolveType">
    <complexContent>
      <extension base="samlp:RequestAbstractType">
        <sequence>
          <element ref="samlp:Artifact"/>
        </sequence>
      </extension>
    </complexContent>
  </complexType>
  <element name="Artifact" type="string"/>
  <element name="ArtifactResponse" type="samlp:ArtifactResponseType"/>
  <complexType name="ArtifactResponseType">
    <complexContent>
      <extension base="samlp:StatusResponseType">
        <sequence>
          <any minOccurs="0" namespace="##any" processContents="lax"/>
        </sequence>
      </extension>
    </complexContent>
  </complexType>
  <element name="ManageNameIDRequest" type="samlp:ManageNameIDRequestType"/>
  <complexType name="ManageNameIDRequestType">
    <complexContent>
      <extension base="samlp:RequestAbstractType">
        <sequence>
          <choice>
            <element ref="saml:NameID"/>
            <element ref="saml:EncryptedID"/>
          </choice>
          <choice>
            <element ref="samlp:NewID"/>
            <element ref="samlp:NewEncryptedID"/>
            <element ref="samlp:Terminate"/>
          </choice>
        </sequence>
      </extension>
    </complexContent>
  </complexType>
  <element name="NewID" type="string"/>
  <element name="NewEncryptedID" type="saml:EncryptedElementType"/>
  <element name="Terminate" type="samlp:TerminateType"/>
  <complexType name="TerminateType"/>
  <element name="ManageNameIDResponse" type="samlp:StatusResponseType"/>
  <element name="LogoutRequest" type="samlp:LogoutRequestType"/>
  <complexType name="LogoutRequestType">
    <complexContent>
      <extension base="samlp:RequestAbstractType">
        <sequence>
          <choice>
            <element ref="saml:BaseID"/>
            <element ref="saml:NameID"/>
            <element ref="saml:EncryptedID"/>
          </choice>
          <element maxOccurs="unbounded" minOccurs="0" ref="samlp:SessionIndex"/>
        </sequence>
        <attribute name="Reason" type="string" use="optional"/>
        <attribute name="NotOnOrAfter" type="dateTime" use="optional"/>
      </extension>
    </complexContent>
  </complexType>
  <element name="SessionIndex" type="string"/>
  <element name="LogoutResponse" type="samlp:StatusResponseType"/>
  <element name="NameIDMappingRequest" type="samlp:NameIDMappingRequestType"/>
  <complexType name="NameIDMappingRequestType">
    <complexContent>
      <extension base="samlp:RequestAbstractType">
        <sequence>
          <choice>
            <element ref="saml:BaseID"/>
            <element ref="saml:NameID"/>
            <element ref="saml:EncryptedID"/>
          </choice>
          <element ref="samlp:NameIDPolicy"/>
        </sequence>
      </extension>
    </complexContent>
  </complexType>
  <element name="NameIDMappingResponse" type="samlp:NameIDMappingResponseType"/>
  <complexType name="NameIDMappingResponseType">
    <complexContent>
      <extension base="samlp:StatusResponseType">
        <choice>
          <element ref="saml:NameID"/>
          <element ref="saml:EncryptedID"/>
        </choice>
      </extension>
    </complexContent>
  </complexType>
</schema>